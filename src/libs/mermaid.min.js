"use strict";var __esbuild_esm_mermaid=(()=>{var g5e=Object.create;var iv=Object.defineProperty;var y5e=Object.getOwnPropertyDescriptor;var v5e=Object.getOwnPropertyNames;var x5e=Object.getPrototypeOf,b5e=Object.prototype.hasOwnProperty;var a=(e,t)=>iv(e,"name",{value:t,configurable:!0});var L=(e,t)=>()=>(e&&(t=e(e=0)),t);var mo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Hr=(e,t)=>{for(var r in t)iv(e,r,{get:t[r],enumerable:!0})},s3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of v5e(t))!b5e.call(e,i)&&i!==r&&iv(e,i,{get:()=>t[i],enumerable:!(n=y5e(t,i))||n.enumerable});return e},En=(e,t,r)=>(s3(e,t,"default"),r&&s3(r,t,"default")),_s=(e,t,r)=>(r=e!=null?g5e(x5e(e)):{},s3(t||!e||!e.__esModule?iv(r,"default",{value:e,enumerable:!0}):r,e)),k5e=e=>s3(iv({},"__esModule",{value:!0}),e);function o3(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(u,h){var p=h.match(/\n([\t ]+|(?!\s).)/g);return p?u.concat(p.map(function(g){var v,x;return(x=(v=g.match(/[\t ]/g))===null||v===void 0?void 0:v.length)!==null&&x!==void 0?x:0})):u},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(u){return u.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return t.forEach(function(u,h){var p=o.match(/(?:^|\n)( *)$/),g=p?p[1]:"",v=u;typeof u=="string"&&u.includes(`
`)&&(v=String(u).split(`
`).map(function(x,k){return k===0?x:""+g+x}).join(`
`)),o+=v+n[h+1]}),o}var $C=L(()=>{"use strict";a(o3,"dedent")});var l3=mo((GC,VC)=>{"use strict";(function(e,t){typeof GC=="object"&&typeof VC<"u"?VC.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(GC,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",u="day",h="week",p="month",g="quarter",v="year",x="date",k="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(X){var B=["th","st","nd","rd"],Q=X%100;return"["+X+(B[(Q-20)%10]||B[Q]||B[0])+"]"}},M=a(function(X,B,Q){var le=String(X);return!le||le.length>=B?X:""+Array(B+1-le.length).join(Q)+X},"m"),P={s:M,z:function(X){var B=-X.utcOffset(),Q=Math.abs(B),le=Math.floor(Q/60),J=Q%60;return(B<=0?"+":"-")+M(le,2,"0")+":"+M(J,2,"0")},m:a(function X(B,Q){if(B.date()<Q.date())return-X(Q,B);var le=12*(Q.year()-B.year())+(Q.month()-B.month()),J=B.clone().add(le,p),ie=Q-J<0,re=B.clone().add(le+(ie?-1:1),p);return+(-(le+(Q-J)/(ie?J-re:re-J))||0)},"t"),a:function(X){return X<0?Math.ceil(X)||0:Math.floor(X)},p:function(X){return{M:p,y:v,w:h,d:u,D:x,h:o,m:s,s:i,ms:n,Q:g}[X]||String(X||"").toLowerCase().replace(/s$/,"")},u:function(X){return X===void 0}},V="en",H={};H[V]=N;var O="$isDayjsObject",I=a(function(X){return X instanceof j||!(!X||!X[O])},"S"),z=a(function X(B,Q,le){var J;if(!B)return V;if(typeof B=="string"){var ie=B.toLowerCase();H[ie]&&(J=ie),Q&&(H[ie]=Q,J=ie);var re=B.split("-");if(!J&&re.length>1)return X(re[0])}else{var Z=B.name;H[Z]=B,J=Z}return!le&&J&&(V=J),J||!le&&V},"t"),G=a(function(X,B){if(I(X))return X.clone();var Q=typeof B=="object"?B:{};return Q.date=X,Q.args=arguments,new j(Q)},"O"),F=P;F.l=z,F.i=I,F.w=function(X,B){return G(X,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var j=function(){function X(Q){this.$L=z(Q.locale,null,!0),this.parse(Q),this.$x=this.$x||Q.x||{},this[O]=!0}a(X,"M");var B=X.prototype;return B.parse=function(Q){this.$d=function(le){var J=le.date,ie=le.utc;if(J===null)return new Date(NaN);if(F.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var re=J.match(E);if(re){var Z=re[2]-1||0,Y=(re[7]||"0").substring(0,3);return ie?new Date(Date.UTC(re[1],Z,re[3]||1,re[4]||0,re[5]||0,re[6]||0,Y)):new Date(re[1],Z,re[3]||1,re[4]||0,re[5]||0,re[6]||0,Y)}}return new Date(J)}(Q),this.init()},B.init=function(){var Q=this.$d;this.$y=Q.getFullYear(),this.$M=Q.getMonth(),this.$D=Q.getDate(),this.$W=Q.getDay(),this.$H=Q.getHours(),this.$m=Q.getMinutes(),this.$s=Q.getSeconds(),this.$ms=Q.getMilliseconds()},B.$utils=function(){return F},B.isValid=function(){return this.$d.toString()!==k},B.isSame=function(Q,le){var J=G(Q);return this.startOf(le)<=J&&J<=this.endOf(le)},B.isAfter=function(Q,le){return G(Q)<this.startOf(le)},B.isBefore=function(Q,le){return this.endOf(le)<G(Q)},B.$g=function(Q,le,J){return F.u(Q)?this[le]:this.set(J,Q)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(Q,le){var J=this,ie=!!F.u(le)||le,re=F.p(Q),Z=a(function(Xe,He){var Ne=F.w(J.$u?Date.UTC(J.$y,He,Xe):new Date(J.$y,He,Xe),J);return ie?Ne:Ne.endOf(u)},"l"),Y=a(function(Xe,He){return F.w(J.toDate()[Xe].apply(J.toDate("s"),(ie?[0,0,0,0]:[23,59,59,999]).slice(He)),J)},"$"),ue=this.$W,Ae=this.$M,ae=this.$D,Ke="set"+(this.$u?"UTC":"");switch(re){case v:return ie?Z(1,0):Z(31,11);case p:return ie?Z(1,Ae):Z(0,Ae+1);case h:var Ie=this.$locale().weekStart||0,$e=(ue<Ie?ue+7:ue)-Ie;return Z(ie?ae-$e:ae+(6-$e),Ae);case u:case x:return Y(Ke+"Hours",0);case o:return Y(Ke+"Minutes",1);case s:return Y(Ke+"Seconds",2);case i:return Y(Ke+"Milliseconds",3);default:return this.clone()}},B.endOf=function(Q){return this.startOf(Q,!1)},B.$set=function(Q,le){var J,ie=F.p(Q),re="set"+(this.$u?"UTC":""),Z=(J={},J[u]=re+"Date",J[x]=re+"Date",J[p]=re+"Month",J[v]=re+"FullYear",J[o]=re+"Hours",J[s]=re+"Minutes",J[i]=re+"Seconds",J[n]=re+"Milliseconds",J)[ie],Y=ie===u?this.$D+(le-this.$W):le;if(ie===p||ie===v){var ue=this.clone().set(x,1);ue.$d[Z](Y),ue.init(),this.$d=ue.set(x,Math.min(this.$D,ue.daysInMonth())).$d}else Z&&this.$d[Z](Y);return this.init(),this},B.set=function(Q,le){return this.clone().$set(Q,le)},B.get=function(Q){return this[F.p(Q)]()},B.add=function(Q,le){var J,ie=this;Q=Number(Q);var re=F.p(le),Z=a(function(Ae){var ae=G(ie);return F.w(ae.date(ae.date()+Math.round(Ae*Q)),ie)},"y");if(re===p)return this.set(p,this.$M+Q);if(re===v)return this.set(v,this.$y+Q);if(re===u)return Z(1);if(re===h)return Z(7);var Y=(J={},J[s]=t,J[o]=r,J[i]=e,J)[re]||1,ue=this.$d.getTime()+Q*Y;return F.w(ue,this)},B.subtract=function(Q,le){return this.add(-1*Q,le)},B.format=function(Q){var le=this,J=this.$locale();if(!this.isValid())return J.invalidDate||k;var ie=Q||"YYYY-MM-DDTHH:mm:ssZ",re=F.z(this),Z=this.$H,Y=this.$m,ue=this.$M,Ae=J.weekdays,ae=J.months,Ke=J.meridiem,Ie=a(function(He,Ne,_e,Me){return He&&(He[Ne]||He(le,ie))||_e[Ne].slice(0,Me)},"h"),$e=a(function(He){return F.s(Z%12||12,He,"0")},"d"),Xe=Ke||function(He,Ne,_e){var Me=He<12?"AM":"PM";return _e?Me.toLowerCase():Me};return ie.replace(_,function(He,Ne){return Ne||function(_e){switch(_e){case"YY":return String(le.$y).slice(-2);case"YYYY":return F.s(le.$y,4,"0");case"M":return ue+1;case"MM":return F.s(ue+1,2,"0");case"MMM":return Ie(J.monthsShort,ue,ae,3);case"MMMM":return Ie(ae,ue);case"D":return le.$D;case"DD":return F.s(le.$D,2,"0");case"d":return String(le.$W);case"dd":return Ie(J.weekdaysMin,le.$W,Ae,2);case"ddd":return Ie(J.weekdaysShort,le.$W,Ae,3);case"dddd":return Ae[le.$W];case"H":return String(Z);case"HH":return F.s(Z,2,"0");case"h":return $e(1);case"hh":return $e(2);case"a":return Xe(Z,Y,!0);case"A":return Xe(Z,Y,!1);case"m":return String(Y);case"mm":return F.s(Y,2,"0");case"s":return String(le.$s);case"ss":return F.s(le.$s,2,"0");case"SSS":return F.s(le.$ms,3,"0");case"Z":return re}return null}(He)||re.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(Q,le,J){var ie,re=this,Z=F.p(le),Y=G(Q),ue=(Y.utcOffset()-this.utcOffset())*t,Ae=this-Y,ae=a(function(){return F.m(re,Y)},"D");switch(Z){case v:ie=ae()/12;break;case p:ie=ae();break;case g:ie=ae()/3;break;case h:ie=(Ae-ue)/6048e5;break;case u:ie=(Ae-ue)/864e5;break;case o:ie=Ae/r;break;case s:ie=Ae/t;break;case i:ie=Ae/e;break;default:ie=Ae}return J?ie:F.a(ie)},B.daysInMonth=function(){return this.endOf(p).$D},B.$locale=function(){return H[this.$L]},B.locale=function(Q,le){if(!Q)return this.$L;var J=this.clone(),ie=z(Q,le,!0);return ie&&(J.$L=ie),J},B.clone=function(){return F.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},X}(),D=j.prototype;return G.prototype=D,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",u],["$M",p],["$y",v],["$D",x]].forEach(function(X){D[X[1]]=function(B){return this.$g(B,X[0],X[1])}}),G.extend=function(X,B){return X.$i||(X(B,j,G),X.$i=!0),G},G.locale=z,G.isDayjs=I,G.unix=function(X){return G(1e3*X)},G.en=H[V],G.Ls=H,G.p={},G})});var E$,Ah,ce,av,Kl,ar=L(()=>{"use strict";E$=_s(l3(),1),Ah={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ce={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},av=a(function(e="fatal"){let t=Ah.fatal;typeof e=="string"?(e=e.toLowerCase(),e in Ah&&(t=Ah[e])):typeof e=="number"&&(t=e),ce.trace=()=>{},ce.debug=()=>{},ce.info=()=>{},ce.warn=()=>{},ce.error=()=>{},ce.fatal=()=>{},t<=Ah.fatal&&(ce.fatal=console.error?console.error.bind(console,Kl("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Kl("FATAL"))),t<=Ah.error&&(ce.error=console.error?console.error.bind(console,Kl("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Kl("ERROR"))),t<=Ah.warn&&(ce.warn=console.warn?console.warn.bind(console,Kl("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Kl("WARN"))),t<=Ah.info&&(ce.info=console.info?console.info.bind(console,Kl("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Kl("INFO"))),t<=Ah.debug&&(ce.debug=console.debug?console.debug.bind(console,Kl("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Kl("DEBUG"))),t<=Ah.trace&&(ce.trace=console.debug?console.debug.bind(console,Kl("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Kl("TRACE")))},"setLogLevel"),Kl=a(e=>`%c${(0,E$.default)().format("ss.SSS")} : ${e} : `,"format")});var C$=mo(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.BLANK_URL=eo.relativeFirstCharacters=eo.urlSchemeRegex=eo.ctrlCharactersRegex=eo.htmlCtrlEntityRegex=eo.htmlEntitiesRegex=eo.invalidProtocolRegex=void 0;eo.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;eo.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;eo.htmlCtrlEntityRegex=/&(newline|tab);/gi;eo.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;eo.urlSchemeRegex=/^.+(:|&colon;)/gim;eo.relativeFirstCharacters=[".","/"];eo.BLANK_URL="about:blank"});var $m=mo(u3=>{"use strict";Object.defineProperty(u3,"__esModule",{value:!0});u3.sanitizeUrl=void 0;var kl=C$();function w5e(e){return kl.relativeFirstCharacters.indexOf(e[0])>-1}a(w5e,"isRelativeUrlWithoutProtocol");function T5e(e){var t=e.replace(kl.ctrlCharactersRegex,"");return t.replace(kl.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}a(T5e,"decodeHtmlCharacters");function E5e(e){if(!e)return kl.BLANK_URL;var t,r=e;do r=T5e(r).replace(kl.htmlCtrlEntityRegex,"").replace(kl.ctrlCharactersRegex,"").trim(),t=r.match(kl.ctrlCharactersRegex)||r.match(kl.htmlEntitiesRegex)||r.match(kl.htmlCtrlEntityRegex);while(t&&t.length>0);var n=r;if(!n)return kl.BLANK_URL;if(w5e(n))return n;var i=n.match(kl.urlSchemeRegex);if(!i)return n;var s=i[0];return kl.invalidProtocolRegex.test(s)?kl.BLANK_URL:n}a(E5e,"sanitizeUrl");u3.sanitizeUrl=E5e});function x0(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var qC=L(()=>{"use strict";a(x0,"ascending")});function UC(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var S$=L(()=>{"use strict";a(UC,"descending")});function b0(e){let t,r,n;e.length!==2?(t=x0,r=a((u,h)=>x0(e(u),h),"compare2"),n=a((u,h)=>e(u)-h,"delta")):(t=e===x0||e===UC?e:C5e,r=e,n=e);function i(u,h,p=0,g=u.length){if(p<g){if(t(h,h)!==0)return g;do{let v=p+g>>>1;r(u[v],h)<0?p=v+1:g=v}while(p<g)}return p}a(i,"left");function s(u,h,p=0,g=u.length){if(p<g){if(t(h,h)!==0)return g;do{let v=p+g>>>1;r(u[v],h)<=0?p=v+1:g=v}while(p<g)}return p}a(s,"right");function o(u,h,p=0,g=u.length){let v=i(u,h,p,g-1);return v>p&&n(u[v-1],h)>-n(u[v],h)?v-1:v}return a(o,"center"),{left:i,center:o,right:s}}function C5e(){return 0}var HC=L(()=>{"use strict";qC();S$();a(b0,"bisector");a(C5e,"zero")});function WC(e){return e===null?NaN:+e}var _$=L(()=>{"use strict";a(WC,"number")});var A$,L$,S5e,_5e,YC,D$=L(()=>{"use strict";qC();HC();_$();A$=b0(x0),L$=A$.right,S5e=A$.left,_5e=b0(WC).center,YC=L$});function R$({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function A5e({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function L5e({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function D5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Gm,I$=L(()=>{"use strict";Gm=class extends Map{static{a(this,"InternMap")}constructor(t,r=D5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get(R$(this,t))}has(t){return super.has(R$(this,t))}set(t,r){return super.set(A5e(this,t),r)}delete(t){return super.delete(L5e(this,t))}};a(R$,"intern_get");a(A5e,"intern_set");a(L5e,"intern_delete");a(D5e,"keyof")});function c3(e,t,r){let n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=R5e?10:s>=I5e?5:s>=M5e?2:1,u,h,p;return i<0?(p=Math.pow(10,-i)/o,u=Math.round(e*p),h=Math.round(t*p),u/p<e&&++u,h/p>t&&--h,p=-p):(p=Math.pow(10,i)*o,u=Math.round(e/p),h=Math.round(t/p),u*p<e&&++u,h*p>t&&--h),h<u&&.5<=r&&r<2?c3(e,t,r*2):[u,h,p]}function h3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[i,s,o]=n?c3(t,e,r):c3(e,t,r);if(!(s>=i))return[];let u=s-i+1,h=new Array(u);if(n)if(o<0)for(let p=0;p<u;++p)h[p]=(s-p)/-o;else for(let p=0;p<u;++p)h[p]=(s-p)*o;else if(o<0)for(let p=0;p<u;++p)h[p]=(i+p)/-o;else for(let p=0;p<u;++p)h[p]=(i+p)*o;return h}function sv(e,t,r){return t=+t,e=+e,r=+r,c3(e,t,r)[2]}function Vm(e,t,r){t=+t,e=+e,r=+r;let n=t<e,i=n?sv(t,e,r):sv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}var R5e,I5e,M5e,M$=L(()=>{"use strict";R5e=Math.sqrt(50),I5e=Math.sqrt(10),M5e=Math.sqrt(2);a(c3,"tickSpec");a(h3,"ticks");a(sv,"tickIncrement");a(Vm,"tickStep")});function f3(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var N$=L(()=>{"use strict";a(f3,"max")});function d3(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var O$=L(()=>{"use strict";a(d3,"min")});function p3(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}var P$=L(()=>{"use strict";a(p3,"range")});var qf=L(()=>{"use strict";D$();HC();N$();O$();P$();M$();I$()});function XC(e){return e}var B$=L(()=>{"use strict";a(XC,"default")});function N5e(e){return"translate("+e+",0)"}function O5e(e){return"translate(0,"+e+")"}function P5e(e){return t=>+e(t)}function B5e(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function F5e(){return!this.__axis}function z$(e,t){var r=[],n=null,i=null,s=6,o=6,u=3,h=typeof window<"u"&&window.devicePixelRatio>1?0:.5,p=e===g3||e===m3?-1:1,g=e===m3||e===jC?"x":"y",v=e===g3||e===KC?N5e:O5e;function x(k){var E=n??(t.ticks?t.ticks.apply(t,r):t.domain()),_=i??(t.tickFormat?t.tickFormat.apply(t,r):XC),N=Math.max(s,0)+u,M=t.range(),P=+M[0]+h,V=+M[M.length-1]+h,H=(t.bandwidth?B5e:P5e)(t.copy(),h),O=k.selection?k.selection():k,I=O.selectAll(".domain").data([null]),z=O.selectAll(".tick").data(E,t).order(),G=z.exit(),F=z.enter().append("g").attr("class","tick"),j=z.select("line"),D=z.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(F),j=j.merge(F.append("line").attr("stroke","currentColor").attr(g+"2",p*s)),D=D.merge(F.append("text").attr("fill","currentColor").attr(g,p*N).attr("dy",e===g3?"0em":e===KC?"0.71em":"0.32em")),k!==O&&(I=I.transition(k),z=z.transition(k),j=j.transition(k),D=D.transition(k),G=G.transition(k).attr("opacity",F$).attr("transform",function(X){return isFinite(X=H(X))?v(X+h):this.getAttribute("transform")}),F.attr("opacity",F$).attr("transform",function(X){var B=this.parentNode.__axis;return v((B&&isFinite(B=B(X))?B:H(X))+h)})),G.remove(),I.attr("d",e===m3||e===jC?o?"M"+p*o+","+P+"H"+h+"V"+V+"H"+p*o:"M"+h+","+P+"V"+V:o?"M"+P+","+p*o+"V"+h+"H"+V+"V"+p*o:"M"+P+","+h+"H"+V),z.attr("opacity",1).attr("transform",function(X){return v(H(X)+h)}),j.attr(g+"2",p*s),D.attr(g,p*N).text(_),O.filter(F5e).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===jC?"start":e===m3?"end":"middle"),O.each(function(){this.__axis=H})}return a(x,"axis"),x.scale=function(k){return arguments.length?(t=k,x):t},x.ticks=function(){return r=Array.from(arguments),x},x.tickArguments=function(k){return arguments.length?(r=k==null?[]:Array.from(k),x):r.slice()},x.tickValues=function(k){return arguments.length?(n=k==null?null:Array.from(k),x):n&&n.slice()},x.tickFormat=function(k){return arguments.length?(i=k,x):i},x.tickSize=function(k){return arguments.length?(s=o=+k,x):s},x.tickSizeInner=function(k){return arguments.length?(s=+k,x):s},x.tickSizeOuter=function(k){return arguments.length?(o=+k,x):o},x.tickPadding=function(k){return arguments.length?(u=+k,x):u},x.offset=function(k){return arguments.length?(h=+k,x):h},x}function QC(e){return z$(g3,e)}function ZC(e){return z$(KC,e)}var g3,jC,KC,m3,F$,$$=L(()=>{"use strict";B$();g3=1,jC=2,KC=3,m3=4,F$=1e-6;a(N5e,"translateX");a(O5e,"translateY");a(P5e,"number");a(B5e,"center");a(F5e,"entering");a(z$,"axis");a(QC,"axisTop");a(ZC,"axisBottom")});var G$=L(()=>{"use strict";$$()});function q$(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new y3(r)}function y3(e){this._=e}function $5e(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function G5e(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function V$(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=z5e,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var z5e,JC,U$=L(()=>{"use strict";z5e={value:()=>{}};a(q$,"dispatch");a(y3,"Dispatch");a($5e,"parseTypenames");y3.prototype=q$.prototype={constructor:y3,on:function(e,t){var r=this._,n=$5e(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=G5e(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=V$(r[i],e.name,t);else if(t==null)for(i in r)r[i]=V$(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new y3(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};a(G5e,"get");a(V$,"set");JC=q$});var eS=L(()=>{"use strict";U$()});var v3,tS,rS=L(()=>{"use strict";v3="http://www.w3.org/1999/xhtml",tS={svg:"http://www.w3.org/2000/svg",xhtml:v3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Dc(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),tS.hasOwnProperty(t)?{space:tS[t],local:e}:e}var x3=L(()=>{"use strict";rS();a(Dc,"default")});function V5e(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===v3&&t.documentElement.namespaceURI===v3?t.createElement(e):t.createElementNS(r,e)}}function q5e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ov(e){var t=Dc(e);return(t.local?q5e:V5e)(t)}var nS=L(()=>{"use strict";x3();rS();a(V5e,"creatorInherit");a(q5e,"creatorFixed");a(ov,"default")});function U5e(){}function Uf(e){return e==null?U5e:function(){return this.querySelector(e)}}var b3=L(()=>{"use strict";a(U5e,"none");a(Uf,"default")});function iS(e){typeof e!="function"&&(e=Uf(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=new Array(o),h,p,g=0;g<o;++g)(h=s[g])&&(p=e.call(h,h.__data__,g,s))&&("__data__"in h&&(p.__data__=h.__data__),u[g]=p);return new Oi(n,this._parents)}var H$=L(()=>{"use strict";Ql();b3();a(iS,"default")});function lv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var aS=L(()=>{"use strict";a(lv,"array")});function H5e(){return[]}function qm(e){return e==null?H5e:function(){return this.querySelectorAll(e)}}var sS=L(()=>{"use strict";a(H5e,"empty");a(qm,"default")});function W5e(e){return function(){return lv(e.apply(this,arguments))}}function oS(e){typeof e=="function"?e=W5e(e):e=qm(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],u=o.length,h,p=0;p<u;++p)(h=o[p])&&(n.push(e.call(h,h.__data__,p,o)),i.push(h));return new Oi(n,i)}var W$=L(()=>{"use strict";Ql();aS();sS();a(W5e,"arrayAll");a(oS,"default")});function Um(e){return function(){return this.matches(e)}}function k3(e){return function(t){return t.matches(e)}}var uv=L(()=>{"use strict";a(Um,"default");a(k3,"childMatcher")});function X5e(e){return function(){return Y5e.call(this.children,e)}}function j5e(){return this.firstElementChild}function lS(e){return this.select(e==null?j5e:X5e(typeof e=="function"?e:k3(e)))}var Y5e,Y$=L(()=>{"use strict";uv();Y5e=Array.prototype.find;a(X5e,"childFind");a(j5e,"childFirst");a(lS,"default")});function Q5e(){return Array.from(this.children)}function Z5e(e){return function(){return K5e.call(this.children,e)}}function uS(e){return this.selectAll(e==null?Q5e:Z5e(typeof e=="function"?e:k3(e)))}var K5e,X$=L(()=>{"use strict";uv();K5e=Array.prototype.filter;a(Q5e,"children");a(Z5e,"childrenFilter");a(uS,"default")});function cS(e){typeof e!="function"&&(e=Um(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=[],h,p=0;p<o;++p)(h=s[p])&&e.call(h,h.__data__,p,s)&&u.push(h);return new Oi(n,this._parents)}var j$=L(()=>{"use strict";Ql();uv();a(cS,"default")});function cv(e){return new Array(e.length)}var hS=L(()=>{"use strict";a(cv,"default")});function fS(){return new Oi(this._enter||this._groups.map(cv),this._parents)}function hv(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var dS=L(()=>{"use strict";hS();Ql();a(fS,"default");a(hv,"EnterNode");hv.prototype={constructor:hv,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function pS(e){return function(){return e}}var K$=L(()=>{"use strict";a(pS,"default")});function J5e(e,t,r,n,i,s){for(var o=0,u,h=t.length,p=s.length;o<p;++o)(u=t[o])?(u.__data__=s[o],n[o]=u):r[o]=new hv(e,s[o]);for(;o<h;++o)(u=t[o])&&(i[o]=u)}function eke(e,t,r,n,i,s,o){var u,h,p=new Map,g=t.length,v=s.length,x=new Array(g),k;for(u=0;u<g;++u)(h=t[u])&&(x[u]=k=o.call(h,h.__data__,u,t)+"",p.has(k)?i[u]=h:p.set(k,h));for(u=0;u<v;++u)k=o.call(e,s[u],u,s)+"",(h=p.get(k))?(n[u]=h,h.__data__=s[u],p.delete(k)):r[u]=new hv(e,s[u]);for(u=0;u<g;++u)(h=t[u])&&p.get(x[u])===h&&(i[u]=h)}function tke(e){return e.__data__}function mS(e,t){if(!arguments.length)return Array.from(this,tke);var r=t?eke:J5e,n=this._parents,i=this._groups;typeof e!="function"&&(e=pS(e));for(var s=i.length,o=new Array(s),u=new Array(s),h=new Array(s),p=0;p<s;++p){var g=n[p],v=i[p],x=v.length,k=rke(e.call(g,g&&g.__data__,p,n)),E=k.length,_=u[p]=new Array(E),N=o[p]=new Array(E),M=h[p]=new Array(x);r(g,v,_,N,M,k,t);for(var P=0,V=0,H,O;P<E;++P)if(H=_[P]){for(P>=V&&(V=P+1);!(O=N[V])&&++V<E;);H._next=O||null}}return o=new Oi(o,n),o._enter=u,o._exit=h,o}function rke(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var Q$=L(()=>{"use strict";Ql();dS();K$();a(J5e,"bindIndex");a(eke,"bindKey");a(tke,"datum");a(mS,"default");a(rke,"arraylike")});function gS(){return new Oi(this._exit||this._groups.map(cv),this._parents)}var Z$=L(()=>{"use strict";hS();Ql();a(gS,"default")});function yS(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}var J$=L(()=>{"use strict";a(yS,"default")});function vS(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),u=new Array(i),h=0;h<o;++h)for(var p=r[h],g=n[h],v=p.length,x=u[h]=new Array(v),k,E=0;E<v;++E)(k=p[E]||g[E])&&(x[E]=k);for(;h<i;++h)u[h]=r[h];return new Oi(u,this._parents)}var eG=L(()=>{"use strict";Ql();a(vS,"default")});function xS(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}var tG=L(()=>{"use strict";a(xS,"default")});function bS(e){e||(e=nke);function t(v,x){return v&&x?e(v.__data__,x.__data__):!v-!x}a(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],u=o.length,h=i[s]=new Array(u),p,g=0;g<u;++g)(p=o[g])&&(h[g]=p);h.sort(t)}return new Oi(i,this._parents).order()}function nke(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var rG=L(()=>{"use strict";Ql();a(bS,"default");a(nke,"ascending")});function kS(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var nG=L(()=>{"use strict";a(kS,"default")});function wS(){return Array.from(this)}var iG=L(()=>{"use strict";a(wS,"default")});function TS(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}var aG=L(()=>{"use strict";a(TS,"default")});function ES(){let e=0;for(let t of this)++e;return e}var sG=L(()=>{"use strict";a(ES,"default")});function CS(){return!this.node()}var oG=L(()=>{"use strict";a(CS,"default")});function SS(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,u;s<o;++s)(u=i[s])&&e.call(u,u.__data__,s,i);return this}var lG=L(()=>{"use strict";a(SS,"default")});function ike(e){return function(){this.removeAttribute(e)}}function ake(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ske(e,t){return function(){this.setAttribute(e,t)}}function oke(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function lke(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function uke(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function _S(e,t){var r=Dc(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?ake:ike:typeof t=="function"?r.local?uke:lke:r.local?oke:ske)(r,t))}var uG=L(()=>{"use strict";x3();a(ike,"attrRemove");a(ake,"attrRemoveNS");a(ske,"attrConstant");a(oke,"attrConstantNS");a(lke,"attrFunction");a(uke,"attrFunctionNS");a(_S,"default")});function fv(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var AS=L(()=>{"use strict";a(fv,"default")});function cke(e){return function(){this.style.removeProperty(e)}}function hke(e,t,r){return function(){this.style.setProperty(e,t,r)}}function fke(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function LS(e,t,r){return arguments.length>1?this.each((t==null?cke:typeof t=="function"?fke:hke)(e,t,r??"")):Hf(this.node(),e)}function Hf(e,t){return e.style.getPropertyValue(t)||fv(e).getComputedStyle(e,null).getPropertyValue(t)}var DS=L(()=>{"use strict";AS();a(cke,"styleRemove");a(hke,"styleConstant");a(fke,"styleFunction");a(LS,"default");a(Hf,"styleValue")});function dke(e){return function(){delete this[e]}}function pke(e,t){return function(){this[e]=t}}function mke(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function RS(e,t){return arguments.length>1?this.each((t==null?dke:typeof t=="function"?mke:pke)(e,t)):this.node()[e]}var cG=L(()=>{"use strict";a(dke,"propertyRemove");a(pke,"propertyConstant");a(mke,"propertyFunction");a(RS,"default")});function hG(e){return e.trim().split(/^|\s+/)}function IS(e){return e.classList||new fG(e)}function fG(e){this._node=e,this._names=hG(e.getAttribute("class")||"")}function dG(e,t){for(var r=IS(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function pG(e,t){for(var r=IS(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function gke(e){return function(){dG(this,e)}}function yke(e){return function(){pG(this,e)}}function vke(e,t){return function(){(t.apply(this,arguments)?dG:pG)(this,e)}}function MS(e,t){var r=hG(e+"");if(arguments.length<2){for(var n=IS(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?vke:t?gke:yke)(r,t))}var mG=L(()=>{"use strict";a(hG,"classArray");a(IS,"classList");a(fG,"ClassList");fG.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};a(dG,"classedAdd");a(pG,"classedRemove");a(gke,"classedTrue");a(yke,"classedFalse");a(vke,"classedFunction");a(MS,"default")});function xke(){this.textContent=""}function bke(e){return function(){this.textContent=e}}function kke(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function NS(e){return arguments.length?this.each(e==null?xke:(typeof e=="function"?kke:bke)(e)):this.node().textContent}var gG=L(()=>{"use strict";a(xke,"textRemove");a(bke,"textConstant");a(kke,"textFunction");a(NS,"default")});function wke(){this.innerHTML=""}function Tke(e){return function(){this.innerHTML=e}}function Eke(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function OS(e){return arguments.length?this.each(e==null?wke:(typeof e=="function"?Eke:Tke)(e)):this.node().innerHTML}var yG=L(()=>{"use strict";a(wke,"htmlRemove");a(Tke,"htmlConstant");a(Eke,"htmlFunction");a(OS,"default")});function Cke(){this.nextSibling&&this.parentNode.appendChild(this)}function PS(){return this.each(Cke)}var vG=L(()=>{"use strict";a(Cke,"raise");a(PS,"default")});function Ske(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function BS(){return this.each(Ske)}var xG=L(()=>{"use strict";a(Ske,"lower");a(BS,"default")});function FS(e){var t=typeof e=="function"?e:ov(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var bG=L(()=>{"use strict";nS();a(FS,"default")});function _ke(){return null}function zS(e,t){var r=typeof e=="function"?e:ov(e),n=t==null?_ke:typeof t=="function"?t:Uf(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var kG=L(()=>{"use strict";nS();b3();a(_ke,"constantNull");a(zS,"default")});function Ake(){var e=this.parentNode;e&&e.removeChild(this)}function $S(){return this.each(Ake)}var wG=L(()=>{"use strict";a(Ake,"remove");a($S,"default")});function Lke(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Dke(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function GS(e){return this.select(e?Dke:Lke)}var TG=L(()=>{"use strict";a(Lke,"selection_cloneShallow");a(Dke,"selection_cloneDeep");a(GS,"default")});function VS(e){return arguments.length?this.property("__data__",e):this.node().__data__}var EG=L(()=>{"use strict";a(VS,"default")});function Rke(e){return function(t){e.call(this,t,this.__data__)}}function Ike(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Mke(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function Nke(e,t,r){return function(){var n=this.__on,i,s=Rke(t);if(n){for(var o=0,u=n.length;o<u;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function qS(e,t,r){var n=Ike(e+""),i,s=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var h=0,p=u.length,g;h<p;++h)for(i=0,g=u[h];i<s;++i)if((o=n[i]).type===g.type&&o.name===g.name)return g.value}return}for(u=t?Nke:Mke,i=0;i<s;++i)this.each(u(n[i],t,r));return this}var CG=L(()=>{"use strict";a(Rke,"contextListener");a(Ike,"parseTypenames");a(Mke,"onRemove");a(Nke,"onAdd");a(qS,"default")});function SG(e,t,r){var n=fv(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Oke(e,t){return function(){return SG(this,e,t)}}function Pke(e,t){return function(){return SG(this,e,t.apply(this,arguments))}}function US(e,t){return this.each((typeof t=="function"?Pke:Oke)(e,t))}var _G=L(()=>{"use strict";AS();a(SG,"dispatchEvent");a(Oke,"dispatchConstant");a(Pke,"dispatchFunction");a(US,"default")});function*HS(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}var AG=L(()=>{"use strict";a(HS,"default")});function Oi(e,t){this._groups=e,this._parents=t}function LG(){return new Oi([[document.documentElement]],dv)}function Bke(){return this}var dv,Lh,Ql=L(()=>{"use strict";H$();W$();Y$();X$();j$();Q$();dS();Z$();J$();eG();tG();rG();nG();iG();aG();sG();oG();lG();uG();DS();cG();mG();gG();yG();vG();xG();bG();kG();wG();TG();EG();CG();_G();AG();dv=[null];a(Oi,"Selection");a(LG,"selection");a(Bke,"selection_selection");Oi.prototype=LG.prototype={constructor:Oi,select:iS,selectAll:oS,selectChild:lS,selectChildren:uS,filter:cS,data:mS,enter:fS,exit:gS,join:yS,merge:vS,selection:Bke,order:xS,sort:bS,call:kS,nodes:wS,node:TS,size:ES,empty:CS,each:SS,attr:_S,style:LS,property:RS,classed:MS,text:NS,html:OS,raise:PS,lower:BS,append:FS,insert:zS,remove:$S,clone:GS,datum:VS,on:qS,dispatch:US,[Symbol.iterator]:HS};Lh=LG});function ut(e){return typeof e=="string"?new Oi([[document.querySelector(e)]],[document.documentElement]):new Oi([[e]],dv)}var DG=L(()=>{"use strict";Ql();a(ut,"default")});function Hm(e){return typeof e=="string"?new Oi([document.querySelectorAll(e)],[document.documentElement]):new Oi([lv(e)],dv)}var RG=L(()=>{"use strict";aS();Ql();a(Hm,"default")});var $u=L(()=>{"use strict";uv();x3();DG();RG();Ql();b3();sS();DS()});var IG=L(()=>{"use strict"});function Wf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Wm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var WS=L(()=>{"use strict";a(Wf,"default");a(Wm,"extend")});function Yf(){}function NG(){return this.rgb().formatHex()}function Hke(){return this.rgb().formatHex8()}function Wke(){return GG(this).formatHsl()}function OG(){return this.rgb().formatRgb()}function Vu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Fke.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?PG(t):r===3?new As(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?w3(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?w3(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zke.exec(e))?new As(t[1],t[2],t[3],1):(t=$ke.exec(e))?new As(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Gke.exec(e))?w3(t[1],t[2],t[3],t[4]):(t=Vke.exec(e))?w3(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qke.exec(e))?zG(t[1],t[2]/100,t[3]/100,1):(t=Uke.exec(e))?zG(t[1],t[2]/100,t[3]/100,t[4]):MG.hasOwnProperty(e)?PG(MG[e]):e==="transparent"?new As(NaN,NaN,NaN,0):null}function PG(e){return new As(e>>16&255,e>>8&255,e&255,1)}function w3(e,t,r,n){return n<=0&&(e=t=r=NaN),new As(e,t,r,n)}function XS(e){return e instanceof Yf||(e=Vu(e)),e?(e=e.rgb(),new As(e.r,e.g,e.b,e.opacity)):new As}function Xm(e,t,r,n){return arguments.length===1?XS(e):new As(e,t,r,n??1)}function As(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function BG(){return`#${k0(this.r)}${k0(this.g)}${k0(this.b)}`}function Yke(){return`#${k0(this.r)}${k0(this.g)}${k0(this.b)}${k0((isNaN(this.opacity)?1:this.opacity)*255)}`}function FG(){let e=C3(this.opacity);return`${e===1?"rgb(":"rgba("}${w0(this.r)}, ${w0(this.g)}, ${w0(this.b)}${e===1?")":`, ${e})`}`}function C3(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function w0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function k0(e){return e=w0(e),(e<16?"0":"")+e.toString(16)}function zG(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gu(e,t,r,n)}function GG(e){if(e instanceof Gu)return new Gu(e.h,e.s,e.l,e.opacity);if(e instanceof Yf||(e=Vu(e)),!e)return new Gu;if(e instanceof Gu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,u=s-i,h=(s+i)/2;return u?(t===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-t)/u+2:o=(t-r)/u+4,u/=h<.5?s+i:2-s-i,o*=60):u=h>0&&h<1?0:o,new Gu(o,u,h,e.opacity)}function VG(e,t,r,n){return arguments.length===1?GG(e):new Gu(e,t,r,n??1)}function Gu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function $G(e){return e=(e||0)%360,e<0?e+360:e}function T3(e){return Math.max(0,Math.min(1,e||0))}function YS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var pv,E3,Ym,mv,Rc,Fke,zke,$ke,Gke,Vke,qke,Uke,MG,jS=L(()=>{"use strict";WS();a(Yf,"Color");pv=.7,E3=1/pv,Ym="\\s*([+-]?\\d+)\\s*",mv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fke=/^#([0-9a-f]{3,8})$/,zke=new RegExp(`^rgb\\(${Ym},${Ym},${Ym}\\)$`),$ke=new RegExp(`^rgb\\(${Rc},${Rc},${Rc}\\)$`),Gke=new RegExp(`^rgba\\(${Ym},${Ym},${Ym},${mv}\\)$`),Vke=new RegExp(`^rgba\\(${Rc},${Rc},${Rc},${mv}\\)$`),qke=new RegExp(`^hsl\\(${mv},${Rc},${Rc}\\)$`),Uke=new RegExp(`^hsla\\(${mv},${Rc},${Rc},${mv}\\)$`),MG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wf(Yf,Vu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NG,formatHex:NG,formatHex8:Hke,formatHsl:Wke,formatRgb:OG,toString:OG});a(NG,"color_formatHex");a(Hke,"color_formatHex8");a(Wke,"color_formatHsl");a(OG,"color_formatRgb");a(Vu,"color");a(PG,"rgbn");a(w3,"rgba");a(XS,"rgbConvert");a(Xm,"rgb");a(As,"Rgb");Wf(As,Xm,Wm(Yf,{brighter(e){return e=e==null?E3:Math.pow(E3,e),new As(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pv:Math.pow(pv,e),new As(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new As(w0(this.r),w0(this.g),w0(this.b),C3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BG,formatHex:BG,formatHex8:Yke,formatRgb:FG,toString:FG}));a(BG,"rgb_formatHex");a(Yke,"rgb_formatHex8");a(FG,"rgb_formatRgb");a(C3,"clampa");a(w0,"clampi");a(k0,"hex");a(zG,"hsla");a(GG,"hslConvert");a(VG,"hsl");a(Gu,"Hsl");Wf(Gu,VG,Wm(Yf,{brighter(e){return e=e==null?E3:Math.pow(E3,e),new Gu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pv:Math.pow(pv,e),new Gu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new As(YS(e>=240?e-240:e+120,i,n),YS(e,i,n),YS(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Gu($G(this.h),T3(this.s),T3(this.l),C3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=C3(this.opacity);return`${e===1?"hsl(":"hsla("}${$G(this.h)}, ${T3(this.s)*100}%, ${T3(this.l)*100}%${e===1?")":`, ${e})`}`}}));a($G,"clamph");a(T3,"clampt");a(YS,"hsl2rgb")});var qG,UG,HG=L(()=>{"use strict";qG=Math.PI/180,UG=180/Math.PI});function QG(e){if(e instanceof Ic)return new Ic(e.l,e.a,e.b,e.opacity);if(e instanceof Dh)return ZG(e);e instanceof As||(e=XS(e));var t=JS(e.r),r=JS(e.g),n=JS(e.b),i=KS((.2225045*t+.7168786*r+.0606169*n)/YG),s,o;return t===r&&r===n?s=o=i:(s=KS((.4360747*t+.3850649*r+.1430804*n)/WG),o=KS((.0139322*t+.0971045*r+.7141733*n)/XG)),new Ic(116*i-16,500*(s-i),200*(i-o),e.opacity)}function e8(e,t,r,n){return arguments.length===1?QG(e):new Ic(e,t,r,n??1)}function Ic(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function KS(e){return e>Xke?Math.pow(e,1/3):e/KG+jG}function QS(e){return e>jm?e*e*e:KG*(e-jG)}function ZS(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function JS(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function jke(e){if(e instanceof Dh)return new Dh(e.h,e.c,e.l,e.opacity);if(e instanceof Ic||(e=QG(e)),e.a===0&&e.b===0)return new Dh(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*UG;return new Dh(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function gv(e,t,r,n){return arguments.length===1?jke(e):new Dh(e,t,r,n??1)}function Dh(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function ZG(e){if(isNaN(e.h))return new Ic(e.l,0,0,e.opacity);var t=e.h*qG;return new Ic(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}var S3,WG,YG,XG,jG,jm,KG,Xke,JG=L(()=>{"use strict";WS();jS();HG();S3=18,WG=.96422,YG=1,XG=.82521,jG=4/29,jm=6/29,KG=3*jm*jm,Xke=jm*jm*jm;a(QG,"labConvert");a(e8,"lab");a(Ic,"Lab");Wf(Ic,e8,Wm(Yf,{brighter(e){return new Ic(this.l+S3*(e??1),this.a,this.b,this.opacity)},darker(e){return new Ic(this.l-S3*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=WG*QS(t),e=YG*QS(e),r=XG*QS(r),new As(ZS(3.1338561*t-1.6168667*e-.4906146*r),ZS(-.9787684*t+1.9161415*e+.033454*r),ZS(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));a(KS,"xyz2lab");a(QS,"lab2xyz");a(ZS,"lrgb2rgb");a(JS,"rgb2lrgb");a(jke,"hclConvert");a(gv,"hcl");a(Dh,"Hcl");a(ZG,"hcl2lab");Wf(Dh,gv,Wm(Yf,{brighter(e){return new Dh(this.h,this.c,this.l+S3*(e??1),this.opacity)},darker(e){return new Dh(this.h,this.c,this.l-S3*(e??1),this.opacity)},rgb(){return ZG(this).rgb()}}))});var Km=L(()=>{"use strict";jS();JG()});function t8(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}function r8(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,u=n<t-1?e[n+2]:2*s-i;return t8((r-n/t)*t,o,i,s,u)}}var n8=L(()=>{"use strict";a(t8,"basis");a(r8,"default")});function i8(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],u=e[(n+2)%t];return t8((r-n/t)*t,i,s,o,u)}}var eV=L(()=>{"use strict";n8();a(i8,"default")});var Qm,a8=L(()=>{"use strict";Qm=a(e=>()=>e,"default")});function tV(e,t){return function(r){return e+r*t}}function Kke(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rV(e,t){var r=t-e;return r?tV(e,r>180||r<-180?r-360*Math.round(r/360):r):Qm(isNaN(e)?t:e)}function nV(e){return(e=+e)==1?Rh:function(t,r){return r-t?Kke(t,r,e):Qm(isNaN(t)?r:t)}}function Rh(e,t){var r=t-e;return r?tV(e,r):Qm(isNaN(e)?t:e)}var s8=L(()=>{"use strict";a8();a(tV,"linear");a(Kke,"exponential");a(rV,"hue");a(nV,"gamma");a(Rh,"nogamma")});function iV(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,u;for(o=0;o<r;++o)u=Xm(t[o]),n[o]=u.r||0,i[o]=u.g||0,s[o]=u.b||0;return n=e(n),i=e(i),s=e(s),u.opacity=1,function(h){return u.r=n(h),u.g=i(h),u.b=s(h),u+""}}}var T0,Qke,Zke,o8=L(()=>{"use strict";Km();n8();eV();s8();T0=a(function e(t){var r=nV(t);function n(i,s){var o=r((i=Xm(i)).r,(s=Xm(s)).r),u=r(i.g,s.g),h=r(i.b,s.b),p=Rh(i.opacity,s.opacity);return function(g){return i.r=o(g),i.g=u(g),i.b=h(g),i.opacity=p(g),i+""}}return a(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);a(iV,"rgbSpline");Qke=iV(r8),Zke=iV(i8)});function l8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function aV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var sV=L(()=>{"use strict";a(l8,"default");a(aV,"isNumberArray")});function oV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Xf(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(u){for(o=0;o<n;++o)s[o]=i[o](u);return s}}var lV=L(()=>{"use strict";_3();a(oV,"genericArray")});function u8(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var uV=L(()=>{"use strict";a(u8,"default")});function as(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var yv=L(()=>{"use strict";a(as,"default")});function c8(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Xf(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var cV=L(()=>{"use strict";_3();a(c8,"default")});function Jke(e){return function(){return e}}function e6e(e){return function(t){return e(t)+""}}function Zm(e,t){var r=f8.lastIndex=h8.lastIndex=0,n,i,s,o=-1,u=[],h=[];for(e=e+"",t=t+"";(n=f8.exec(e))&&(i=h8.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,h.push({i:o,x:as(n,i)})),r=h8.lastIndex;return r<t.length&&(s=t.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?h[0]?e6e(h[0].x):Jke(t):(t=h.length,function(p){for(var g=0,v;g<t;++g)u[(v=h[g]).i]=v.x(p);return u.join("")})}var f8,h8,d8=L(()=>{"use strict";yv();f8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h8=new RegExp(f8.source,"g");a(Jke,"zero");a(e6e,"one");a(Zm,"default")});function Xf(e,t){var r=typeof t,n;return t==null||r==="boolean"?Qm(t):(r==="number"?as:r==="string"?(n=Vu(t))?(t=n,T0):Zm:t instanceof Vu?T0:t instanceof Date?u8:aV(t)?l8:Array.isArray(t)?oV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?c8:as)(e,t)}var _3=L(()=>{"use strict";Km();o8();lV();uV();yv();cV();d8();a8();sV();a(Xf,"default")});function A3(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var hV=L(()=>{"use strict";a(A3,"default")});function D3(e,t,r,n,i,s){var o,u,h;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(h=e*r+t*n)&&(r-=e*h,n-=t*h),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,h/=u),e*n<t*r&&(e=-e,t=-t,h=-h,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*fV,skewX:Math.atan(h)*fV,scaleX:o,scaleY:u}}var fV,L3,dV=L(()=>{"use strict";fV=180/Math.PI,L3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};a(D3,"default")});function pV(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?L3:D3(t.a,t.b,t.c,t.d,t.e,t.f)}function mV(e){return e==null?L3:(R3||(R3=document.createElementNS("http://www.w3.org/2000/svg","g")),R3.setAttribute("transform",e),(e=R3.transform.baseVal.consolidate())?(e=e.matrix,D3(e.a,e.b,e.c,e.d,e.e,e.f)):L3)}var R3,gV=L(()=>{"use strict";dV();a(pV,"parseCss");a(mV,"parseSvg")});function yV(e,t,r,n){function i(p){return p.length?p.pop()+" ":""}a(i,"pop");function s(p,g,v,x,k,E){if(p!==v||g!==x){var _=k.push("translate(",null,t,null,r);E.push({i:_-4,x:as(p,v)},{i:_-2,x:as(g,x)})}else(v||x)&&k.push("translate("+v+t+x+r)}a(s,"translate");function o(p,g,v,x){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),x.push({i:v.push(i(v)+"rotate(",null,n)-2,x:as(p,g)})):g&&v.push(i(v)+"rotate("+g+n)}a(o,"rotate");function u(p,g,v,x){p!==g?x.push({i:v.push(i(v)+"skewX(",null,n)-2,x:as(p,g)}):g&&v.push(i(v)+"skewX("+g+n)}a(u,"skewX");function h(p,g,v,x,k,E){if(p!==v||g!==x){var _=k.push(i(k)+"scale(",null,",",null,")");E.push({i:_-4,x:as(p,v)},{i:_-2,x:as(g,x)})}else(v!==1||x!==1)&&k.push(i(k)+"scale("+v+","+x+")")}return a(h,"scale"),function(p,g){var v=[],x=[];return p=e(p),g=e(g),s(p.translateX,p.translateY,g.translateX,g.translateY,v,x),o(p.rotate,g.rotate,v,x),u(p.skewX,g.skewX,v,x),h(p.scaleX,p.scaleY,g.scaleX,g.scaleY,v,x),p=g=null,function(k){for(var E=-1,_=x.length,N;++E<_;)v[(N=x[E]).i]=N.x(k);return v.join("")}}}var p8,m8,vV=L(()=>{"use strict";yv();gV();a(yV,"interpolateTransform");p8=yV(pV,"px, ","px)","deg)"),m8=yV(mV,", ",")",")")});function xV(e){return function(t,r){var n=e((t=gv(t)).h,(r=gv(r)).h),i=Rh(t.c,r.c),s=Rh(t.l,r.l),o=Rh(t.opacity,r.opacity);return function(u){return t.h=n(u),t.c=i(u),t.l=s(u),t.opacity=o(u),t+""}}}var g8,t6e,bV=L(()=>{"use strict";Km();s8();a(xV,"hcl");g8=xV(rV),t6e=xV(Rh)});var Jm=L(()=>{"use strict";_3();yv();hV();d8();vV();o8();bV()});function Tv(){return E0||(TV(r6e),E0=kv.now()+N3)}function r6e(){E0=0}function wv(){this._call=this._time=this._next=null}function O3(e,t,r){var n=new wv;return n.restart(e,t,r),n}function EV(){Tv(),++eg;for(var e=I3,t;e;)(t=E0-e._time)>=0&&e._call.call(void 0,t),e=e._next;--eg}function kV(){E0=(M3=kv.now())+N3,eg=xv=0;try{EV()}finally{eg=0,i6e(),E0=0}}function n6e(){var e=kv.now(),t=e-M3;t>wV&&(N3-=t,M3=e)}function i6e(){for(var e,t=I3,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:I3=r);bv=e,y8(n)}function y8(e){if(!eg){xv&&(xv=clearTimeout(xv));var t=e-E0;t>24?(e<1/0&&(xv=setTimeout(kV,e-kv.now()-N3)),vv&&(vv=clearInterval(vv))):(vv||(M3=kv.now(),vv=setInterval(n6e,wV)),eg=1,TV(kV))}}var eg,xv,vv,wV,I3,bv,M3,E0,N3,kv,TV,v8=L(()=>{"use strict";eg=0,xv=0,vv=0,wV=1e3,M3=0,E0=0,N3=0,kv=typeof performance=="object"&&performance.now?performance:Date,TV=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};a(Tv,"now");a(r6e,"clearNow");a(wv,"Timer");wv.prototype=O3.prototype={constructor:wv,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Tv():+r)+(t==null?0:+t),!this._next&&bv!==this&&(bv?bv._next=this:I3=this,bv=this),this._call=e,this._time=r,y8()},stop:function(){this._call&&(this._call=null,this._time=1/0,y8())}};a(O3,"timer");a(EV,"timerFlush");a(kV,"wake");a(n6e,"poke");a(i6e,"nap");a(y8,"sleep")});function Ev(e,t,r){var n=new wv;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var CV=L(()=>{"use strict";v8();a(Ev,"default")});var P3=L(()=>{"use strict";v8();CV()});function Ih(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;o6e(e,r,{name:t,index:n,group:i,on:a6e,tween:s6e,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:AV})}function Sv(e,t){var r=za(e,t);if(r.state>AV)throw new Error("too late; already scheduled");return r}function Ls(e,t){var r=za(e,t);if(r.state>B3)throw new Error("too late; already running");return r}function za(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function o6e(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=O3(s,0,r.time);function s(p){r.state=SV,r.timer.restart(o,r.delay,r.time),r.delay<=p&&o(p-r.delay)}a(s,"schedule");function o(p){var g,v,x,k;if(r.state!==SV)return h();for(g in n)if(k=n[g],k.name===r.name){if(k.state===B3)return Ev(o);k.state===_V?(k.state=Cv,k.timer.stop(),k.on.call("interrupt",e,e.__data__,k.index,k.group),delete n[g]):+g<t&&(k.state=Cv,k.timer.stop(),k.on.call("cancel",e,e.__data__,k.index,k.group),delete n[g])}if(Ev(function(){r.state===B3&&(r.state=_V,r.timer.restart(u,r.delay,r.time),u(p))}),r.state=F3,r.on.call("start",e,e.__data__,r.index,r.group),r.state===F3){for(r.state=B3,i=new Array(x=r.tween.length),g=0,v=-1;g<x;++g)(k=r.tween[g].value.call(e,e.__data__,r.index,r.group))&&(i[++v]=k);i.length=v+1}}a(o,"start");function u(p){for(var g=p<r.duration?r.ease.call(null,p/r.duration):(r.timer.restart(h),r.state=z3,1),v=-1,x=i.length;++v<x;)i[v].call(e,g);r.state===z3&&(r.on.call("end",e,e.__data__,r.index,r.group),h())}a(u,"tick");function h(){r.state=Cv,r.timer.stop(),delete n[t];for(var p in n)return;delete e.__transition}a(h,"stop")}var a6e,s6e,AV,SV,F3,B3,_V,z3,Cv,qo=L(()=>{"use strict";eS();P3();a6e=JC("start","end","cancel","interrupt"),s6e=[],AV=0,SV=1,F3=2,B3=3,_V=4,z3=5,Cv=6;a(Ih,"default");a(Sv,"init");a(Ls,"set");a(za,"get");a(o6e,"create")});function _v(e,t){var r=e.__transition,n,i,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>F3&&n.state<z3,n.state=Cv,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}var LV=L(()=>{"use strict";qo();a(_v,"default")});function x8(e){return this.each(function(){_v(this,e)})}var DV=L(()=>{"use strict";LV();a(x8,"default")});function l6e(e,t){var r,n;return function(){var i=Ls(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,u=n.length;o<u;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function u6e(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=Ls(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var u={name:t,value:r},h=0,p=i.length;h<p;++h)if(i[h].name===t){i[h]=u;break}h===p&&i.push(u)}s.tween=i}}function b8(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=za(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?l6e:u6e)(r,e,t))}function tg(e,t,r){var n=e._id;return e.each(function(){var i=Ls(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return za(i,n).value[t]}}var Av=L(()=>{"use strict";qo();a(l6e,"tweenRemove");a(u6e,"tweenFunction");a(b8,"default");a(tg,"tweenValue")});function Lv(e,t){var r;return(typeof t=="number"?as:t instanceof Vu?T0:(r=Vu(t))?(t=r,T0):Zm)(e,t)}var k8=L(()=>{"use strict";Km();Jm();a(Lv,"default")});function c6e(e){return function(){this.removeAttribute(e)}}function h6e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function f6e(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}function d6e(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}function p6e(e,t,r){var n,i,s;return function(){var o,u=r(this),h;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),h=u+"",o===h?null:o===n&&h===i?s:(i=h,s=t(n=o,u)))}}function m6e(e,t,r){var n,i,s;return function(){var o,u=r(this),h;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),h=u+"",o===h?null:o===n&&h===i?s:(i=h,s=t(n=o,u)))}}function w8(e,t){var r=Dc(e),n=r==="transform"?m8:Lv;return this.attrTween(e,typeof t=="function"?(r.local?m6e:p6e)(r,n,tg(this,"attr."+e,t)):t==null?(r.local?h6e:c6e)(r):(r.local?d6e:f6e)(r,n,t))}var RV=L(()=>{"use strict";Jm();$u();Av();k8();a(c6e,"attrRemove");a(h6e,"attrRemoveNS");a(f6e,"attrConstant");a(d6e,"attrConstantNS");a(p6e,"attrFunction");a(m6e,"attrFunctionNS");a(w8,"default")});function g6e(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function y6e(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function v6e(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&y6e(e,s)),r}return a(i,"tween"),i._value=t,i}function x6e(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&g6e(e,s)),r}return a(i,"tween"),i._value=t,i}function T8(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Dc(e);return this.tween(r,(n.local?v6e:x6e)(n,t))}var IV=L(()=>{"use strict";$u();a(g6e,"attrInterpolate");a(y6e,"attrInterpolateNS");a(v6e,"attrTweenNS");a(x6e,"attrTween");a(T8,"default")});function b6e(e,t){return function(){Sv(this,e).delay=+t.apply(this,arguments)}}function k6e(e,t){return t=+t,function(){Sv(this,e).delay=t}}function E8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?b6e:k6e)(t,e)):za(this.node(),t).delay}var MV=L(()=>{"use strict";qo();a(b6e,"delayFunction");a(k6e,"delayConstant");a(E8,"default")});function w6e(e,t){return function(){Ls(this,e).duration=+t.apply(this,arguments)}}function T6e(e,t){return t=+t,function(){Ls(this,e).duration=t}}function C8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?w6e:T6e)(t,e)):za(this.node(),t).duration}var NV=L(()=>{"use strict";qo();a(w6e,"durationFunction");a(T6e,"durationConstant");a(C8,"default")});function E6e(e,t){if(typeof t!="function")throw new Error;return function(){Ls(this,e).ease=t}}function S8(e){var t=this._id;return arguments.length?this.each(E6e(t,e)):za(this.node(),t).ease}var OV=L(()=>{"use strict";qo();a(E6e,"easeConstant");a(S8,"default")});function C6e(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ls(this,e).ease=r}}function _8(e){if(typeof e!="function")throw new Error;return this.each(C6e(this._id,e))}var PV=L(()=>{"use strict";qo();a(C6e,"easeVarying");a(_8,"default")});function A8(e){typeof e!="function"&&(e=Um(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,u=n[i]=[],h,p=0;p<o;++p)(h=s[p])&&e.call(h,h.__data__,p,s)&&u.push(h);return new go(n,this._parents,this._name,this._id)}var BV=L(()=>{"use strict";$u();C0();a(A8,"default")});function L8(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),u=0;u<s;++u)for(var h=t[u],p=r[u],g=h.length,v=o[u]=new Array(g),x,k=0;k<g;++k)(x=h[k]||p[k])&&(v[k]=x);for(;u<n;++u)o[u]=t[u];return new go(o,this._parents,this._name,this._id)}var FV=L(()=>{"use strict";C0();a(L8,"default")});function S6e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function _6e(e,t,r){var n,i,s=S6e(t)?Sv:Ls;return function(){var o=s(this,e),u=o.on;u!==n&&(i=(n=u).copy()).on(t,r),o.on=i}}function D8(e,t){var r=this._id;return arguments.length<2?za(this.node(),r).on.on(e):this.each(_6e(r,e,t))}var zV=L(()=>{"use strict";qo();a(S6e,"start");a(_6e,"onFunction");a(D8,"default")});function A6e(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function R8(){return this.on("end.remove",A6e(this._id))}var $V=L(()=>{"use strict";a(A6e,"removeFunction");a(R8,"default")});function I8(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Uf(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var u=n[o],h=u.length,p=s[o]=new Array(h),g,v,x=0;x<h;++x)(g=u[x])&&(v=e.call(g,g.__data__,x,u))&&("__data__"in g&&(v.__data__=g.__data__),p[x]=v,Ih(p[x],t,r,x,p,za(g,r)));return new go(s,this._parents,t,r)}var GV=L(()=>{"use strict";$u();C0();qo();a(I8,"default")});function M8(e){var t=this._name,r=this._id;typeof e!="function"&&(e=qm(e));for(var n=this._groups,i=n.length,s=[],o=[],u=0;u<i;++u)for(var h=n[u],p=h.length,g,v=0;v<p;++v)if(g=h[v]){for(var x=e.call(g,g.__data__,v,h),k,E=za(g,r),_=0,N=x.length;_<N;++_)(k=x[_])&&Ih(k,t,r,_,x,E);s.push(x),o.push(g)}return new go(s,o,t,r)}var VV=L(()=>{"use strict";$u();C0();qo();a(M8,"default")});function N8(){return new L6e(this._groups,this._parents)}var L6e,qV=L(()=>{"use strict";$u();L6e=Lh.prototype.constructor;a(N8,"default")});function D6e(e,t){var r,n,i;return function(){var s=Hf(this,e),o=(this.style.removeProperty(e),Hf(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}function UV(e){return function(){this.style.removeProperty(e)}}function R6e(e,t,r){var n,i=r+"",s;return function(){var o=Hf(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}function I6e(e,t,r){var n,i,s;return function(){var o=Hf(this,e),u=r(this),h=u+"";return u==null&&(h=u=(this.style.removeProperty(e),Hf(this,e))),o===h?null:o===n&&h===i?s:(i=h,s=t(n=o,u))}}function M6e(e,t){var r,n,i,s="style."+t,o="end."+s,u;return function(){var h=Ls(this,e),p=h.on,g=h.value[s]==null?u||(u=UV(t)):void 0;(p!==r||i!==g)&&(n=(r=p).copy()).on(o,i=g),h.on=n}}function O8(e,t,r){var n=(e+="")=="transform"?p8:Lv;return t==null?this.styleTween(e,D6e(e,n)).on("end.style."+e,UV(e)):typeof t=="function"?this.styleTween(e,I6e(e,n,tg(this,"style."+e,t))).each(M6e(this._id,e)):this.styleTween(e,R6e(e,n,t),r).on("end.style."+e,null)}var HV=L(()=>{"use strict";Jm();$u();qo();Av();k8();a(D6e,"styleNull");a(UV,"styleRemove");a(R6e,"styleConstant");a(I6e,"styleFunction");a(M6e,"styleMaybeRemove");a(O8,"default")});function N6e(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function O6e(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&N6e(e,o,r)),n}return a(s,"tween"),s._value=t,s}function P8(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,O6e(e,t,r??""))}var WV=L(()=>{"use strict";a(N6e,"styleInterpolate");a(O6e,"styleTween");a(P8,"default")});function P6e(e){return function(){this.textContent=e}}function B6e(e){return function(){var t=e(this);this.textContent=t??""}}function B8(e){return this.tween("text",typeof e=="function"?B6e(tg(this,"text",e)):P6e(e==null?"":e+""))}var YV=L(()=>{"use strict";Av();a(P6e,"textConstant");a(B6e,"textFunction");a(B8,"default")});function F6e(e){return function(t){this.textContent=e.call(this,t)}}function z6e(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&F6e(i)),t}return a(n,"tween"),n._value=e,n}function F8(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,z6e(e))}var XV=L(()=>{"use strict";a(F6e,"textInterpolate");a(z6e,"textTween");a(F8,"default")});function z8(){for(var e=this._name,t=this._id,r=$3(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],u=o.length,h,p=0;p<u;++p)if(h=o[p]){var g=za(h,t);Ih(h,e,r,p,o,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new go(n,this._parents,e,r)}var jV=L(()=>{"use strict";C0();qo();a(z8,"default")});function $8(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var u={value:o},h={value:function(){--i===0&&s()}};r.each(function(){var p=Ls(this,n),g=p.on;g!==e&&(t=(e=g).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(h)),p.on=t}),i===0&&s()})}var KV=L(()=>{"use strict";qo();a($8,"default")});function go(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function QV(e){return Lh().transition(e)}function $3(){return++$6e}var $6e,Mh,C0=L(()=>{"use strict";$u();RV();IV();MV();NV();OV();PV();BV();FV();zV();$V();GV();VV();qV();HV();WV();YV();XV();jV();Av();KV();$6e=0;a(go,"Transition");a(QV,"transition");a($3,"newId");Mh=Lh.prototype;go.prototype=QV.prototype={constructor:go,select:I8,selectAll:M8,selectChild:Mh.selectChild,selectChildren:Mh.selectChildren,filter:A8,merge:L8,selection:N8,transition:z8,call:Mh.call,nodes:Mh.nodes,node:Mh.node,size:Mh.size,empty:Mh.empty,each:Mh.each,on:D8,attr:w8,attrTween:T8,style:O8,styleTween:P8,text:B8,textTween:F8,remove:R8,tween:b8,delay:E8,duration:C8,ease:S8,easeVarying:_8,end:$8,[Symbol.iterator]:Mh[Symbol.iterator]}});function G3(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZV=L(()=>{"use strict";a(G3,"cubicInOut")});var G8=L(()=>{"use strict";ZV()});function V6e(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function V8(e){var t,r;e instanceof go?(t=e._id,e=e._name):(t=$3(),(r=G6e).time=Tv(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],u=o.length,h,p=0;p<u;++p)(h=o[p])&&Ih(h,e,t,p,o,r||V6e(h,t));return new go(n,this._parents,e,t)}var G6e,JV=L(()=>{"use strict";C0();qo();G8();P3();G6e={time:null,delay:0,duration:250,ease:G3};a(V6e,"inherit");a(V8,"default")});var eq=L(()=>{"use strict";$u();DV();JV();Lh.prototype.interrupt=x8;Lh.prototype.transition=V8});var V3=L(()=>{"use strict";eq()});var tq=L(()=>{"use strict"});var rq=L(()=>{"use strict"});var nq=L(()=>{"use strict"});function iq(e){return[+e[0],+e[1]]}function q6e(e){return[iq(e[0]),iq(e[1])]}function q8(e){return{type:e}}var sht,oht,lht,uht,cht,hht,aq=L(()=>{"use strict";V3();tq();rq();nq();({abs:sht,max:oht,min:lht}=Math);a(iq,"number1");a(q6e,"number2");uht={name:"x",handles:["w","e"].map(q8),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},cht={name:"y",handles:["n","s"].map(q8),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},hht={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(q8),input:function(e){return e==null?null:q6e(e)},output:function(e){return e}};a(q8,"type")});var sq=L(()=>{"use strict";aq()});function oq(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function H6e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oq;let r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}function lq(){return new _0}var U8,H8,S0,U6e,_0,uq=L(()=>{"use strict";U8=Math.PI,H8=2*U8,S0=1e-6,U6e=H8-S0;a(oq,"append");a(H6e,"appendRound");_0=class{static{a(this,"Path")}constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oq:H6e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,h=n-t,p=i-r,g=o-t,v=u-r,x=g*g+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>S0)if(!(Math.abs(v*h-p*g)>S0)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let k=n-o,E=i-u,_=h*h+p*p,N=k*k+E*E,M=Math.sqrt(_),P=Math.sqrt(x),V=s*Math.tan((U8-Math.acos((_+x-N)/(2*M*P)))/2),H=V/P,O=V/M;Math.abs(H-1)>S0&&this._append`L${t+H*g},${r+H*v}`,this._append`A${s},${s},0,0,${+(v*k>g*E)},${this._x1=t+O*h},${this._y1=r+O*p}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),h=n*Math.sin(i),p=t+u,g=r+h,v=1^o,x=o?i-s:s-i;this._x1===null?this._append`M${p},${g}`:(Math.abs(this._x1-p)>S0||Math.abs(this._y1-g)>S0)&&this._append`L${p},${g}`,n&&(x<0&&(x=x%H8+H8),x>U6e?this._append`A${n},${n},0,1,${v},${t-u},${r-h}A${n},${n},0,1,${v},${this._x1=p},${this._y1=g}`:x>S0&&this._append`A${n},${n},0,${+(x>=U8)},${v},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};a(lq,"path");lq.prototype=_0.prototype});var W8=L(()=>{"use strict";uq()});var cq=L(()=>{"use strict"});var hq=L(()=>{"use strict"});var fq=L(()=>{"use strict"});var dq=L(()=>{"use strict"});function W6e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Y8(e,t){return fetch(e,t).then(W6e)}var pq=L(()=>{"use strict";a(W6e,"responseText");a(Y8,"default")});function X8(e){return(t,r)=>Y8(t,r).then(n=>new DOMParser().parseFromString(n,e))}var Y6e,X6e,j8,mq=L(()=>{"use strict";pq();a(X8,"parser");Y6e=X8("application/xml"),X6e=X8("text/html"),j8=X8("image/svg+xml")});var gq=L(()=>{"use strict";mq()});var yq=L(()=>{"use strict"});var vq=L(()=>{"use strict"});function K8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function A0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var Dv=L(()=>{"use strict";a(K8,"default");a(A0,"formatDecimalParts")});function qu(e){return e=A0(Math.abs(e)),e?e[1]:NaN}var Rv=L(()=>{"use strict";Dv();a(qu,"default")});function Q8(e,t){return function(r,n){for(var i=r.length,s=[],o=0,u=e[0],h=0;i>0&&u>0&&(h+u+1>n&&(u=Math.max(1,n-h)),s.push(r.substring(i-=u,i+u)),!((h+=u+1)>n));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}var xq=L(()=>{"use strict";a(Q8,"default")});function Z8(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bq=L(()=>{"use strict";a(Z8,"default")});function jf(e){if(!(t=j6e.exec(e)))throw new Error("invalid format: "+e);var t;return new q3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function q3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var j6e,J8=L(()=>{"use strict";j6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;a(jf,"formatSpecifier");jf.prototype=q3.prototype;a(q3,"FormatSpecifier");q3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function e_(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var kq=L(()=>{"use strict";a(e_,"default")});function r_(e,t){var r=A0(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(t_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+A0(e,Math.max(0,t+s-1))[0]}var t_,n_=L(()=>{"use strict";Dv();a(r_,"default")});function U3(e,t){var r=A0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var wq=L(()=>{"use strict";Dv();a(U3,"default")});var i_,Tq=L(()=>{"use strict";Dv();n_();wq();i_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:K8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>U3(e*100,t),r:U3,s:r_,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}});function H3(e){return e}var Eq=L(()=>{"use strict";a(H3,"default")});function a_(e){var t=e.grouping===void 0||e.thousands===void 0?H3:Q8(Cq.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?H3:Z8(Cq.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"\u2212":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function p(v){v=jf(v);var x=v.fill,k=v.align,E=v.sign,_=v.symbol,N=v.zero,M=v.width,P=v.comma,V=v.precision,H=v.trim,O=v.type;O==="n"?(P=!0,O="g"):i_[O]||(V===void 0&&(V=12),H=!0,O="g"),(N||x==="0"&&k==="=")&&(N=!0,x="0",k="=");var I=_==="$"?r:_==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",z=_==="$"?n:/[%p]/.test(O)?o:"",G=i_[O],F=/[defgprs%]/.test(O);V=V===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function j(D){var X=I,B=z,Q,le,J;if(O==="c")B=G(D)+B,D="";else{D=+D;var ie=D<0||1/D<0;if(D=isNaN(D)?h:G(Math.abs(D),V),H&&(D=e_(D)),ie&&+D==0&&E!=="+"&&(ie=!1),X=(ie?E==="("?E:u:E==="-"||E==="("?"":E)+X,B=(O==="s"?Sq[8+t_/3]:"")+B+(ie&&E==="("?")":""),F){for(Q=-1,le=D.length;++Q<le;)if(J=D.charCodeAt(Q),48>J||J>57){B=(J===46?i+D.slice(Q+1):D.slice(Q))+B,D=D.slice(0,Q);break}}}P&&!N&&(D=t(D,1/0));var re=X.length+D.length+B.length,Z=re<M?new Array(M-re+1).join(x):"";switch(P&&N&&(D=t(Z+D,Z.length?M-B.length:1/0),Z=""),k){case"<":D=X+D+B+Z;break;case"=":D=X+Z+D+B;break;case"^":D=Z.slice(0,re=Z.length>>1)+X+D+B+Z.slice(re);break;default:D=Z+X+D+B;break}return s(D)}return a(j,"format"),j.toString=function(){return v+""},j}a(p,"newFormat");function g(v,x){var k=p((v=jf(v),v.type="f",v)),E=Math.max(-8,Math.min(8,Math.floor(qu(x)/3)))*3,_=Math.pow(10,-E),N=Sq[8+E/3];return function(M){return k(_*M)+N}}return a(g,"formatPrefix"),{format:p,formatPrefix:g}}var Cq,Sq,_q=L(()=>{"use strict";Rv();xq();bq();J8();kq();Tq();n_();Eq();Cq=Array.prototype.map,Sq=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];a(a_,"default")});function s_(e){return W3=a_(e),Y3=W3.format,X3=W3.formatPrefix,W3}var W3,Y3,X3,Aq=L(()=>{"use strict";_q();s_({thousands:",",grouping:[3],currency:["$",""]});a(s_,"defaultLocale")});function j3(e){return Math.max(0,-qu(Math.abs(e)))}var Lq=L(()=>{"use strict";Rv();a(j3,"default")});function K3(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qu(t)/3)))*3-qu(Math.abs(e)))}var Dq=L(()=>{"use strict";Rv();a(K3,"default")});function Q3(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qu(t)-qu(e))+1}var Rq=L(()=>{"use strict";Rv();a(Q3,"default")});var o_=L(()=>{"use strict";Aq();J8();Lq();Dq();Rq()});var Iq=L(()=>{"use strict"});var Mq=L(()=>{"use strict"});var Nq=L(()=>{"use strict"});var Oq=L(()=>{"use strict"});function Kf(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Iv=L(()=>{"use strict";a(Kf,"initRange")});function Uu(){var e=new Gm,t=[],r=[],n=l_;function i(s){let o=e.get(s);if(o===void 0){if(n!==l_)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a(i,"scale"),i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Gm;for(let o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Uu(t,r).unknown(n)},Kf.apply(i,arguments),i}var l_,u_=L(()=>{"use strict";qf();Iv();l_=Symbol("implicit");a(Uu,"ordinal")});function rg(){var e=Uu().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,u=!1,h=0,p=0,g=.5;delete e.unknown;function v(){var x=t().length,k=i<n,E=k?i:n,_=k?n:i;s=(_-E)/Math.max(1,x-h+p*2),u&&(s=Math.floor(s)),E+=(_-E-s*(x-h))*g,o=s*(1-h),u&&(E=Math.round(E),o=Math.round(o));var N=p3(x).map(function(M){return E+s*M});return r(k?N.reverse():N)}return a(v,"rescale"),e.domain=function(x){return arguments.length?(t(x),v()):t()},e.range=function(x){return arguments.length?([n,i]=x,n=+n,i=+i,v()):[n,i]},e.rangeRound=function(x){return[n,i]=x,n=+n,i=+i,u=!0,v()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(x){return arguments.length?(u=!!x,v()):u},e.padding=function(x){return arguments.length?(h=Math.min(1,p=+x),v()):h},e.paddingInner=function(x){return arguments.length?(h=Math.min(1,x),v()):h},e.paddingOuter=function(x){return arguments.length?(p=+x,v()):p},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),v()):g},e.copy=function(){return rg(t(),[n,i]).round(u).paddingInner(h).paddingOuter(p).align(g)},Kf.apply(v(),arguments)}var Pq=L(()=>{"use strict";qf();Iv();u_();a(rg,"band")});function c_(e){return function(){return e}}var Bq=L(()=>{"use strict";a(c_,"constants")});function h_(e){return+e}var Fq=L(()=>{"use strict";a(h_,"number")});function ng(e){return e}function f_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:c_(isNaN(t)?NaN:.5)}function K6e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Q6e(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=f_(i,n),s=r(o,s)):(n=f_(n,i),s=r(s,o)),function(u){return s(n(u))}}function Z6e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=f_(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(u){var h=YC(e,u,1,n)-1;return s[h](i[h](u))}}function Z3(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function J6e(){var e=zq,t=zq,r=Xf,n,i,s,o=ng,u,h,p;function g(){var x=Math.min(e.length,t.length);return o!==ng&&(o=K6e(e[0],e[x-1])),u=x>2?Z6e:Q6e,h=p=null,v}a(g,"rescale");function v(x){return x==null||isNaN(x=+x)?s:(h||(h=u(e.map(n),t,r)))(n(o(x)))}return a(v,"scale"),v.invert=function(x){return o(i((p||(p=u(t,e.map(n),as)))(x)))},v.domain=function(x){return arguments.length?(e=Array.from(x,h_),g()):e.slice()},v.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},v.rangeRound=function(x){return t=Array.from(x),r=A3,g()},v.clamp=function(x){return arguments.length?(o=x?!0:ng,g()):o!==ng},v.interpolate=function(x){return arguments.length?(r=x,g()):r},v.unknown=function(x){return arguments.length?(s=x,v):s},function(x,k){return n=x,i=k,g()}}function Mv(){return J6e()(ng,ng)}var zq,d_=L(()=>{"use strict";qf();Jm();Bq();Fq();zq=[0,1];a(ng,"identity");a(f_,"normalize");a(K6e,"clamper");a(Q6e,"bimap");a(Z6e,"polymap");a(Z3,"copy");a(J6e,"transformer");a(Mv,"continuous")});function p_(e,t,r,n){var i=Vm(e,t,r),s;switch(n=jf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=K3(i,o))&&(n.precision=s),X3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Q3(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=j3(i))&&(n.precision=s-(n.type==="%")*2);break}}return Y3(n)}var $q=L(()=>{"use strict";qf();o_();a(p_,"tickFormat")});function ewe(e){var t=e.domain;return e.ticks=function(r){var n=t();return h3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return p_(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],u=n[s],h,p,g=10;for(u<o&&(p=o,o=u,u=p,p=i,i=s,s=p);g-- >0;){if(p=sv(o,u,r),p===h)return n[i]=o,n[s]=u,t(n);if(p>0)o=Math.floor(o/p)*p,u=Math.ceil(u/p)*p;else if(p<0)o=Math.ceil(o*p)/p,u=Math.floor(u*p)/p;else break;h=p}return e},e}function Hu(){var e=Mv();return e.copy=function(){return Z3(e,Hu())},Kf.apply(e,arguments),ewe(e)}var Gq=L(()=>{"use strict";qf();d_();Iv();$q();a(ewe,"linearish");a(Hu,"linear")});function m_(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}var Vq=L(()=>{"use strict";a(m_,"nice")});function mi(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a(i,"interval"),i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{let o=i(s),u=i.ceil(s);return s-o<u-s?o:u},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,u)=>{let h=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return h;let p;do h.push(p=new Date(+s)),t(s,u),e(s);while(p<s&&s<o);return h},i.filter=s=>mi(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!s(o););else for(;--u>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(g_.setTime(+s),y_.setTime(+o),e(g_),e(y_),Math.floor(r(g_,y_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}var g_,y_,Nh=L(()=>{"use strict";g_=new Date,y_=new Date;a(mi,"timeInterval")});var Mc,qq,v_=L(()=>{"use strict";Nh();Mc=mi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Mc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Mc);qq=Mc.range});var wl,Uq,x_=L(()=>{"use strict";Nh();wl=mi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),Uq=wl.range});var Oh,twe,J3,rwe,b_=L(()=>{"use strict";Nh();Oh=mi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),twe=Oh.range,J3=mi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),rwe=J3.range});var Ph,nwe,e5,iwe,k_=L(()=>{"use strict";Nh();Ph=mi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),nwe=Ph.range,e5=mi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),iwe=e5.range});var Zl,awe,Ov,swe,t5,owe,w_=L(()=>{"use strict";Nh();Zl=mi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),awe=Zl.range,Ov=mi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),swe=Ov.range,t5=mi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),owe=t5.range});function R0(e){return mi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function I0(e){return mi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var Wu,Qf,r5,n5,Oc,i5,a5,Wq,lwe,uwe,cwe,hwe,fwe,dwe,M0,ig,Yq,Xq,Zf,jq,Kq,Qq,pwe,mwe,gwe,ywe,vwe,xwe,T_=L(()=>{"use strict";Nh();a(R0,"timeWeekday");Wu=R0(0),Qf=R0(1),r5=R0(2),n5=R0(3),Oc=R0(4),i5=R0(5),a5=R0(6),Wq=Wu.range,lwe=Qf.range,uwe=r5.range,cwe=n5.range,hwe=Oc.range,fwe=i5.range,dwe=a5.range;a(I0,"utcWeekday");M0=I0(0),ig=I0(1),Yq=I0(2),Xq=I0(3),Zf=I0(4),jq=I0(5),Kq=I0(6),Qq=M0.range,pwe=ig.range,mwe=Yq.range,gwe=Xq.range,ywe=Zf.range,vwe=jq.range,xwe=Kq.range});var Bh,bwe,s5,kwe,E_=L(()=>{"use strict";Nh();Bh=mi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),bwe=Bh.range,s5=mi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),kwe=s5.range});var Tl,wwe,Yu,Twe,C_=L(()=>{"use strict";Nh();Tl=mi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Tl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wwe=Tl.range,Yu=mi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Twe=Yu.range});function Jq(e,t,r,n,i,s){let o=[[wl,1,1e3],[wl,5,5*1e3],[wl,15,15*1e3],[wl,30,30*1e3],[s,1,6e4],[s,5,5*6e4],[s,15,15*6e4],[s,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function u(p,g,v){let x=g<p;x&&([p,g]=[g,p]);let k=v&&typeof v.range=="function"?v:h(p,g,v),E=k?k.range(p,+g+1):[];return x?E.reverse():E}a(u,"ticks");function h(p,g,v){let x=Math.abs(g-p)/v,k=b0(([,,N])=>N).right(o,x);if(k===o.length)return e.every(Vm(p/31536e6,g/31536e6,v));if(k===0)return Mc.every(Math.max(Vm(p,g,v),1));let[E,_]=o[x/o[k-1][2]<o[k][2]/x?k-1:k];return E.every(_)}return a(h,"tickInterval"),[u,h]}var Cwe,Swe,S_,__,eU=L(()=>{"use strict";qf();v_();x_();b_();k_();w_();T_();E_();C_();a(Jq,"ticker");[Cwe,Swe]=Jq(Yu,s5,M0,t5,e5,J3),[S_,__]=Jq(Tl,Bh,Wu,Zl,Ph,Oh)});var o5=L(()=>{"use strict";v_();x_();b_();k_();w_();T_();E_();C_();eU()});function A_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function L_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function D_(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,u=e.months,h=e.shortMonths,p=Bv(i),g=Fv(i),v=Bv(s),x=Fv(s),k=Bv(o),E=Fv(o),_=Bv(u),N=Fv(u),M=Bv(h),P=Fv(h),V={a:ie,A:re,b:Z,B:Y,c:null,d:sU,e:sU,f:jwe,g:aTe,G:oTe,H:Wwe,I:Ywe,j:Xwe,L:hU,m:Kwe,M:Qwe,p:ue,q:Ae,Q:uU,s:cU,S:Zwe,u:Jwe,U:eTe,V:tTe,w:rTe,W:nTe,x:null,X:null,y:iTe,Y:sTe,Z:lTe,"%":lU},H={a:ae,A:Ke,b:Ie,B:$e,c:null,d:oU,e:oU,f:fTe,g:wTe,G:ETe,H:uTe,I:cTe,j:hTe,L:dU,m:dTe,M:pTe,p:Xe,q:He,Q:uU,s:cU,S:mTe,u:gTe,U:yTe,V:vTe,w:xTe,W:bTe,x:null,X:null,y:kTe,Y:TTe,Z:CTe,"%":lU},O={a:j,A:D,b:X,B,c:Q,d:iU,e:iU,f:Vwe,g:nU,G:rU,H:aU,I:aU,j:Fwe,L:Gwe,m:Bwe,M:zwe,p:F,q:Pwe,Q:Uwe,s:Hwe,S:$we,u:Rwe,U:Iwe,V:Mwe,w:Dwe,W:Nwe,x:le,X:J,y:nU,Y:rU,Z:Owe,"%":qwe};V.x=I(r,V),V.X=I(n,V),V.c=I(t,V),H.x=I(r,H),H.X=I(n,H),H.c=I(t,H);function I(Ne,_e){return function(Me){var Ee=[],Oe=-1,at=0,pe=Ne.length,Bt,Pe,gt;for(Me instanceof Date||(Me=new Date(+Me));++Oe<pe;)Ne.charCodeAt(Oe)===37&&(Ee.push(Ne.slice(at,Oe)),(Pe=tU[Bt=Ne.charAt(++Oe)])!=null?Bt=Ne.charAt(++Oe):Pe=Bt==="e"?" ":"0",(gt=_e[Bt])&&(Bt=gt(Me,Pe)),Ee.push(Bt),at=Oe+1);return Ee.push(Ne.slice(at,Oe)),Ee.join("")}}a(I,"newFormat");function z(Ne,_e){return function(Me){var Ee=Pv(1900,void 0,1),Oe=G(Ee,Ne,Me+="",0),at,pe;if(Oe!=Me.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(Ee.s*1e3+("L"in Ee?Ee.L:0));if(_e&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+Ee.p*12),Ee.m===void 0&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(at=L_(Pv(Ee.y,0,1)),pe=at.getUTCDay(),at=pe>4||pe===0?ig.ceil(at):ig(at),at=Ov.offset(at,(Ee.V-1)*7),Ee.y=at.getUTCFullYear(),Ee.m=at.getUTCMonth(),Ee.d=at.getUTCDate()+(Ee.w+6)%7):(at=A_(Pv(Ee.y,0,1)),pe=at.getDay(),at=pe>4||pe===0?Qf.ceil(at):Qf(at),at=Zl.offset(at,(Ee.V-1)*7),Ee.y=at.getFullYear(),Ee.m=at.getMonth(),Ee.d=at.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),pe="Z"in Ee?L_(Pv(Ee.y,0,1)).getUTCDay():A_(Pv(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+Ee.W*7-(pe+5)%7:Ee.w+Ee.U*7-(pe+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,L_(Ee)):A_(Ee)}}a(z,"newParse");function G(Ne,_e,Me,Ee){for(var Oe=0,at=_e.length,pe=Me.length,Bt,Pe;Oe<at;){if(Ee>=pe)return-1;if(Bt=_e.charCodeAt(Oe++),Bt===37){if(Bt=_e.charAt(Oe++),Pe=O[Bt in tU?_e.charAt(Oe++):Bt],!Pe||(Ee=Pe(Ne,Me,Ee))<0)return-1}else if(Bt!=Me.charCodeAt(Ee++))return-1}return Ee}a(G,"parseSpecifier");function F(Ne,_e,Me){var Ee=p.exec(_e.slice(Me));return Ee?(Ne.p=g.get(Ee[0].toLowerCase()),Me+Ee[0].length):-1}a(F,"parsePeriod");function j(Ne,_e,Me){var Ee=k.exec(_e.slice(Me));return Ee?(Ne.w=E.get(Ee[0].toLowerCase()),Me+Ee[0].length):-1}a(j,"parseShortWeekday");function D(Ne,_e,Me){var Ee=v.exec(_e.slice(Me));return Ee?(Ne.w=x.get(Ee[0].toLowerCase()),Me+Ee[0].length):-1}a(D,"parseWeekday");function X(Ne,_e,Me){var Ee=M.exec(_e.slice(Me));return Ee?(Ne.m=P.get(Ee[0].toLowerCase()),Me+Ee[0].length):-1}a(X,"parseShortMonth");function B(Ne,_e,Me){var Ee=_.exec(_e.slice(Me));return Ee?(Ne.m=N.get(Ee[0].toLowerCase()),Me+Ee[0].length):-1}a(B,"parseMonth");function Q(Ne,_e,Me){return G(Ne,t,_e,Me)}a(Q,"parseLocaleDateTime");function le(Ne,_e,Me){return G(Ne,r,_e,Me)}a(le,"parseLocaleDate");function J(Ne,_e,Me){return G(Ne,n,_e,Me)}a(J,"parseLocaleTime");function ie(Ne){return o[Ne.getDay()]}a(ie,"formatShortWeekday");function re(Ne){return s[Ne.getDay()]}a(re,"formatWeekday");function Z(Ne){return h[Ne.getMonth()]}a(Z,"formatShortMonth");function Y(Ne){return u[Ne.getMonth()]}a(Y,"formatMonth");function ue(Ne){return i[+(Ne.getHours()>=12)]}a(ue,"formatPeriod");function Ae(Ne){return 1+~~(Ne.getMonth()/3)}a(Ae,"formatQuarter");function ae(Ne){return o[Ne.getUTCDay()]}a(ae,"formatUTCShortWeekday");function Ke(Ne){return s[Ne.getUTCDay()]}a(Ke,"formatUTCWeekday");function Ie(Ne){return h[Ne.getUTCMonth()]}a(Ie,"formatUTCShortMonth");function $e(Ne){return u[Ne.getUTCMonth()]}a($e,"formatUTCMonth");function Xe(Ne){return i[+(Ne.getUTCHours()>=12)]}a(Xe,"formatUTCPeriod");function He(Ne){return 1+~~(Ne.getUTCMonth()/3)}return a(He,"formatUTCQuarter"),{format:function(Ne){var _e=I(Ne+="",V);return _e.toString=function(){return Ne},_e},parse:function(Ne){var _e=z(Ne+="",!1);return _e.toString=function(){return Ne},_e},utcFormat:function(Ne){var _e=I(Ne+="",H);return _e.toString=function(){return Ne},_e},utcParse:function(Ne){var _e=z(Ne+="",!0);return _e.toString=function(){return Ne},_e}}}function Yn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function Lwe(e){return e.replace(Awe,"\\$&")}function Bv(e){return new RegExp("^(?:"+e.map(Lwe).join("|")+")","i")}function Fv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Dwe(e,t,r){var n=ss.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Rwe(e,t,r){var n=ss.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Iwe(e,t,r){var n=ss.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Mwe(e,t,r){var n=ss.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Nwe(e,t,r){var n=ss.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function rU(e,t,r){var n=ss.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function nU(e,t,r){var n=ss.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Owe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Pwe(e,t,r){var n=ss.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Bwe(e,t,r){var n=ss.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function iU(e,t,r){var n=ss.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Fwe(e,t,r){var n=ss.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aU(e,t,r){var n=ss.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zwe(e,t,r){var n=ss.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function $we(e,t,r){var n=ss.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Gwe(e,t,r){var n=ss.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Vwe(e,t,r){var n=ss.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qwe(e,t,r){var n=_we.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Uwe(e,t,r){var n=ss.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Hwe(e,t,r){var n=ss.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sU(e,t){return Yn(e.getDate(),t,2)}function Wwe(e,t){return Yn(e.getHours(),t,2)}function Ywe(e,t){return Yn(e.getHours()%12||12,t,2)}function Xwe(e,t){return Yn(1+Zl.count(Tl(e),e),t,3)}function hU(e,t){return Yn(e.getMilliseconds(),t,3)}function jwe(e,t){return hU(e,t)+"000"}function Kwe(e,t){return Yn(e.getMonth()+1,t,2)}function Qwe(e,t){return Yn(e.getMinutes(),t,2)}function Zwe(e,t){return Yn(e.getSeconds(),t,2)}function Jwe(e){var t=e.getDay();return t===0?7:t}function eTe(e,t){return Yn(Wu.count(Tl(e)-1,e),t,2)}function fU(e){var t=e.getDay();return t>=4||t===0?Oc(e):Oc.ceil(e)}function tTe(e,t){return e=fU(e),Yn(Oc.count(Tl(e),e)+(Tl(e).getDay()===4),t,2)}function rTe(e){return e.getDay()}function nTe(e,t){return Yn(Qf.count(Tl(e)-1,e),t,2)}function iTe(e,t){return Yn(e.getFullYear()%100,t,2)}function aTe(e,t){return e=fU(e),Yn(e.getFullYear()%100,t,2)}function sTe(e,t){return Yn(e.getFullYear()%1e4,t,4)}function oTe(e,t){var r=e.getDay();return e=r>=4||r===0?Oc(e):Oc.ceil(e),Yn(e.getFullYear()%1e4,t,4)}function lTe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Yn(t/60|0,"0",2)+Yn(t%60,"0",2)}function oU(e,t){return Yn(e.getUTCDate(),t,2)}function uTe(e,t){return Yn(e.getUTCHours(),t,2)}function cTe(e,t){return Yn(e.getUTCHours()%12||12,t,2)}function hTe(e,t){return Yn(1+Ov.count(Yu(e),e),t,3)}function dU(e,t){return Yn(e.getUTCMilliseconds(),t,3)}function fTe(e,t){return dU(e,t)+"000"}function dTe(e,t){return Yn(e.getUTCMonth()+1,t,2)}function pTe(e,t){return Yn(e.getUTCMinutes(),t,2)}function mTe(e,t){return Yn(e.getUTCSeconds(),t,2)}function gTe(e){var t=e.getUTCDay();return t===0?7:t}function yTe(e,t){return Yn(M0.count(Yu(e)-1,e),t,2)}function pU(e){var t=e.getUTCDay();return t>=4||t===0?Zf(e):Zf.ceil(e)}function vTe(e,t){return e=pU(e),Yn(Zf.count(Yu(e),e)+(Yu(e).getUTCDay()===4),t,2)}function xTe(e){return e.getUTCDay()}function bTe(e,t){return Yn(ig.count(Yu(e)-1,e),t,2)}function kTe(e,t){return Yn(e.getUTCFullYear()%100,t,2)}function wTe(e,t){return e=pU(e),Yn(e.getUTCFullYear()%100,t,2)}function TTe(e,t){return Yn(e.getUTCFullYear()%1e4,t,4)}function ETe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Zf(e):Zf.ceil(e),Yn(e.getUTCFullYear()%1e4,t,4)}function CTe(){return"+0000"}function lU(){return"%"}function uU(e){return+e}function cU(e){return Math.floor(+e/1e3)}var tU,ss,_we,Awe,mU=L(()=>{"use strict";o5();a(A_,"localDate");a(L_,"utcDate");a(Pv,"newDate");a(D_,"formatLocale");tU={"-":"",_:" ",0:"0"},ss=/^\s*\d+/,_we=/^%/,Awe=/[\\^$*+?|[\]().{}]/g;a(Yn,"pad");a(Lwe,"requote");a(Bv,"formatRe");a(Fv,"formatLookup");a(Dwe,"parseWeekdayNumberSunday");a(Rwe,"parseWeekdayNumberMonday");a(Iwe,"parseWeekNumberSunday");a(Mwe,"parseWeekNumberISO");a(Nwe,"parseWeekNumberMonday");a(rU,"parseFullYear");a(nU,"parseYear");a(Owe,"parseZone");a(Pwe,"parseQuarter");a(Bwe,"parseMonthNumber");a(iU,"parseDayOfMonth");a(Fwe,"parseDayOfYear");a(aU,"parseHour24");a(zwe,"parseMinutes");a($we,"parseSeconds");a(Gwe,"parseMilliseconds");a(Vwe,"parseMicroseconds");a(qwe,"parseLiteralPercent");a(Uwe,"parseUnixTimestamp");a(Hwe,"parseUnixTimestampSeconds");a(sU,"formatDayOfMonth");a(Wwe,"formatHour24");a(Ywe,"formatHour12");a(Xwe,"formatDayOfYear");a(hU,"formatMilliseconds");a(jwe,"formatMicroseconds");a(Kwe,"formatMonthNumber");a(Qwe,"formatMinutes");a(Zwe,"formatSeconds");a(Jwe,"formatWeekdayNumberMonday");a(eTe,"formatWeekNumberSunday");a(fU,"dISO");a(tTe,"formatWeekNumberISO");a(rTe,"formatWeekdayNumberSunday");a(nTe,"formatWeekNumberMonday");a(iTe,"formatYear");a(aTe,"formatYearISO");a(sTe,"formatFullYear");a(oTe,"formatFullYearISO");a(lTe,"formatZone");a(oU,"formatUTCDayOfMonth");a(uTe,"formatUTCHour24");a(cTe,"formatUTCHour12");a(hTe,"formatUTCDayOfYear");a(dU,"formatUTCMilliseconds");a(fTe,"formatUTCMicroseconds");a(dTe,"formatUTCMonthNumber");a(pTe,"formatUTCMinutes");a(mTe,"formatUTCSeconds");a(gTe,"formatUTCWeekdayNumberMonday");a(yTe,"formatUTCWeekNumberSunday");a(pU,"UTCdISO");a(vTe,"formatUTCWeekNumberISO");a(xTe,"formatUTCWeekdayNumberSunday");a(bTe,"formatUTCWeekNumberMonday");a(kTe,"formatUTCYear");a(wTe,"formatUTCYearISO");a(TTe,"formatUTCFullYear");a(ETe,"formatUTCFullYearISO");a(CTe,"formatUTCZone");a(lU,"formatLiteralPercent");a(uU,"formatUnixTimestamp");a(cU,"formatUnixTimestampSeconds")});function R_(e){return ag=D_(e),N0=ag.format,gU=ag.parse,yU=ag.utcFormat,vU=ag.utcParse,ag}var ag,N0,gU,yU,vU,xU=L(()=>{"use strict";mU();R_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a(R_,"defaultLocale")});var I_=L(()=>{"use strict";xU()});function STe(e){return new Date(e)}function _Te(e){return e instanceof Date?+e:+new Date(+e)}function bU(e,t,r,n,i,s,o,u,h,p){var g=Mv(),v=g.invert,x=g.domain,k=p(".%L"),E=p(":%S"),_=p("%I:%M"),N=p("%I %p"),M=p("%a %d"),P=p("%b %d"),V=p("%B"),H=p("%Y");function O(I){return(h(I)<I?k:u(I)<I?E:o(I)<I?_:s(I)<I?N:n(I)<I?i(I)<I?M:P:r(I)<I?V:H)(I)}return a(O,"tickFormat"),g.invert=function(I){return new Date(v(I))},g.domain=function(I){return arguments.length?x(Array.from(I,_Te)):x().map(STe)},g.ticks=function(I){var z=x();return e(z[0],z[z.length-1],I??10)},g.tickFormat=function(I,z){return z==null?O:p(z)},g.nice=function(I){var z=x();return(!I||typeof I.range!="function")&&(I=t(z[0],z[z.length-1],I??10)),I?x(m_(z,I)):g},g.copy=function(){return Z3(g,bU(e,t,r,n,i,s,o,u,h,p))},g}function l5(){return Kf.apply(bU(S_,__,Tl,Bh,Wu,Zl,Ph,Oh,wl,N0).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var kU=L(()=>{"use strict";o5();I_();d_();Iv();Vq();a(STe,"date");a(_Te,"number");a(bU,"calendar");a(l5,"time")});var wU=L(()=>{"use strict";Pq();Gq();u_();kU()});function M_(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var TU=L(()=>{"use strict";a(M_,"default")});var zv,EU=L(()=>{"use strict";TU();zv=M_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var CU=L(()=>{"use strict";EU()});function Pi(e){return a(function(){return e},"constant")}var u5=L(()=>{"use strict";a(Pi,"default")});function _U(e){return e>1?0:e<-1?sg:Math.acos(e)}function O_(e){return e>=1?$v:e<=-1?-$v:Math.asin(e)}var N_,Ds,Jf,SU,c5,Xu,O0,os,sg,$v,og,h5=L(()=>{"use strict";N_=Math.abs,Ds=Math.atan2,Jf=Math.cos,SU=Math.max,c5=Math.min,Xu=Math.sin,O0=Math.sqrt,os=1e-12,sg=Math.PI,$v=sg/2,og=2*sg;a(_U,"acos");a(O_,"asin")});function f5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _0(t)}var P_=L(()=>{"use strict";W8();a(f5,"withPath")});function ATe(e){return e.innerRadius}function LTe(e){return e.outerRadius}function DTe(e){return e.startAngle}function RTe(e){return e.endAngle}function ITe(e){return e&&e.padAngle}function MTe(e,t,r,n,i,s,o,u){var h=r-e,p=n-t,g=o-i,v=u-s,x=v*h-g*p;if(!(x*x<os))return x=(g*(t-s)-v*(e-i))/x,[e+x*h,t+x*p]}function d5(e,t,r,n,i,s,o){var u=e-r,h=t-n,p=(o?s:-s)/O0(u*u+h*h),g=p*h,v=-p*u,x=e+g,k=t+v,E=r+g,_=n+v,N=(x+E)/2,M=(k+_)/2,P=E-x,V=_-k,H=P*P+V*V,O=i-s,I=x*_-E*k,z=(V<0?-1:1)*O0(SU(0,O*O*H-I*I)),G=(I*V-P*z)/H,F=(-I*P-V*z)/H,j=(I*V+P*z)/H,D=(-I*P+V*z)/H,X=G-N,B=F-M,Q=j-N,le=D-M;return X*X+B*B>Q*Q+le*le&&(G=j,F=D),{cx:G,cy:F,x01:-g,y01:-v,x11:G*(i/O-1),y11:F*(i/O-1)}}function ju(){var e=ATe,t=LTe,r=Pi(0),n=null,i=DTe,s=RTe,o=ITe,u=null,h=f5(p);function p(){var g,v,x=+e.apply(this,arguments),k=+t.apply(this,arguments),E=i.apply(this,arguments)-$v,_=s.apply(this,arguments)-$v,N=N_(_-E),M=_>E;if(u||(u=g=h()),k<x&&(v=k,k=x,x=v),!(k>os))u.moveTo(0,0);else if(N>og-os)u.moveTo(k*Jf(E),k*Xu(E)),u.arc(0,0,k,E,_,!M),x>os&&(u.moveTo(x*Jf(_),x*Xu(_)),u.arc(0,0,x,_,E,M));else{var P=E,V=_,H=E,O=_,I=N,z=N,G=o.apply(this,arguments)/2,F=G>os&&(n?+n.apply(this,arguments):O0(x*x+k*k)),j=c5(N_(k-x)/2,+r.apply(this,arguments)),D=j,X=j,B,Q;if(F>os){var le=O_(F/x*Xu(G)),J=O_(F/k*Xu(G));(I-=le*2)>os?(le*=M?1:-1,H+=le,O-=le):(I=0,H=O=(E+_)/2),(z-=J*2)>os?(J*=M?1:-1,P+=J,V-=J):(z=0,P=V=(E+_)/2)}var ie=k*Jf(P),re=k*Xu(P),Z=x*Jf(O),Y=x*Xu(O);if(j>os){var ue=k*Jf(V),Ae=k*Xu(V),ae=x*Jf(H),Ke=x*Xu(H),Ie;if(N<sg)if(Ie=MTe(ie,re,ae,Ke,ue,Ae,Z,Y)){var $e=ie-Ie[0],Xe=re-Ie[1],He=ue-Ie[0],Ne=Ae-Ie[1],_e=1/Xu(_U(($e*He+Xe*Ne)/(O0($e*$e+Xe*Xe)*O0(He*He+Ne*Ne)))/2),Me=O0(Ie[0]*Ie[0]+Ie[1]*Ie[1]);D=c5(j,(x-Me)/(_e-1)),X=c5(j,(k-Me)/(_e+1))}else D=X=0}z>os?X>os?(B=d5(ae,Ke,ie,re,k,X,M),Q=d5(ue,Ae,Z,Y,k,X,M),u.moveTo(B.cx+B.x01,B.cy+B.y01),X<j?u.arc(B.cx,B.cy,X,Ds(B.y01,B.x01),Ds(Q.y01,Q.x01),!M):(u.arc(B.cx,B.cy,X,Ds(B.y01,B.x01),Ds(B.y11,B.x11),!M),u.arc(0,0,k,Ds(B.cy+B.y11,B.cx+B.x11),Ds(Q.cy+Q.y11,Q.cx+Q.x11),!M),u.arc(Q.cx,Q.cy,X,Ds(Q.y11,Q.x11),Ds(Q.y01,Q.x01),!M))):(u.moveTo(ie,re),u.arc(0,0,k,P,V,!M)):u.moveTo(ie,re),!(x>os)||!(I>os)?u.lineTo(Z,Y):D>os?(B=d5(Z,Y,ue,Ae,x,-D,M),Q=d5(ie,re,ae,Ke,x,-D,M),u.lineTo(B.cx+B.x01,B.cy+B.y01),D<j?u.arc(B.cx,B.cy,D,Ds(B.y01,B.x01),Ds(Q.y01,Q.x01),!M):(u.arc(B.cx,B.cy,D,Ds(B.y01,B.x01),Ds(B.y11,B.x11),!M),u.arc(0,0,x,Ds(B.cy+B.y11,B.cx+B.x11),Ds(Q.cy+Q.y11,Q.cx+Q.x11),M),u.arc(Q.cx,Q.cy,D,Ds(Q.y11,Q.x11),Ds(Q.y01,Q.x01),!M))):u.arc(0,0,x,O,H,M)}if(u.closePath(),g)return u=null,g+""||null}return a(p,"arc"),p.centroid=function(){var g=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,v=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-sg/2;return[Jf(v)*g,Xu(v)*g]},p.innerRadius=function(g){return arguments.length?(e=typeof g=="function"?g:Pi(+g),p):e},p.outerRadius=function(g){return arguments.length?(t=typeof g=="function"?g:Pi(+g),p):t},p.cornerRadius=function(g){return arguments.length?(r=typeof g=="function"?g:Pi(+g),p):r},p.padRadius=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Pi(+g),p):n},p.startAngle=function(g){return arguments.length?(i=typeof g=="function"?g:Pi(+g),p):i},p.endAngle=function(g){return arguments.length?(s=typeof g=="function"?g:Pi(+g),p):s},p.padAngle=function(g){return arguments.length?(o=typeof g=="function"?g:Pi(+g),p):o},p.context=function(g){return arguments.length?(u=g??null,p):u},p}var AU=L(()=>{"use strict";u5();h5();P_();a(ATe,"arcInnerRadius");a(LTe,"arcOuterRadius");a(DTe,"arcStartAngle");a(RTe,"arcEndAngle");a(ITe,"arcPadAngle");a(MTe,"intersect");a(d5,"cornerTangents");a(ju,"default")});function Gv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var H0t,B_=L(()=>{"use strict";H0t=Array.prototype.slice;a(Gv,"default")});function LU(e){this._context=e}function $a(e){return new LU(e)}var F_=L(()=>{"use strict";a(LU,"Linear");LU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};a($a,"default")});function DU(e){return e[0]}function RU(e){return e[1]}var IU=L(()=>{"use strict";a(DU,"x");a(RU,"y")});function Rs(e,t){var r=Pi(!0),n=null,i=$a,s=null,o=f5(u);e=typeof e=="function"?e:e===void 0?DU:Pi(e),t=typeof t=="function"?t:t===void 0?RU:Pi(t);function u(h){var p,g=(h=Gv(h)).length,v,x=!1,k;for(n==null&&(s=i(k=o())),p=0;p<=g;++p)!(p<g&&r(v=h[p],p,h))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+e(v,p,h),+t(v,p,h));if(k)return s=null,k+""||null}return a(u,"line"),u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Pi(+h),u):e},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Pi(+h),u):t},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:Pi(!!h),u):r},u.curve=function(h){return arguments.length?(i=h,n!=null&&(s=i(n)),u):i},u.context=function(h){return arguments.length?(h==null?n=s=null:s=i(n=h),u):n},u}var MU=L(()=>{"use strict";B_();u5();F_();P_();IU();a(Rs,"default")});function z_(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var NU=L(()=>{"use strict";a(z_,"default")});function $_(e){return e}var OU=L(()=>{"use strict";a($_,"default")});function p5(){var e=$_,t=z_,r=null,n=Pi(0),i=Pi(og),s=Pi(0);function o(u){var h,p=(u=Gv(u)).length,g,v,x=0,k=new Array(p),E=new Array(p),_=+n.apply(this,arguments),N=Math.min(og,Math.max(-og,i.apply(this,arguments)-_)),M,P=Math.min(Math.abs(N)/p,s.apply(this,arguments)),V=P*(N<0?-1:1),H;for(h=0;h<p;++h)(H=E[k[h]=h]=+e(u[h],h,u))>0&&(x+=H);for(t!=null?k.sort(function(O,I){return t(E[O],E[I])}):r!=null&&k.sort(function(O,I){return r(u[O],u[I])}),h=0,v=x?(N-p*V)/x:0;h<p;++h,_=M)g=k[h],H=E[g],M=_+(H>0?H*v:0)+V,E[g]={data:u[g],index:h,value:H,startAngle:_,endAngle:M,padAngle:P};return E}return a(o,"pie"),o.value=function(u){return arguments.length?(e=typeof u=="function"?u:Pi(+u),o):e},o.sortValues=function(u){return arguments.length?(t=u,r=null,o):t},o.sort=function(u){return arguments.length?(r=u,t=null,o):r},o.startAngle=function(u){return arguments.length?(n=typeof u=="function"?u:Pi(+u),o):n},o.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Pi(+u),o):i},o.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Pi(+u),o):s},o}var PU=L(()=>{"use strict";B_();u5();NU();OU();h5();a(p5,"default")});function G_(e){return new m5(e,!0)}function V_(e){return new m5(e,!1)}var m5,BU=L(()=>{"use strict";m5=class{static{a(this,"Bump")}constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}};a(G_,"bumpX");a(V_,"bumpY")});function El(){}var Vv=L(()=>{"use strict";a(El,"default")});function lg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function qv(e){this._context=e}function Jl(e){return new qv(e)}var Uv=L(()=>{"use strict";a(lg,"point");a(qv,"Basis");qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};a(Jl,"default")});function FU(e){this._context=e}function g5(e){return new FU(e)}var zU=L(()=>{"use strict";Vv();Uv();a(FU,"BasisClosed");FU.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};a(g5,"default")});function $U(e){this._context=e}function y5(e){return new $U(e)}var GU=L(()=>{"use strict";Uv();a($U,"BasisOpen");$U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};a(y5,"default")});function VU(e,t){this._basis=new qv(e),this._beta=t}var q_,qU=L(()=>{"use strict";Uv();a(VU,"Bundle");VU.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],s=e[r]-n,o=t[r]-i,u=-1,h;++u<=r;)h=u/r,this._basis.point(this._beta*e[u]+(1-this._beta)*(n+h*s),this._beta*t[u]+(1-this._beta)*(i+h*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};q_=a(function e(t){function r(n){return t===1?new qv(n):new VU(n,t)}return a(r,"bundle"),r.beta=function(n){return e(+n)},r},"custom")(.85)});function ug(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function v5(e,t){this._context=e,this._k=(1-t)/6}var U_,Hv=L(()=>{"use strict";a(ug,"point");a(v5,"Cardinal");v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ug(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ug(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};U_=a(function e(t){function r(n){return new v5(n,t)}return a(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function x5(e,t){this._context=e,this._k=(1-t)/6}var H_,W_=L(()=>{"use strict";Vv();Hv();a(x5,"CardinalClosed");x5.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ug(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};H_=a(function e(t){function r(n){return new x5(n,t)}return a(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function b5(e,t){this._context=e,this._k=(1-t)/6}var Y_,X_=L(()=>{"use strict";Hv();a(b5,"CardinalOpen");b5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ug(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Y_=a(function e(t){function r(n){return new b5(n,t)}return a(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function Wv(e,t,r){var n=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>os){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,h=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/h,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/h}if(e._l23_a>os){var p=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,g=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*p+e._x1*e._l23_2a-t*e._l12_2a)/g,o=(o*p+e._y1*e._l23_2a-r*e._l12_2a)/g}e._context.bezierCurveTo(n,i,s,o,e._x2,e._y2)}function UU(e,t){this._context=e,this._alpha=t}var j_,k5=L(()=>{"use strict";h5();Hv();a(Wv,"point");a(UU,"CatmullRom");UU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Wv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};j_=a(function e(t){function r(n){return t?new UU(n,t):new v5(n,0)}return a(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function HU(e,t){this._context=e,this._alpha=t}var K_,WU=L(()=>{"use strict";W_();Vv();k5();a(HU,"CatmullRomClosed");HU.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Wv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};K_=a(function e(t){function r(n){return t?new HU(n,t):new x5(n,0)}return a(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function YU(e,t){this._context=e,this._alpha=t}var Q_,XU=L(()=>{"use strict";X_();k5();a(YU,"CatmullRomOpen");YU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Q_=a(function e(t){function r(n){return t?new YU(n,t):new b5(n,0)}return a(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function jU(e){this._context=e}function w5(e){return new jU(e)}var KU=L(()=>{"use strict";Vv();a(jU,"LinearClosed");jU.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};a(w5,"default")});function QU(e){return e<0?-1:1}function ZU(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),u=(s*i+o*n)/(n+i);return(QU(s)+QU(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function JU(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Z_(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,o-u*r,s,o)}function T5(e){this._context=e}function eH(e){this._context=new tH(e)}function tH(e){this._context=e}function J_(e){return new T5(e)}function eA(e){return new eH(e)}var rH=L(()=>{"use strict";a(QU,"sign");a(ZU,"slope3");a(JU,"slope2");a(Z_,"point");a(T5,"MonotoneX");T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z_(this,this._t0,JU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Z_(this,JU(this,r=ZU(this,e,t)),r);break;default:Z_(this,this._t0,r=ZU(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};a(eH,"MonotoneY");(eH.prototype=Object.create(T5.prototype)).point=function(e,t){T5.prototype.point.call(this,t,e)};a(tH,"ReflectContext");tH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};a(J_,"monotoneX");a(eA,"monotoneY")});function iH(e){this._context=e}function nH(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function E5(e){return new iH(e)}var aH=L(()=>{"use strict";a(iH,"Natural");iH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=nH(e),i=nH(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};a(nH,"controlPoints");a(E5,"default")});function C5(e,t){this._context=e,this._t=t}function S5(e){return new C5(e,.5)}function tA(e){return new C5(e,0)}function rA(e){return new C5(e,1)}var sH=L(()=>{"use strict";a(C5,"Step");C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};a(S5,"default");a(tA,"stepBefore");a(rA,"stepAfter")});var oH=L(()=>{"use strict";AU();MU();PU();zU();GU();Uv();BU();qU();W_();X_();Hv();WU();XU();k5();KU();F_();rH();aH();sH()});var lH=L(()=>{"use strict"});var uH=L(()=>{"use strict"});function ed(e,t,r){this.k=e,this.x=t,this.y=r}function iA(e){for(;!e.__zoom;)if(!(e=e.parentNode))return nA;return e.__zoom}var nA,aA=L(()=>{"use strict";a(ed,"Transform");ed.prototype={constructor:ed,scale:function(e){return e===1?this:new ed(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ed(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};nA=new ed(1,0,0);iA.prototype=ed.prototype;a(iA,"transform")});var cH=L(()=>{"use strict"});var hH=L(()=>{"use strict";V3();lH();uH();aA();cH()});var fH=L(()=>{"use strict";hH();aA()});var Wr=L(()=>{"use strict";qf();G$();sq();cq();Km();hq();fq();eS();IG();dq();G8();gq();vq();o_();Iq();Mq();Jm();W8();Nq();yq();Oq();wU();CU();$u();oH();o5();I_();P3();V3();fH()});var lA=mo((sA,oA)=>{"use strict";(function(e,t){typeof sA=="object"&&typeof oA<"u"?oA.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.DOMPurify=t())})(sA,function(){"use strict";let{entries:e,setPrototypeOf:t,isFrozen:r,getPrototypeOf:n,getOwnPropertyDescriptor:i}=Object,{freeze:s,seal:o,create:u}=Object,{apply:h,construct:p}=typeof Reflect<"u"&&Reflect;s||(s=a(function(mt){return mt},"freeze")),o||(o=a(function(mt){return mt},"seal")),h||(h=a(function(mt,Nt,Ut){return mt.apply(Nt,Ut)},"apply")),p||(p=a(function(mt,Nt){return new mt(...Nt)},"construct"));let g=I(Array.prototype.forEach),v=I(Array.prototype.pop),x=I(Array.prototype.push),k=I(String.prototype.toLowerCase),E=I(String.prototype.toString),_=I(String.prototype.match),N=I(String.prototype.replace),M=I(String.prototype.indexOf),P=I(String.prototype.trim),V=I(Object.prototype.hasOwnProperty),H=I(RegExp.prototype.test),O=z(TypeError);function I(gt){return function(mt){for(var Nt=arguments.length,Ut=new Array(Nt>1?Nt-1:0),Gt=1;Gt<Nt;Gt++)Ut[Gt-1]=arguments[Gt];return h(gt,mt,Ut)}}a(I,"unapply");function z(gt){return function(){for(var mt=arguments.length,Nt=new Array(mt),Ut=0;Ut<mt;Ut++)Nt[Ut]=arguments[Ut];return p(gt,Nt)}}a(z,"unconstruct");function G(gt,mt){let Nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k;t&&t(gt,null);let Ut=mt.length;for(;Ut--;){let Gt=mt[Ut];if(typeof Gt=="string"){let Lt=Nt(Gt);Lt!==Gt&&(r(mt)||(mt[Ut]=Lt),Gt=Lt)}gt[Gt]=!0}return gt}a(G,"addToSet");function F(gt){for(let mt=0;mt<gt.length;mt++)V(gt,mt)||(gt[mt]=null);return gt}a(F,"cleanArray");function j(gt){let mt=u(null);for(let[Nt,Ut]of e(gt))V(gt,Nt)&&(Array.isArray(Ut)?mt[Nt]=F(Ut):Ut&&typeof Ut=="object"&&Ut.constructor===Object?mt[Nt]=j(Ut):mt[Nt]=Ut);return mt}a(j,"clone");function D(gt,mt){for(;gt!==null;){let Ut=i(gt,mt);if(Ut){if(Ut.get)return I(Ut.get);if(typeof Ut.value=="function")return I(Ut.value)}gt=n(gt)}function Nt(){return null}return a(Nt,"fallbackValue"),Nt}a(D,"lookupGetter");let X=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),B=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Q=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),le=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),J=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ie=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),re=s(["#text"]),Z=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Y=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ue=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ae=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ae=o(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ke=o(/<%[\w\W]*|[\w\W]*%>/gm),Ie=o(/\${[\w\W]*}/gm),$e=o(/^data-[\-\w.\u00B7-\uFFFF]/),Xe=o(/^aria-[\-\w]+$/),He=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ne=o(/^(?:\w+script|data):/i),_e=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Me=o(/^html$/i),Ee=o(/^[a-z][.\w]*(-[.\w]+)+$/i);var Oe=Object.freeze({__proto__:null,MUSTACHE_EXPR:ae,ERB_EXPR:Ke,TMPLIT_EXPR:Ie,DATA_ATTR:$e,ARIA_ATTR:Xe,IS_ALLOWED_URI:He,IS_SCRIPT_OR_DATA:Ne,ATTR_WHITESPACE:_e,DOCTYPE_NAME:Me,CUSTOM_ELEMENT:Ee});let at=a(function(){return typeof window>"u"?null:window},"getGlobal"),pe=a(function(mt,Nt){if(typeof mt!="object"||typeof mt.createPolicy!="function")return null;let Ut=null,Gt="data-tt-policy-suffix";Nt&&Nt.hasAttribute(Gt)&&(Ut=Nt.getAttribute(Gt));let Lt="dompurify"+(Ut?"#"+Ut:"");try{return mt.createPolicy(Lt,{createHTML(st){return st},createScriptURL(st){return st}})}catch{return console.warn("TrustedTypes policy "+Lt+" could not be created."),null}},"_createTrustedTypesPolicy");function Bt(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at(),mt=a(br=>Bt(br),"DOMPurify");if(mt.version="3.1.2",mt.removed=[],!gt||!gt.document||gt.document.nodeType!==9)return mt.isSupported=!1,mt;let{document:Nt}=gt,Ut=Nt,Gt=Ut.currentScript,{DocumentFragment:Lt,HTMLTemplateElement:st,Node:De,Element:Ge,NodeFilter:Ye,NamedNodeMap:Le=gt.NamedNodeMap||gt.MozNamedAttrMap,HTMLFormElement:je,DOMParser:Je,trustedTypes:ct}=gt,Br=Ge.prototype,qt=D(Br,"cloneNode"),Yt=D(Br,"nextSibling"),Jt=D(Br,"childNodes"),rr=D(Br,"parentNode");if(typeof st=="function"){let br=Nt.createElement("template");br.content&&br.content.ownerDocument&&(Nt=br.content.ownerDocument)}let Ht,yt="",{implementation:Fr,createNodeIterator:tr,createDocumentFragment:Qi,getElementsByTagName:pa}=Nt,{importNode:li}=Ut,In={};mt.isSupported=typeof e=="function"&&typeof rr=="function"&&Fr&&Fr.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Rr,ERB_EXPR:_n,TMPLIT_EXPR:er,DATA_ATTR:on,ARIA_ATTR:ni,IS_SCRIPT_OR_DATA:Or,ATTR_WHITESPACE:Pr,CUSTOM_ELEMENT:Ir}=Oe,{IS_ALLOWED_URI:wi}=Oe,ir=null,ma=G({},[...X,...B,...Q,...J,...re]),Lr=null,ln=G({},[...Z,...Y,...ue,...Ae]),Bn=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ga=null,Zi=null,Oa=!0,ii=!0,rs=!1,Pa=!0,Ba=!1,ya=!0,Ea=!1,bh=!1,Af=!1,ql=!1,co=!1,fr=!1,Cr=!0,zr=!1,Xt="user-content-",Fn=!0,Re=!1,bs={},Fe=null,Ji=G({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Lf=null,Du=G({},["audio","video","img","source","image","track"]),Df=null,Ru=G({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ul="http://www.w3.org/1998/Math/MathML",Mi="http://www.w3.org/2000/svg",Ti="http://www.w3.org/1999/xhtml",ho=Ti,kh=!1,vl=null,Ry=G({},[Ul,Mi,Ti],E),wh=null,Ca=["application/xhtml+xml","text/html"],a0="text/html",ui=null,Ui=null,dm=255,Ec=Nt.createElement("form"),Hl=a(function(Ze){return Ze instanceof RegExp||Ze instanceof Function},"isRegexOrFunction"),Wl=a(function(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ui&&Ui===Ze)){if((!Ze||typeof Ze!="object")&&(Ze={}),Ze=j(Ze),wh=Ca.indexOf(Ze.PARSER_MEDIA_TYPE)===-1?a0:Ze.PARSER_MEDIA_TYPE,ui=wh==="application/xhtml+xml"?E:k,ir=V(Ze,"ALLOWED_TAGS")?G({},Ze.ALLOWED_TAGS,ui):ma,Lr=V(Ze,"ALLOWED_ATTR")?G({},Ze.ALLOWED_ATTR,ui):ln,vl=V(Ze,"ALLOWED_NAMESPACES")?G({},Ze.ALLOWED_NAMESPACES,E):Ry,Df=V(Ze,"ADD_URI_SAFE_ATTR")?G(j(Ru),Ze.ADD_URI_SAFE_ATTR,ui):Ru,Lf=V(Ze,"ADD_DATA_URI_TAGS")?G(j(Du),Ze.ADD_DATA_URI_TAGS,ui):Du,Fe=V(Ze,"FORBID_CONTENTS")?G({},Ze.FORBID_CONTENTS,ui):Ji,ga=V(Ze,"FORBID_TAGS")?G({},Ze.FORBID_TAGS,ui):{},Zi=V(Ze,"FORBID_ATTR")?G({},Ze.FORBID_ATTR,ui):{},bs=V(Ze,"USE_PROFILES")?Ze.USE_PROFILES:!1,Oa=Ze.ALLOW_ARIA_ATTR!==!1,ii=Ze.ALLOW_DATA_ATTR!==!1,rs=Ze.ALLOW_UNKNOWN_PROTOCOLS||!1,Pa=Ze.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ba=Ze.SAFE_FOR_TEMPLATES||!1,ya=Ze.SAFE_FOR_XML!==!1,Ea=Ze.WHOLE_DOCUMENT||!1,ql=Ze.RETURN_DOM||!1,co=Ze.RETURN_DOM_FRAGMENT||!1,fr=Ze.RETURN_TRUSTED_TYPE||!1,Af=Ze.FORCE_BODY||!1,Cr=Ze.SANITIZE_DOM!==!1,zr=Ze.SANITIZE_NAMED_PROPS||!1,Fn=Ze.KEEP_CONTENT!==!1,Re=Ze.IN_PLACE||!1,wi=Ze.ALLOWED_URI_REGEXP||He,ho=Ze.NAMESPACE||Ti,Bn=Ze.CUSTOM_ELEMENT_HANDLING||{},Ze.CUSTOM_ELEMENT_HANDLING&&Hl(Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Bn.tagNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&Hl(Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Bn.attributeNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&typeof Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Bn.allowCustomizedBuiltInElements=Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ba&&(ii=!1),co&&(ql=!0),bs&&(ir=G({},re),Lr=[],bs.html===!0&&(G(ir,X),G(Lr,Z)),bs.svg===!0&&(G(ir,B),G(Lr,Y),G(Lr,Ae)),bs.svgFilters===!0&&(G(ir,Q),G(Lr,Y),G(Lr,Ae)),bs.mathMl===!0&&(G(ir,J),G(Lr,ue),G(Lr,Ae))),Ze.ADD_TAGS&&(ir===ma&&(ir=j(ir)),G(ir,Ze.ADD_TAGS,ui)),Ze.ADD_ATTR&&(Lr===ln&&(Lr=j(Lr)),G(Lr,Ze.ADD_ATTR,ui)),Ze.ADD_URI_SAFE_ATTR&&G(Df,Ze.ADD_URI_SAFE_ATTR,ui),Ze.FORBID_CONTENTS&&(Fe===Ji&&(Fe=j(Fe)),G(Fe,Ze.FORBID_CONTENTS,ui)),Fn&&(ir["#text"]=!0),Ea&&G(ir,["html","head","body"]),ir.table&&(G(ir,["tbody"]),delete ga.tbody),Ze.TRUSTED_TYPES_POLICY){if(typeof Ze.TRUSTED_TYPES_POLICY.createHTML!="function")throw O('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ze.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw O('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ht=Ze.TRUSTED_TYPES_POLICY,yt=Ht.createHTML("")}else Ht===void 0&&(Ht=pe(ct,Gt)),Ht!==null&&typeof yt=="string"&&(yt=Ht.createHTML(""));s&&s(Ze),Ui=Ze}},"_parseConfig"),Mn=G({},["mi","mo","mn","ms","mtext"]),Rf=G({},["foreignobject","annotation-xml"]),An=G({},["title","style","font","a","script"]),If=G({},[...B,...Q,...le]),pi=G({},[...J,...ie]),Q7=a(function(Ze){let zt=rr(Ze);(!zt||!zt.tagName)&&(zt={namespaceURI:ho,tagName:"template"});let dr=k(Ze.tagName),Kr=k(zt.tagName);return vl[Ze.namespaceURI]?Ze.namespaceURI===Mi?zt.namespaceURI===Ti?dr==="svg":zt.namespaceURI===Ul?dr==="svg"&&(Kr==="annotation-xml"||Mn[Kr]):!!If[dr]:Ze.namespaceURI===Ul?zt.namespaceURI===Ti?dr==="math":zt.namespaceURI===Mi?dr==="math"&&Rf[Kr]:!!pi[dr]:Ze.namespaceURI===Ti?zt.namespaceURI===Mi&&!Rf[Kr]||zt.namespaceURI===Ul&&!Mn[Kr]?!1:!pi[dr]&&(An[dr]||!If[dr]):!!(wh==="application/xhtml+xml"&&vl[Ze.namespaceURI]):!1},"_checkValidNamespace"),Bo=a(function(Ze){x(mt.removed,{element:Ze});try{Ze.parentNode.removeChild(Ze)}catch{Ze.remove()}},"_forceRemove"),Iy=a(function(Ze,zt){try{x(mt.removed,{attribute:zt.getAttributeNode(Ze),from:zt})}catch{x(mt.removed,{attribute:null,from:zt})}if(zt.removeAttribute(Ze),Ze==="is"&&!Lr[Ze])if(ql||co)try{Bo(zt)}catch{}else try{zt.setAttribute(Ze,"")}catch{}},"_removeAttribute"),My=a(function(Ze){let zt=null,dr=null;if(Af)Ze="<remove></remove>"+Ze;else{let ea=_(Ze,/^[\r\n\t ]+/);dr=ea&&ea[0]}wh==="application/xhtml+xml"&&ho===Ti&&(Ze='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ze+"</body></html>");let Kr=Ht?Ht.createHTML(Ze):Ze;if(ho===Ti)try{zt=new Je().parseFromString(Kr,wh)}catch{}if(!zt||!zt.documentElement){zt=Fr.createDocument(ho,"template",null);try{zt.documentElement.innerHTML=kh?yt:Kr}catch{}}let ns=zt.body||zt.documentElement;return Ze&&dr&&ns.insertBefore(Nt.createTextNode(dr),ns.childNodes[0]||null),ho===Ti?pa.call(zt,Ea?"html":"body")[0]:Ea?zt.documentElement:ns},"_initDocument"),Sa=a(function(Ze){return tr.call(Ze.ownerDocument||Ze,Ze,Ye.SHOW_ELEMENT|Ye.SHOW_COMMENT|Ye.SHOW_TEXT|Ye.SHOW_PROCESSING_INSTRUCTION|Ye.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),Cc=a(function(Ze){return Ze instanceof je&&(typeof Ze.__depth<"u"&&typeof Ze.__depth!="number"||typeof Ze.__removalCount<"u"&&typeof Ze.__removalCount!="number"||typeof Ze.nodeName!="string"||typeof Ze.textContent!="string"||typeof Ze.removeChild!="function"||!(Ze.attributes instanceof Le)||typeof Ze.removeAttribute!="function"||typeof Ze.setAttribute!="function"||typeof Ze.namespaceURI!="string"||typeof Ze.insertBefore!="function"||typeof Ze.hasChildNodes!="function")},"_isClobbered"),pm=a(function(Ze){return typeof De=="function"&&Ze instanceof De},"_isNode"),Iu=a(function(Ze,zt,dr){In[Ze]&&g(In[Ze],Kr=>{Kr.call(mt,zt,dr,Ui)})},"_executeHook"),Fo=a(function(Ze){let zt=null;if(Iu("beforeSanitizeElements",Ze,null),Cc(Ze))return Bo(Ze),!0;let dr=ui(Ze.nodeName);if(Iu("uponSanitizeElement",Ze,{tagName:dr,allowedTags:ir}),Ze.hasChildNodes()&&!pm(Ze.firstElementChild)&&H(/<[/\w]/g,Ze.innerHTML)&&H(/<[/\w]/g,Ze.textContent)||Ze.nodeType===7||ya&&Ze.nodeType===8&&H(/<[/\w]/g,Ze.data))return Bo(Ze),!0;if(!ir[dr]||ga[dr]){if(!ga[dr]&&p4(dr)&&(Bn.tagNameCheck instanceof RegExp&&H(Bn.tagNameCheck,dr)||Bn.tagNameCheck instanceof Function&&Bn.tagNameCheck(dr)))return!1;if(Fn&&!Fe[dr]){let Kr=rr(Ze)||Ze.parentNode,ns=Jt(Ze)||Ze.childNodes;if(ns&&Kr){let ea=ns.length;for(let Hs=ea-1;Hs>=0;--Hs){let Ws=qt(ns[Hs],!0);Ws.__removalCount=(Ze.__removalCount||0)+1,Kr.insertBefore(Ws,Yt(Ze))}}}return Bo(Ze),!0}return Ze instanceof Ge&&!Q7(Ze)||(dr==="noscript"||dr==="noembed"||dr==="noframes")&&H(/<\/no(script|embed|frames)/i,Ze.innerHTML)?(Bo(Ze),!0):(Ba&&Ze.nodeType===3&&(zt=Ze.textContent,g([Rr,_n,er],Kr=>{zt=N(zt,Kr," ")}),Ze.textContent!==zt&&(x(mt.removed,{element:Ze.cloneNode()}),Ze.textContent=zt)),Iu("afterSanitizeElements",Ze,null),!1)},"_sanitizeElements"),Mu=a(function(Ze,zt,dr){if(Cr&&(zt==="id"||zt==="name")&&(dr in Nt||dr in Ec))return!1;if(!(ii&&!Zi[zt]&&H(on,zt))){if(!(Oa&&H(ni,zt))){if(!Lr[zt]||Zi[zt]){if(!(p4(Ze)&&(Bn.tagNameCheck instanceof RegExp&&H(Bn.tagNameCheck,Ze)||Bn.tagNameCheck instanceof Function&&Bn.tagNameCheck(Ze))&&(Bn.attributeNameCheck instanceof RegExp&&H(Bn.attributeNameCheck,zt)||Bn.attributeNameCheck instanceof Function&&Bn.attributeNameCheck(zt))||zt==="is"&&Bn.allowCustomizedBuiltInElements&&(Bn.tagNameCheck instanceof RegExp&&H(Bn.tagNameCheck,dr)||Bn.tagNameCheck instanceof Function&&Bn.tagNameCheck(dr))))return!1}else if(!Df[zt]){if(!H(wi,N(dr,Pr,""))){if(!((zt==="src"||zt==="xlink:href"||zt==="href")&&Ze!=="script"&&M(dr,"data:")===0&&Lf[Ze])){if(!(rs&&!H(Or,N(dr,Pr,"")))){if(dr)return!1}}}}}}return!0},"_isValidAttribute"),p4=a(function(Ze){return Ze!=="annotation-xml"&&_(Ze,Ir)},"_isBasicCustomElement"),xl=a(function(Ze){Iu("beforeSanitizeAttributes",Ze,null);let{attributes:zt}=Ze;if(!zt)return;let dr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Lr},Kr=zt.length;for(;Kr--;){let ns=zt[Kr],{name:ea,namespaceURI:Hs,value:Ws}=ns,s0=ui(ea),Ys=ea==="value"?Ws:P(Ws);if(dr.attrName=s0,dr.attrValue=Ys,dr.keepAttr=!0,dr.forceKeepAttr=void 0,Iu("uponSanitizeAttribute",Ze,dr),Ys=dr.attrValue,dr.forceKeepAttr||(Iy(ea,Ze),!dr.keepAttr))continue;if(!Pa&&H(/\/>/i,Ys)){Iy(ea,Ze);continue}Ba&&g([Rr,_n,er],g4=>{Ys=N(Ys,g4," ")});let m4=ui(Ze.nodeName);if(Mu(m4,s0,Ys)){if(zr&&(s0==="id"||s0==="name")&&(Iy(ea,Ze),Ys=Xt+Ys),Ht&&typeof ct=="object"&&typeof ct.getAttributeType=="function"&&!Hs)switch(ct.getAttributeType(m4,s0)){case"TrustedHTML":{Ys=Ht.createHTML(Ys);break}case"TrustedScriptURL":{Ys=Ht.createScriptURL(Ys);break}}try{Hs?Ze.setAttributeNS(Hs,ea,Ys):Ze.setAttribute(ea,Ys),v(mt.removed)}catch{}}}Iu("afterSanitizeAttributes",Ze,null)},"_sanitizeAttributes"),Z7=a(function br(Ze){let zt=null,dr=Sa(Ze);for(Iu("beforeSanitizeShadowDOM",Ze,null);zt=dr.nextNode();){if(Iu("uponSanitizeShadowNode",zt,null),Fo(zt))continue;let Kr=rr(zt);zt.nodeType===1&&(Kr&&Kr.__depth?zt.__depth=(zt.__removalCount||0)+Kr.__depth+1:zt.__depth=1),zt.__depth>=dm&&Bo(zt),zt.content instanceof Lt&&(zt.content.__depth=zt.__depth,br(zt.content)),xl(zt)}Iu("afterSanitizeShadowDOM",Ze,null)},"_sanitizeShadowDOM");return mt.sanitize=function(br){let Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},zt=null,dr=null,Kr=null,ns=null;if(kh=!br,kh&&(br="<!-->"),typeof br!="string"&&!pm(br))if(typeof br.toString=="function"){if(br=br.toString(),typeof br!="string")throw O("dirty is not a string, aborting")}else throw O("toString is not a function");if(!mt.isSupported)return br;if(bh||Wl(Ze),mt.removed=[],typeof br=="string"&&(Re=!1),Re){if(br.nodeName){let Ws=ui(br.nodeName);if(!ir[Ws]||ga[Ws])throw O("root node is forbidden and cannot be sanitized in-place")}}else if(br instanceof De)zt=My("<!---->"),dr=zt.ownerDocument.importNode(br,!0),dr.nodeType===1&&dr.nodeName==="BODY"||dr.nodeName==="HTML"?zt=dr:zt.appendChild(dr);else{if(!ql&&!Ba&&!Ea&&br.indexOf("<")===-1)return Ht&&fr?Ht.createHTML(br):br;if(zt=My(br),!zt)return ql?null:fr?yt:""}zt&&Af&&Bo(zt.firstChild);let ea=Sa(Re?br:zt);for(;Kr=ea.nextNode();){if(Fo(Kr))continue;let Ws=rr(Kr);Kr.nodeType===1&&(Ws&&Ws.__depth?Kr.__depth=(Kr.__removalCount||0)+Ws.__depth+1:Kr.__depth=1),Kr.__depth>=dm&&Bo(Kr),Kr.content instanceof Lt&&(Kr.content.__depth=Kr.__depth,Z7(Kr.content)),xl(Kr)}if(Re)return br;if(ql){if(co)for(ns=Qi.call(zt.ownerDocument);zt.firstChild;)ns.appendChild(zt.firstChild);else ns=zt;return(Lr.shadowroot||Lr.shadowrootmode)&&(ns=li.call(Ut,ns,!0)),ns}let Hs=Ea?zt.outerHTML:zt.innerHTML;return Ea&&ir["!doctype"]&&zt.ownerDocument&&zt.ownerDocument.doctype&&zt.ownerDocument.doctype.name&&H(Me,zt.ownerDocument.doctype.name)&&(Hs="<!DOCTYPE "+zt.ownerDocument.doctype.name+`>
`+Hs),Ba&&g([Rr,_n,er],Ws=>{Hs=N(Hs,Ws," ")}),Ht&&fr?Ht.createHTML(Hs):Hs},mt.setConfig=function(){let br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Wl(br),bh=!0},mt.clearConfig=function(){Ui=null,bh=!1},mt.isValidAttribute=function(br,Ze,zt){Ui||Wl({});let dr=ui(br),Kr=ui(Ze);return Mu(dr,Kr,zt)},mt.addHook=function(br,Ze){typeof Ze=="function"&&(In[br]=In[br]||[],x(In[br],Ze))},mt.removeHook=function(br){if(In[br])return v(In[br])},mt.removeHooks=function(br){In[br]&&(In[br]=[])},mt.removeAllHooks=function(){In={}},mt}a(Bt,"createDOMPurify");var Pe=Bt();return Pe})});var zW={};Hr(zW,{default:()=>_7e});function $Te(e){return String(e).replace(zTe,t=>FTe[t])}function UTe(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function QTe(e){for(var t=0;t<kA.length;t++)for(var r=kA[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}function HH(e){for(var t=0;t<z5.length;t+=2)if(e>=z5[t]&&e<=z5[t+1])return!0;return!1}function lEe(e,t){Fc[e]=t}function NA(e,t,r){if(!Fc[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=Fc[t][n];if(!i&&e[0]in pH&&(n=pH[e[0]].charCodeAt(0),i=Fc[t][n]),!i&&r==="text"&&HH(n)&&(i=Fc[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}function uEe(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!uA[t]){var r=uA[t]={cssEmPerMu:_5.quad[t]/18};for(var n in _5)_5.hasOwnProperty(n)&&(r[n]=_5[n][t])}return uA[t]}function yH(e){if(e instanceof Wo)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function dEe(e){if(e instanceof z0)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}function W(e,t,r,n,i,s){Si[e][i]={font:t,group:r,replace:n},s&&n&&(Si[e][n]=Si[e][i])}function nr(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:o}=e,u={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},h=0;h<r.length;++h)tW[r[h]]=u;t&&(s&&(q5[t]=s),o&&(U5[t]=o))}function $0(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;nr({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}function N5(e,t){var r=qh(["base"],e,t),n=qh(["strut"]);return n.style.height=Kt(r.height+r.depth),r.depth&&(n.style.verticalAlign=Kt(-r.depth)),r.children.unshift(n),r}function SA(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=Ga(e,t,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var s=[],o=[],u=0;u<n.length;u++)if(o.push(n[u]),n[u].hasClass("mbin")||n[u].hasClass("mrel")||n[u].hasClass("allowbreak")){for(var h=!1;u<n.length-1&&n[u+1].hasClass("mspace")&&!n[u+1].hasClass("newline");)u++,o.push(n[u]),n[u].hasClass("nobreak")&&(h=!0);h||(s.push(N5(o,t)),o=[])}else n[u].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(N5(o,t)),o=[]),s.push(n[u]));o.length>0&&s.push(N5(o,t));var p;r?(p=N5(Ga(r,t,!0)),p.classes=["tag"],s.push(p)):i&&s.push(i);var g=qh(["katex-html"],s);if(g.setAttribute("aria-hidden","true"),p){var v=p.children[0];v.style.height=Kt(g.height+g.depth),g.depth&&(v.style.verticalAlign=Kt(-g.depth))}return g}function nW(e){return new F0(e)}function wH(e,t,r,n,i){var s=Yo(e,r),o;s.length===1&&s[0]instanceof Ho&&Dr.contains(["mrow","mtable"],s[0].type)?o=s[0]:o=new $t.MathNode("mrow",s);var u=new $t.MathNode("annotation",[new $t.TextNode(t)]);u.setAttribute("encoding","application/x-tex");var h=new $t.MathNode("semantics",[o,u]),p=new $t.MathNode("math",[h]);p.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&p.setAttribute("display","block");var g=i?"katex":"katex-mathml";return ot.makeSpan([g],[p])}function dn(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function FA(e){var t=K5(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function K5(e){return e&&(e.type==="atom"||mEe.hasOwnProperty(e.type))?e:null}function oW(e,t){var r=Ga(e.body,t,!0);return HEe([e.mclass],r,t)}function lW(e,t){var r,n=Yo(e.body,t);return e.mclass==="minner"?r=new $t.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new $t.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new $t.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}function XEe(e,t,r){var n=WEe[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[t[0]],[]),s={type:"atom",text:n,mode:"math",family:"rel"},o=r.callFunction("\\Big",[s],[]),u=r.callFunction("\\\\cdright",[t[1]],[]),h={type:"ordgroup",mode:"math",body:[i,o,u]};return r.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var p={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[p],[])}default:return{type:"textord",text:" ",mode:"math"}}}function jEe(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new Vt("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],i=[n],s=0;s<t.length;s++){for(var o=t[s],u=TH(),h=0;h<o.length;h++)if(!EH(o[h]))u.body.push(o[h]);else{n.push(u),h+=1;var p=FA(o[h]).text,g=new Array(2);if(g[0]={type:"ordgroup",mode:"math",body:[]},g[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(p)>-1))if("<>AV".indexOf(p)>-1)for(var v=0;v<2;v++){for(var x=!0,k=h+1;k<o.length;k++){if(YEe(o[k],p)){x=!1,h=k;break}if(EH(o[k]))throw new Vt("Missing a "+p+" character to complete a CD arrow.",o[k]);g[v].body.push(o[k])}if(x)throw new Vt("Missing a "+p+" character to complete a CD arrow.",o[h])}else throw new Vt('Expected one of "<>AV=|." after @',o[h]);var E=XEe(p,g,e),_={type:"styling",body:[E],mode:"math",style:"display"};n.push(_),u=TH()}s%2===0?n.push(u):n.shift(),n=[],i.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var N=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:N,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}function Z5(e,t){var r=K5(e);if(r&&Dr.contains(l7e,r.text))return r;throw r?new Vt("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new Vt("Invalid delimiter type '"+e.type+"'",e)}function SH(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function $c(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:o}=e,u={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},h=0;h<r.length;++h)kW[r[h]]=u;s&&(q5[t]=s),o&&(U5[t]=o)}function ge(e,t){wW[e]=t}function _H(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}function qA(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function ad(e,t,r){var{hskipBeforeAndAfter:n,addJot:i,cols:s,arraystretch:o,colSeparationType:u,autoTag:h,singleRow:p,emptySingleRow:g,maxNumCols:v,leqno:x}=t;if(e.gullet.beginGroup(),p||e.gullet.macros.set("\\cr","\\\\\\relax"),!o){var k=e.gullet.expandMacroAsText("\\arraystretch");if(k==null)o=1;else if(o=parseFloat(k),!o||o<0)throw new Vt("Invalid \\arraystretch: "+k)}e.gullet.beginGroup();var E=[],_=[E],N=[],M=[],P=h!=null?[]:void 0;function V(){h&&e.gullet.macros.set("\\@eqnsw","1",!0)}a(V,"beginRow");function H(){P&&(e.gullet.macros.get("\\df@tag")?(P.push(e.subparse([new tu("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):P.push(!!h&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(a(H,"endRow"),V(),M.push(_H(e));;){var O=e.parseExpression(!1,p?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),O={type:"ordgroup",mode:e.mode,body:O},r&&(O={type:"styling",mode:e.mode,style:r,body:[O]}),E.push(O);var I=e.fetch().text;if(I==="&"){if(v&&E.length===v){if(p||u)throw new Vt("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(I==="\\end"){H(),E.length===1&&O.type==="styling"&&O.body[0].body.length===0&&(_.length>1||!g)&&_.pop(),M.length<_.length+1&&M.push([]);break}else if(I==="\\\\"){e.consume();var z=void 0;e.gullet.future().text!==" "&&(z=e.parseSizeGroup(!0)),N.push(z?z.value:null),H(),M.push(_H(e)),E=[],_.push(E),V()}else throw new Vt("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:o,body:_,cols:s,rowGaps:N,hskipBeforeAndAfter:n,hLinesBeforeRow:M,colSeparationType:u,tags:P,leqno:x}}function UA(e){return e.slice(0,1)==="d"?"display":"text"}function RW(e,t,r){for(var n=Ga(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,s=0;s<n.length;s++){var o=n[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[s].classes,t.sizingClasses(r)):n[s].classes[o+1]==="reset-size"+t.size&&(n[s].classes[o+1]="reset-size"+r.size),n[s].height*=i,n[s].depth*=i}return ot.makeFragment(n)}var Cl,tu,Vt,NTe,OTe,PTe,BTe,FTe,zTe,UH,GTe,VTe,qTe,Dr,F5,Qv,Pc,MA,$5,hg,Gh,Zv,eu,fg,yo,Bc,HTe,WTe,YTe,XTe,jTe,KTe,Nr,kA,z5,cg,ZTe,JTe,eEe,tEe,rEe,nEe,iEe,aEe,sEe,dH,oEe,F0,Fc,_5,pH,uA,cEe,mH,gH,G5,wA,hEe,WH,Yi,Kt,nd,YH,XH,jH,z0,Jv,TA,fEe,Wo,Qu,zc,e2,pEe,mEe,Si,te,Ft,he,Be,Fi,sr,vo,dg,Mr,_a,Sl,X5,ze,Hh,Qe,KH,vH,cA,A5,xH,hA,L5,V5,Yv,D5,Gr,Hi,to,zh,td,EA,Xv,R5,I5,bH,gEe,j5,Ku,yEe,vEe,xEe,bEe,kEe,OA,Uo,QH,wEe,TEe,ZH,EEe,CEe,SEe,_Ee,M5,JH,eW,AEe,ot,Wi,P0,$h,LEe,DEe,tW,q5,U5,H5,va,qh,REe,IEe,MEe,NEe,Ga,kH,rW,OEe,CA,t2,Gn,Ho,B0,_A,$t,ru,PA,BA,Yo,id,gi,iW,aW,PEe,BEe,FEe,zEe,$Ee,GEe,VEe,qEe,Uh,zA,sW,UEe,O5,HEe,Q5,WEe,TH,EH,YEe,uW,cW,AA,hW,KEe,fW,jv,$A,dW,QEe,ZEe,pW,fA,dA,LA,P5,JEe,e7e,mW,pA,mA,gA,t7e,gW,r7e,yW,Kv,n7e,i7e,a7e,vW,s7e,xW,bW,o7e,Vh,CH,l7e,GA,VA,kW,wW,J5,Gc,u7e,Vc,TW,AH,EW,CW,LH,SW,HA,WA,DH,RH,_W,c7e,yA,IH,AW,LW,pg,r2,h7e,f7e,DW,d7e,MH,p7e,NH,m7e,IW,vA,xA,OH,PH,BH,g7e,FH,zH,rd,MW,y7e,v7e,x7e,b7e,DA,k7e,w7e,W5,RA,T7e,$H,YA,GH,XA,NW,OW,PW,IA,VH,B5,bA,qH,Y5,jA,BW,E7e,C7e,FW,KA,S7e,_7e,$W=L(()=>{"use strict";Cl=class e{static{a(this,"SourceLocation")}constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new e(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}},tu=class e{static{a(this,"Token")}constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new e(r,Cl.range(this,t))}},Vt=class e{static{a(this,"ParseError")}constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,i,s,o=r&&r.loc;if(o&&o.start<=o.end){var u=o.lexer.input;i=o.start,s=o.end,i===u.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var h=u.slice(i,s).replace(/[^]/g,"$&\u0332"),p;i>15?p="\u2026"+u.slice(i-15,i):p=u.slice(0,i);var g;s+15<u.length?g=u.slice(s,s+15)+"\u2026":g=u.slice(s),n+=p+h+g}var v=new Error(n);return v.name="ParseError",v.__proto__=e.prototype,v.position=i,i!=null&&s!=null&&(v.length=s-i),v.rawMessage=t,v}};Vt.prototype.__proto__=Error.prototype;NTe=a(function(t,r){return t.indexOf(r)!==-1},"contains"),OTe=a(function(t,r){return t===void 0?r:t},"deflt"),PTe=/([A-Z])/g,BTe=a(function(t){return t.replace(PTe,"-$1").toLowerCase()},"hyphenate"),FTe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},zTe=/[&><"']/g;a($Te,"escape");UH=a(function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},"getBaseElem"),GTe=a(function(t){var r=UH(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},"isCharacterBox"),VTe=a(function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},"assert"),qTe=a(function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},"protocolFromUrl"),Dr={contains:NTe,deflt:OTe,escape:$Te,hyphenate:BTe,getBaseElem:UH,isCharacterBox:GTe,protocolFromUrl:qTe},F5={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};a(UTe,"getDefaultValue");Qv=class{static{a(this,"Settings")}constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in F5)if(F5.hasOwnProperty(r)){var n=F5[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:UTe(n)}}reportNonstrict(t,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(t,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Vt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var i=this.strict;if(typeof i=="function")try{i=i(t,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=Dr.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}},Pc=class{static{a(this,"Style")}constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return Bc[HTe[this.id]]}sub(){return Bc[WTe[this.id]]}fracNum(){return Bc[YTe[this.id]]}fracDen(){return Bc[XTe[this.id]]}cramp(){return Bc[jTe[this.id]]}text(){return Bc[KTe[this.id]]}isTight(){return this.size>=2}},MA=0,$5=1,hg=2,Gh=3,Zv=4,eu=5,fg=6,yo=7,Bc=[new Pc(MA,0,!1),new Pc($5,0,!0),new Pc(hg,1,!1),new Pc(Gh,1,!0),new Pc(Zv,2,!1),new Pc(eu,2,!0),new Pc(fg,3,!1),new Pc(yo,3,!0)],HTe=[Zv,eu,Zv,eu,fg,yo,fg,yo],WTe=[eu,eu,eu,eu,yo,yo,yo,yo],YTe=[hg,Gh,Zv,eu,fg,yo,fg,yo],XTe=[Gh,Gh,eu,eu,yo,yo,yo,yo],jTe=[$5,$5,Gh,Gh,eu,eu,yo,yo],KTe=[MA,$5,hg,Gh,hg,Gh,hg,Gh],Nr={DISPLAY:Bc[MA],TEXT:Bc[hg],SCRIPT:Bc[Zv],SCRIPTSCRIPT:Bc[fg]},kA=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];a(QTe,"scriptFromCodepoint");z5=[];kA.forEach(e=>e.blocks.forEach(t=>z5.push(...t)));a(HH,"supportedCodepoint");cg=80,ZTe=a(function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtMain"),JTe=a(function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtSize1"),eEe=a(function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtSize2"),tEe=a(function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},"sqrtSize3"),rEe=a(function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},"sqrtSize4"),nEe=a(function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},"phasePath"),iEe=a(function(t,r,n){var i=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},"sqrtTall"),aEe=a(function(t,r,n){r=1e3*r;var i="";switch(t){case"sqrtMain":i=ZTe(r,cg);break;case"sqrtSize1":i=JTe(r,cg);break;case"sqrtSize2":i=eEe(r,cg);break;case"sqrtSize3":i=tEe(r,cg);break;case"sqrtSize4":i=rEe(r,cg);break;case"sqrtTall":i=iEe(r,cg,n)}return i},"sqrtPath"),sEe=a(function(t,r){switch(t){case"\u239C":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"\u2223":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"\u2225":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"\u239F":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"\u23A2":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"\u23A5":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"\u23AA":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"\u23D0":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"\u2016":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},"innerPath"),dH={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},oEe=a(function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim"),F0=class{static{a(this,"DocumentFragment")}constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return Dr.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=a(r=>r.toText(),"toText");return this.children.map(t).join("")}},Fc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},_5={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},pH={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};a(lEe,"setFontMetrics");a(NA,"getCharacterMetrics");uA={};a(uEe,"getGlobalMetrics");cEe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],mH=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],gH=a(function(t,r){return r.size<2?t:cEe[t-1][r.size-1]},"sizeAtStyle"),G5=class e{static{a(this,"Options")}constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=mH[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new e(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:gH(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:mH[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=gH(e.BASESIZE,t);return this.size===r&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=uEe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};G5.BASESIZE=6;wA={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},hEe={ex:!0,em:!0,mu:!0},WH=a(function(t){return typeof t!="string"&&(t=t.unit),t in wA||t in hEe||t==="ex"},"validUnit"),Yi=a(function(t,r){var n;if(t.unit in wA)n=wA[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,t.unit==="ex")n=i.fontMetrics().xHeight;else if(t.unit==="em")n=i.fontMetrics().quad;else throw new Vt("Invalid unit: '"+t.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},"calculateSize"),Kt=a(function(t){return+t.toFixed(4)+"em"},"makeEm"),nd=a(function(t){return t.filter(r=>r).join(" ")},"createClass"),YH=a(function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},"initNode"),XH=a(function(t){var r=document.createElement(t);r.className=nd(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r},"toNode"),jH=a(function(t){var r="<"+t;this.classes.length&&(r+=' class="'+Dr.escape(nd(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Dr.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+Dr.escape(n)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(r+=" "+s+'="'+Dr.escape(this.attributes[s])+'"');r+=">";for(var o=0;o<this.children.length;o++)r+=this.children[o].toMarkup();return r+="</"+t+">",r},"toMarkup"),z0=class{static{a(this,"Span")}constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,YH.call(this,t,n,i),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return Dr.contains(this.classes,t)}toNode(){return XH.call(this,"span")}toMarkup(){return jH.call(this,"span")}},Jv=class{static{a(this,"Anchor")}constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,YH.call(this,r,i),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return Dr.contains(this.classes,t)}toNode(){return XH.call(this,"a")}toMarkup(){return jH.call(this,"a")}},TA=class{static{a(this,"Img")}constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return Dr.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+Dr.escape(this.src)+'"'+(' alt="'+Dr.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Dr.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+Dr.escape(r)+'"'),t+="'/>",t}},fEe={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"},Wo=class{static{a(this,"SymbolNode")}constructor(t,r,n,i,s,o,u,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=u||[],this.style=h||{},this.maxFontSize=0;var p=QTe(this.text.charCodeAt(0));p&&this.classes.push(p+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=fEe[this.text])}hasClass(t){return Dr.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Kt(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=nd(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=Dr.escape(nd(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Dr.hyphenate(i)+":"+this.style[i]+";");n&&(t=!0,r+=' style="'+Dr.escape(n)+'"');var s=Dr.escape(this.text);return t?(r+=">",r+=s,r+="</span>",r):s}},Qu=class{static{a(this,"SvgNode")}constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+Dr.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}},zc=class{static{a(this,"PathNode")}constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",dH[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Dr.escape(this.alternate)+'"/>':'<path d="'+Dr.escape(dH[this.pathName])+'"/>'}},e2=class{static{a(this,"LineNode")}constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+Dr.escape(this.attributes[r])+'"');return t+="/>",t}};a(yH,"assertSymbolDomNode");a(dEe,"assertSpan");pEe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},mEe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Si={math:{},text:{}};a(W,"defineSymbol");te="math",Ft="text",he="main",Be="ams",Fi="accent-token",sr="bin",vo="close",dg="inner",Mr="mathord",_a="op-token",Sl="open",X5="punct",ze="rel",Hh="spacing",Qe="textord";W(te,he,ze,"\u2261","\\equiv",!0);W(te,he,ze,"\u227A","\\prec",!0);W(te,he,ze,"\u227B","\\succ",!0);W(te,he,ze,"\u223C","\\sim",!0);W(te,he,ze,"\u22A5","\\perp");W(te,he,ze,"\u2AAF","\\preceq",!0);W(te,he,ze,"\u2AB0","\\succeq",!0);W(te,he,ze,"\u2243","\\simeq",!0);W(te,he,ze,"\u2223","\\mid",!0);W(te,he,ze,"\u226A","\\ll",!0);W(te,he,ze,"\u226B","\\gg",!0);W(te,he,ze,"\u224D","\\asymp",!0);W(te,he,ze,"\u2225","\\parallel");W(te,he,ze,"\u22C8","\\bowtie",!0);W(te,he,ze,"\u2323","\\smile",!0);W(te,he,ze,"\u2291","\\sqsubseteq",!0);W(te,he,ze,"\u2292","\\sqsupseteq",!0);W(te,he,ze,"\u2250","\\doteq",!0);W(te,he,ze,"\u2322","\\frown",!0);W(te,he,ze,"\u220B","\\ni",!0);W(te,he,ze,"\u221D","\\propto",!0);W(te,he,ze,"\u22A2","\\vdash",!0);W(te,he,ze,"\u22A3","\\dashv",!0);W(te,he,ze,"\u220B","\\owns");W(te,he,X5,".","\\ldotp");W(te,he,X5,"\u22C5","\\cdotp");W(te,he,Qe,"#","\\#");W(Ft,he,Qe,"#","\\#");W(te,he,Qe,"&","\\&");W(Ft,he,Qe,"&","\\&");W(te,he,Qe,"\u2135","\\aleph",!0);W(te,he,Qe,"\u2200","\\forall",!0);W(te,he,Qe,"\u210F","\\hbar",!0);W(te,he,Qe,"\u2203","\\exists",!0);W(te,he,Qe,"\u2207","\\nabla",!0);W(te,he,Qe,"\u266D","\\flat",!0);W(te,he,Qe,"\u2113","\\ell",!0);W(te,he,Qe,"\u266E","\\natural",!0);W(te,he,Qe,"\u2663","\\clubsuit",!0);W(te,he,Qe,"\u2118","\\wp",!0);W(te,he,Qe,"\u266F","\\sharp",!0);W(te,he,Qe,"\u2662","\\diamondsuit",!0);W(te,he,Qe,"\u211C","\\Re",!0);W(te,he,Qe,"\u2661","\\heartsuit",!0);W(te,he,Qe,"\u2111","\\Im",!0);W(te,he,Qe,"\u2660","\\spadesuit",!0);W(te,he,Qe,"\xA7","\\S",!0);W(Ft,he,Qe,"\xA7","\\S");W(te,he,Qe,"\xB6","\\P",!0);W(Ft,he,Qe,"\xB6","\\P");W(te,he,Qe,"\u2020","\\dag");W(Ft,he,Qe,"\u2020","\\dag");W(Ft,he,Qe,"\u2020","\\textdagger");W(te,he,Qe,"\u2021","\\ddag");W(Ft,he,Qe,"\u2021","\\ddag");W(Ft,he,Qe,"\u2021","\\textdaggerdbl");W(te,he,vo,"\u23B1","\\rmoustache",!0);W(te,he,Sl,"\u23B0","\\lmoustache",!0);W(te,he,vo,"\u27EF","\\rgroup",!0);W(te,he,Sl,"\u27EE","\\lgroup",!0);W(te,he,sr,"\u2213","\\mp",!0);W(te,he,sr,"\u2296","\\ominus",!0);W(te,he,sr,"\u228E","\\uplus",!0);W(te,he,sr,"\u2293","\\sqcap",!0);W(te,he,sr,"\u2217","\\ast");W(te,he,sr,"\u2294","\\sqcup",!0);W(te,he,sr,"\u25EF","\\bigcirc",!0);W(te,he,sr,"\u2219","\\bullet",!0);W(te,he,sr,"\u2021","\\ddagger");W(te,he,sr,"\u2240","\\wr",!0);W(te,he,sr,"\u2A3F","\\amalg");W(te,he,sr,"&","\\And");W(te,he,ze,"\u27F5","\\longleftarrow",!0);W(te,he,ze,"\u21D0","\\Leftarrow",!0);W(te,he,ze,"\u27F8","\\Longleftarrow",!0);W(te,he,ze,"\u27F6","\\longrightarrow",!0);W(te,he,ze,"\u21D2","\\Rightarrow",!0);W(te,he,ze,"\u27F9","\\Longrightarrow",!0);W(te,he,ze,"\u2194","\\leftrightarrow",!0);W(te,he,ze,"\u27F7","\\longleftrightarrow",!0);W(te,he,ze,"\u21D4","\\Leftrightarrow",!0);W(te,he,ze,"\u27FA","\\Longleftrightarrow",!0);W(te,he,ze,"\u21A6","\\mapsto",!0);W(te,he,ze,"\u27FC","\\longmapsto",!0);W(te,he,ze,"\u2197","\\nearrow",!0);W(te,he,ze,"\u21A9","\\hookleftarrow",!0);W(te,he,ze,"\u21AA","\\hookrightarrow",!0);W(te,he,ze,"\u2198","\\searrow",!0);W(te,he,ze,"\u21BC","\\leftharpoonup",!0);W(te,he,ze,"\u21C0","\\rightharpoonup",!0);W(te,he,ze,"\u2199","\\swarrow",!0);W(te,he,ze,"\u21BD","\\leftharpoondown",!0);W(te,he,ze,"\u21C1","\\rightharpoondown",!0);W(te,he,ze,"\u2196","\\nwarrow",!0);W(te,he,ze,"\u21CC","\\rightleftharpoons",!0);W(te,Be,ze,"\u226E","\\nless",!0);W(te,Be,ze,"\uE010","\\@nleqslant");W(te,Be,ze,"\uE011","\\@nleqq");W(te,Be,ze,"\u2A87","\\lneq",!0);W(te,Be,ze,"\u2268","\\lneqq",!0);W(te,Be,ze,"\uE00C","\\@lvertneqq");W(te,Be,ze,"\u22E6","\\lnsim",!0);W(te,Be,ze,"\u2A89","\\lnapprox",!0);W(te,Be,ze,"\u2280","\\nprec",!0);W(te,Be,ze,"\u22E0","\\npreceq",!0);W(te,Be,ze,"\u22E8","\\precnsim",!0);W(te,Be,ze,"\u2AB9","\\precnapprox",!0);W(te,Be,ze,"\u2241","\\nsim",!0);W(te,Be,ze,"\uE006","\\@nshortmid");W(te,Be,ze,"\u2224","\\nmid",!0);W(te,Be,ze,"\u22AC","\\nvdash",!0);W(te,Be,ze,"\u22AD","\\nvDash",!0);W(te,Be,ze,"\u22EA","\\ntriangleleft");W(te,Be,ze,"\u22EC","\\ntrianglelefteq",!0);W(te,Be,ze,"\u228A","\\subsetneq",!0);W(te,Be,ze,"\uE01A","\\@varsubsetneq");W(te,Be,ze,"\u2ACB","\\subsetneqq",!0);W(te,Be,ze,"\uE017","\\@varsubsetneqq");W(te,Be,ze,"\u226F","\\ngtr",!0);W(te,Be,ze,"\uE00F","\\@ngeqslant");W(te,Be,ze,"\uE00E","\\@ngeqq");W(te,Be,ze,"\u2A88","\\gneq",!0);W(te,Be,ze,"\u2269","\\gneqq",!0);W(te,Be,ze,"\uE00D","\\@gvertneqq");W(te,Be,ze,"\u22E7","\\gnsim",!0);W(te,Be,ze,"\u2A8A","\\gnapprox",!0);W(te,Be,ze,"\u2281","\\nsucc",!0);W(te,Be,ze,"\u22E1","\\nsucceq",!0);W(te,Be,ze,"\u22E9","\\succnsim",!0);W(te,Be,ze,"\u2ABA","\\succnapprox",!0);W(te,Be,ze,"\u2246","\\ncong",!0);W(te,Be,ze,"\uE007","\\@nshortparallel");W(te,Be,ze,"\u2226","\\nparallel",!0);W(te,Be,ze,"\u22AF","\\nVDash",!0);W(te,Be,ze,"\u22EB","\\ntriangleright");W(te,Be,ze,"\u22ED","\\ntrianglerighteq",!0);W(te,Be,ze,"\uE018","\\@nsupseteqq");W(te,Be,ze,"\u228B","\\supsetneq",!0);W(te,Be,ze,"\uE01B","\\@varsupsetneq");W(te,Be,ze,"\u2ACC","\\supsetneqq",!0);W(te,Be,ze,"\uE019","\\@varsupsetneqq");W(te,Be,ze,"\u22AE","\\nVdash",!0);W(te,Be,ze,"\u2AB5","\\precneqq",!0);W(te,Be,ze,"\u2AB6","\\succneqq",!0);W(te,Be,ze,"\uE016","\\@nsubseteqq");W(te,Be,sr,"\u22B4","\\unlhd");W(te,Be,sr,"\u22B5","\\unrhd");W(te,Be,ze,"\u219A","\\nleftarrow",!0);W(te,Be,ze,"\u219B","\\nrightarrow",!0);W(te,Be,ze,"\u21CD","\\nLeftarrow",!0);W(te,Be,ze,"\u21CF","\\nRightarrow",!0);W(te,Be,ze,"\u21AE","\\nleftrightarrow",!0);W(te,Be,ze,"\u21CE","\\nLeftrightarrow",!0);W(te,Be,ze,"\u25B3","\\vartriangle");W(te,Be,Qe,"\u210F","\\hslash");W(te,Be,Qe,"\u25BD","\\triangledown");W(te,Be,Qe,"\u25CA","\\lozenge");W(te,Be,Qe,"\u24C8","\\circledS");W(te,Be,Qe,"\xAE","\\circledR");W(Ft,Be,Qe,"\xAE","\\circledR");W(te,Be,Qe,"\u2221","\\measuredangle",!0);W(te,Be,Qe,"\u2204","\\nexists");W(te,Be,Qe,"\u2127","\\mho");W(te,Be,Qe,"\u2132","\\Finv",!0);W(te,Be,Qe,"\u2141","\\Game",!0);W(te,Be,Qe,"\u2035","\\backprime");W(te,Be,Qe,"\u25B2","\\blacktriangle");W(te,Be,Qe,"\u25BC","\\blacktriangledown");W(te,Be,Qe,"\u25A0","\\blacksquare");W(te,Be,Qe,"\u29EB","\\blacklozenge");W(te,Be,Qe,"\u2605","\\bigstar");W(te,Be,Qe,"\u2222","\\sphericalangle",!0);W(te,Be,Qe,"\u2201","\\complement",!0);W(te,Be,Qe,"\xF0","\\eth",!0);W(Ft,he,Qe,"\xF0","\xF0");W(te,Be,Qe,"\u2571","\\diagup");W(te,Be,Qe,"\u2572","\\diagdown");W(te,Be,Qe,"\u25A1","\\square");W(te,Be,Qe,"\u25A1","\\Box");W(te,Be,Qe,"\u25CA","\\Diamond");W(te,Be,Qe,"\xA5","\\yen",!0);W(Ft,Be,Qe,"\xA5","\\yen",!0);W(te,Be,Qe,"\u2713","\\checkmark",!0);W(Ft,Be,Qe,"\u2713","\\checkmark");W(te,Be,Qe,"\u2136","\\beth",!0);W(te,Be,Qe,"\u2138","\\daleth",!0);W(te,Be,Qe,"\u2137","\\gimel",!0);W(te,Be,Qe,"\u03DD","\\digamma",!0);W(te,Be,Qe,"\u03F0","\\varkappa");W(te,Be,Sl,"\u250C","\\@ulcorner",!0);W(te,Be,vo,"\u2510","\\@urcorner",!0);W(te,Be,Sl,"\u2514","\\@llcorner",!0);W(te,Be,vo,"\u2518","\\@lrcorner",!0);W(te,Be,ze,"\u2266","\\leqq",!0);W(te,Be,ze,"\u2A7D","\\leqslant",!0);W(te,Be,ze,"\u2A95","\\eqslantless",!0);W(te,Be,ze,"\u2272","\\lesssim",!0);W(te,Be,ze,"\u2A85","\\lessapprox",!0);W(te,Be,ze,"\u224A","\\approxeq",!0);W(te,Be,sr,"\u22D6","\\lessdot");W(te,Be,ze,"\u22D8","\\lll",!0);W(te,Be,ze,"\u2276","\\lessgtr",!0);W(te,Be,ze,"\u22DA","\\lesseqgtr",!0);W(te,Be,ze,"\u2A8B","\\lesseqqgtr",!0);W(te,Be,ze,"\u2251","\\doteqdot");W(te,Be,ze,"\u2253","\\risingdotseq",!0);W(te,Be,ze,"\u2252","\\fallingdotseq",!0);W(te,Be,ze,"\u223D","\\backsim",!0);W(te,Be,ze,"\u22CD","\\backsimeq",!0);W(te,Be,ze,"\u2AC5","\\subseteqq",!0);W(te,Be,ze,"\u22D0","\\Subset",!0);W(te,Be,ze,"\u228F","\\sqsubset",!0);W(te,Be,ze,"\u227C","\\preccurlyeq",!0);W(te,Be,ze,"\u22DE","\\curlyeqprec",!0);W(te,Be,ze,"\u227E","\\precsim",!0);W(te,Be,ze,"\u2AB7","\\precapprox",!0);W(te,Be,ze,"\u22B2","\\vartriangleleft");W(te,Be,ze,"\u22B4","\\trianglelefteq");W(te,Be,ze,"\u22A8","\\vDash",!0);W(te,Be,ze,"\u22AA","\\Vvdash",!0);W(te,Be,ze,"\u2323","\\smallsmile");W(te,Be,ze,"\u2322","\\smallfrown");W(te,Be,ze,"\u224F","\\bumpeq",!0);W(te,Be,ze,"\u224E","\\Bumpeq",!0);W(te,Be,ze,"\u2267","\\geqq",!0);W(te,Be,ze,"\u2A7E","\\geqslant",!0);W(te,Be,ze,"\u2A96","\\eqslantgtr",!0);W(te,Be,ze,"\u2273","\\gtrsim",!0);W(te,Be,ze,"\u2A86","\\gtrapprox",!0);W(te,Be,sr,"\u22D7","\\gtrdot");W(te,Be,ze,"\u22D9","\\ggg",!0);W(te,Be,ze,"\u2277","\\gtrless",!0);W(te,Be,ze,"\u22DB","\\gtreqless",!0);W(te,Be,ze,"\u2A8C","\\gtreqqless",!0);W(te,Be,ze,"\u2256","\\eqcirc",!0);W(te,Be,ze,"\u2257","\\circeq",!0);W(te,Be,ze,"\u225C","\\triangleq",!0);W(te,Be,ze,"\u223C","\\thicksim");W(te,Be,ze,"\u2248","\\thickapprox");W(te,Be,ze,"\u2AC6","\\supseteqq",!0);W(te,Be,ze,"\u22D1","\\Supset",!0);W(te,Be,ze,"\u2290","\\sqsupset",!0);W(te,Be,ze,"\u227D","\\succcurlyeq",!0);W(te,Be,ze,"\u22DF","\\curlyeqsucc",!0);W(te,Be,ze,"\u227F","\\succsim",!0);W(te,Be,ze,"\u2AB8","\\succapprox",!0);W(te,Be,ze,"\u22B3","\\vartriangleright");W(te,Be,ze,"\u22B5","\\trianglerighteq");W(te,Be,ze,"\u22A9","\\Vdash",!0);W(te,Be,ze,"\u2223","\\shortmid");W(te,Be,ze,"\u2225","\\shortparallel");W(te,Be,ze,"\u226C","\\between",!0);W(te,Be,ze,"\u22D4","\\pitchfork",!0);W(te,Be,ze,"\u221D","\\varpropto");W(te,Be,ze,"\u25C0","\\blacktriangleleft");W(te,Be,ze,"\u2234","\\therefore",!0);W(te,Be,ze,"\u220D","\\backepsilon");W(te,Be,ze,"\u25B6","\\blacktriangleright");W(te,Be,ze,"\u2235","\\because",!0);W(te,Be,ze,"\u22D8","\\llless");W(te,Be,ze,"\u22D9","\\gggtr");W(te,Be,sr,"\u22B2","\\lhd");W(te,Be,sr,"\u22B3","\\rhd");W(te,Be,ze,"\u2242","\\eqsim",!0);W(te,he,ze,"\u22C8","\\Join");W(te,Be,ze,"\u2251","\\Doteq",!0);W(te,Be,sr,"\u2214","\\dotplus",!0);W(te,Be,sr,"\u2216","\\smallsetminus");W(te,Be,sr,"\u22D2","\\Cap",!0);W(te,Be,sr,"\u22D3","\\Cup",!0);W(te,Be,sr,"\u2A5E","\\doublebarwedge",!0);W(te,Be,sr,"\u229F","\\boxminus",!0);W(te,Be,sr,"\u229E","\\boxplus",!0);W(te,Be,sr,"\u22C7","\\divideontimes",!0);W(te,Be,sr,"\u22C9","\\ltimes",!0);W(te,Be,sr,"\u22CA","\\rtimes",!0);W(te,Be,sr,"\u22CB","\\leftthreetimes",!0);W(te,Be,sr,"\u22CC","\\rightthreetimes",!0);W(te,Be,sr,"\u22CF","\\curlywedge",!0);W(te,Be,sr,"\u22CE","\\curlyvee",!0);W(te,Be,sr,"\u229D","\\circleddash",!0);W(te,Be,sr,"\u229B","\\circledast",!0);W(te,Be,sr,"\u22C5","\\centerdot");W(te,Be,sr,"\u22BA","\\intercal",!0);W(te,Be,sr,"\u22D2","\\doublecap");W(te,Be,sr,"\u22D3","\\doublecup");W(te,Be,sr,"\u22A0","\\boxtimes",!0);W(te,Be,ze,"\u21E2","\\dashrightarrow",!0);W(te,Be,ze,"\u21E0","\\dashleftarrow",!0);W(te,Be,ze,"\u21C7","\\leftleftarrows",!0);W(te,Be,ze,"\u21C6","\\leftrightarrows",!0);W(te,Be,ze,"\u21DA","\\Lleftarrow",!0);W(te,Be,ze,"\u219E","\\twoheadleftarrow",!0);W(te,Be,ze,"\u21A2","\\leftarrowtail",!0);W(te,Be,ze,"\u21AB","\\looparrowleft",!0);W(te,Be,ze,"\u21CB","\\leftrightharpoons",!0);W(te,Be,ze,"\u21B6","\\curvearrowleft",!0);W(te,Be,ze,"\u21BA","\\circlearrowleft",!0);W(te,Be,ze,"\u21B0","\\Lsh",!0);W(te,Be,ze,"\u21C8","\\upuparrows",!0);W(te,Be,ze,"\u21BF","\\upharpoonleft",!0);W(te,Be,ze,"\u21C3","\\downharpoonleft",!0);W(te,he,ze,"\u22B6","\\origof",!0);W(te,he,ze,"\u22B7","\\imageof",!0);W(te,Be,ze,"\u22B8","\\multimap",!0);W(te,Be,ze,"\u21AD","\\leftrightsquigarrow",!0);W(te,Be,ze,"\u21C9","\\rightrightarrows",!0);W(te,Be,ze,"\u21C4","\\rightleftarrows",!0);W(te,Be,ze,"\u21A0","\\twoheadrightarrow",!0);W(te,Be,ze,"\u21A3","\\rightarrowtail",!0);W(te,Be,ze,"\u21AC","\\looparrowright",!0);W(te,Be,ze,"\u21B7","\\curvearrowright",!0);W(te,Be,ze,"\u21BB","\\circlearrowright",!0);W(te,Be,ze,"\u21B1","\\Rsh",!0);W(te,Be,ze,"\u21CA","\\downdownarrows",!0);W(te,Be,ze,"\u21BE","\\upharpoonright",!0);W(te,Be,ze,"\u21C2","\\downharpoonright",!0);W(te,Be,ze,"\u21DD","\\rightsquigarrow",!0);W(te,Be,ze,"\u21DD","\\leadsto");W(te,Be,ze,"\u21DB","\\Rrightarrow",!0);W(te,Be,ze,"\u21BE","\\restriction");W(te,he,Qe,"\u2018","`");W(te,he,Qe,"$","\\$");W(Ft,he,Qe,"$","\\$");W(Ft,he,Qe,"$","\\textdollar");W(te,he,Qe,"%","\\%");W(Ft,he,Qe,"%","\\%");W(te,he,Qe,"_","\\_");W(Ft,he,Qe,"_","\\_");W(Ft,he,Qe,"_","\\textunderscore");W(te,he,Qe,"\u2220","\\angle",!0);W(te,he,Qe,"\u221E","\\infty",!0);W(te,he,Qe,"\u2032","\\prime");W(te,he,Qe,"\u25B3","\\triangle");W(te,he,Qe,"\u0393","\\Gamma",!0);W(te,he,Qe,"\u0394","\\Delta",!0);W(te,he,Qe,"\u0398","\\Theta",!0);W(te,he,Qe,"\u039B","\\Lambda",!0);W(te,he,Qe,"\u039E","\\Xi",!0);W(te,he,Qe,"\u03A0","\\Pi",!0);W(te,he,Qe,"\u03A3","\\Sigma",!0);W(te,he,Qe,"\u03A5","\\Upsilon",!0);W(te,he,Qe,"\u03A6","\\Phi",!0);W(te,he,Qe,"\u03A8","\\Psi",!0);W(te,he,Qe,"\u03A9","\\Omega",!0);W(te,he,Qe,"A","\u0391");W(te,he,Qe,"B","\u0392");W(te,he,Qe,"E","\u0395");W(te,he,Qe,"Z","\u0396");W(te,he,Qe,"H","\u0397");W(te,he,Qe,"I","\u0399");W(te,he,Qe,"K","\u039A");W(te,he,Qe,"M","\u039C");W(te,he,Qe,"N","\u039D");W(te,he,Qe,"O","\u039F");W(te,he,Qe,"P","\u03A1");W(te,he,Qe,"T","\u03A4");W(te,he,Qe,"X","\u03A7");W(te,he,Qe,"\xAC","\\neg",!0);W(te,he,Qe,"\xAC","\\lnot");W(te,he,Qe,"\u22A4","\\top");W(te,he,Qe,"\u22A5","\\bot");W(te,he,Qe,"\u2205","\\emptyset");W(te,Be,Qe,"\u2205","\\varnothing");W(te,he,Mr,"\u03B1","\\alpha",!0);W(te,he,Mr,"\u03B2","\\beta",!0);W(te,he,Mr,"\u03B3","\\gamma",!0);W(te,he,Mr,"\u03B4","\\delta",!0);W(te,he,Mr,"\u03F5","\\epsilon",!0);W(te,he,Mr,"\u03B6","\\zeta",!0);W(te,he,Mr,"\u03B7","\\eta",!0);W(te,he,Mr,"\u03B8","\\theta",!0);W(te,he,Mr,"\u03B9","\\iota",!0);W(te,he,Mr,"\u03BA","\\kappa",!0);W(te,he,Mr,"\u03BB","\\lambda",!0);W(te,he,Mr,"\u03BC","\\mu",!0);W(te,he,Mr,"\u03BD","\\nu",!0);W(te,he,Mr,"\u03BE","\\xi",!0);W(te,he,Mr,"\u03BF","\\omicron",!0);W(te,he,Mr,"\u03C0","\\pi",!0);W(te,he,Mr,"\u03C1","\\rho",!0);W(te,he,Mr,"\u03C3","\\sigma",!0);W(te,he,Mr,"\u03C4","\\tau",!0);W(te,he,Mr,"\u03C5","\\upsilon",!0);W(te,he,Mr,"\u03D5","\\phi",!0);W(te,he,Mr,"\u03C7","\\chi",!0);W(te,he,Mr,"\u03C8","\\psi",!0);W(te,he,Mr,"\u03C9","\\omega",!0);W(te,he,Mr,"\u03B5","\\varepsilon",!0);W(te,he,Mr,"\u03D1","\\vartheta",!0);W(te,he,Mr,"\u03D6","\\varpi",!0);W(te,he,Mr,"\u03F1","\\varrho",!0);W(te,he,Mr,"\u03C2","\\varsigma",!0);W(te,he,Mr,"\u03C6","\\varphi",!0);W(te,he,sr,"\u2217","*",!0);W(te,he,sr,"+","+");W(te,he,sr,"\u2212","-",!0);W(te,he,sr,"\u22C5","\\cdot",!0);W(te,he,sr,"\u2218","\\circ",!0);W(te,he,sr,"\xF7","\\div",!0);W(te,he,sr,"\xB1","\\pm",!0);W(te,he,sr,"\xD7","\\times",!0);W(te,he,sr,"\u2229","\\cap",!0);W(te,he,sr,"\u222A","\\cup",!0);W(te,he,sr,"\u2216","\\setminus",!0);W(te,he,sr,"\u2227","\\land");W(te,he,sr,"\u2228","\\lor");W(te,he,sr,"\u2227","\\wedge",!0);W(te,he,sr,"\u2228","\\vee",!0);W(te,he,Qe,"\u221A","\\surd");W(te,he,Sl,"\u27E8","\\langle",!0);W(te,he,Sl,"\u2223","\\lvert");W(te,he,Sl,"\u2225","\\lVert");W(te,he,vo,"?","?");W(te,he,vo,"!","!");W(te,he,vo,"\u27E9","\\rangle",!0);W(te,he,vo,"\u2223","\\rvert");W(te,he,vo,"\u2225","\\rVert");W(te,he,ze,"=","=");W(te,he,ze,":",":");W(te,he,ze,"\u2248","\\approx",!0);W(te,he,ze,"\u2245","\\cong",!0);W(te,he,ze,"\u2265","\\ge");W(te,he,ze,"\u2265","\\geq",!0);W(te,he,ze,"\u2190","\\gets");W(te,he,ze,">","\\gt",!0);W(te,he,ze,"\u2208","\\in",!0);W(te,he,ze,"\uE020","\\@not");W(te,he,ze,"\u2282","\\subset",!0);W(te,he,ze,"\u2283","\\supset",!0);W(te,he,ze,"\u2286","\\subseteq",!0);W(te,he,ze,"\u2287","\\supseteq",!0);W(te,Be,ze,"\u2288","\\nsubseteq",!0);W(te,Be,ze,"\u2289","\\nsupseteq",!0);W(te,he,ze,"\u22A8","\\models");W(te,he,ze,"\u2190","\\leftarrow",!0);W(te,he,ze,"\u2264","\\le");W(te,he,ze,"\u2264","\\leq",!0);W(te,he,ze,"<","\\lt",!0);W(te,he,ze,"\u2192","\\rightarrow",!0);W(te,he,ze,"\u2192","\\to");W(te,Be,ze,"\u2271","\\ngeq",!0);W(te,Be,ze,"\u2270","\\nleq",!0);W(te,he,Hh,"\xA0","\\ ");W(te,he,Hh,"\xA0","\\space");W(te,he,Hh,"\xA0","\\nobreakspace");W(Ft,he,Hh,"\xA0","\\ ");W(Ft,he,Hh,"\xA0"," ");W(Ft,he,Hh,"\xA0","\\space");W(Ft,he,Hh,"\xA0","\\nobreakspace");W(te,he,Hh,null,"\\nobreak");W(te,he,Hh,null,"\\allowbreak");W(te,he,X5,",",",");W(te,he,X5,";",";");W(te,Be,sr,"\u22BC","\\barwedge",!0);W(te,Be,sr,"\u22BB","\\veebar",!0);W(te,he,sr,"\u2299","\\odot",!0);W(te,he,sr,"\u2295","\\oplus",!0);W(te,he,sr,"\u2297","\\otimes",!0);W(te,he,Qe,"\u2202","\\partial",!0);W(te,he,sr,"\u2298","\\oslash",!0);W(te,Be,sr,"\u229A","\\circledcirc",!0);W(te,Be,sr,"\u22A1","\\boxdot",!0);W(te,he,sr,"\u25B3","\\bigtriangleup");W(te,he,sr,"\u25BD","\\bigtriangledown");W(te,he,sr,"\u2020","\\dagger");W(te,he,sr,"\u22C4","\\diamond");W(te,he,sr,"\u22C6","\\star");W(te,he,sr,"\u25C3","\\triangleleft");W(te,he,sr,"\u25B9","\\triangleright");W(te,he,Sl,"{","\\{");W(Ft,he,Qe,"{","\\{");W(Ft,he,Qe,"{","\\textbraceleft");W(te,he,vo,"}","\\}");W(Ft,he,Qe,"}","\\}");W(Ft,he,Qe,"}","\\textbraceright");W(te,he,Sl,"{","\\lbrace");W(te,he,vo,"}","\\rbrace");W(te,he,Sl,"[","\\lbrack",!0);W(Ft,he,Qe,"[","\\lbrack",!0);W(te,he,vo,"]","\\rbrack",!0);W(Ft,he,Qe,"]","\\rbrack",!0);W(te,he,Sl,"(","\\lparen",!0);W(te,he,vo,")","\\rparen",!0);W(Ft,he,Qe,"<","\\textless",!0);W(Ft,he,Qe,">","\\textgreater",!0);W(te,he,Sl,"\u230A","\\lfloor",!0);W(te,he,vo,"\u230B","\\rfloor",!0);W(te,he,Sl,"\u2308","\\lceil",!0);W(te,he,vo,"\u2309","\\rceil",!0);W(te,he,Qe,"\\","\\backslash");W(te,he,Qe,"\u2223","|");W(te,he,Qe,"\u2223","\\vert");W(Ft,he,Qe,"|","\\textbar",!0);W(te,he,Qe,"\u2225","\\|");W(te,he,Qe,"\u2225","\\Vert");W(Ft,he,Qe,"\u2225","\\textbardbl");W(Ft,he,Qe,"~","\\textasciitilde");W(Ft,he,Qe,"\\","\\textbackslash");W(Ft,he,Qe,"^","\\textasciicircum");W(te,he,ze,"\u2191","\\uparrow",!0);W(te,he,ze,"\u21D1","\\Uparrow",!0);W(te,he,ze,"\u2193","\\downarrow",!0);W(te,he,ze,"\u21D3","\\Downarrow",!0);W(te,he,ze,"\u2195","\\updownarrow",!0);W(te,he,ze,"\u21D5","\\Updownarrow",!0);W(te,he,_a,"\u2210","\\coprod");W(te,he,_a,"\u22C1","\\bigvee");W(te,he,_a,"\u22C0","\\bigwedge");W(te,he,_a,"\u2A04","\\biguplus");W(te,he,_a,"\u22C2","\\bigcap");W(te,he,_a,"\u22C3","\\bigcup");W(te,he,_a,"\u222B","\\int");W(te,he,_a,"\u222B","\\intop");W(te,he,_a,"\u222C","\\iint");W(te,he,_a,"\u222D","\\iiint");W(te,he,_a,"\u220F","\\prod");W(te,he,_a,"\u2211","\\sum");W(te,he,_a,"\u2A02","\\bigotimes");W(te,he,_a,"\u2A01","\\bigoplus");W(te,he,_a,"\u2A00","\\bigodot");W(te,he,_a,"\u222E","\\oint");W(te,he,_a,"\u222F","\\oiint");W(te,he,_a,"\u2230","\\oiiint");W(te,he,_a,"\u2A06","\\bigsqcup");W(te,he,_a,"\u222B","\\smallint");W(Ft,he,dg,"\u2026","\\textellipsis");W(te,he,dg,"\u2026","\\mathellipsis");W(Ft,he,dg,"\u2026","\\ldots",!0);W(te,he,dg,"\u2026","\\ldots",!0);W(te,he,dg,"\u22EF","\\@cdots",!0);W(te,he,dg,"\u22F1","\\ddots",!0);W(te,he,Qe,"\u22EE","\\varvdots");W(te,he,Fi,"\u02CA","\\acute");W(te,he,Fi,"\u02CB","\\grave");W(te,he,Fi,"\xA8","\\ddot");W(te,he,Fi,"~","\\tilde");W(te,he,Fi,"\u02C9","\\bar");W(te,he,Fi,"\u02D8","\\breve");W(te,he,Fi,"\u02C7","\\check");W(te,he,Fi,"^","\\hat");W(te,he,Fi,"\u20D7","\\vec");W(te,he,Fi,"\u02D9","\\dot");W(te,he,Fi,"\u02DA","\\mathring");W(te,he,Mr,"\uE131","\\@imath");W(te,he,Mr,"\uE237","\\@jmath");W(te,he,Qe,"\u0131","\u0131");W(te,he,Qe,"\u0237","\u0237");W(Ft,he,Qe,"\u0131","\\i",!0);W(Ft,he,Qe,"\u0237","\\j",!0);W(Ft,he,Qe,"\xDF","\\ss",!0);W(Ft,he,Qe,"\xE6","\\ae",!0);W(Ft,he,Qe,"\u0153","\\oe",!0);W(Ft,he,Qe,"\xF8","\\o",!0);W(Ft,he,Qe,"\xC6","\\AE",!0);W(Ft,he,Qe,"\u0152","\\OE",!0);W(Ft,he,Qe,"\xD8","\\O",!0);W(Ft,he,Fi,"\u02CA","\\'");W(Ft,he,Fi,"\u02CB","\\`");W(Ft,he,Fi,"\u02C6","\\^");W(Ft,he,Fi,"\u02DC","\\~");W(Ft,he,Fi,"\u02C9","\\=");W(Ft,he,Fi,"\u02D8","\\u");W(Ft,he,Fi,"\u02D9","\\.");W(Ft,he,Fi,"\xB8","\\c");W(Ft,he,Fi,"\u02DA","\\r");W(Ft,he,Fi,"\u02C7","\\v");W(Ft,he,Fi,"\xA8",'\\"');W(Ft,he,Fi,"\u02DD","\\H");W(Ft,he,Fi,"\u25EF","\\textcircled");KH={"--":!0,"---":!0,"``":!0,"''":!0};W(Ft,he,Qe,"\u2013","--",!0);W(Ft,he,Qe,"\u2013","\\textendash");W(Ft,he,Qe,"\u2014","---",!0);W(Ft,he,Qe,"\u2014","\\textemdash");W(Ft,he,Qe,"\u2018","`",!0);W(Ft,he,Qe,"\u2018","\\textquoteleft");W(Ft,he,Qe,"\u2019","'",!0);W(Ft,he,Qe,"\u2019","\\textquoteright");W(Ft,he,Qe,"\u201C","``",!0);W(Ft,he,Qe,"\u201C","\\textquotedblleft");W(Ft,he,Qe,"\u201D","''",!0);W(Ft,he,Qe,"\u201D","\\textquotedblright");W(te,he,Qe,"\xB0","\\degree",!0);W(Ft,he,Qe,"\xB0","\\degree");W(Ft,he,Qe,"\xB0","\\textdegree",!0);W(te,he,Qe,"\xA3","\\pounds");W(te,he,Qe,"\xA3","\\mathsterling",!0);W(Ft,he,Qe,"\xA3","\\pounds");W(Ft,he,Qe,"\xA3","\\textsterling",!0);W(te,Be,Qe,"\u2720","\\maltese");W(Ft,Be,Qe,"\u2720","\\maltese");vH='0123456789/@."';for(A5=0;A5<vH.length;A5++)cA=vH.charAt(A5),W(te,he,Qe,cA,cA);xH='0123456789!@*()-=+";:?/.,';for(L5=0;L5<xH.length;L5++)hA=xH.charAt(L5),W(Ft,he,Qe,hA,hA);V5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(D5=0;D5<V5.length;D5++)Yv=V5.charAt(D5),W(te,he,Mr,Yv,Yv),W(Ft,he,Qe,Yv,Yv);W(te,Be,Qe,"C","\u2102");W(Ft,Be,Qe,"C","\u2102");W(te,Be,Qe,"H","\u210D");W(Ft,Be,Qe,"H","\u210D");W(te,Be,Qe,"N","\u2115");W(Ft,Be,Qe,"N","\u2115");W(te,Be,Qe,"P","\u2119");W(Ft,Be,Qe,"P","\u2119");W(te,Be,Qe,"Q","\u211A");W(Ft,Be,Qe,"Q","\u211A");W(te,Be,Qe,"R","\u211D");W(Ft,Be,Qe,"R","\u211D");W(te,Be,Qe,"Z","\u2124");W(Ft,Be,Qe,"Z","\u2124");W(te,he,Mr,"h","\u210E");W(Ft,he,Mr,"h","\u210E");Gr="";for(to=0;to<V5.length;to++)Hi=V5.charAt(to),Gr=String.fromCharCode(55349,56320+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),Gr=String.fromCharCode(55349,56372+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),Gr=String.fromCharCode(55349,56424+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),Gr=String.fromCharCode(55349,56580+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),Gr=String.fromCharCode(55349,56684+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),Gr=String.fromCharCode(55349,56736+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),Gr=String.fromCharCode(55349,56788+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),Gr=String.fromCharCode(55349,56840+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),Gr=String.fromCharCode(55349,56944+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),to<26&&(Gr=String.fromCharCode(55349,56632+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr),Gr=String.fromCharCode(55349,56476+to),W(te,he,Mr,Hi,Gr),W(Ft,he,Qe,Hi,Gr));Gr="\u{1D55C}";W(te,he,Mr,"k",Gr);W(Ft,he,Qe,"k",Gr);for(td=0;td<10;td++)zh=td.toString(),Gr=String.fromCharCode(55349,57294+td),W(te,he,Mr,zh,Gr),W(Ft,he,Qe,zh,Gr),Gr=String.fromCharCode(55349,57314+td),W(te,he,Mr,zh,Gr),W(Ft,he,Qe,zh,Gr),Gr=String.fromCharCode(55349,57324+td),W(te,he,Mr,zh,Gr),W(Ft,he,Qe,zh,Gr),Gr=String.fromCharCode(55349,57334+td),W(te,he,Mr,zh,Gr),W(Ft,he,Qe,zh,Gr);EA="\xD0\xDE\xFE";for(R5=0;R5<EA.length;R5++)Xv=EA.charAt(R5),W(te,he,Mr,Xv,Xv),W(Ft,he,Qe,Xv,Xv);I5=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],bH=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],gEe=a(function(t,r){var n=t.charCodeAt(0),i=t.charCodeAt(1),s=(n-55296)*1024+(i-56320)+65536,o=r==="math"?0:1;if(119808<=s&&s<120484){var u=Math.floor((s-119808)/26);return[I5[u][2],I5[u][o]]}else if(120782<=s&&s<=120831){var h=Math.floor((s-120782)/10);return[bH[h][2],bH[h][o]]}else{if(s===120485||s===120486)return[I5[0][2],I5[0][o]];if(120486<s&&s<120782)return["",""];throw new Vt("Unsupported character: "+t)}},"wideCharacterFont"),j5=a(function(t,r,n){return Si[n][t]&&Si[n][t].replace&&(t=Si[n][t].replace),{value:t,metrics:NA(t,r,n)}},"lookupSymbol"),Ku=a(function(t,r,n,i,s){var o=j5(t,r,n),u=o.metrics;t=o.value;var h;if(u){var p=u.italic;(n==="text"||i&&i.font==="mathit")&&(p=0),h=new Wo(t,u.height,u.depth,p,u.skew,u.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),h=new Wo(t,0,0,0,0,0,s);if(i){h.maxFontSize=i.sizeMultiplier,i.style.isTight()&&h.classes.push("mtight");var g=i.getColor();g&&(h.style.color=g)}return h},"makeSymbol"),yEe=a(function(t,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&j5(t,"Main-Bold",r).metrics?Ku(t,"Main-Bold",r,n,i.concat(["mathbf"])):t==="\\"||Si[r][t].font==="main"?Ku(t,"Main-Regular",r,n,i):Ku(t,"AMS-Regular",r,n,i.concat(["amsrm"]))},"mathsym"),vEe=a(function(t,r,n,i,s){return s!=="textord"&&j5(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol"),xEe=a(function(t,r,n){var i=t.mode,s=t.text,o=["mord"],u=i==="math"||i==="text"&&r.font,h=u?r.font:r.fontFamily,p="",g="";if(s.charCodeAt(0)===55349&&([p,g]=gEe(s,i)),p.length>0)return Ku(s,p,i,r,o.concat(g));if(h){var v,x;if(h==="boldsymbol"){var k=vEe(s,i,r,o,n);v=k.fontName,x=[k.fontClass]}else u?(v=JH[h].fontName,x=[h]):(v=M5(h,r.fontWeight,r.fontShape),x=[h,r.fontWeight,r.fontShape]);if(j5(s,v,i).metrics)return Ku(s,v,i,r,o.concat(x));if(KH.hasOwnProperty(s)&&v.slice(0,10)==="Typewriter"){for(var E=[],_=0;_<s.length;_++)E.push(Ku(s[_],v,i,r,o.concat(x)));return ZH(E)}}if(n==="mathord")return Ku(s,"Math-Italic",i,r,o.concat(["mathnormal"]));if(n==="textord"){var N=Si[i][s]&&Si[i][s].font;if(N==="ams"){var M=M5("amsrm",r.fontWeight,r.fontShape);return Ku(s,M,i,r,o.concat("amsrm",r.fontWeight,r.fontShape))}else if(N==="main"||!N){var P=M5("textrm",r.fontWeight,r.fontShape);return Ku(s,P,i,r,o.concat(r.fontWeight,r.fontShape))}else{var V=M5(N,r.fontWeight,r.fontShape);return Ku(s,V,i,r,o.concat(V,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},"makeOrd"),bEe=a((e,t)=>{if(nd(e.classes)!==nd(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},"canCombine"),kEe=a(e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof Wo&&n instanceof Wo&&bEe(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},"tryCombineChars"),OA=a(function(t){for(var r=0,n=0,i=0,s=0;s<t.children.length;s++){var o=t.children[s];o.height>r&&(r=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=i},"sizeElementFromChildren"),Uo=a(function(t,r,n,i){var s=new z0(t,r,n,i);return OA(s),s},"makeSpan"),QH=a((e,t,r,n)=>new z0(e,t,r,n),"makeSvgSpan"),wEe=a(function(t,r,n){var i=Uo([t],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=Kt(i.height),i.maxFontSize=1,i},"makeLineSpan"),TEe=a(function(t,r,n,i){var s=new Jv(t,r,n,i);return OA(s),s},"makeAnchor"),ZH=a(function(t){var r=new F0(t);return OA(r),r},"makeFragment"),EEe=a(function(t,r){return t instanceof F0?Uo([],[t],r):t},"wrapFragment"),CEe=a(function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,s=i,o=1;o<r.length;o++){var u=-r[o].shift-s-r[o].elem.depth,h=u-(r[o-1].elem.height+r[o-1].elem.depth);s=s+u,n.push({type:"kern",size:h}),n.push(r[o])}return{children:n,depth:i}}var p;if(t.positionType==="top"){for(var g=t.positionData,v=0;v<t.children.length;v++){var x=t.children[v];g-=x.type==="kern"?x.size:x.elem.height+x.elem.depth}p=g}else if(t.positionType==="bottom")p=-t.positionData;else{var k=t.children[0];if(k.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")p=-k.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")p=-k.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:p}},"getVListChildrenAndDepth"),SEe=a(function(t,r){for(var{children:n,depth:i}=CEe(t),s=0,o=0;o<n.length;o++){var u=n[o];if(u.type==="elem"){var h=u.elem;s=Math.max(s,h.maxFontSize,h.height)}}s+=2;var p=Uo(["pstrut"],[]);p.style.height=Kt(s);for(var g=[],v=i,x=i,k=i,E=0;E<n.length;E++){var _=n[E];if(_.type==="kern")k+=_.size;else{var N=_.elem,M=_.wrapperClasses||[],P=_.wrapperStyle||{},V=Uo(M,[p,N],void 0,P);V.style.top=Kt(-s-k-N.depth),_.marginLeft&&(V.style.marginLeft=_.marginLeft),_.marginRight&&(V.style.marginRight=_.marginRight),g.push(V),k+=N.height+N.depth}v=Math.min(v,k),x=Math.max(x,k)}var H=Uo(["vlist"],g);H.style.height=Kt(x);var O;if(v<0){var I=Uo([],[]),z=Uo(["vlist"],[I]);z.style.height=Kt(-v);var G=Uo(["vlist-s"],[new Wo("\u200B")]);O=[Uo(["vlist-r"],[H,G]),Uo(["vlist-r"],[z])]}else O=[Uo(["vlist-r"],[H])];var F=Uo(["vlist-t"],O);return O.length===2&&F.classes.push("vlist-t2"),F.height=x,F.depth=-v,F},"makeVList"),_Ee=a((e,t)=>{var r=Uo(["mspace"],[],t),n=Yi(e,t);return r.style.marginRight=Kt(n),r},"makeGlue"),M5=a(function(t,r,n){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var s;return r==="textbf"&&n==="textit"?s="BoldItalic":r==="textbf"?s="Bold":r==="textit"?s="Italic":s="Regular",i+"-"+s},"retrieveTextFontName"),JH={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},eW={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},AEe=a(function(t,r){var[n,i,s]=eW[t],o=new zc(n),u=new Qu([o],{width:Kt(i),height:Kt(s),style:"width:"+Kt(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),h=QH(["overlay"],[u],r);return h.height=s,h.style.height=Kt(s),h.style.width=Kt(i),h},"staticSvg"),ot={fontMap:JH,makeSymbol:Ku,mathsym:yEe,makeSpan:Uo,makeSvgSpan:QH,makeLineSpan:wEe,makeAnchor:TEe,makeFragment:ZH,wrapFragment:EEe,makeVList:SEe,makeOrd:xEe,makeGlue:_Ee,staticSvg:AEe,svgData:eW,tryCombineChars:kEe},Wi={number:3,unit:"mu"},P0={number:4,unit:"mu"},$h={number:5,unit:"mu"},LEe={mord:{mop:Wi,mbin:P0,mrel:$h,minner:Wi},mop:{mord:Wi,mop:Wi,mrel:$h,minner:Wi},mbin:{mord:P0,mop:P0,mopen:P0,minner:P0},mrel:{mord:$h,mop:$h,mopen:$h,minner:$h},mopen:{},mclose:{mop:Wi,mbin:P0,mrel:$h,minner:Wi},mpunct:{mord:Wi,mop:Wi,mrel:$h,mopen:Wi,mclose:Wi,mpunct:Wi,minner:Wi},minner:{mord:Wi,mop:Wi,mbin:P0,mrel:$h,mopen:Wi,mpunct:Wi,minner:Wi}},DEe={mord:{mop:Wi},mop:{mord:Wi,mop:Wi},mbin:{},mrel:{},mopen:{},mclose:{mop:Wi},mpunct:{},minner:{mop:Wi}},tW={},q5={},U5={};a(nr,"defineFunction");a($0,"defineFunctionBuilders");H5=a(function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},"normalizeArgument"),va=a(function(t){return t.type==="ordgroup"?t.body:[t]},"ordargument"),qh=ot.makeSpan,REe=["leftmost","mbin","mopen","mrel","mop","mpunct"],IEe=["rightmost","mrel","mclose","mpunct"],MEe={display:Nr.DISPLAY,text:Nr.TEXT,script:Nr.SCRIPT,scriptscript:Nr.SCRIPTSCRIPT},NEe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ga=a(function(t,r,n,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<t.length;o++){var u=Gn(t[o],r);if(u instanceof F0){var h=u.children;s.push(...h)}else s.push(u)}if(ot.tryCombineChars(s),!n)return s;var p=r;if(t.length===1){var g=t[0];g.type==="sizing"?p=r.havingSize(g.size):g.type==="styling"&&(p=r.havingStyle(MEe[g.style]))}var v=qh([i[0]||"leftmost"],[],r),x=qh([i[1]||"rightmost"],[],r),k=n==="root";return kH(s,(E,_)=>{var N=_.classes[0],M=E.classes[0];N==="mbin"&&Dr.contains(IEe,M)?_.classes[0]="mord":M==="mbin"&&Dr.contains(REe,N)&&(E.classes[0]="mord")},{node:v},x,k),kH(s,(E,_)=>{var N=CA(_),M=CA(E),P=N&&M?E.hasClass("mtight")?DEe[N][M]:LEe[N][M]:null;if(P)return ot.makeGlue(P,p)},{node:v},x,k),s},"buildExpression"),kH=a(function e(t,r,n,i,s){i&&t.push(i);for(var o=0;o<t.length;o++){var u=t[o],h=rW(u);if(h){e(h.children,r,n,null,s);continue}var p=!u.hasClass("mspace");if(p){var g=r(u,n.node);g&&(n.insertAfter?n.insertAfter(g):(t.unshift(g),o++))}p?n.node=u:s&&u.hasClass("newline")&&(n.node=qh(["leftmost"])),n.insertAfter=(v=>x=>{t.splice(v+1,0,x),o++})(o)}i&&t.pop()},"traverseNonSpaceNodes"),rW=a(function(t){return t instanceof F0||t instanceof Jv||t instanceof z0&&t.hasClass("enclosing")?t:null},"checkPartialGroup"),OEe=a(function e(t,r){var n=rW(t);if(n){var i=n.children;if(i.length){if(r==="right")return e(i[i.length-1],"right");if(r==="left")return e(i[0],"left")}}return t},"getOutermostNode"),CA=a(function(t,r){return t?(r&&(t=OEe(t,r)),NEe[t.classes[0]]||null):null},"getTypeOfDomTree"),t2=a(function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return qh(r.concat(n))},"makeNullDelimiter"),Gn=a(function(t,r,n){if(!t)return qh();if(q5[t.type]){var i=q5[t.type](t,r);if(n&&r.size!==n.size){i=qh(r.sizingClasses(n),[i],r);var s=r.sizeMultiplier/n.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Vt("Got group of unknown type: '"+t.type+"'")},"buildGroup");a(N5,"buildHTMLUnbreakable");a(SA,"buildHTML");a(nW,"newDocumentFragment");Ho=class{static{a(this,"MathNode")}constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=nd(this.classes));for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=Dr.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+Dr.escape(nd(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}},B0=class{static{a(this,"TextNode")}constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Dr.escape(this.toText())}toText(){return this.text}},_A=class{static{a(this,"SpaceNode")}constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="\u200A":t>=.1666&&t<=.1667?this.character="\u2009":t>=.2222&&t<=.2223?this.character="\u2005":t>=.2777&&t<=.2778?this.character="\u2005\u200A":t>=-.05556&&t<=-.05555?this.character="\u200A\u2063":t>=-.1667&&t<=-.1666?this.character="\u2009\u2063":t>=-.2223&&t<=-.2222?this.character="\u205F\u2063":t>=-.2778&&t<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Kt(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Kt(this.width)+'"/>'}toText(){return this.character?this.character:" "}},$t={MathNode:Ho,TextNode:B0,SpaceNode:_A,newDocumentFragment:nW},ru=a(function(t,r,n){return Si[r][t]&&Si[r][t].replace&&t.charCodeAt(0)!==55349&&!(KH.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=Si[r][t].replace),new $t.TextNode(t)},"makeText"),PA=a(function(t){return t.length===1?t[0]:new $t.MathNode("mrow",t)},"makeRow"),BA=a(function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var s=t.text;if(Dr.contains(["\\imath","\\jmath"],s))return null;Si[i][s]&&Si[i][s].replace&&(s=Si[i][s].replace);var o=ot.fontMap[n].fontName;return NA(s,o,i)?ot.fontMap[n].variant:null},"getVariant"),Yo=a(function(t,r,n){if(t.length===1){var i=gi(t[0],r);return n&&i instanceof Ho&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,u=0;u<t.length;u++){var h=gi(t[u],r);if(h instanceof Ho&&o instanceof Ho){if(h.type==="mtext"&&o.type==="mtext"&&h.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...h.children);continue}else if(h.type==="mn"&&o.type==="mn"){o.children.push(...h.children);continue}else if(h.type==="mi"&&h.children.length===1&&o.type==="mn"){var p=h.children[0];if(p instanceof B0&&p.text==="."){o.children.push(...h.children);continue}}else if(o.type==="mi"&&o.children.length===1){var g=o.children[0];if(g instanceof B0&&g.text==="\u0338"&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var v=h.children[0];v instanceof B0&&v.text.length>0&&(v.text=v.text.slice(0,1)+"\u0338"+v.text.slice(1),s.pop())}}}s.push(h),o=h}return s},"buildExpression"),id=a(function(t,r,n){return PA(Yo(t,r,n))},"buildExpressionRow"),gi=a(function(t,r){if(!t)return new $t.MathNode("mrow");if(U5[t.type]){var n=U5[t.type](t,r);return n}else throw new Vt("Got group of unknown type: '"+t.type+"'")},"buildGroup");a(wH,"buildMathML");iW=a(function(t){return new G5({style:t.displayMode?Nr.DISPLAY:Nr.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},"optionsFromSettings"),aW=a(function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=ot.makeSpan(n,[t])}return t},"displayWrap"),PEe=a(function(t,r,n){var i=iW(n),s;if(n.output==="mathml")return wH(t,r,i,n.displayMode,!0);if(n.output==="html"){var o=SA(t,i);s=ot.makeSpan(["katex"],[o])}else{var u=wH(t,r,i,n.displayMode,!1),h=SA(t,i);s=ot.makeSpan(["katex"],[u,h])}return aW(s,n)},"buildTree"),BEe=a(function(t,r,n){var i=iW(n),s=SA(t,i),o=ot.makeSpan(["katex"],[s]);return aW(o,n)},"buildHTMLTree"),FEe={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},zEe=a(function(t){var r=new $t.MathNode("mo",[new $t.TextNode(FEe[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},"mathMLnode"),$Ee={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},GEe=a(function(t){return t.type==="ordgroup"?t.body.length:1},"groupLength"),VEe=a(function(t,r){function n(){var u=4e5,h=t.label.slice(1);if(Dr.contains(["widehat","widecheck","widetilde","utilde"],h)){var p=t,g=GEe(p.base),v,x,k;if(g>5)h==="widehat"||h==="widecheck"?(v=420,u=2364,k=.42,x=h+"4"):(v=312,u=2340,k=.34,x="tilde4");else{var E=[1,1,2,2,3,3][g];h==="widehat"||h==="widecheck"?(u=[0,1062,2364,2364,2364][E],v=[0,239,300,360,420][E],k=[0,.24,.3,.3,.36,.42][E],x=h+E):(u=[0,600,1033,2339,2340][E],v=[0,260,286,306,312][E],k=[0,.26,.286,.3,.306,.34][E],x="tilde"+E)}var _=new zc(x),N=new Qu([_],{width:"100%",height:Kt(k),viewBox:"0 0 "+u+" "+v,preserveAspectRatio:"none"});return{span:ot.makeSvgSpan([],[N],r),minWidth:0,height:k}}else{var M=[],P=$Ee[h],[V,H,O]=P,I=O/1e3,z=V.length,G,F;if(z===1){var j=P[3];G=["hide-tail"],F=[j]}else if(z===2)G=["halfarrow-left","halfarrow-right"],F=["xMinYMin","xMaxYMin"];else if(z===3)G=["brace-left","brace-center","brace-right"],F=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+z+" children.");for(var D=0;D<z;D++){var X=new zc(V[D]),B=new Qu([X],{width:"400em",height:Kt(I),viewBox:"0 0 "+u+" "+O,preserveAspectRatio:F[D]+" slice"}),Q=ot.makeSvgSpan([G[D]],[B],r);if(z===1)return{span:Q,minWidth:H,height:I};Q.style.height=Kt(I),M.push(Q)}return{span:ot.makeSpan(["stretchy"],M,r),minWidth:H,height:I}}}a(n,"buildSvgSpan_");var{span:i,minWidth:s,height:o}=n();return i.height=o,i.style.height=Kt(o),s>0&&(i.style.minWidth=Kt(s)),i},"svgSpan"),qEe=a(function(t,r,n,i,s){var o,u=t.height+t.depth+n+i;if(/fbox|color|angl/.test(r)){if(o=ot.makeSpan(["stretchy",r],[],s),r==="fbox"){var h=s.color&&s.getColor();h&&(o.style.borderColor=h)}}else{var p=[];/^[bx]cancel$/.test(r)&&p.push(new e2({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&p.push(new e2({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var g=new Qu(p,{width:"100%",height:Kt(u)});o=ot.makeSvgSpan([],[g],s)}return o.height=u,o.style.height=Kt(u),o},"encloseSpan"),Uh={encloseSpan:qEe,mathMLnode:zEe,svgSpan:VEe};a(dn,"assertNodeType");a(FA,"assertSymbolNodeType");a(K5,"checkSymbolNodeType");zA=a((e,t)=>{var r,n,i;e&&e.type==="supsub"?(n=dn(e.base,"accent"),r=n.base,e.base=r,i=dEe(Gn(e,t)),e.base=n):(n=dn(e,"accent"),r=n.base);var s=Gn(r,t.havingCrampedStyle()),o=n.isShifty&&Dr.isCharacterBox(r),u=0;if(o){var h=Dr.getBaseElem(r),p=Gn(h,t.havingCrampedStyle());u=yH(p).skew}var g=n.label==="\\c",v=g?s.height+s.depth:Math.min(s.height,t.fontMetrics().xHeight),x;if(n.isStretchy)x=Uh.svgSpan(n,t),x=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:x,wrapperClasses:["svg-align"],wrapperStyle:u>0?{width:"calc(100% - "+Kt(2*u)+")",marginLeft:Kt(2*u)}:void 0}]},t);else{var k,E;n.label==="\\vec"?(k=ot.staticSvg("vec",t),E=ot.svgData.vec[1]):(k=ot.makeOrd({mode:n.mode,text:n.label},t,"textord"),k=yH(k),k.italic=0,E=k.width,g&&(v+=k.depth)),x=ot.makeSpan(["accent-body"],[k]);var _=n.label==="\\textcircled";_&&(x.classes.push("accent-full"),v=s.height);var N=u;_||(N-=E/2),x.style.left=Kt(N),n.label==="\\textcircled"&&(x.style.top=".2em"),x=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-v},{type:"elem",elem:x}]},t)}var M=ot.makeSpan(["mord","accent"],[x],t);return i?(i.children[0]=M,i.height=Math.max(M.height,i.height),i.classes[0]="mord",i):M},"htmlBuilder$a"),sW=a((e,t)=>{var r=e.isStretchy?Uh.mathMLnode(e.label):new $t.MathNode("mo",[ru(e.label,e.mode)]),n=new $t.MathNode("mover",[gi(e.base,t),r]);return n.setAttribute("accent","true"),n},"mathmlBuilder$9"),UEe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));nr({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=H5(t[0]),n=!UEe.test(e.funcName),i=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:zA,mathmlBuilder:sW});nr({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:zA,mathmlBuilder:sW});nr({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(e,t)=>{var r=Gn(e.base,t),n=Uh.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,s=ot.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return ot.makeSpan(["mord","accentunder"],[s],t)},mathmlBuilder:(e,t)=>{var r=Uh.mathMLnode(e.label),n=new $t.MathNode("munder",[gi(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});O5=a(e=>{var t=new $t.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t},"paddedNode");nr({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),i=ot.wrapFragment(Gn(e.body,n,t),t),s=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;e.below&&(n=t.havingStyle(r.sub()),o=ot.wrapFragment(Gn(e.below,n,t),t),o.classes.push(s+"-arrow-pad"));var u=Uh.svgSpan(e,t),h=-t.fontMetrics().axisHeight+.5*u.height,p=-t.fontMetrics().axisHeight-.5*u.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(p-=i.depth);var g;if(o){var v=-t.fontMetrics().axisHeight+o.height+.5*u.height+.111;g=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:p},{type:"elem",elem:u,shift:h},{type:"elem",elem:o,shift:v}]},t)}else g=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:p},{type:"elem",elem:u,shift:h}]},t);return g.children[0].children[0].children[1].classes.push("svg-align"),ot.makeSpan(["mrel","x-arrow"],[g],t)},mathmlBuilder(e,t){var r=Uh.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var i=O5(gi(e.body,t));if(e.below){var s=O5(gi(e.below,t));n=new $t.MathNode("munderover",[r,s,i])}else n=new $t.MathNode("mover",[r,i])}else if(e.below){var o=O5(gi(e.below,t));n=new $t.MathNode("munder",[r,o])}else n=O5(),n=new $t.MathNode("mover",[r,n]);return n}});HEe=ot.makeSpan;a(oW,"htmlBuilder$9");a(lW,"mathmlBuilder$8");nr({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:va(i),isCharacterBox:Dr.isCharacterBox(i)}},htmlBuilder:oW,mathmlBuilder:lW});Q5=a(e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"},"binrelClass");nr({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:Q5(t[0]),body:va(t[1]),isCharacterBox:Dr.isCharacterBox(t[1])}}});nr({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,i=t[1],s=t[0],o;n!=="\\stackrel"?o=Q5(i):o="mrel";var u={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:va(i)},h={type:"supsub",mode:s.mode,base:u,sup:n==="\\underset"?null:s,sub:n==="\\underset"?s:null};return{type:"mclass",mode:r.mode,mclass:o,body:[h],isCharacterBox:Dr.isCharacterBox(h)}},htmlBuilder:oW,mathmlBuilder:lW});nr({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:Q5(t[0]),body:va(t[0])}},htmlBuilder(e,t){var r=Ga(e.body,t,!0),n=ot.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=Yo(e.body,t),n=new $t.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});WEe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},TH=a(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),EH=a(e=>e.type==="textord"&&e.text==="@","isStartOfArrow"),YEe=a((e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t,"isLabelEnd");a(XEe,"cdArrow");a(jEe,"parseCD");nr({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=ot.wrapFragment(Gn(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=Kt(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new $t.MathNode("mrow",[gi(e.label,t)]);return r=new $t.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new $t.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});nr({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=ot.wrapFragment(Gn(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new $t.MathNode("mrow",[gi(e.fragment,t)])}});nr({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=dn(t[0],"ordgroup"),i=n.body,s="",o=0;o<i.length;o++){var u=dn(i[o],"textord");s+=u.text}var h=parseInt(s),p;if(isNaN(h))throw new Vt("\\@char has non-numeric argument "+s);if(h<0||h>=1114111)throw new Vt("\\@char with invalid code point "+s);return h<=65535?p=String.fromCharCode(h):(h-=65536,p=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:r.mode,text:p}}});uW=a((e,t)=>{var r=Ga(e.body,t.withColor(e.color),!1);return ot.makeFragment(r)},"htmlBuilder$8"),cW=a((e,t)=>{var r=Yo(e.body,t.withColor(e.color)),n=new $t.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n},"mathmlBuilder$7");nr({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=dn(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:va(i)}},htmlBuilder:uW,mathmlBuilder:cW});nr({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=dn(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var s=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:s}},htmlBuilder:uW,mathmlBuilder:cW});nr({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:s,size:i&&dn(i,"size").value}},htmlBuilder(e,t){var r=ot.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=Kt(Yi(e.size,t)))),r},mathmlBuilder(e,t){var r=new $t.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",Kt(Yi(e.size,t)))),r}});AA={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},hW=a(e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Vt("Expected a control sequence",e);return t},"checkControlSequence"),KEe=a(e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},"getRHS"),fW=a((e,t,r,n)=>{var i=e.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)},"letCommand");nr({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(AA[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=AA[n.text]),dn(t.parseFunction(),"internal");throw new Vt("Invalid token after macro prefix",n)}});nr({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Vt("Expected a control sequence",n);for(var s=0,o,u=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){o=t.gullet.future(),u[s].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Vt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new Vt('Argument number "'+n.text+'" out of order');s++,u.push([])}else{if(n.text==="EOF")throw new Vt("Expected a macro definition");u[s].push(n.text)}var{tokens:h}=t.gullet.consumeArg();return o&&h.unshift(o),(r==="\\edef"||r==="\\xdef")&&(h=t.gullet.expandTokens(h),h.reverse()),t.gullet.macros.set(i,{tokens:h,numArgs:s,delimiters:u},r===AA[r]),{type:"internal",mode:t.mode}}});nr({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=hW(t.gullet.popToken());t.gullet.consumeSpaces();var i=KEe(t);return fW(t,n,i,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});nr({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=hW(t.gullet.popToken()),i=t.gullet.popToken(),s=t.gullet.popToken();return fW(t,n,s,r==="\\\\globalfuture"),t.gullet.pushToken(s),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});jv=a(function(t,r,n){var i=Si.math[t]&&Si.math[t].replace,s=NA(i||t,r,n);if(!s)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return s},"getMetrics"),$A=a(function(t,r,n,i){var s=n.havingBaseStyle(r),o=ot.makeSpan(i.concat(s.sizingClasses(n)),[t],n),u=s.sizeMultiplier/n.sizeMultiplier;return o.height*=u,o.depth*=u,o.maxFontSize=s.sizeMultiplier,o},"styleWrap"),dW=a(function(t,r,n){var i=r.havingBaseStyle(n),s=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Kt(s),t.height-=s,t.depth+=s},"centerSpan"),QEe=a(function(t,r,n,i,s,o){var u=ot.makeSymbol(t,"Main-Regular",s,i),h=$A(u,r,i,o);return n&&dW(h,i,r),h},"makeSmallDelim"),ZEe=a(function(t,r,n,i){return ot.makeSymbol(t,"Size"+r+"-Regular",n,i)},"mathrmSize"),pW=a(function(t,r,n,i,s,o){var u=ZEe(t,r,s,i),h=$A(ot.makeSpan(["delimsizing","size"+r],[u],i),Nr.TEXT,i,o);return n&&dW(h,i,Nr.TEXT),h},"makeLargeDelim"),fA=a(function(t,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=ot.makeSpan(["delimsizinginner",i],[ot.makeSpan([],[ot.makeSymbol(t,r,n)])]);return{type:"elem",elem:s}},"makeGlyphSpan"),dA=a(function(t,r,n){var i=Fc["Size4-Regular"][t.charCodeAt(0)]?Fc["Size4-Regular"][t.charCodeAt(0)][4]:Fc["Size1-Regular"][t.charCodeAt(0)][4],s=new zc("inner",sEe(t,Math.round(1e3*r))),o=new Qu([s],{width:Kt(i),height:Kt(r),style:"width:"+Kt(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),u=ot.makeSvgSpan([],[o],n);return u.height=r,u.style.height=Kt(r),u.style.width=Kt(i),{type:"elem",elem:u}},"makeInner"),LA=.008,P5={type:"kern",size:-1*LA},JEe=["|","\\lvert","\\rvert","\\vert"],e7e=["\\|","\\lVert","\\rVert","\\Vert"],mW=a(function(t,r,n,i,s,o){var u,h,p,g,v="",x=0;u=p=g=t,h=null;var k="Size1-Regular";t==="\\uparrow"?p=g="\u23D0":t==="\\Uparrow"?p=g="\u2016":t==="\\downarrow"?u=p="\u23D0":t==="\\Downarrow"?u=p="\u2016":t==="\\updownarrow"?(u="\\uparrow",p="\u23D0",g="\\downarrow"):t==="\\Updownarrow"?(u="\\Uparrow",p="\u2016",g="\\Downarrow"):Dr.contains(JEe,t)?(p="\u2223",v="vert",x=333):Dr.contains(e7e,t)?(p="\u2225",v="doublevert",x=556):t==="["||t==="\\lbrack"?(u="\u23A1",p="\u23A2",g="\u23A3",k="Size4-Regular",v="lbrack",x=667):t==="]"||t==="\\rbrack"?(u="\u23A4",p="\u23A5",g="\u23A6",k="Size4-Regular",v="rbrack",x=667):t==="\\lfloor"||t==="\u230A"?(p=u="\u23A2",g="\u23A3",k="Size4-Regular",v="lfloor",x=667):t==="\\lceil"||t==="\u2308"?(u="\u23A1",p=g="\u23A2",k="Size4-Regular",v="lceil",x=667):t==="\\rfloor"||t==="\u230B"?(p=u="\u23A5",g="\u23A6",k="Size4-Regular",v="rfloor",x=667):t==="\\rceil"||t==="\u2309"?(u="\u23A4",p=g="\u23A5",k="Size4-Regular",v="rceil",x=667):t==="("||t==="\\lparen"?(u="\u239B",p="\u239C",g="\u239D",k="Size4-Regular",v="lparen",x=875):t===")"||t==="\\rparen"?(u="\u239E",p="\u239F",g="\u23A0",k="Size4-Regular",v="rparen",x=875):t==="\\{"||t==="\\lbrace"?(u="\u23A7",h="\u23A8",g="\u23A9",p="\u23AA",k="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(u="\u23AB",h="\u23AC",g="\u23AD",p="\u23AA",k="Size4-Regular"):t==="\\lgroup"||t==="\u27EE"?(u="\u23A7",g="\u23A9",p="\u23AA",k="Size4-Regular"):t==="\\rgroup"||t==="\u27EF"?(u="\u23AB",g="\u23AD",p="\u23AA",k="Size4-Regular"):t==="\\lmoustache"||t==="\u23B0"?(u="\u23A7",g="\u23AD",p="\u23AA",k="Size4-Regular"):(t==="\\rmoustache"||t==="\u23B1")&&(u="\u23AB",g="\u23A9",p="\u23AA",k="Size4-Regular");var E=jv(u,k,s),_=E.height+E.depth,N=jv(p,k,s),M=N.height+N.depth,P=jv(g,k,s),V=P.height+P.depth,H=0,O=1;if(h!==null){var I=jv(h,k,s);H=I.height+I.depth,O=2}var z=_+V+H,G=Math.max(0,Math.ceil((r-z)/(O*M))),F=z+G*O*M,j=i.fontMetrics().axisHeight;n&&(j*=i.sizeMultiplier);var D=F/2-j,X=[];if(v.length>0){var B=F-_-V,Q=Math.round(F*1e3),le=oEe(v,Math.round(B*1e3)),J=new zc(v,le),ie=(x/1e3).toFixed(3)+"em",re=(Q/1e3).toFixed(3)+"em",Z=new Qu([J],{width:ie,height:re,viewBox:"0 0 "+x+" "+Q}),Y=ot.makeSvgSpan([],[Z],i);Y.height=Q/1e3,Y.style.width=ie,Y.style.height=re,X.push({type:"elem",elem:Y})}else{if(X.push(fA(g,k,s)),X.push(P5),h===null){var ue=F-_-V+2*LA;X.push(dA(p,ue,i))}else{var Ae=(F-_-V-H)/2+2*LA;X.push(dA(p,Ae,i)),X.push(P5),X.push(fA(h,k,s)),X.push(P5),X.push(dA(p,Ae,i))}X.push(P5),X.push(fA(u,k,s))}var ae=i.havingBaseStyle(Nr.TEXT),Ke=ot.makeVList({positionType:"bottom",positionData:D,children:X},ae);return $A(ot.makeSpan(["delimsizing","mult"],[Ke],ae),Nr.TEXT,i,o)},"makeStackedDelim"),pA=80,mA=.08,gA=a(function(t,r,n,i,s){var o=aEe(t,i,n),u=new zc(t,o),h=new Qu([u],{width:"400em",height:Kt(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return ot.makeSvgSpan(["hide-tail"],[h],s)},"sqrtSvg"),t7e=a(function(t,r){var n=r.havingBaseSizing(),i=xW("\\surd",t*n.sizeMultiplier,vW,n),s=n.sizeMultiplier,o=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),u,h=0,p=0,g=0,v;return i.type==="small"?(g=1e3+1e3*o+pA,t<1?s=1:t<1.4&&(s=.7),h=(1+o+mA)/s,p=(1+o)/s,u=gA("sqrtMain",h,g,o,r),u.style.minWidth="0.853em",v=.833/s):i.type==="large"?(g=(1e3+pA)*Kv[i.size],p=(Kv[i.size]+o)/s,h=(Kv[i.size]+o+mA)/s,u=gA("sqrtSize"+i.size,h,g,o,r),u.style.minWidth="1.02em",v=1/s):(h=t+o+mA,p=t+o,g=Math.floor(1e3*t+o)+pA,u=gA("sqrtTall",h,g,o,r),u.style.minWidth="0.742em",v=1.056),u.height=p,u.style.height=Kt(h),{span:u,advanceWidth:v,ruleWidth:(r.fontMetrics().sqrtRuleThickness+o)*s}},"makeSqrtImage"),gW=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],r7e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],yW=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Kv=[0,1.2,1.8,2.4,3],n7e=a(function(t,r,n,i,s){if(t==="<"||t==="\\lt"||t==="\u27E8"?t="\\langle":(t===">"||t==="\\gt"||t==="\u27E9")&&(t="\\rangle"),Dr.contains(gW,t)||Dr.contains(yW,t))return pW(t,r,!1,n,i,s);if(Dr.contains(r7e,t))return mW(t,Kv[r],!1,n,i,s);throw new Vt("Illegal delimiter: '"+t+"'")},"makeSizedDelim"),i7e=[{type:"small",style:Nr.SCRIPTSCRIPT},{type:"small",style:Nr.SCRIPT},{type:"small",style:Nr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],a7e=[{type:"small",style:Nr.SCRIPTSCRIPT},{type:"small",style:Nr.SCRIPT},{type:"small",style:Nr.TEXT},{type:"stack"}],vW=[{type:"small",style:Nr.SCRIPTSCRIPT},{type:"small",style:Nr.SCRIPT},{type:"small",style:Nr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],s7e=a(function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},"delimTypeToFont"),xW=a(function(t,r,n,i){for(var s=Math.min(2,3-i.style.size),o=s;o<n.length&&n[o].type!=="stack";o++){var u=jv(t,s7e(n[o]),"math"),h=u.height+u.depth;if(n[o].type==="small"){var p=i.havingBaseStyle(n[o].style);h*=p.sizeMultiplier}if(h>r)return n[o]}return n[n.length-1]},"traverseSequence"),bW=a(function(t,r,n,i,s,o){t==="<"||t==="\\lt"||t==="\u27E8"?t="\\langle":(t===">"||t==="\\gt"||t==="\u27E9")&&(t="\\rangle");var u;Dr.contains(yW,t)?u=i7e:Dr.contains(gW,t)?u=vW:u=a7e;var h=xW(t,r,u,i);return h.type==="small"?QEe(t,h.style,n,i,s,o):h.type==="large"?pW(t,h.size,n,i,s,o):mW(t,r,n,i,s,o)},"makeCustomSizedDelim"),o7e=a(function(t,r,n,i,s,o){var u=i.fontMetrics().axisHeight*i.sizeMultiplier,h=901,p=5/i.fontMetrics().ptPerEm,g=Math.max(r-u,n+u),v=Math.max(g/500*h,2*g-p);return bW(t,v,!0,i,s,o)},"makeLeftRightDelim"),Vh={sqrtImage:t7e,sizedDelim:n7e,sizeToMaxHeight:Kv,customSizedDelim:bW,leftRightDelim:o7e},CH={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},l7e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];a(Z5,"checkDelimiter");nr({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=Z5(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:CH[e.funcName].size,mclass:CH[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>e.delim==="."?ot.makeSpan([e.mclass]):Vh.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(ru(e.delim,e.mode));var r=new $t.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=Kt(Vh.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});a(SH,"assertParsed");nr({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Vt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Z5(t[0],e).text,color:r}}});nr({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=Z5(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=dn(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:s.delim,rightColor:s.color}},htmlBuilder:(e,t)=>{SH(e);for(var r=Ga(e.body,t,!0,["mopen","mclose"]),n=0,i=0,s=!1,o=0;o<r.length;o++)r[o].isMiddle?s=!0:(n=Math.max(r[o].height,n),i=Math.max(r[o].depth,i));n*=t.sizeMultiplier,i*=t.sizeMultiplier;var u;if(e.left==="."?u=t2(t,["mopen"]):u=Vh.leftRightDelim(e.left,n,i,t,e.mode,["mopen"]),r.unshift(u),s)for(var h=1;h<r.length;h++){var p=r[h],g=p.isMiddle;g&&(r[h]=Vh.leftRightDelim(g.delim,n,i,g.options,e.mode,[]))}var v;if(e.right===".")v=t2(t,["mclose"]);else{var x=e.rightColor?t.withColor(e.rightColor):t;v=Vh.leftRightDelim(e.right,n,i,x,e.mode,["mclose"])}return r.push(v),ot.makeSpan(["minner"],r,t)},mathmlBuilder:(e,t)=>{SH(e);var r=Yo(e.body,t);if(e.left!=="."){var n=new $t.MathNode("mo",[ru(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var i=new $t.MathNode("mo",[ru(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return PA(r)}});nr({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=Z5(t[0],e);if(!e.parser.leftrightDepth)throw new Vt("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if(e.delim===".")r=t2(t,[]);else{r=Vh.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?ru("|","text"):ru(e.delim,e.mode),n=new $t.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});GA=a((e,t)=>{var r=ot.wrapFragment(Gn(e.body,t),t),n=e.label.slice(1),i=t.sizeMultiplier,s,o=0,u=Dr.isCharacterBox(e.body);if(n==="sout")s=ot.makeSpan(["stretchy","sout"]),s.height=t.fontMetrics().defaultRuleThickness/i,o=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var h=Yi({number:.6,unit:"pt"},t),p=Yi({number:.35,unit:"ex"},t),g=t.havingBaseSizing();i=i/g.sizeMultiplier;var v=r.height+r.depth+h+p;r.style.paddingLeft=Kt(v/2+h);var x=Math.floor(1e3*v*i),k=nEe(x),E=new Qu([new zc("phase",k)],{width:"400em",height:Kt(x/1e3),viewBox:"0 0 400000 "+x,preserveAspectRatio:"xMinYMin slice"});s=ot.makeSvgSpan(["hide-tail"],[E],t),s.style.height=Kt(v),o=r.depth+h+p}else{/cancel/.test(n)?u||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var _=0,N=0,M=0;/box/.test(n)?(M=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),_=t.fontMetrics().fboxsep+(n==="colorbox"?0:M),N=_):n==="angl"?(M=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),_=4*M,N=Math.max(0,.25-r.depth)):(_=u?.2:0,N=_),s=Uh.encloseSpan(r,n,_,N,t),/fbox|boxed|fcolorbox/.test(n)?(s.style.borderStyle="solid",s.style.borderWidth=Kt(M)):n==="angl"&&M!==.049&&(s.style.borderTopWidth=Kt(M),s.style.borderRightWidth=Kt(M)),o=r.depth+N,e.backgroundColor&&(s.style.backgroundColor=e.backgroundColor,e.borderColor&&(s.style.borderColor=e.borderColor))}var P;if(e.backgroundColor)P=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:r,shift:0}]},t);else{var V=/cancel|phase/.test(n)?["svg-align"]:[];P=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:V}]},t)}return/cancel/.test(n)&&(P.height=r.height,P.depth=r.depth),/cancel/.test(n)&&!u?ot.makeSpan(["mord","cancel-lap"],[P],t):ot.makeSpan(["mord"],[P],t)},"htmlBuilder$7"),VA=a((e,t)=>{var r=0,n=new $t.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[gi(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n},"mathmlBuilder$6");nr({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,s=dn(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:GA,mathmlBuilder:VA});nr({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,s=dn(t[0],"color-token").color,o=dn(t[1],"color-token").color,u=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,borderColor:s,body:u}},htmlBuilder:GA,mathmlBuilder:VA});nr({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});nr({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:GA,mathmlBuilder:VA});nr({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});kW={};a($c,"defineEnvironment");wW={};a(ge,"defineMacro");a(_H,"getHLines");J5=a(e=>{var t=e.parser.settings;if(!t.displayMode)throw new Vt("{"+e.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext");a(qA,"getAutoTag");a(ad,"parseArray");a(UA,"dCellStyle");Gc=a(function(t,r){var n,i,s=t.body.length,o=t.hLinesBeforeRow,u=0,h=new Array(s),p=[],g=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),v=1/r.fontMetrics().ptPerEm,x=5*v;if(t.colSeparationType&&t.colSeparationType==="small"){var k=r.havingStyle(Nr.SCRIPT).sizeMultiplier;x=.2778*(k/r.sizeMultiplier)}var E=t.colSeparationType==="CD"?Yi({number:3,unit:"ex"},r):12*v,_=3*v,N=t.arraystretch*E,M=.7*N,P=.3*N,V=0;function H(gt){for(var mt=0;mt<gt.length;++mt)mt>0&&(V+=.25),p.push({pos:V,isDashed:gt[mt]})}for(a(H,"setHLinePos"),H(o[0]),n=0;n<t.body.length;++n){var O=t.body[n],I=M,z=P;u<O.length&&(u=O.length);var G=new Array(O.length);for(i=0;i<O.length;++i){var F=Gn(O[i],r);z<F.depth&&(z=F.depth),I<F.height&&(I=F.height),G[i]=F}var j=t.rowGaps[n],D=0;j&&(D=Yi(j,r),D>0&&(D+=P,z<D&&(z=D),D=0)),t.addJot&&(z+=_),G.height=I,G.depth=z,V+=I,G.pos=V,V+=z+D,h[n]=G,H(o[n+1])}var X=V/2+r.fontMetrics().axisHeight,B=t.cols||[],Q=[],le,J,ie=[];if(t.tags&&t.tags.some(gt=>gt))for(n=0;n<s;++n){var re=h[n],Z=re.pos-X,Y=t.tags[n],ue=void 0;Y===!0?ue=ot.makeSpan(["eqn-num"],[],r):Y===!1?ue=ot.makeSpan([],[],r):ue=ot.makeSpan([],Ga(Y,r,!0),r),ue.depth=re.depth,ue.height=re.height,ie.push({type:"elem",elem:ue,shift:Z})}for(i=0,J=0;i<u||J<B.length;++i,++J){for(var Ae=B[J]||{},ae=!0;Ae.type==="separator";){if(ae||(le=ot.makeSpan(["arraycolsep"],[]),le.style.width=Kt(r.fontMetrics().doubleRuleSep),Q.push(le)),Ae.separator==="|"||Ae.separator===":"){var Ke=Ae.separator==="|"?"solid":"dashed",Ie=ot.makeSpan(["vertical-separator"],[],r);Ie.style.height=Kt(V),Ie.style.borderRightWidth=Kt(g),Ie.style.borderRightStyle=Ke,Ie.style.margin="0 "+Kt(-g/2);var $e=V-X;$e&&(Ie.style.verticalAlign=Kt(-$e)),Q.push(Ie)}else throw new Vt("Invalid separator type: "+Ae.separator);J++,Ae=B[J]||{},ae=!1}if(!(i>=u)){var Xe=void 0;(i>0||t.hskipBeforeAndAfter)&&(Xe=Dr.deflt(Ae.pregap,x),Xe!==0&&(le=ot.makeSpan(["arraycolsep"],[]),le.style.width=Kt(Xe),Q.push(le)));var He=[];for(n=0;n<s;++n){var Ne=h[n],_e=Ne[i];if(_e){var Me=Ne.pos-X;_e.depth=Ne.depth,_e.height=Ne.height,He.push({type:"elem",elem:_e,shift:Me})}}He=ot.makeVList({positionType:"individualShift",children:He},r),He=ot.makeSpan(["col-align-"+(Ae.align||"c")],[He]),Q.push(He),(i<u-1||t.hskipBeforeAndAfter)&&(Xe=Dr.deflt(Ae.postgap,x),Xe!==0&&(le=ot.makeSpan(["arraycolsep"],[]),le.style.width=Kt(Xe),Q.push(le)))}}if(h=ot.makeSpan(["mtable"],Q),p.length>0){for(var Ee=ot.makeLineSpan("hline",r,g),Oe=ot.makeLineSpan("hdashline",r,g),at=[{type:"elem",elem:h,shift:0}];p.length>0;){var pe=p.pop(),Bt=pe.pos-X;pe.isDashed?at.push({type:"elem",elem:Oe,shift:Bt}):at.push({type:"elem",elem:Ee,shift:Bt})}h=ot.makeVList({positionType:"individualShift",children:at},r)}if(ie.length===0)return ot.makeSpan(["mord"],[h],r);var Pe=ot.makeVList({positionType:"individualShift",children:ie},r);return Pe=ot.makeSpan(["tag"],[Pe],r),ot.makeFragment([h,Pe])},"htmlBuilder"),u7e={c:"center ",l:"left ",r:"right "},Vc=a(function(t,r){for(var n=[],i=new $t.MathNode("mtd",[],["mtr-glue"]),s=new $t.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var u=t.body[o],h=[],p=0;p<u.length;p++)h.push(new $t.MathNode("mtd",[gi(u[p],r)]));t.tags&&t.tags[o]&&(h.unshift(i),h.push(i),t.leqno?h.unshift(s):h.push(s)),n.push(new $t.MathNode("mtr",h))}var g=new $t.MathNode("mtable",n),v=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);g.setAttribute("rowspacing",Kt(v));var x="",k="";if(t.cols&&t.cols.length>0){var E=t.cols,_="",N=!1,M=0,P=E.length;E[0].type==="separator"&&(x+="top ",M=1),E[E.length-1].type==="separator"&&(x+="bottom ",P-=1);for(var V=M;V<P;V++)E[V].type==="align"?(k+=u7e[E[V].align],N&&(_+="none "),N=!0):E[V].type==="separator"&&N&&(_+=E[V].separator==="|"?"solid ":"dashed ",N=!1);g.setAttribute("columnalign",k.trim()),/[sd]/.test(_)&&g.setAttribute("columnlines",_.trim())}if(t.colSeparationType==="align"){for(var H=t.cols||[],O="",I=1;I<H.length;I++)O+=I%2?"0em ":"1em ";g.setAttribute("columnspacing",O.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?g.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?g.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?g.setAttribute("columnspacing","0.5em"):g.setAttribute("columnspacing","1em");var z="",G=t.hLinesBeforeRow;x+=G[0].length>0?"left ":"",x+=G[G.length-1].length>0?"right ":"";for(var F=1;F<G.length-1;F++)z+=G[F].length===0?"none ":G[F][0]?"dashed ":"solid ";return/[sd]/.test(z)&&g.setAttribute("rowlines",z.trim()),x!==""&&(g=new $t.MathNode("menclose",[g]),g.setAttribute("notation",x.trim())),t.arraystretch&&t.arraystretch<1&&(g=new $t.MathNode("mstyle",[g]),g.setAttribute("scriptlevel","1")),g},"mathmlBuilder"),TW=a(function(t,r){t.envName.indexOf("ed")===-1&&J5(t);var n=[],i=t.envName.indexOf("at")>-1?"alignat":"align",s=t.envName==="split",o=ad(t.parser,{cols:n,addJot:!0,autoTag:s?void 0:qA(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:t.parser.settings.leqno},"display"),u,h=0,p={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var g="",v=0;v<r[0].body.length;v++){var x=dn(r[0].body[v],"textord");g+=x.text}u=Number(g),h=u*2}var k=!h;o.body.forEach(function(M){for(var P=1;P<M.length;P+=2){var V=dn(M[P],"styling"),H=dn(V.body[0],"ordgroup");H.body.unshift(p)}if(k)h<M.length&&(h=M.length);else{var O=M.length/2;if(u<O)throw new Vt("Too many math in a row: "+("expected "+u+", but got "+O),M[0])}});for(var E=0;E<h;++E){var _="r",N=0;E%2===1?_="l":E>0&&k&&(N=1),n[E]={type:"align",align:_,pregap:N,postgap:0}}return o.colSeparationType=k?"align":"alignat",o},"alignedHandler");$c({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=K5(t[0]),n=r?[t[0]]:dn(t[0],"ordgroup").body,i=n.map(function(o){var u=FA(o),h=u.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new Vt("Unknown column alignment: "+h,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return ad(e.parser,s,UA(e.envName))},htmlBuilder:Gc,mathmlBuilder:Vc});$c({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Vt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var s=ad(e.parser,n,UA(e.envName)),o=Math.max(0,...s.body.map(u=>u.length));return s.cols=new Array(o).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:Gc,mathmlBuilder:Vc});$c({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=ad(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:Gc,mathmlBuilder:Vc});$c({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=K5(t[0]),n=r?[t[0]]:dn(t[0],"ordgroup").body,i=n.map(function(o){var u=FA(o),h=u.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new Vt("Unknown column alignment: "+h,o)});if(i.length>1)throw new Vt("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=ad(e.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Vt("{subarray} can contain only one column");return s},htmlBuilder:Gc,mathmlBuilder:Vc});$c({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=ad(e.parser,t,UA(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Gc,mathmlBuilder:Vc});$c({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:TW,htmlBuilder:Gc,mathmlBuilder:Vc});$c({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){Dr.contains(["gather","gather*"],e.envName)&&J5(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:qA(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return ad(e.parser,t,"display")},htmlBuilder:Gc,mathmlBuilder:Vc});$c({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:TW,htmlBuilder:Gc,mathmlBuilder:Vc});$c({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){J5(e);var t={autoTag:qA(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return ad(e.parser,t,"display")},htmlBuilder:Gc,mathmlBuilder:Vc});$c({type:"array",names:["CD"],props:{numArgs:0},handler(e){return J5(e),jEe(e.parser)},htmlBuilder:Gc,mathmlBuilder:Vc});ge("\\nonumber","\\gdef\\@eqnsw{0}");ge("\\notag","\\nonumber");nr({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new Vt(e.funcName+" valid only within array environment")}});AH=kW;nr({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if(i.type!=="ordgroup")throw new Vt("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=dn(i.body[o],"textord").text;if(n==="\\begin"){if(!AH.hasOwnProperty(s))throw new Vt("No such environment: "+s,i);var u=AH[s],{args:h,optArgs:p}=r.parseArguments("\\begin{"+s+"}",u),g={mode:r.mode,envName:s,parser:r},v=u.handler(g,h,p);r.expect("\\end",!1);var x=r.nextToken,k=dn(r.parseFunction(),"environment");if(k.name!==s)throw new Vt("Mismatch: \\begin{"+s+"} matched by \\end{"+k.name+"}",x);return v}return{type:"environment",mode:r.mode,name:s,nameGroup:i}}});EW=a((e,t)=>{var r=e.font,n=t.withFont(r);return Gn(e.body,n)},"htmlBuilder$5"),CW=a((e,t)=>{var r=e.font,n=t.withFont(r);return gi(e.body,n)},"mathmlBuilder$4"),LH={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};nr({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=H5(t[0]),s=n;return s in LH&&(s=LH[s]),{type:"font",mode:r.mode,font:s.slice(1),body:i}},htmlBuilder:EW,mathmlBuilder:CW});nr({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],i=Dr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Q5(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});nr({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:s}=r,o=r.parseExpression(!0,i),u="math"+n.slice(1);return{type:"font",mode:s,font:u,body:{type:"ordgroup",mode:r.mode,body:o}}},htmlBuilder:EW,mathmlBuilder:CW});SW=a((e,t)=>{var r=t;return e==="display"?r=r.id>=Nr.SCRIPT.id?r.text():Nr.DISPLAY:e==="text"&&r.size===Nr.DISPLAY.size?r=Nr.TEXT:e==="script"?r=Nr.SCRIPT:e==="scriptscript"&&(r=Nr.SCRIPTSCRIPT),r},"adjustStyle"),HA=a((e,t)=>{var r=SW(e.size,t.style),n=r.fracNum(),i=r.fracDen(),s;s=t.havingStyle(n);var o=Gn(e.numer,s,t);if(e.continued){var u=8.5/t.fontMetrics().ptPerEm,h=3.5/t.fontMetrics().ptPerEm;o.height=o.height<u?u:o.height,o.depth=o.depth<h?h:o.depth}s=t.havingStyle(i);var p=Gn(e.denom,s,t),g,v,x;e.hasBarLine?(e.barSize?(v=Yi(e.barSize,t),g=ot.makeLineSpan("frac-line",t,v)):g=ot.makeLineSpan("frac-line",t),v=g.height,x=g.height):(g=null,v=0,x=t.fontMetrics().defaultRuleThickness);var k,E,_;r.size===Nr.DISPLAY.size||e.size==="display"?(k=t.fontMetrics().num1,v>0?E=3*x:E=7*x,_=t.fontMetrics().denom1):(v>0?(k=t.fontMetrics().num2,E=x):(k=t.fontMetrics().num3,E=3*x),_=t.fontMetrics().denom2);var N;if(g){var P=t.fontMetrics().axisHeight;k-o.depth-(P+.5*v)<E&&(k+=E-(k-o.depth-(P+.5*v))),P-.5*v-(p.height-_)<E&&(_+=E-(P-.5*v-(p.height-_)));var V=-(P-.5*v);N=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:_},{type:"elem",elem:g,shift:V},{type:"elem",elem:o,shift:-k}]},t)}else{var M=k-o.depth-(p.height-_);M<E&&(k+=.5*(E-M),_+=.5*(E-M)),N=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:_},{type:"elem",elem:o,shift:-k}]},t)}s=t.havingStyle(r),N.height*=s.sizeMultiplier/t.sizeMultiplier,N.depth*=s.sizeMultiplier/t.sizeMultiplier;var H;r.size===Nr.DISPLAY.size?H=t.fontMetrics().delim1:r.size===Nr.SCRIPTSCRIPT.size?H=t.havingStyle(Nr.SCRIPT).fontMetrics().delim2:H=t.fontMetrics().delim2;var O,I;return e.leftDelim==null?O=t2(t,["mopen"]):O=Vh.customSizedDelim(e.leftDelim,H,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?I=ot.makeSpan([]):e.rightDelim==null?I=t2(t,["mclose"]):I=Vh.customSizedDelim(e.rightDelim,H,!0,t.havingStyle(r),e.mode,["mclose"]),ot.makeSpan(["mord"].concat(s.sizingClasses(t)),[O,ot.makeSpan(["mfrac"],[N]),I],t)},"htmlBuilder$4"),WA=a((e,t)=>{var r=new $t.MathNode("mfrac",[gi(e.numer,t),gi(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=Yi(e.barSize,t);r.setAttribute("linethickness",Kt(n))}var i=SW(e.size,t.style);if(i.size!==t.style.size){r=new $t.MathNode("mstyle",[r]);var s=i.size===Nr.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",s),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var o=[];if(e.leftDelim!=null){var u=new $t.MathNode("mo",[new $t.TextNode(e.leftDelim.replace("\\",""))]);u.setAttribute("fence","true"),o.push(u)}if(o.push(r),e.rightDelim!=null){var h=new $t.MathNode("mo",[new $t.TextNode(e.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),o.push(h)}return PA(o)}return r},"mathmlBuilder$3");nr({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=t[1],o,u=null,h=null,p="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,u="(",h=")";break;case"\\\\bracefrac":o=!1,u="\\{",h="\\}";break;case"\\\\brackfrac":o=!1,u="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":p="display";break;case"\\tfrac":case"\\tbinom":p="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:u,rightDelim:h,size:p,barSize:null}},htmlBuilder:HA,mathmlBuilder:WA});nr({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});nr({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:n}}});DH=["display","text","script","scriptscript"],RH=a(function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r},"delimFromValue");nr({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],i=t[5],s=H5(t[0]),o=s.type==="atom"&&s.family==="open"?RH(s.text):null,u=H5(t[1]),h=u.type==="atom"&&u.family==="close"?RH(u.text):null,p=dn(t[2],"size"),g,v=null;p.isBlank?g=!0:(v=p.value,g=v.number>0);var x="auto",k=t[3];if(k.type==="ordgroup"){if(k.body.length>0){var E=dn(k.body[0],"textord");x=DH[Number(E.text)]}}else k=dn(k,"textord"),x=DH[Number(k.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:g,barSize:v,leftDelim:o,rightDelim:h,size:x}},htmlBuilder:HA,mathmlBuilder:WA});nr({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:dn(t[0],"size").value,token:i}}});nr({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=VTe(dn(t[1],"infix").size),o=t[2],u=s.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:o,continued:!1,hasBarLine:u,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:HA,mathmlBuilder:WA});_W=a((e,t)=>{var r=t.style,n,i;e.type==="supsub"?(n=e.sup?Gn(e.sup,t.havingStyle(r.sup()),t):Gn(e.sub,t.havingStyle(r.sub()),t),i=dn(e.base,"horizBrace")):i=dn(e,"horizBrace");var s=Gn(i.base,t.havingBaseStyle(Nr.DISPLAY)),o=Uh.svgSpan(i,t),u;if(i.isOver?(u=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},t),u.children[0].children[0].children[1].classes.push("svg-align")):(u=ot.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},t),u.children[0].children[0].children[0].classes.push("svg-align")),n){var h=ot.makeSpan(["mord",i.isOver?"mover":"munder"],[u],t);i.isOver?u=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:n}]},t):u=ot.makeVList({positionType:"bottom",positionData:h.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:h}]},t)}return ot.makeSpan(["mord",i.isOver?"mover":"munder"],[u],t)},"htmlBuilder$3"),c7e=a((e,t)=>{var r=Uh.mathMLnode(e.label);return new $t.MathNode(e.isOver?"mover":"munder",[gi(e.base,t),r])},"mathmlBuilder$2");nr({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:_W,mathmlBuilder:c7e});nr({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],i=dn(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:va(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=Ga(e.body,t,!1);return ot.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=id(e.body,t);return r instanceof Ho||(r=new Ho("mrow",[r])),r.setAttribute("href",e.href),r}});nr({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=dn(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<n.length;s++){var o=n[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var u={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:va(u)}}});nr({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:va(t[0])}},htmlBuilder(e,t){var r=Ga(e.body,t,!1);return ot.makeFragment(r)},mathmlBuilder(e,t){return new $t.MathNode("mrow",Yo(e.body,t))}});nr({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,token:i}=e,s=dn(t[0],"raw").string,o=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u,h={};switch(n){case"\\htmlClass":h.class=s,u={command:"\\htmlClass",class:s};break;case"\\htmlId":h.id=s,u={command:"\\htmlId",id:s};break;case"\\htmlStyle":h.style=s,u={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var p=s.split(","),g=0;g<p.length;g++){var v=p[g].split("=");if(v.length!==2)throw new Vt("Error parsing key-value for \\htmlData");h["data-"+v[0].trim()]=v[1].trim()}u={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(u)?{type:"html",mode:r.mode,attributes:h,body:va(o)}:r.formatUnsupportedCmd(n)},htmlBuilder:(e,t)=>{var r=Ga(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=ot.makeSpan(n,r,t);for(var s in e.attributes)s!=="class"&&e.attributes.hasOwnProperty(s)&&i.setAttribute(s,e.attributes[s]);return i},mathmlBuilder:(e,t)=>id(e.body,t)});nr({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:va(t[0]),mathml:va(t[1])}},htmlBuilder:(e,t)=>{var r=Ga(e.html,t,!1);return ot.makeFragment(r)},mathmlBuilder:(e,t)=>id(e.mathml,t)});yA=a(function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new Vt("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!WH(n))throw new Vt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n},"sizeData");nr({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},u="";if(r[0])for(var h=dn(r[0],"raw").string,p=h.split(","),g=0;g<p.length;g++){var v=p[g].split("=");if(v.length===2){var x=v[1].trim();switch(v[0].trim()){case"alt":u=x;break;case"width":i=yA(x);break;case"height":s=yA(x);break;case"totalheight":o=yA(x);break;default:throw new Vt("Invalid key: '"+v[0]+"' in \\includegraphics.")}}}var k=dn(t[0],"url").url;return u===""&&(u=k,u=u.replace(/^.*[\\/]/,""),u=u.substring(0,u.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:k})?{type:"includegraphics",mode:n.mode,alt:u,width:i,height:s,totalheight:o,src:k}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=Yi(e.height,t),n=0;e.totalheight.number>0&&(n=Yi(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=Yi(e.width,t));var s={height:Kt(r+n)};i>0&&(s.width=Kt(i)),n>0&&(s.verticalAlign=Kt(-n));var o=new TA(e.src,e.alt,s);return o.height=r,o.depth=n,o},mathmlBuilder:(e,t)=>{var r=new $t.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=Yi(e.height,t),i=0;if(e.totalheight.number>0&&(i=Yi(e.totalheight,t)-n,r.setAttribute("valign",Kt(-i))),r.setAttribute("height",Kt(n+i)),e.width.number>0){var s=Yi(e.width,t);r.setAttribute("width",Kt(s))}return r.setAttribute("src",e.src),r}});nr({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=dn(t[0],"size");if(r.settings.strict){var s=n[1]==="m",o=i.value.unit==="mu";s?(o||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(e,t){return ot.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=Yi(e.dimension,t);return new $t.SpaceNode(r)}});nr({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(e,t)=>{var r;e.alignment==="clap"?(r=ot.makeSpan([],[Gn(e.body,t)]),r=ot.makeSpan(["inner"],[r],t)):r=ot.makeSpan(["inner"],[Gn(e.body,t)]);var n=ot.makeSpan(["fix"],[]),i=ot.makeSpan([e.alignment],[r,n],t),s=ot.makeSpan(["strut"]);return s.style.height=Kt(i.height+i.depth),i.depth&&(s.style.verticalAlign=Kt(-i.depth)),i.children.unshift(s),i=ot.makeSpan(["thinbox"],[i],t),ot.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var r=new $t.MathNode("mpadded",[gi(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});nr({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var s=r==="\\("?"\\)":"$",o=n.parseExpression(!1,s);return n.expect(s),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:o}}});nr({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new Vt("Mismatched "+e.funcName)}});IH=a((e,t)=>{switch(t.style.size){case Nr.DISPLAY.size:return e.display;case Nr.TEXT.size:return e.text;case Nr.SCRIPT.size:return e.script;case Nr.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}},"chooseMathStyle");nr({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:va(t[0]),text:va(t[1]),script:va(t[2]),scriptscript:va(t[3])}},htmlBuilder:(e,t)=>{var r=IH(e,t),n=Ga(r,t,!1);return ot.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=IH(e,t);return id(r,t)}});AW=a((e,t,r,n,i,s,o)=>{e=ot.makeSpan([],[e]);var u=r&&Dr.isCharacterBox(r),h,p;if(t){var g=Gn(t,n.havingStyle(i.sup()),n);p={elem:g,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-g.depth)}}if(r){var v=Gn(r,n.havingStyle(i.sub()),n);h={elem:v,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-v.height)}}var x;if(p&&h){var k=n.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+e.depth+o;x=ot.makeVList({positionType:"bottom",positionData:k,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:Kt(-s)},{type:"kern",size:h.kern},{type:"elem",elem:e},{type:"kern",size:p.kern},{type:"elem",elem:p.elem,marginLeft:Kt(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(h){var E=e.height-o;x=ot.makeVList({positionType:"top",positionData:E,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:Kt(-s)},{type:"kern",size:h.kern},{type:"elem",elem:e}]},n)}else if(p){var _=e.depth+o;x=ot.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:e},{type:"kern",size:p.kern},{type:"elem",elem:p.elem,marginLeft:Kt(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var N=[x];if(h&&s!==0&&!u){var M=ot.makeSpan(["mspace"],[],n);M.style.marginRight=Kt(s),N.unshift(M)}return ot.makeSpan(["mop","op-limits"],N,n)},"assembleSupSub"),LW=["\\smallint"],pg=a((e,t)=>{var r,n,i=!1,s;e.type==="supsub"?(r=e.sup,n=e.sub,s=dn(e.base,"op"),i=!0):s=dn(e,"op");var o=t.style,u=!1;o.size===Nr.DISPLAY.size&&s.symbol&&!Dr.contains(LW,s.name)&&(u=!0);var h;if(s.symbol){var p=u?"Size2-Regular":"Size1-Regular",g="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(g=s.name.slice(1),s.name=g==="oiint"?"\\iint":"\\iiint"),h=ot.makeSymbol(s.name,p,"math",t,["mop","op-symbol",u?"large-op":"small-op"]),g.length>0){var v=h.italic,x=ot.staticSvg(g+"Size"+(u?"2":"1"),t);h=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:x,shift:u?.08:0}]},t),s.name="\\"+g,h.classes.unshift("mop"),h.italic=v}}else if(s.body){var k=Ga(s.body,t,!0);k.length===1&&k[0]instanceof Wo?(h=k[0],h.classes[0]="mop"):h=ot.makeSpan(["mop"],k,t)}else{for(var E=[],_=1;_<s.name.length;_++)E.push(ot.mathsym(s.name[_],s.mode,t));h=ot.makeSpan(["mop"],E,t)}var N=0,M=0;return(h instanceof Wo||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(N=(h.height-h.depth)/2-t.fontMetrics().axisHeight,M=h.italic),i?AW(h,r,n,t,o,M,N):(N&&(h.style.position="relative",h.style.top=Kt(N)),h)},"htmlBuilder$2"),r2=a((e,t)=>{var r;if(e.symbol)r=new Ho("mo",[ru(e.name,e.mode)]),Dr.contains(LW,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Ho("mo",Yo(e.body,t));else{r=new Ho("mi",[new B0(e.name.slice(1))]);var n=new Ho("mo",[ru("\u2061","text")]);e.parentIsSupSub?r=new Ho("mrow",[r,n]):r=nW([r,n])}return r},"mathmlBuilder$1"),h7e={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};nr({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=n;return i.length===1&&(i=h7e[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:pg,mathmlBuilder:r2});nr({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:va(n)}},htmlBuilder:pg,mathmlBuilder:r2});f7e={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};nr({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:pg,mathmlBuilder:r2});nr({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:pg,mathmlBuilder:r2});nr({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=f7e[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:pg,mathmlBuilder:r2});DW=a((e,t)=>{var r,n,i=!1,s;e.type==="supsub"?(r=e.sup,n=e.sub,s=dn(e.base,"operatorname"),i=!0):s=dn(e,"operatorname");var o;if(s.body.length>0){for(var u=s.body.map(v=>{var x=v.text;return typeof x=="string"?{type:"textord",mode:v.mode,text:x}:v}),h=Ga(u,t.withFont("mathrm"),!0),p=0;p<h.length;p++){var g=h[p];g instanceof Wo&&(g.text=g.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=ot.makeSpan(["mop"],h,t)}else o=ot.makeSpan(["mop"],[],t);return i?AW(o,r,n,t,t.style,0,0):o},"htmlBuilder$1"),d7e=a((e,t)=>{for(var r=Yo(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var s=r[i];if(!(s instanceof $t.SpaceNode))if(s instanceof $t.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof $t.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var u=r.map(g=>g.toText()).join("");r=[new $t.TextNode(u)]}var h=new $t.MathNode("mi",r);h.setAttribute("mathvariant","normal");var p=new $t.MathNode("mo",[ru("\u2061","text")]);return e.parentIsSupSub?new $t.MathNode("mrow",[h,p]):$t.newDocumentFragment([h,p])},"mathmlBuilder");nr({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:va(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:DW,mathmlBuilder:d7e});ge("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");$0({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?ot.makeFragment(Ga(e.body,t,!1)):ot.makeSpan(["mord"],Ga(e.body,t,!0),t)},mathmlBuilder(e,t){return id(e.body,t,!0)}});nr({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=Gn(e.body,t.havingCrampedStyle()),n=ot.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,s=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return ot.makeSpan(["mord","overline"],[s],t)},mathmlBuilder(e,t){var r=new $t.MathNode("mo",[new $t.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new $t.MathNode("mover",[gi(e.body,t),r]);return n.setAttribute("accent","true"),n}});nr({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:va(n)}},htmlBuilder:(e,t)=>{var r=Ga(e.body,t.withPhantom(),!1);return ot.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=Yo(e.body,t);return new $t.MathNode("mphantom",r)}});nr({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=ot.makeSpan([],[Gn(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),ot.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=Yo(va(e.body),t),n=new $t.MathNode("mphantom",r),i=new $t.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});nr({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=ot.makeSpan(["inner"],[Gn(e.body,t.withPhantom())]),n=ot.makeSpan(["fix"],[]);return ot.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=Yo(va(e.body),t),n=new $t.MathNode("mphantom",r),i=new $t.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});nr({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=dn(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=Gn(e.body,t),n=Yi(e.dy,t);return ot.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new $t.MathNode("mpadded",[gi(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});nr({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});nr({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],s=dn(t[0],"size"),o=dn(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&dn(i,"size").value,width:s.value,height:o.value}},htmlBuilder(e,t){var r=ot.makeSpan(["mord","rule"],[],t),n=Yi(e.width,t),i=Yi(e.height,t),s=e.shift?Yi(e.shift,t):0;return r.style.borderRightWidth=Kt(n),r.style.borderTopWidth=Kt(i),r.style.bottom=Kt(s),r.width=n,r.height=i+s,r.depth=-s,r.maxFontSize=i*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=Yi(e.width,t),n=Yi(e.height,t),i=e.shift?Yi(e.shift,t):0,s=t.color&&t.getColor()||"black",o=new $t.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",Kt(r)),o.setAttribute("height",Kt(n));var u=new $t.MathNode("mpadded",[o]);return i>=0?u.setAttribute("height",Kt(i)):(u.setAttribute("height",Kt(i)),u.setAttribute("depth",Kt(-i))),u.setAttribute("voffset",Kt(i)),u}});a(RW,"sizingGroup");MH=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],p7e=a((e,t)=>{var r=t.havingSize(e.size);return RW(e.body,r,t)},"htmlBuilder");nr({type:"sizing",names:MH,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,s=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:MH.indexOf(n)+1,body:s}},htmlBuilder:p7e,mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=Yo(e.body,r),i=new $t.MathNode("mstyle",n);return i.setAttribute("mathsize",Kt(r.sizeMultiplier)),i}});nr({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,i=!1,s=!1,o=r[0]&&dn(r[0],"ordgroup");if(o)for(var u="",h=0;h<o.body.length;++h){var p=o.body[h];if(u=p.text,u==="t")i=!0;else if(u==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var g=t[0];return{type:"smash",mode:n.mode,body:g,smashHeight:i,smashDepth:s}},htmlBuilder:(e,t)=>{var r=ot.makeSpan([],[Gn(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var s=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return ot.makeSpan(["mord"],[s],t)},mathmlBuilder:(e,t)=>{var r=new $t.MathNode("mpadded",[gi(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}});nr({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],s=t[0];return{type:"sqrt",mode:n.mode,body:s,index:i}},htmlBuilder(e,t){var r=Gn(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=ot.wrapFragment(r,t);var n=t.fontMetrics(),i=n.defaultRuleThickness,s=i;t.style.id<Nr.TEXT.id&&(s=t.fontMetrics().xHeight);var o=i+s/4,u=r.height+r.depth+o+i,{span:h,ruleWidth:p,advanceWidth:g}=Vh.sqrtImage(u,t),v=h.height-p;v>r.height+r.depth+o&&(o=(o+v-r.height-r.depth)/2);var x=h.height-r.height-o-p;r.style.paddingLeft=Kt(g);var k=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+x)},{type:"elem",elem:h},{type:"kern",size:p}]},t);if(e.index){var E=t.havingStyle(Nr.SCRIPTSCRIPT),_=Gn(e.index,E,t),N=.6*(k.height-k.depth),M=ot.makeVList({positionType:"shift",positionData:-N,children:[{type:"elem",elem:_}]},t),P=ot.makeSpan(["root"],[M]);return ot.makeSpan(["mord","sqrt"],[P,k],t)}else return ot.makeSpan(["mord","sqrt"],[k],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new $t.MathNode("mroot",[gi(r,t),gi(n,t)]):new $t.MathNode("msqrt",[gi(r,t)])}});NH={display:Nr.DISPLAY,text:Nr.TEXT,script:Nr.SCRIPT,scriptscript:Nr.SCRIPTSCRIPT};nr({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,s=i.parseExpression(!0,r),o=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(e,t){var r=NH[e.style],n=t.havingStyle(r).withFont("");return RW(e.body,n,t)},mathmlBuilder(e,t){var r=NH[e.style],n=t.havingStyle(r),i=Yo(e.body,n),s=new $t.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},u=o[e.style];return s.setAttribute("scriptlevel",u[0]),s.setAttribute("displaystyle",u[1]),s}});m7e=a(function(t,r){var n=t.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===Nr.DISPLAY.size||n.alwaysHandleSupSub);return i?pg:null}else if(n.type==="operatorname"){var s=n.alwaysHandleSupSub&&(r.style.size===Nr.DISPLAY.size||n.limits);return s?DW:null}else{if(n.type==="accent")return Dr.isCharacterBox(n.base)?zA:null;if(n.type==="horizBrace"){var o=!t.sub;return o===n.isOver?_W:null}else return null}else return null},"htmlBuilderDelegate");$0({type:"supsub",htmlBuilder(e,t){var r=m7e(e,t);if(r)return r(e,t);var{base:n,sup:i,sub:s}=e,o=Gn(n,t),u,h,p=t.fontMetrics(),g=0,v=0,x=n&&Dr.isCharacterBox(n);if(i){var k=t.havingStyle(t.style.sup());u=Gn(i,k,t),x||(g=o.height-k.fontMetrics().supDrop*k.sizeMultiplier/t.sizeMultiplier)}if(s){var E=t.havingStyle(t.style.sub());h=Gn(s,E,t),x||(v=o.depth+E.fontMetrics().subDrop*E.sizeMultiplier/t.sizeMultiplier)}var _;t.style===Nr.DISPLAY?_=p.sup1:t.style.cramped?_=p.sup3:_=p.sup2;var N=t.sizeMultiplier,M=Kt(.5/p.ptPerEm/N),P=null;if(h){var V=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(o instanceof Wo||V)&&(P=Kt(-o.italic))}var H;if(u&&h){g=Math.max(g,_,u.depth+.25*p.xHeight),v=Math.max(v,p.sub2);var O=p.defaultRuleThickness,I=4*O;if(g-u.depth-(h.height-v)<I){v=I-(g-u.depth)+h.height;var z=.8*p.xHeight-(g-u.depth);z>0&&(g+=z,v-=z)}var G=[{type:"elem",elem:h,shift:v,marginRight:M,marginLeft:P},{type:"elem",elem:u,shift:-g,marginRight:M}];H=ot.makeVList({positionType:"individualShift",children:G},t)}else if(h){v=Math.max(v,p.sub1,h.height-.8*p.xHeight);var F=[{type:"elem",elem:h,marginLeft:P,marginRight:M}];H=ot.makeVList({positionType:"shift",positionData:v,children:F},t)}else if(u)g=Math.max(g,_,u.depth+.25*p.xHeight),H=ot.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:u,marginRight:M}]},t);else throw new Error("supsub must have either sup or sub.");var j=CA(o,"right")||"mord";return ot.makeSpan([j],[o,ot.makeSpan(["msupsub"],[H])],t)},mathmlBuilder(e,t){var r=!1,n,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var s=[gi(e.base,t)];e.sub&&s.push(gi(e.sub,t)),e.sup&&s.push(gi(e.sup,t));var o;if(r)o=n?"mover":"munder";else if(e.sub)if(e.sup){var p=e.base;p&&p.type==="op"&&p.limits&&t.style===Nr.DISPLAY||p&&p.type==="operatorname"&&p.alwaysHandleSupSub&&(t.style===Nr.DISPLAY||p.limits)?o="munderover":o="msubsup"}else{var h=e.base;h&&h.type==="op"&&h.limits&&(t.style===Nr.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||t.style===Nr.DISPLAY)?o="munder":o="msub"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===Nr.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Nr.DISPLAY)?o="mover":o="msup"}return new $t.MathNode(o,s)}});$0({type:"atom",htmlBuilder(e,t){return ot.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new $t.MathNode("mo",[ru(e.text,e.mode)]);if(e.family==="bin"){var n=BA(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});IW={mi:"italic",mn:"normal",mtext:"normal"};$0({type:"mathord",htmlBuilder(e,t){return ot.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new $t.MathNode("mi",[ru(e.text,e.mode,t)]),n=BA(e,t)||"italic";return n!==IW[r.type]&&r.setAttribute("mathvariant",n),r}});$0({type:"textord",htmlBuilder(e,t){return ot.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=ru(e.text,e.mode,t),n=BA(e,t)||"normal",i;return e.mode==="text"?i=new $t.MathNode("mtext",[r]):/[0-9]/.test(e.text)?i=new $t.MathNode("mn",[r]):e.text==="\\prime"?i=new $t.MathNode("mo",[r]):i=new $t.MathNode("mi",[r]),n!==IW[i.type]&&i.setAttribute("mathvariant",n),i}});vA={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},xA={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};$0({type:"spacing",htmlBuilder(e,t){if(xA.hasOwnProperty(e.text)){var r=xA[e.text].className||"";if(e.mode==="text"){var n=ot.makeOrd(e,t,"textord");return n.classes.push(r),n}else return ot.makeSpan(["mspace",r],[ot.mathsym(e.text,e.mode,t)],t)}else{if(vA.hasOwnProperty(e.text))return ot.makeSpan(["mspace",vA[e.text]],[],t);throw new Vt('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(xA.hasOwnProperty(e.text))r=new $t.MathNode("mtext",[new $t.TextNode("\xA0")]);else{if(vA.hasOwnProperty(e.text))return new $t.MathNode("mspace");throw new Vt('Unknown type of space "'+e.text+'"')}return r}});OH=a(()=>{var e=new $t.MathNode("mtd",[]);return e.setAttribute("width","50%"),e},"pad");$0({type:"tag",mathmlBuilder(e,t){var r=new $t.MathNode("mtable",[new $t.MathNode("mtr",[OH(),new $t.MathNode("mtd",[id(e.body,t)]),OH(),new $t.MathNode("mtd",[id(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});PH={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},BH={"\\textbf":"textbf","\\textmd":"textmd"},g7e={"\\textit":"textit","\\textup":"textup"},FH=a((e,t)=>{var r=e.font;return r?PH[r]?t.withTextFontFamily(PH[r]):BH[r]?t.withTextFontWeight(BH[r]):t.withTextFontShape(g7e[r]):t},"optionsWithFont");nr({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:va(i),font:n}},htmlBuilder(e,t){var r=FH(e,t),n=Ga(e.body,r,!0);return ot.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=FH(e,t);return id(e.body,r)}});nr({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Gn(e.body,t),n=ot.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,s=ot.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return ot.makeSpan(["mord","underline"],[s],t)},mathmlBuilder(e,t){var r=new $t.MathNode("mo",[new $t.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new $t.MathNode("munder",[gi(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});nr({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Gn(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return ot.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new $t.MathNode("mpadded",[gi(e.body,t)],["vcenter"])}});nr({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new Vt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=zH(e),n=[],i=t.havingStyle(t.style.text()),s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),n.push(ot.makeSymbol(o,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return ot.makeSpan(["mord","text"].concat(i.sizingClasses(t)),ot.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new $t.TextNode(zH(e)),n=new $t.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});zH=a(e=>e.body.replace(/ /g,e.star?"\u2423":"\xA0"),"makeVerb"),rd=tW,MW=`[ \r
	]`,y7e="\\\\[a-zA-Z@]+",v7e="\\\\[^\uD800-\uDFFF]",x7e="("+y7e+")"+MW+"*",b7e=`\\\\(
|[ \r	]+
?)[ \r	]*`,DA="[\u0300-\u036F]",k7e=new RegExp(DA+"+$"),w7e="("+MW+"+)|"+(b7e+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(DA+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(DA+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+x7e)+("|"+v7e+")"),W5=class{static{a(this,"Lexer")}constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(w7e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new tu("EOF",new Cl(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new Vt("Unexpected character: '"+t[r]+"'",new tu(t[r],new Cl(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=t.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new tu(i,new Cl(this,r,this.tokenRegex.lastIndex))}},RA=class{static{a(this,"Namespace")}constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Vt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(t)&&(s[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}},T7e=wW;ge("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});ge("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});ge("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});ge("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});ge("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});ge("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ge("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});$H={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ge("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new Vt("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=$H[t.text],n==null||n>=r)throw new Vt("Invalid base-"+r+" digit "+t.text);for(var i;(i=$H[e.future().text])!=null&&i<r;)n*=r,n+=i,e.popToken()}return"\\@char{"+n+"}"});YA=a((e,t,r)=>{var n=e.consumeArg().tokens;if(n.length!==1)throw new Vt("\\newcommand's first argument must be a macro name");var i=n[0].text,s=e.isDefined(i);if(s&&!t)throw new Vt("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!r)throw new Vt("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var o=0;if(n=e.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var u="",h=e.expandNextToken();h.text!=="]"&&h.text!=="EOF";)u+=h.text,h=e.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new Vt("Invalid number of arguments: "+u);o=parseInt(u),n=e.consumeArg().tokens}return e.macros.set(i,{tokens:n,numArgs:o}),""},"newcommand");ge("\\newcommand",e=>YA(e,!1,!0));ge("\\renewcommand",e=>YA(e,!0,!1));ge("\\providecommand",e=>YA(e,!0,!0));ge("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});ge("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});ge("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),rd[r],Si.math[r],Si.text[r]),""});ge("\\bgroup","{");ge("\\egroup","}");ge("~","\\nobreakspace");ge("\\lq","`");ge("\\rq","'");ge("\\aa","\\r a");ge("\\AA","\\r A");ge("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");ge("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ge("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");ge("\u212C","\\mathscr{B}");ge("\u2130","\\mathscr{E}");ge("\u2131","\\mathscr{F}");ge("\u210B","\\mathscr{H}");ge("\u2110","\\mathscr{I}");ge("\u2112","\\mathscr{L}");ge("\u2133","\\mathscr{M}");ge("\u211B","\\mathscr{R}");ge("\u212D","\\mathfrak{C}");ge("\u210C","\\mathfrak{H}");ge("\u2128","\\mathfrak{Z}");ge("\\Bbbk","\\Bbb{k}");ge("\xB7","\\cdotp");ge("\\llap","\\mathllap{\\textrm{#1}}");ge("\\rlap","\\mathrlap{\\textrm{#1}}");ge("\\clap","\\mathclap{\\textrm{#1}}");ge("\\mathstrut","\\vphantom{(}");ge("\\underbar","\\underline{\\text{#1}}");ge("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ge("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");ge("\\ne","\\neq");ge("\u2260","\\neq");ge("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");ge("\u2209","\\notin");ge("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");ge("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");ge("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");ge("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");ge("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");ge("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");ge("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");ge("\u27C2","\\perp");ge("\u203C","\\mathclose{!\\mkern-0.8mu!}");ge("\u220C","\\notni");ge("\u231C","\\ulcorner");ge("\u231D","\\urcorner");ge("\u231E","\\llcorner");ge("\u231F","\\lrcorner");ge("\xA9","\\copyright");ge("\xAE","\\textregistered");ge("\uFE0F","\\textregistered");ge("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ge("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ge("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ge("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ge("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");ge("\u22EE","\\vdots");ge("\\varGamma","\\mathit{\\Gamma}");ge("\\varDelta","\\mathit{\\Delta}");ge("\\varTheta","\\mathit{\\Theta}");ge("\\varLambda","\\mathit{\\Lambda}");ge("\\varXi","\\mathit{\\Xi}");ge("\\varPi","\\mathit{\\Pi}");ge("\\varSigma","\\mathit{\\Sigma}");ge("\\varUpsilon","\\mathit{\\Upsilon}");ge("\\varPhi","\\mathit{\\Phi}");ge("\\varPsi","\\mathit{\\Psi}");ge("\\varOmega","\\mathit{\\Omega}");ge("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ge("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ge("\\boxed","\\fbox{$\\displaystyle{#1}$}");ge("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ge("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ge("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");GH={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ge("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in GH?t=GH[r]:(r.slice(0,4)==="\\not"||r in Si.math&&Dr.contains(["bin","rel"],Si.math[r].group))&&(t="\\dotsb"),t});XA={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ge("\\dotso",function(e){var t=e.future().text;return t in XA?"\\ldots\\,":"\\ldots"});ge("\\dotsc",function(e){var t=e.future().text;return t in XA&&t!==","?"\\ldots\\,":"\\ldots"});ge("\\cdots",function(e){var t=e.future().text;return t in XA?"\\@cdots\\,":"\\@cdots"});ge("\\dotsb","\\cdots");ge("\\dotsm","\\cdots");ge("\\dotsi","\\!\\cdots");ge("\\dotsx","\\ldots\\,");ge("\\DOTSI","\\relax");ge("\\DOTSB","\\relax");ge("\\DOTSX","\\relax");ge("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ge("\\,","\\tmspace+{3mu}{.1667em}");ge("\\thinspace","\\,");ge("\\>","\\mskip{4mu}");ge("\\:","\\tmspace+{4mu}{.2222em}");ge("\\medspace","\\:");ge("\\;","\\tmspace+{5mu}{.2777em}");ge("\\thickspace","\\;");ge("\\!","\\tmspace-{3mu}{.1667em}");ge("\\negthinspace","\\!");ge("\\negmedspace","\\tmspace-{4mu}{.2222em}");ge("\\negthickspace","\\tmspace-{5mu}{.277em}");ge("\\enspace","\\kern.5em ");ge("\\enskip","\\hskip.5em\\relax");ge("\\quad","\\hskip1em\\relax");ge("\\qquad","\\hskip2em\\relax");ge("\\tag","\\@ifstar\\tag@literal\\tag@paren");ge("\\tag@paren","\\tag@literal{({#1})}");ge("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new Vt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ge("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ge("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ge("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ge("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ge("\\newline","\\\\\\relax");ge("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");NW=Kt(Fc["Main-Regular"][84][1]-.7*Fc["Main-Regular"][65][1]);ge("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+NW+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ge("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+NW+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ge("\\hspace","\\@ifstar\\@hspacer\\@hspace");ge("\\@hspace","\\hskip #1\\relax");ge("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ge("\\ordinarycolon",":");ge("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ge("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ge("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ge("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ge("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ge("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ge("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ge("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ge("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ge("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ge("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ge("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ge("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ge("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ge("\u2237","\\dblcolon");ge("\u2239","\\eqcolon");ge("\u2254","\\coloneqq");ge("\u2255","\\eqqcolon");ge("\u2A74","\\Coloneqq");ge("\\ratio","\\vcentcolon");ge("\\coloncolon","\\dblcolon");ge("\\colonequals","\\coloneqq");ge("\\coloncolonequals","\\Coloneqq");ge("\\equalscolon","\\eqqcolon");ge("\\equalscoloncolon","\\Eqqcolon");ge("\\colonminus","\\coloneq");ge("\\coloncolonminus","\\Coloneq");ge("\\minuscolon","\\eqcolon");ge("\\minuscoloncolon","\\Eqcolon");ge("\\coloncolonapprox","\\Colonapprox");ge("\\coloncolonsim","\\Colonsim");ge("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ge("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ge("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ge("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ge("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");ge("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ge("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ge("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ge("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ge("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ge("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ge("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ge("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ge("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");ge("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");ge("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");ge("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");ge("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");ge("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");ge("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");ge("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");ge("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");ge("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");ge("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");ge("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");ge("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");ge("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");ge("\\imath","\\html@mathml{\\@imath}{\u0131}");ge("\\jmath","\\html@mathml{\\@jmath}{\u0237}");ge("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");ge("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");ge("\u27E6","\\llbracket");ge("\u27E7","\\rrbracket");ge("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");ge("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");ge("\u2983","\\lBrace");ge("\u2984","\\rBrace");ge("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");ge("\u29B5","\\minuso");ge("\\darr","\\downarrow");ge("\\dArr","\\Downarrow");ge("\\Darr","\\Downarrow");ge("\\lang","\\langle");ge("\\rang","\\rangle");ge("\\uarr","\\uparrow");ge("\\uArr","\\Uparrow");ge("\\Uarr","\\Uparrow");ge("\\N","\\mathbb{N}");ge("\\R","\\mathbb{R}");ge("\\Z","\\mathbb{Z}");ge("\\alef","\\aleph");ge("\\alefsym","\\aleph");ge("\\Alpha","\\mathrm{A}");ge("\\Beta","\\mathrm{B}");ge("\\bull","\\bullet");ge("\\Chi","\\mathrm{X}");ge("\\clubs","\\clubsuit");ge("\\cnums","\\mathbb{C}");ge("\\Complex","\\mathbb{C}");ge("\\Dagger","\\ddagger");ge("\\diamonds","\\diamondsuit");ge("\\empty","\\emptyset");ge("\\Epsilon","\\mathrm{E}");ge("\\Eta","\\mathrm{H}");ge("\\exist","\\exists");ge("\\harr","\\leftrightarrow");ge("\\hArr","\\Leftrightarrow");ge("\\Harr","\\Leftrightarrow");ge("\\hearts","\\heartsuit");ge("\\image","\\Im");ge("\\infin","\\infty");ge("\\Iota","\\mathrm{I}");ge("\\isin","\\in");ge("\\Kappa","\\mathrm{K}");ge("\\larr","\\leftarrow");ge("\\lArr","\\Leftarrow");ge("\\Larr","\\Leftarrow");ge("\\lrarr","\\leftrightarrow");ge("\\lrArr","\\Leftrightarrow");ge("\\Lrarr","\\Leftrightarrow");ge("\\Mu","\\mathrm{M}");ge("\\natnums","\\mathbb{N}");ge("\\Nu","\\mathrm{N}");ge("\\Omicron","\\mathrm{O}");ge("\\plusmn","\\pm");ge("\\rarr","\\rightarrow");ge("\\rArr","\\Rightarrow");ge("\\Rarr","\\Rightarrow");ge("\\real","\\Re");ge("\\reals","\\mathbb{R}");ge("\\Reals","\\mathbb{R}");ge("\\Rho","\\mathrm{P}");ge("\\sdot","\\cdot");ge("\\sect","\\S");ge("\\spades","\\spadesuit");ge("\\sub","\\subset");ge("\\sube","\\subseteq");ge("\\supe","\\supseteq");ge("\\Tau","\\mathrm{T}");ge("\\thetasym","\\vartheta");ge("\\weierp","\\wp");ge("\\Zeta","\\mathrm{Z}");ge("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ge("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ge("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ge("\\bra","\\mathinner{\\langle{#1}|}");ge("\\ket","\\mathinner{|{#1}\\rangle}");ge("\\braket","\\mathinner{\\langle{#1}\\rangle}");ge("\\Bra","\\left\\langle#1\\right|");ge("\\Ket","\\left|#1\\right\\rangle");OW=a(e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,s=t.consumeArg().tokens,o=t.macros.get("|"),u=t.macros.get("\\|");t.macros.beginGroup();var h=a(v=>x=>{e&&(x.macros.set("|",o),i.length&&x.macros.set("\\|",u));var k=v;if(!v&&i.length){var E=x.future();E.text==="|"&&(x.popToken(),k=!0)}return{tokens:k?i:n,numArgs:0}},"midMacro");t.macros.set("|",h(!1)),i.length&&t.macros.set("\\|",h(!0));var p=t.consumeArg().tokens,g=t.expandTokens([...s,...p,...r]);return t.macros.endGroup(),{tokens:g.reverse(),numArgs:0}},"braketHelper");ge("\\bra@ket",OW(!1));ge("\\bra@set",OW(!0));ge("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ge("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ge("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ge("\\angln","{\\angl n}");ge("\\blue","\\textcolor{##6495ed}{#1}");ge("\\orange","\\textcolor{##ffa500}{#1}");ge("\\pink","\\textcolor{##ff00af}{#1}");ge("\\red","\\textcolor{##df0030}{#1}");ge("\\green","\\textcolor{##28ae7b}{#1}");ge("\\gray","\\textcolor{gray}{#1}");ge("\\purple","\\textcolor{##9d38bd}{#1}");ge("\\blueA","\\textcolor{##ccfaff}{#1}");ge("\\blueB","\\textcolor{##80f6ff}{#1}");ge("\\blueC","\\textcolor{##63d9ea}{#1}");ge("\\blueD","\\textcolor{##11accd}{#1}");ge("\\blueE","\\textcolor{##0c7f99}{#1}");ge("\\tealA","\\textcolor{##94fff5}{#1}");ge("\\tealB","\\textcolor{##26edd5}{#1}");ge("\\tealC","\\textcolor{##01d1c1}{#1}");ge("\\tealD","\\textcolor{##01a995}{#1}");ge("\\tealE","\\textcolor{##208170}{#1}");ge("\\greenA","\\textcolor{##b6ffb0}{#1}");ge("\\greenB","\\textcolor{##8af281}{#1}");ge("\\greenC","\\textcolor{##74cf70}{#1}");ge("\\greenD","\\textcolor{##1fab54}{#1}");ge("\\greenE","\\textcolor{##0d923f}{#1}");ge("\\goldA","\\textcolor{##ffd0a9}{#1}");ge("\\goldB","\\textcolor{##ffbb71}{#1}");ge("\\goldC","\\textcolor{##ff9c39}{#1}");ge("\\goldD","\\textcolor{##e07d10}{#1}");ge("\\goldE","\\textcolor{##a75a05}{#1}");ge("\\redA","\\textcolor{##fca9a9}{#1}");ge("\\redB","\\textcolor{##ff8482}{#1}");ge("\\redC","\\textcolor{##f9685d}{#1}");ge("\\redD","\\textcolor{##e84d39}{#1}");ge("\\redE","\\textcolor{##bc2612}{#1}");ge("\\maroonA","\\textcolor{##ffbde0}{#1}");ge("\\maroonB","\\textcolor{##ff92c6}{#1}");ge("\\maroonC","\\textcolor{##ed5fa6}{#1}");ge("\\maroonD","\\textcolor{##ca337c}{#1}");ge("\\maroonE","\\textcolor{##9e034e}{#1}");ge("\\purpleA","\\textcolor{##ddd7ff}{#1}");ge("\\purpleB","\\textcolor{##c6b9fc}{#1}");ge("\\purpleC","\\textcolor{##aa87ff}{#1}");ge("\\purpleD","\\textcolor{##7854ab}{#1}");ge("\\purpleE","\\textcolor{##543b78}{#1}");ge("\\mintA","\\textcolor{##f5f9e8}{#1}");ge("\\mintB","\\textcolor{##edf2df}{#1}");ge("\\mintC","\\textcolor{##e0e5cc}{#1}");ge("\\grayA","\\textcolor{##f6f7f7}{#1}");ge("\\grayB","\\textcolor{##f0f1f2}{#1}");ge("\\grayC","\\textcolor{##e3e5e6}{#1}");ge("\\grayD","\\textcolor{##d6d8da}{#1}");ge("\\grayE","\\textcolor{##babec2}{#1}");ge("\\grayF","\\textcolor{##888d93}{#1}");ge("\\grayG","\\textcolor{##626569}{#1}");ge("\\grayH","\\textcolor{##3b3e40}{#1}");ge("\\grayI","\\textcolor{##21242c}{#1}");ge("\\kaBlue","\\textcolor{##314453}{#1}");ge("\\kaGreen","\\textcolor{##71B307}{#1}");PW={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},IA=class{static{a(this,"MacroExpander")}constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new RA(T7e,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new W5(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new tu("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var i=this.future(),s,o=0,u=0;do{if(s=this.popToken(),r.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new Vt("Extra }",s)}else if(s.text==="EOF")throw new Vt("Unexpected end of input in a macro argument, expected '"+(t&&n?t[u]:"}")+"'",s);if(t&&n)if((o===0||o===1&&t[u]==="{")&&s.text===t[u]){if(++u,u===t.length){r.splice(-u,u);break}}else u=0}while(o!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:s}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new Vt("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var s=this.popToken();if(n[i]!==s.text)throw new Vt("Use of the macro doesn't match its definition",s)}}for(var o=[],u=0;u<t;u++)o.push(this.consumeArg(r&&r[u+1]).tokens);return o}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new Vt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||t&&i.unexpandable){if(t&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new Vt("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var u=s.length-1;u>=0;--u){var h=s[u];if(h.text==="#"){if(u===0)throw new Vt("Incomplete placeholder at end of macro body",h);if(h=s[--u],h.text==="#")s.splice(u+1,1);else if(/^[1-9]$/.test(h.text))s.splice(u,2,...o[+h.text-1]);else throw new Vt("Not a valid argument number",h)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new tu(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var u=new W5(i,this.settings),h=[],p=u.lex();p.text!=="EOF";)h.push(p),p=u.lex();h.reverse();var g={tokens:h,numArgs:s};return g}return i}isDefined(t){return this.macros.has(t)||rd.hasOwnProperty(t)||Si.math.hasOwnProperty(t)||Si.text.hasOwnProperty(t)||PW.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:rd.hasOwnProperty(t)&&!rd[t].primitive}},VH=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,B5=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),bA={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},qH={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"},Y5=class e{static{a(this,"Parser")}constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new IA(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new Vt("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new tu("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(e.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||t&&rd[i.text]&&rd[i.text].infix)break;var s=this.parseAtom(r);if(s){if(s.type==="internal")continue}else break;n.push(s)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,i=0;i<t.length;i++)if(t[i].type==="infix"){if(r!==-1)throw new Vt("only one infix operator per group",t[i].token);r=i,n=t[i].replaceWith}if(r!==-1&&n){var s,o,u=t.slice(0,r),h=t.slice(r+1);u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u},h.length===1&&h[0].type==="ordgroup"?o=h[0]:o={type:"ordgroup",mode:this.mode,body:h};var p;return n==="\\\\abovefrac"?p=this.callFunction(n,[s,t[r],o],[]):p=this.callFunction(n,[s,o],[]),[p]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new Vt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var i={type:"text",mode:this.mode,body:r},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(t){var r=this.parseGroup("atom",t);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(r&&r.type==="op"){var o=s.text==="\\limits";r.limits=o,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=s.text==="\\limits");else throw new Vt("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(n)throw new Vt("Double superscript",s);n=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Vt("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(n)throw new Vt("Double superscript",s);var u={type:"textord",mode:this.mode,text:"\\prime"},h=[u];for(this.consume();this.fetch().text==="'";)h.push(u),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:h}}else if(B5[s.text]){var p=VH.test(s.text),g=[];for(g.push(new tu(B5[s.text])),this.consume();;){var v=this.fetch().text;if(!B5[v]||VH.test(v)!==p)break;g.unshift(new tu(B5[v])),this.consume()}var x=this.subparse(g);p?i={type:"ordgroup",mode:"math",body:x}:n={type:"ordgroup",mode:"math",body:x}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(t,r){var n=this.fetch(),i=n.text,s=rd[i];if(!s)return null;if(this.consume(),r&&r!=="atom"&&!s.allowedInArgument)throw new Vt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!s.allowedInText)throw new Vt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&s.allowedInMath===!1)throw new Vt("Can't use function '"+i+"' in math mode",n);var{args:o,optArgs:u}=this.parseArguments(i,s);return this.callFunction(i,o,u,n,t)}callFunction(t,r,n,i,s){var o={funcName:t,parser:this,token:i,breakOnTokenText:s},u=rd[t];if(u&&u.handler)return u.handler(o,r,n);throw new Vt("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<n;o++){var u=r.argTypes&&r.argTypes[o],h=o<r.numOptionalArgs;(r.primitive&&u==null||r.type==="sqrt"&&o===1&&s[0]==null)&&(u="primitive");var p=this.parseGroupOfType("argument to '"+t+"'",u,h);if(h)s.push(p);else if(p!=null)i.push(p);else throw new Vt("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",n);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(n)throw new Vt("A primitive argument cannot be optional");var o=this.parseGroup(t);if(o==null)throw new Vt("Expected group as "+t,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Vt("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(t,r){for(var n=this.fetch(),i=n,s="",o;(o=this.fetch()).text!=="EOF"&&t.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new Vt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,s)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Vt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Vt("Invalid size: '"+r.text+"'",r);var s={number:+(i[1]+i[2]),unit:i[3]};if(!WH(s))throw new Vt("Invalid unit: '"+s.unit+"'",r);return{type:"size",mode:this.mode,value:s,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:s};return r&&this.switchMode(i),o}parseGroup(t,r){var n=this.fetch(),i=n.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var u=this.parseExpression(!1,o),h=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Cl.range(n,h),body:u,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(r,t)||this.parseSymbol(),s==null&&i[0]==="\\"&&!PW.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Vt("Undefined control sequence: "+i,n);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var i=t[n],s=i.text;s==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:Cl.range(i,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:Cl.range(i,t[n+1]),text:"--"}),r-=1)),(s==="'"||s==="`")&&t[n+1].text===s&&(t.splice(n,2,{type:"textord",mode:"text",loc:Cl.range(i,t[n+1]),text:s+s}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Vt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}qH.hasOwnProperty(r[0])&&!Si[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=qH[r[0]]+r.slice(1));var s=k7e.exec(r);s&&(r=r.substring(0,s.index),r==="i"?r="\u0131":r==="j"&&(r="\u0237"));var o;if(Si[this.mode][r]){this.settings.strict&&this.mode==="math"&&EA.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var u=Si[this.mode][r].group,h=Cl.range(t),p;if(pEe.hasOwnProperty(u)){var g=u;p={type:"atom",mode:this.mode,family:g,loc:h,text:r}}else p={type:u,mode:this.mode,loc:h,text:r};o=p}else if(r.charCodeAt(0)>=128)this.settings.strict&&(HH(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),o={type:"textord",mode:"text",loc:Cl.range(t),text:r};else return null;if(this.consume(),s)for(var v=0;v<s[0].length;v++){var x=s[0][v];if(!bA[x])throw new Vt("Unknown accent ' "+x+"'",t);var k=bA[x][this.mode]||bA[x].text;if(!k)throw new Vt("Accent "+x+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:Cl.range(t),label:k,isStretchy:!1,isShifty:!0,base:o}}return o}};Y5.endOfExpression=["}","\\endgroup","\\end","\\right","&"];jA=a(function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Y5(t,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Vt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new tu("\\df@tag")])}]}return i},"parseTree"),BW=a(function(t,r,n){r.textContent="";var i=KA(t,n).toNode();r.appendChild(i)},"render");typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),BW=a(function(){throw new Vt("KaTeX doesn't work in quirks mode.")},"render"));E7e=a(function(t,r){var n=KA(t,r).toMarkup();return n},"renderToString"),C7e=a(function(t,r){var n=new Qv(r);return jA(t,n)},"generateParseTree"),FW=a(function(t,r,n){if(n.throwOnError||!(t instanceof Vt))throw t;var i=ot.makeSpan(["katex-error"],[new Wo(r)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+n.errorColor),i},"renderError"),KA=a(function(t,r){var n=new Qv(r);try{var i=jA(t,n);return PEe(i,t,n)}catch(s){return FW(s,t,n)}},"renderToDomTree"),S7e=a(function(t,r){var n=new Qv(r);try{var i=jA(t,n);return BEe(i,t,n)}catch(s){return FW(s,t,n)}},"renderToHTMLTree"),_7e={version:"0.16.10",render:BW,renderToString:E7e,ParseError:Vt,SETTINGS_SCHEMA:F5,__parse:C7e,__renderToDomTree:KA,__renderToHTMLTree:S7e,__setFontMetrics:lEe,__defineSymbol:W,__defineFunction:nr,__defineMacro:ge,__domTree:{Span:z0,Anchor:Jv,SymbolNode:Wo,SvgNode:Qu,PathNode:zc,LineNode:e2}}});function D7e(){let e="data-temp-href-target";mg.default.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")||"")}),mg.default.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)||""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}var mg,G0,A7e,L7e,qW,GW,ai,R7e,I7e,M7e,N7e,UW,O7e,yi,P7e,B7e,sd,QA,F7e,z7e,VW,ZA,Xo,V0,qc,Ct,Ln=L(()=>{"use strict";mg=_s(lA(),1),G0=/<br\s*\/?>/gi,A7e=a(e=>e?UW(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),L7e=(()=>{let e=!1;return()=>{e||(D7e(),e=!0)}})();a(D7e,"setupDompurifyHooks");qW=a(e=>(L7e(),mg.default.sanitize(e)),"removeScript"),GW=a((e,t)=>{if(t.flowchart?.htmlLabels!==!1){let r=t.securityLevel;r==="antiscript"||r==="strict"?e=qW(e):r!=="loose"&&(e=UW(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=N7e(e))}return e},"sanitizeMore"),ai=a((e,t)=>e&&(t.dompurifyConfig?e=mg.default.sanitize(GW(e,t),t.dompurifyConfig).toString():e=mg.default.sanitize(GW(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),R7e=a((e,t)=>typeof e=="string"?ai(e,t):e.flat().map(r=>ai(r,t)),"sanitizeTextOrArray"),I7e=a(e=>G0.test(e),"hasBreaks"),M7e=a(e=>e.split(G0),"splitBreaks"),N7e=a(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),UW=a(e=>e.replace(G0,"#br#"),"breakToPlaceholder"),O7e=a(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),yi=a(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),P7e=a(function(...e){let t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),B7e=a(function(...e){let t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),sd=a(function(e){let t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){let s=t[n-1],o=t[n+1];F7e(s,o)&&(i=s+","+o,n++,r.pop())}r.push(z7e(i))}return r.join("")},"parseGenericTypes"),QA=a((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),F7e=a((e,t)=>{let r=QA(e,"~"),n=QA(t,"~");return r===1&&n===1},"shouldCombineSets"),z7e=a(e=>{let t=QA(e,"~"),r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);let n=[...e],i=n.indexOf("~"),s=n.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)n[i]="<",n[s]=">",i=n.indexOf("~"),s=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),VW=a(()=>window.MathMLElement!==void 0,"isMathMLSupported"),ZA=/\$\$(.*)\$\$/g,Xo=a(e=>(e.match(ZA)?.length??0)>0,"hasKatex"),V0=a(async(e,t)=>{e=await qc(e,t);let r=document.createElement("div");r.innerHTML=e,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);let i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),qc=a(async(e,t)=>{if(!Xo(e))return e;if(!(VW()||t.legacyMathML||t.forceLegacyMathML))return e.replace(ZA,"MathML is unsupported in this environment.");let{default:r}=await Promise.resolve().then(()=>($W(),zW)),n=t.forceLegacyMathML||!VW()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(G0).map(i=>Xo(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(ZA,(i,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),Ct={getRows:A7e,sanitizeText:ai,sanitizeTextOrArray:R7e,hasBreaks:I7e,splitBreaks:M7e,lineBreakRegex:G0,removeScript:qW,getUrl:O7e,evaluate:yi,getMax:P7e,getMin:B7e}});var ek,HW,WW=L(()=>{"use strict";ek={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*6*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;let i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return ek.hue2rgb(s,i,e+.3333333333333333)*255;case"g":return ek.hue2rgb(s,i,e)*255;case"b":return ek.hue2rgb(s,i,e-.3333333333333333)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;let i=Math.max(e,t,r),s=Math.min(e,t,r),o=(i+s)/2;if(n==="l")return o*100;if(i===s)return 0;let u=i-s,h=o>.5?u/(2-i-s):u/(i+s);if(n==="s")return h*100;switch(i){case e:return((t-r)/u+(t<r?6:0))*60;case t:return((r-e)/u+2)*60;case r:return((e-t)/u+4)*60;default:return-1}}},HW=ek});var $7e,YW,XW=L(()=>{"use strict";$7e={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},YW=$7e});var G7e,jW,KW=L(()=>{"use strict";G7e={dec2hex:e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},jW=G7e});var V7e,Er,Uc=L(()=>{"use strict";WW();XW();KW();V7e={channel:HW,lang:YW,unit:jW},Er=V7e});var Wh,Va,n2=L(()=>{"use strict";Uc();Wh={};for(let e=0;e<=255;e++)Wh[e]=Er.unit.dec2hex(e);Va={ALL:0,RGB:1,HSL:2}});var JA,QW,ZW=L(()=>{"use strict";n2();JA=class{static{a(this,"Type")}constructor(){this.type=Va.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Va.ALL}is(t){return this.type===t}},QW=JA});var e9,JW,eY=L(()=>{"use strict";Uc();ZW();n2();e9=class{static{a(this,"Channels")}constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new QW}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=Va.ALL,this}_ensureHSL(){let t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=Er.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=Er.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=Er.channel.rgb2hsl(t,"l"))}_ensureRGB(){let t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=Er.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=Er.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=Er.channel.hsl2rgb(t,"b"))}get r(){let t=this.data,r=t.r;return!this.type.is(Va.HSL)&&r!==void 0?r:(this._ensureHSL(),Er.channel.hsl2rgb(t,"r"))}get g(){let t=this.data,r=t.g;return!this.type.is(Va.HSL)&&r!==void 0?r:(this._ensureHSL(),Er.channel.hsl2rgb(t,"g"))}get b(){let t=this.data,r=t.b;return!this.type.is(Va.HSL)&&r!==void 0?r:(this._ensureHSL(),Er.channel.hsl2rgb(t,"b"))}get h(){let t=this.data,r=t.h;return!this.type.is(Va.RGB)&&r!==void 0?r:(this._ensureRGB(),Er.channel.rgb2hsl(t,"h"))}get s(){let t=this.data,r=t.s;return!this.type.is(Va.RGB)&&r!==void 0?r:(this._ensureRGB(),Er.channel.rgb2hsl(t,"s"))}get l(){let t=this.data,r=t.l;return!this.type.is(Va.RGB)&&r!==void 0?r:(this._ensureRGB(),Er.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Va.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Va.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Va.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Va.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Va.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Va.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}},JW=e9});var q7e,od,i2=L(()=>{"use strict";eY();q7e=new JW({r:0,g:0,b:0,a:0},"transparent"),od=q7e});var tY,q0,t9=L(()=>{"use strict";i2();n2();tY={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;let t=e.match(tY.re);if(!t)return;let r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,o=i>4,u=o?1:17,h=o?8:4,p=s?0:-1,g=o?255:15;return od.set({r:(n>>h*(p+3)&g)*u,g:(n>>h*(p+2)&g)*u,b:(n>>h*(p+1)&g)*u,a:s?(n&g)*u/255:1},e)},stringify:e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`#${Wh[Math.round(t)]}${Wh[Math.round(r)]}${Wh[Math.round(n)]}${Wh[Math.round(i*255)]}`:`#${Wh[Math.round(t)]}${Wh[Math.round(r)]}${Wh[Math.round(n)]}`}},q0=tY});var tk,a2,rY=L(()=>{"use strict";Uc();i2();tk={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{let t=e.match(tk.hueRe);if(t){let[,r,n]=t;switch(n){case"grad":return Er.channel.clamp.h(parseFloat(r)*.9);case"rad":return Er.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Er.channel.clamp.h(parseFloat(r)*360)}}return Er.channel.clamp.h(parseFloat(e))},parse:e=>{let t=e.charCodeAt(0);if(t!==104&&t!==72)return;let r=e.match(tk.re);if(!r)return;let[,n,i,s,o,u]=r;return od.set({h:tk._hue2deg(n),s:Er.channel.clamp.s(parseFloat(i)),l:Er.channel.clamp.l(parseFloat(s)),a:o?Er.channel.clamp.a(u?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{let{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${Er.lang.round(t)}, ${Er.lang.round(r)}%, ${Er.lang.round(n)}%, ${i})`:`hsl(${Er.lang.round(t)}, ${Er.lang.round(r)}%, ${Er.lang.round(n)}%)`}},a2=tk});var rk,r9,nY=L(()=>{"use strict";t9();rk={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();let t=rk.colors[e];if(t)return q0.parse(t)},stringify:e=>{let t=q0.stringify(e);for(let r in rk.colors)if(rk.colors[r]===t)return r}},r9=rk});var iY,s2,aY=L(()=>{"use strict";Uc();i2();iY={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{let t=e.charCodeAt(0);if(t!==114&&t!==82)return;let r=e.match(iY.re);if(!r)return;let[,n,i,s,o,u,h,p,g]=r;return od.set({r:Er.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Er.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:Er.channel.clamp.b(h?parseFloat(u)*2.55:parseFloat(u)),a:p?Er.channel.clamp.a(g?parseFloat(p)/100:parseFloat(p)):1},e)},stringify:e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${Er.lang.round(t)}, ${Er.lang.round(r)}, ${Er.lang.round(n)}, ${Er.lang.round(i)})`:`rgb(${Er.lang.round(t)}, ${Er.lang.round(r)}, ${Er.lang.round(n)})`}},s2=iY});var U7e,qa,Yh=L(()=>{"use strict";t9();rY();nY();aY();n2();U7e={format:{keyword:r9,hex:q0,rgb:s2,rgba:s2,hsl:a2,hsla:a2},parse:e=>{if(typeof e!="string")return e;let t=q0.parse(e)||s2.parse(e)||a2.parse(e)||r9.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Va.HSL)||e.data.r===void 0?a2.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?s2.stringify(e):q0.stringify(e)},qa=U7e});var H7e,nk,n9=L(()=>{"use strict";Uc();Yh();H7e=a((e,t)=>{let r=qa.parse(e);for(let n in t)r[n]=Er.channel.clamp[n](t[n]);return qa.stringify(r)},"change"),nk=H7e});var W7e,_l,i9=L(()=>{"use strict";Uc();i2();Yh();n9();W7e=a((e,t,r=0,n=1)=>{if(typeof e!="number")return nk(e,{a:t});let i=od.set({r:Er.channel.clamp.r(e),g:Er.channel.clamp.g(t),b:Er.channel.clamp.b(r),a:Er.channel.clamp.a(n)});return qa.stringify(i)},"rgba"),_l=W7e});var Y7e,o2,sY=L(()=>{"use strict";Uc();Yh();Y7e=a((e,t)=>Er.lang.round(qa.parse(e)[t]),"channel"),o2=Y7e});var X7e,oY,lY=L(()=>{"use strict";Uc();Yh();X7e=a(e=>{let{r:t,g:r,b:n}=qa.parse(e),i=.2126*Er.channel.toLinear(t)+.7152*Er.channel.toLinear(r)+.0722*Er.channel.toLinear(n);return Er.lang.round(i)},"luminance"),oY=X7e});var j7e,uY,cY=L(()=>{"use strict";lY();j7e=a(e=>oY(e)>=.5,"isLight"),uY=j7e});var K7e,xo,hY=L(()=>{"use strict";cY();K7e=a(e=>!uY(e),"isDark"),xo=K7e});var Q7e,ik,a9=L(()=>{"use strict";Uc();Yh();Q7e=a((e,t,r)=>{let n=qa.parse(e),i=n[t],s=Er.channel.clamp[t](i+r);return i!==s&&(n[t]=s),qa.stringify(n)},"adjustChannel"),ik=Q7e});var Z7e,ur,fY=L(()=>{"use strict";a9();Z7e=a((e,t)=>ik(e,"l",t),"lighten"),ur=Z7e});var J7e,gr,dY=L(()=>{"use strict";a9();J7e=a((e,t)=>ik(e,"l",-t),"darken"),gr=J7e});var eCe,rt,pY=L(()=>{"use strict";Yh();n9();eCe=a((e,t)=>{let r=qa.parse(e),n={};for(let i in t)t[i]&&(n[i]=r[i]+t[i]);return nk(e,n)},"adjust"),rt=eCe});var tCe,mY,gY=L(()=>{"use strict";Yh();i9();tCe=a((e,t,r=50)=>{let{r:n,g:i,b:s,a:o}=qa.parse(e),{r:u,g:h,b:p,a:g}=qa.parse(t),v=r/100,x=v*2-1,k=o-g,_=((x*k===-1?x:(x+k)/(1+x*k))+1)/2,N=1-_,M=n*_+u*N,P=i*_+h*N,V=s*_+p*N,H=o*v+g*(1-v);return _l(M,P,V,H)},"mix"),mY=tCe});var rCe,jt,yY=L(()=>{"use strict";Yh();gY();rCe=a((e,t=100)=>{let r=qa.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,mY(r,e,t)},"invert"),jt=rCe});var vY=L(()=>{"use strict";i9();sY();hY();fY();dY();pY();yY()});var Zu=L(()=>{"use strict";vY()});var Aa,gg=L(()=>{"use strict";Zu();Aa=a((e,t)=>t?rt(e,{s:-40,l:10}):rt(e,{s:-40,l:-10}),"mkBorder")});var ld,ud,l2=L(()=>{"use strict";ld="#ffffff",ud="#f2f2f2"});var s9,bY,kY=L(()=>{"use strict";Zu();gg();l2();s9=class{static{a(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||rt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||rt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Aa(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Aa(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Aa(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Aa(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||jt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||jt(this.tertiaryColor),this.lineColor=this.lineColor||jt(this.background),this.arrowheadColor=this.arrowheadColor||jt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?gr(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||gr(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||jt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||ur(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||rt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||rt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||rt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||rt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||rt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||rt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||rt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||rt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||rt(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=gr(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=gr(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||jt(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||ur(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||gr(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;let t=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||rt(this.mainBkg,{h:180,s:-15,l:t*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||rt(this.mainBkg,{h:180,s:-15,l:t*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||rt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||rt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||rt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||rt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||rt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||rt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||rt(this.primaryColor,{l:-10}),this.pie5=this.pie5||rt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||rt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||rt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||rt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||rt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||rt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||rt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||rt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||rt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||rt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||rt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||rt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||rt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||rt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||xo(this.quadrant1Fill)?ur(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?gr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||rt(this.primaryColor,{h:-30}),this.git4=this.git4||rt(this.primaryColor,{h:-60}),this.git5=this.git5||rt(this.primaryColor,{h:-90}),this.git6=this.git6||rt(this.primaryColor,{h:60}),this.git7=this.git7||rt(this.primaryColor,{h:120}),this.darkMode?(this.git0=ur(this.git0,25),this.git1=ur(this.git1,25),this.git2=ur(this.git2,25),this.git3=ur(this.git3,25),this.git4=ur(this.git4,25),this.git5=ur(this.git5,25),this.git6=ur(this.git6,25),this.git7=ur(this.git7,25)):(this.git0=gr(this.git0,25),this.git1=gr(this.git1,25),this.git2=gr(this.git2,25),this.git3=gr(this.git3,25),this.git4=gr(this.git4,25),this.git5=gr(this.git5,25),this.git6=gr(this.git6,25),this.git7=gr(this.git7,25)),this.gitInv0=this.gitInv0||jt(this.git0),this.gitInv1=this.gitInv1||jt(this.git1),this.gitInv2=this.gitInv2||jt(this.git2),this.gitInv3=this.gitInv3||jt(this.git3),this.gitInv4=this.gitInv4||jt(this.git4),this.gitInv5=this.gitInv5||jt(this.git5),this.gitInv6=this.gitInv6||jt(this.git6),this.gitInv7=this.gitInv7||jt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ld,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ud}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},bY=a(e=>{let t=new s9;return t.calculate(e),t},"getThemeVariables")});var o9,wY,TY=L(()=>{"use strict";Zu();gg();o9=class{static{a(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=ur(this.primaryColor,16),this.tertiaryColor=rt(this.primaryColor,{h:-160}),this.primaryBorderColor=jt(this.background),this.secondaryBorderColor=Aa(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Aa(this.tertiaryColor,this.darkMode),this.primaryTextColor=jt(this.primaryColor),this.secondaryTextColor=jt(this.secondaryColor),this.tertiaryTextColor=jt(this.tertiaryColor),this.lineColor=jt(this.background),this.textColor=jt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=ur(jt("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=_l(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=gr("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=gr(this.sectionBkgColor,10),this.taskBorderColor=_l(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=_l(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=ur(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=ur(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=ur(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=rt(this.primaryColor,{h:64}),this.fillType3=rt(this.secondaryColor,{h:64}),this.fillType4=rt(this.primaryColor,{h:-64}),this.fillType5=rt(this.secondaryColor,{h:-64}),this.fillType6=rt(this.primaryColor,{h:128}),this.fillType7=rt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||rt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||rt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||rt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||rt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||rt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||rt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||rt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||rt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||rt(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||jt(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||ur(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||rt(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||rt(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||rt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||rt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||rt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||rt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||rt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||rt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||xo(this.quadrant1Fill)?ur(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?gr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ur(this.secondaryColor,20),this.git1=ur(this.pie2||this.secondaryColor,20),this.git2=ur(this.pie3||this.tertiaryColor,20),this.git3=ur(this.pie4||rt(this.primaryColor,{h:-30}),20),this.git4=ur(this.pie5||rt(this.primaryColor,{h:-60}),20),this.git5=ur(this.pie6||rt(this.primaryColor,{h:-90}),10),this.git6=ur(this.pie7||rt(this.primaryColor,{h:60}),10),this.git7=ur(this.pie8||rt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||jt(this.git0),this.gitInv1=this.gitInv1||jt(this.git1),this.gitInv2=this.gitInv2||jt(this.git2),this.gitInv3=this.gitInv3||jt(this.git3),this.gitInv4=this.gitInv4||jt(this.git4),this.gitInv5=this.gitInv5||jt(this.git5),this.gitInv6=this.gitInv6||jt(this.git6),this.gitInv7=this.gitInv7||jt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||jt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||jt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ur(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ur(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},wY=a(e=>{let t=new o9;return t.calculate(e),t},"getThemeVariables")});var l9,yg,ak=L(()=>{"use strict";Zu();gg();l2();l9=class{static{a(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=rt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=rt(this.primaryColor,{h:-160}),this.primaryBorderColor=Aa(this.primaryColor,this.darkMode),this.secondaryBorderColor=Aa(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Aa(this.tertiaryColor,this.darkMode),this.primaryTextColor=jt(this.primaryColor),this.secondaryTextColor=jt(this.secondaryColor),this.tertiaryTextColor=jt(this.tertiaryColor),this.lineColor=jt(this.background),this.textColor=jt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=_l(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||rt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||rt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||rt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||rt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||rt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||rt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||rt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||rt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||rt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||gr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||gr(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=gr(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||gr(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||rt(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||rt(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||rt(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||jt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||jt(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=ur(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=rt(this.primaryColor,{h:64}),this.fillType3=rt(this.secondaryColor,{h:64}),this.fillType4=rt(this.primaryColor,{h:-64}),this.fillType5=rt(this.secondaryColor,{h:-64}),this.fillType6=rt(this.primaryColor,{h:128}),this.fillType7=rt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||rt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||rt(this.primaryColor,{l:-10}),this.pie5=this.pie5||rt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||rt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||rt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||rt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||rt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||rt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||rt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||rt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||rt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||rt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||rt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||rt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||rt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||rt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||xo(this.quadrant1Fill)?ur(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||rt(this.primaryColor,{h:-30}),this.git4=this.git4||rt(this.primaryColor,{h:-60}),this.git5=this.git5||rt(this.primaryColor,{h:-90}),this.git6=this.git6||rt(this.primaryColor,{h:60}),this.git7=this.git7||rt(this.primaryColor,{h:120}),this.darkMode?(this.git0=ur(this.git0,25),this.git1=ur(this.git1,25),this.git2=ur(this.git2,25),this.git3=ur(this.git3,25),this.git4=ur(this.git4,25),this.git5=ur(this.git5,25),this.git6=ur(this.git6,25),this.git7=ur(this.git7,25)):(this.git0=gr(this.git0,25),this.git1=gr(this.git1,25),this.git2=gr(this.git2,25),this.git3=gr(this.git3,25),this.git4=gr(this.git4,25),this.git5=gr(this.git5,25),this.git6=gr(this.git6,25),this.git7=gr(this.git7,25)),this.gitInv0=this.gitInv0||gr(jt(this.git0),25),this.gitInv1=this.gitInv1||jt(this.git1),this.gitInv2=this.gitInv2||jt(this.git2),this.gitInv3=this.gitInv3||jt(this.git3),this.gitInv4=this.gitInv4||jt(this.git4),this.gitInv5=this.gitInv5||jt(this.git5),this.gitInv6=this.gitInv6||jt(this.git6),this.gitInv7=this.gitInv7||jt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||jt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||jt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ld,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ud}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},yg=a(e=>{let t=new l9;return t.calculate(e),t},"getThemeVariables")});var u9,EY,CY=L(()=>{"use strict";Zu();l2();gg();u9=class{static{a(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=ur("#cde498",10),this.primaryBorderColor=Aa(this.primaryColor,this.darkMode),this.secondaryBorderColor=Aa(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Aa(this.tertiaryColor,this.darkMode),this.primaryTextColor=jt(this.primaryColor),this.secondaryTextColor=jt(this.secondaryColor),this.tertiaryTextColor=jt(this.primaryColor),this.lineColor=jt(this.background),this.textColor=jt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=gr(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||rt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||rt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||rt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||rt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||rt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||rt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||rt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||rt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||rt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||gr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||gr(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=gr(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||gr(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||rt(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||rt(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||rt(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=rt(this.primaryColor,{h:64}),this.fillType3=rt(this.secondaryColor,{h:64}),this.fillType4=rt(this.primaryColor,{h:-64}),this.fillType5=rt(this.secondaryColor,{h:-64}),this.fillType6=rt(this.primaryColor,{h:128}),this.fillType7=rt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||rt(this.primaryColor,{l:-30}),this.pie5=this.pie5||rt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||rt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||rt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||rt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||rt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||rt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||rt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||rt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||rt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||rt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||rt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||rt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||rt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||rt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||xo(this.quadrant1Fill)?ur(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||rt(this.primaryColor,{h:-30}),this.git4=this.git4||rt(this.primaryColor,{h:-60}),this.git5=this.git5||rt(this.primaryColor,{h:-90}),this.git6=this.git6||rt(this.primaryColor,{h:60}),this.git7=this.git7||rt(this.primaryColor,{h:120}),this.darkMode?(this.git0=ur(this.git0,25),this.git1=ur(this.git1,25),this.git2=ur(this.git2,25),this.git3=ur(this.git3,25),this.git4=ur(this.git4,25),this.git5=ur(this.git5,25),this.git6=ur(this.git6,25),this.git7=ur(this.git7,25)):(this.git0=gr(this.git0,25),this.git1=gr(this.git1,25),this.git2=gr(this.git2,25),this.git3=gr(this.git3,25),this.git4=gr(this.git4,25),this.git5=gr(this.git5,25),this.git6=gr(this.git6,25),this.git7=gr(this.git7,25)),this.gitInv0=this.gitInv0||jt(this.git0),this.gitInv1=this.gitInv1||jt(this.git1),this.gitInv2=this.gitInv2||jt(this.git2),this.gitInv3=this.gitInv3||jt(this.git3),this.gitInv4=this.gitInv4||jt(this.git4),this.gitInv5=this.gitInv5||jt(this.git5),this.gitInv6=this.gitInv6||jt(this.git6),this.gitInv7=this.gitInv7||jt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||jt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||jt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ld,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ud}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},EY=a(e=>{let t=new u9;return t.calculate(e),t},"getThemeVariables")});var c9,SY,_Y=L(()=>{"use strict";Zu();gg();l2();c9=class{static{a(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=ur(this.contrast,55),this.background="#ffffff",this.tertiaryColor=rt(this.primaryColor,{h:-160}),this.primaryBorderColor=Aa(this.primaryColor,this.darkMode),this.secondaryBorderColor=Aa(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Aa(this.tertiaryColor,this.darkMode),this.primaryTextColor=jt(this.primaryColor),this.secondaryTextColor=jt(this.secondaryColor),this.tertiaryTextColor=jt(this.tertiaryColor),this.lineColor=jt(this.background),this.textColor=jt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=ur(this.contrast,55),this.border2=this.contrast,this.actorBorder=ur(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||jt(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||ur(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||gr(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||rt(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||rt(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=ur(this.contrast,30),this.sectionBkgColor2=ur(this.contrast,30),this.taskBorderColor=gr(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=ur(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=gr(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=rt(this.primaryColor,{h:64}),this.fillType3=rt(this.secondaryColor,{h:64}),this.fillType4=rt(this.primaryColor,{h:-64}),this.fillType5=rt(this.secondaryColor,{h:-64}),this.fillType6=rt(this.primaryColor,{h:128}),this.fillType7=rt(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||rt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||rt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||rt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||rt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||rt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||rt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||xo(this.quadrant1Fill)?ur(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=gr(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||rt(this.primaryColor,{h:-30}),this.git4=this.pie5||rt(this.primaryColor,{h:-60}),this.git5=this.pie6||rt(this.primaryColor,{h:-90}),this.git6=this.pie7||rt(this.primaryColor,{h:60}),this.git7=this.pie8||rt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||jt(this.git0),this.gitInv1=this.gitInv1||jt(this.git1),this.gitInv2=this.gitInv2||jt(this.git2),this.gitInv3=this.gitInv3||jt(this.git3),this.gitInv4=this.gitInv4||jt(this.git4),this.gitInv5=this.gitInv5||jt(this.git5),this.gitInv6=this.gitInv6||jt(this.git6),this.gitInv7=this.gitInv7||jt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ld,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ud}calculate(t){if(typeof t!="object"){this.updateColors();return}let r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},SY=a(e=>{let t=new c9;return t.calculate(e),t},"getThemeVariables")});var nu,sk=L(()=>{"use strict";kY();TY();ak();CY();_Y();nu={base:{getThemeVariables:bY},dark:{getThemeVariables:wY},default:{getThemeVariables:yg},forest:{getThemeVariables:EY},neutral:{getThemeVariables:SY}}});var Ju,AY=L(()=>{"use strict";Ju={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},array:{useMaxWidth:!0,borderWidth:1},matrix:{useMaxWidth:!0,borderWidth:1},testslides:{useMaxWidth:!0,borderWidth:1},visslides:{useMaxWidth:!0,borderWidth:1},visual:{useMaxWidth:!0,borderWidth:1},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1}});var LY,DY,RY,tn,jo=L(()=>{"use strict";sk();AY();LY={...Ju,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:nu.default.getThemeVariables(),sequence:{...Ju.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...Ju.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Ju.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...Ju.pie,useWidth:984},xyChart:{...Ju.xyChart,useWidth:void 0},requirement:{...Ju.requirement,useWidth:void 0},gitGraph:{...Ju.gitGraph,useMaxWidth:!1},sankey:{...Ju.sankey,useMaxWidth:!1},packet:{...Ju.packet}},DY=a((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...DY(e[n],"")]:[...r,t+n],[]),"keyify"),RY=new Set(DY(LY,"")),tn=LY});var vg,nCe,h9=L(()=>{"use strict";jo();ar();vg=a(e=>{if(ce.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>vg(t));return}for(let t of Object.keys(e)){if(ce.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!RY.has(t)||e[t]==null){ce.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){ce.debug("sanitizing object",t),vg(e[t]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let n of r)t.includes(n)&&(ce.debug("sanitizing css option",t),e[t]=nCe(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}ce.debug("After sanitization",e)}},"sanitizeDirective"),nCe=a(e=>{let t=0,r=0;for(let n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss")});var ok,U0,IY,lk=L(()=>{"use strict";ok=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,U0=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,IY=/\s*%%.*\n/gm});var xg,f9=L(()=>{"use strict";xg=class extends Error{static{a(this,"UnknownDiagramError")}constructor(t){super(t),this.name="UnknownDiagramError"}}});var H0,bg,uk,d9,MY,W0=L(()=>{"use strict";ar();lk();f9();H0={},bg=a(function(e,t){e=e.replace(ok,"").replace(U0,"").replace(IY,`
`);for(let[r,{detector:n}]of Object.entries(H0))if(n(e,t))return r;throw new xg(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),uk=a((...e)=>{for(let{id:t,detector:r,loader:n}of e)d9(t,r,n)},"registerLazyLoadedDiagrams"),d9=a((e,t,r)=>{H0[e]&&ce.warn(`Detector with key ${e} already exists. Overwriting.`),H0[e]={detector:t,loader:r},ce.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),MY=a(e=>H0[e].loader,"getDiagramLoader")});var p9,na,u2=L(()=>{"use strict";p9=a((e,t,{depth:r=2,clobber:n=!1}={})=>{let i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>p9(e,s,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=p9(e[s],t[s],{depth:r-1,clobber:n})):(n||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),na=p9});var iCe,ck,m9=L(()=>{"use strict";iCe=typeof global=="object"&&global&&global.Object===Object&&global,ck=iCe});var aCe,sCe,ia,iu=L(()=>{"use strict";m9();aCe=typeof self=="object"&&self&&self.Object===Object&&self,sCe=ck||aCe||Function("return this")(),ia=sCe});var oCe,ls,Y0=L(()=>{"use strict";iu();oCe=ia.Symbol,ls=oCe});function cCe(e){var t=lCe.call(e,c2),r=e[c2];try{e[c2]=void 0;var n=!0}catch{}var i=uCe.call(e);return n&&(t?e[c2]=r:delete e[c2]),i}var NY,lCe,uCe,c2,OY,PY=L(()=>{"use strict";Y0();NY=Object.prototype,lCe=NY.hasOwnProperty,uCe=NY.toString,c2=ls?ls.toStringTag:void 0;a(cCe,"getRawTag");OY=cCe});function dCe(e){return fCe.call(e)}var hCe,fCe,BY,FY=L(()=>{"use strict";hCe=Object.prototype,fCe=hCe.toString;a(dCe,"objectToString");BY=dCe});function gCe(e){return e==null?e===void 0?mCe:pCe:zY&&zY in Object(e)?OY(e):BY(e)}var pCe,mCe,zY,Is,Xh=L(()=>{"use strict";Y0();PY();FY();pCe="[object Null]",mCe="[object Undefined]",zY=ls?ls.toStringTag:void 0;a(gCe,"baseGetTag");Is=gCe});function yCe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var vi,Al=L(()=>{"use strict";a(yCe,"isObject");vi=yCe});function wCe(e){if(!vi(e))return!1;var t=Is(e);return t==xCe||t==bCe||t==vCe||t==kCe}var vCe,xCe,bCe,kCe,aa,h2=L(()=>{"use strict";Xh();Al();vCe="[object AsyncFunction]",xCe="[object Function]",bCe="[object GeneratorFunction]",kCe="[object Proxy]";a(wCe,"isFunction");aa=wCe});var TCe,hk,$Y=L(()=>{"use strict";iu();TCe=ia["__core-js_shared__"],hk=TCe});function ECe(e){return!!GY&&GY in e}var GY,VY,qY=L(()=>{"use strict";$Y();GY=function(){var e=/[^.]+$/.exec(hk&&hk.keys&&hk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();a(ECe,"isMasked");VY=ECe});function _Ce(e){if(e!=null){try{return SCe.call(e)}catch{}try{return e+""}catch{}}return""}var CCe,SCe,jh,g9=L(()=>{"use strict";CCe=Function.prototype,SCe=CCe.toString;a(_Ce,"toSource");jh=_Ce});function OCe(e){if(!vi(e)||VY(e))return!1;var t=aa(e)?NCe:LCe;return t.test(jh(e))}var ACe,LCe,DCe,RCe,ICe,MCe,NCe,UY,HY=L(()=>{"use strict";h2();qY();Al();g9();ACe=/[\\^$.*+?()[\]{}|]/g,LCe=/^\[object .+?Constructor\]$/,DCe=Function.prototype,RCe=Object.prototype,ICe=DCe.toString,MCe=RCe.hasOwnProperty,NCe=RegExp("^"+ICe.call(MCe).replace(ACe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a(OCe,"baseIsNative");UY=OCe});function PCe(e,t){return e?.[t]}var WY,YY=L(()=>{"use strict";a(PCe,"getValue");WY=PCe});function BCe(e,t){var r=WY(e,t);return UY(r)?r:void 0}var Ko,cd=L(()=>{"use strict";HY();YY();a(BCe,"getNative");Ko=BCe});var FCe,Kh,f2=L(()=>{"use strict";cd();FCe=Ko(Object,"create"),Kh=FCe});function zCe(){this.__data__=Kh?Kh(null):{},this.size=0}var XY,jY=L(()=>{"use strict";f2();a(zCe,"hashClear");XY=zCe});function $Ce(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var KY,QY=L(()=>{"use strict";a($Ce,"hashDelete");KY=$Ce});function UCe(e){var t=this.__data__;if(Kh){var r=t[e];return r===GCe?void 0:r}return qCe.call(t,e)?t[e]:void 0}var GCe,VCe,qCe,ZY,JY=L(()=>{"use strict";f2();GCe="__lodash_hash_undefined__",VCe=Object.prototype,qCe=VCe.hasOwnProperty;a(UCe,"hashGet");ZY=UCe});function YCe(e){var t=this.__data__;return Kh?t[e]!==void 0:WCe.call(t,e)}var HCe,WCe,eX,tX=L(()=>{"use strict";f2();HCe=Object.prototype,WCe=HCe.hasOwnProperty;a(YCe,"hashHas");eX=YCe});function jCe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Kh&&t===void 0?XCe:t,this}var XCe,rX,nX=L(()=>{"use strict";f2();XCe="__lodash_hash_undefined__";a(jCe,"hashSet");rX=jCe});function kg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var y9,iX=L(()=>{"use strict";jY();QY();JY();tX();nX();a(kg,"Hash");kg.prototype.clear=XY;kg.prototype.delete=KY;kg.prototype.get=ZY;kg.prototype.has=eX;kg.prototype.set=rX;y9=kg});function KCe(){this.__data__=[],this.size=0}var aX,sX=L(()=>{"use strict";a(KCe,"listCacheClear");aX=KCe});function QCe(e,t){return e===t||e!==e&&t!==t}var au,X0=L(()=>{"use strict";a(QCe,"eq");au=QCe});function ZCe(e,t){for(var r=e.length;r--;)if(au(e[r][0],t))return r;return-1}var hd,d2=L(()=>{"use strict";X0();a(ZCe,"assocIndexOf");hd=ZCe});function tSe(e){var t=this.__data__,r=hd(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():eSe.call(t,r,1),--this.size,!0}var JCe,eSe,oX,lX=L(()=>{"use strict";d2();JCe=Array.prototype,eSe=JCe.splice;a(tSe,"listCacheDelete");oX=tSe});function rSe(e){var t=this.__data__,r=hd(t,e);return r<0?void 0:t[r][1]}var uX,cX=L(()=>{"use strict";d2();a(rSe,"listCacheGet");uX=rSe});function nSe(e){return hd(this.__data__,e)>-1}var hX,fX=L(()=>{"use strict";d2();a(nSe,"listCacheHas");hX=nSe});function iSe(e,t){var r=this.__data__,n=hd(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var dX,pX=L(()=>{"use strict";d2();a(iSe,"listCacheSet");dX=iSe});function wg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var fd,p2=L(()=>{"use strict";sX();lX();cX();fX();pX();a(wg,"ListCache");wg.prototype.clear=aX;wg.prototype.delete=oX;wg.prototype.get=uX;wg.prototype.has=hX;wg.prototype.set=dX;fd=wg});var aSe,dd,fk=L(()=>{"use strict";cd();iu();aSe=Ko(ia,"Map"),dd=aSe});function sSe(){this.size=0,this.__data__={hash:new y9,map:new(dd||fd),string:new y9}}var mX,gX=L(()=>{"use strict";iX();p2();fk();a(sSe,"mapCacheClear");mX=sSe});function oSe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var yX,vX=L(()=>{"use strict";a(oSe,"isKeyable");yX=oSe});function lSe(e,t){var r=e.__data__;return yX(t)?r[typeof t=="string"?"string":"hash"]:r.map}var pd,m2=L(()=>{"use strict";vX();a(lSe,"getMapData");pd=lSe});function uSe(e){var t=pd(this,e).delete(e);return this.size-=t?1:0,t}var xX,bX=L(()=>{"use strict";m2();a(uSe,"mapCacheDelete");xX=uSe});function cSe(e){return pd(this,e).get(e)}var kX,wX=L(()=>{"use strict";m2();a(cSe,"mapCacheGet");kX=cSe});function hSe(e){return pd(this,e).has(e)}var TX,EX=L(()=>{"use strict";m2();a(hSe,"mapCacheHas");TX=hSe});function fSe(e,t){var r=pd(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var CX,SX=L(()=>{"use strict";m2();a(fSe,"mapCacheSet");CX=fSe});function Tg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var j0,dk=L(()=>{"use strict";gX();bX();wX();EX();SX();a(Tg,"MapCache");Tg.prototype.clear=mX;Tg.prototype.delete=xX;Tg.prototype.get=kX;Tg.prototype.has=TX;Tg.prototype.set=CX;j0=Tg});function v9(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dSe);var r=a(function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o},"memoized");return r.cache=new(v9.Cache||j0),r}var dSe,Eg,x9=L(()=>{"use strict";dk();dSe="Expected a function";a(v9,"memoize");v9.Cache=j0;Eg=v9});function pSe(){this.__data__=new fd,this.size=0}var _X,AX=L(()=>{"use strict";p2();a(pSe,"stackClear");_X=pSe});function mSe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var LX,DX=L(()=>{"use strict";a(mSe,"stackDelete");LX=mSe});function gSe(e){return this.__data__.get(e)}var RX,IX=L(()=>{"use strict";a(gSe,"stackGet");RX=gSe});function ySe(e){return this.__data__.has(e)}var MX,NX=L(()=>{"use strict";a(ySe,"stackHas");MX=ySe});function xSe(e,t){var r=this.__data__;if(r instanceof fd){var n=r.__data__;if(!dd||n.length<vSe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new j0(n)}return r.set(e,t),this.size=r.size,this}var vSe,OX,PX=L(()=>{"use strict";p2();fk();dk();vSe=200;a(xSe,"stackSet");OX=xSe});function Cg(e){var t=this.__data__=new fd(e);this.size=t.size}var Hc,g2=L(()=>{"use strict";p2();AX();DX();IX();NX();PX();a(Cg,"Stack");Cg.prototype.clear=_X;Cg.prototype.delete=LX;Cg.prototype.get=RX;Cg.prototype.has=MX;Cg.prototype.set=OX;Hc=Cg});var bSe,Sg,b9=L(()=>{"use strict";cd();bSe=function(){try{var e=Ko(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Sg=bSe});function kSe(e,t,r){t=="__proto__"&&Sg?Sg(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Wc,_g=L(()=>{"use strict";b9();a(kSe,"baseAssignValue");Wc=kSe});function wSe(e,t,r){(r!==void 0&&!au(e[t],r)||r===void 0&&!(t in e))&&Wc(e,t,r)}var y2,k9=L(()=>{"use strict";_g();X0();a(wSe,"assignMergeValue");y2=wSe});function TSe(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),u=o.length;u--;){var h=o[e?u:++i];if(r(s[h],h,s)===!1)break}return t}}var BX,FX=L(()=>{"use strict";a(TSe,"createBaseFor");BX=TSe});var ESe,Ag,pk=L(()=>{"use strict";FX();ESe=BX(),Ag=ESe});function SSe(e,t){if(t)return e.slice();var r=e.length,n=GX?GX(r):new e.constructor(r);return e.copy(n),n}var VX,zX,CSe,$X,GX,mk,w9=L(()=>{"use strict";iu();VX=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zX=VX&&typeof module=="object"&&module&&!module.nodeType&&module,CSe=zX&&zX.exports===VX,$X=CSe?ia.Buffer:void 0,GX=$X?$X.allocUnsafe:void 0;a(SSe,"cloneBuffer");mk=SSe});var _Se,Lg,T9=L(()=>{"use strict";iu();_Se=ia.Uint8Array,Lg=_Se});function ASe(e){var t=new e.constructor(e.byteLength);return new Lg(t).set(new Lg(e)),t}var Dg,gk=L(()=>{"use strict";T9();a(ASe,"cloneArrayBuffer");Dg=ASe});function LSe(e,t){var r=t?Dg(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var yk,E9=L(()=>{"use strict";gk();a(LSe,"cloneTypedArray");yk=LSe});function DSe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var vk,C9=L(()=>{"use strict";a(DSe,"copyArray");vk=DSe});var qX,RSe,UX,HX=L(()=>{"use strict";Al();qX=Object.create,RSe=function(){function e(){}return a(e,"object"),function(t){if(!vi(t))return{};if(qX)return qX(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),UX=RSe});function ISe(e,t){return function(r){return e(t(r))}}var xk,S9=L(()=>{"use strict";a(ISe,"overArg");xk=ISe});var MSe,Rg,bk=L(()=>{"use strict";S9();MSe=xk(Object.getPrototypeOf,Object),Rg=MSe});function OSe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||NSe;return e===r}var NSe,Yc,Ig=L(()=>{"use strict";NSe=Object.prototype;a(OSe,"isPrototype");Yc=OSe});function PSe(e){return typeof e.constructor=="function"&&!Yc(e)?UX(Rg(e)):{}}var kk,_9=L(()=>{"use strict";HX();bk();Ig();a(PSe,"initCloneObject");kk=PSe});function BSe(e){return e!=null&&typeof e=="object"}var Xi,su=L(()=>{"use strict";a(BSe,"isObjectLike");Xi=BSe});function zSe(e){return Xi(e)&&Is(e)==FSe}var FSe,A9,WX=L(()=>{"use strict";Xh();su();FSe="[object Arguments]";a(zSe,"baseIsArguments");A9=zSe});var YX,$Se,GSe,VSe,ec,Mg=L(()=>{"use strict";WX();su();YX=Object.prototype,$Se=YX.hasOwnProperty,GSe=YX.propertyIsEnumerable,VSe=A9(function(){return arguments}())?A9:function(e){return Xi(e)&&$Se.call(e,"callee")&&!GSe.call(e,"callee")},ec=VSe});var qSe,or,zi=L(()=>{"use strict";qSe=Array.isArray,or=qSe});function HSe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=USe}var USe,Ng,wk=L(()=>{"use strict";USe=9007199254740991;a(HSe,"isLength");Ng=HSe});function WSe(e){return e!=null&&Ng(e.length)&&!aa(e)}var sa,ou=L(()=>{"use strict";h2();wk();a(WSe,"isArrayLike");sa=WSe});function YSe(e){return Xi(e)&&sa(e)}var K0,Tk=L(()=>{"use strict";ou();su();a(YSe,"isArrayLikeObject");K0=YSe});function XSe(){return!1}var XX,jX=L(()=>{"use strict";a(XSe,"stubFalse");XX=XSe});var ZX,KX,jSe,QX,KSe,QSe,tc,Og=L(()=>{"use strict";iu();jX();ZX=typeof exports=="object"&&exports&&!exports.nodeType&&exports,KX=ZX&&typeof module=="object"&&module&&!module.nodeType&&module,jSe=KX&&KX.exports===ZX,QX=jSe?ia.Buffer:void 0,KSe=QX?QX.isBuffer:void 0,QSe=KSe||XX,tc=QSe});function n8e(e){if(!Xi(e)||Is(e)!=ZSe)return!1;var t=Rg(e);if(t===null)return!0;var r=t8e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&JX.call(r)==r8e}var ZSe,JSe,e8e,JX,t8e,r8e,v2,L9=L(()=>{"use strict";Xh();bk();su();ZSe="[object Object]",JSe=Function.prototype,e8e=Object.prototype,JX=JSe.toString,t8e=e8e.hasOwnProperty,r8e=JX.call(Object);a(n8e,"isPlainObject");v2=n8e});function A8e(e){return Xi(e)&&Ng(e.length)&&!!Bi[Is(e)]}var i8e,a8e,s8e,o8e,l8e,u8e,c8e,h8e,f8e,d8e,p8e,m8e,g8e,y8e,v8e,x8e,b8e,k8e,w8e,T8e,E8e,C8e,S8e,_8e,Bi,ej,tj=L(()=>{"use strict";Xh();wk();su();i8e="[object Arguments]",a8e="[object Array]",s8e="[object Boolean]",o8e="[object Date]",l8e="[object Error]",u8e="[object Function]",c8e="[object Map]",h8e="[object Number]",f8e="[object Object]",d8e="[object RegExp]",p8e="[object Set]",m8e="[object String]",g8e="[object WeakMap]",y8e="[object ArrayBuffer]",v8e="[object DataView]",x8e="[object Float32Array]",b8e="[object Float64Array]",k8e="[object Int8Array]",w8e="[object Int16Array]",T8e="[object Int32Array]",E8e="[object Uint8Array]",C8e="[object Uint8ClampedArray]",S8e="[object Uint16Array]",_8e="[object Uint32Array]",Bi={};Bi[x8e]=Bi[b8e]=Bi[k8e]=Bi[w8e]=Bi[T8e]=Bi[E8e]=Bi[C8e]=Bi[S8e]=Bi[_8e]=!0;Bi[i8e]=Bi[a8e]=Bi[y8e]=Bi[s8e]=Bi[v8e]=Bi[o8e]=Bi[l8e]=Bi[u8e]=Bi[c8e]=Bi[h8e]=Bi[f8e]=Bi[d8e]=Bi[p8e]=Bi[m8e]=Bi[g8e]=!1;a(A8e,"baseIsTypedArray");ej=A8e});function L8e(e){return function(t){return e(t)}}var lu,Q0=L(()=>{"use strict";a(L8e,"baseUnary");lu=L8e});var rj,x2,D8e,D9,R8e,uu,b2=L(()=>{"use strict";m9();rj=typeof exports=="object"&&exports&&!exports.nodeType&&exports,x2=rj&&typeof module=="object"&&module&&!module.nodeType&&module,D8e=x2&&x2.exports===rj,D9=D8e&&ck.process,R8e=function(){try{var e=x2&&x2.require&&x2.require("util").types;return e||D9&&D9.binding&&D9.binding("util")}catch{}}(),uu=R8e});var nj,I8e,md,k2=L(()=>{"use strict";tj();Q0();b2();nj=uu&&uu.isTypedArray,I8e=nj?lu(nj):ej,md=I8e});function M8e(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var w2,R9=L(()=>{"use strict";a(M8e,"safeGet");w2=M8e});function P8e(e,t,r){var n=e[t];(!(O8e.call(e,t)&&au(n,r))||r===void 0&&!(t in e))&&Wc(e,t,r)}var N8e,O8e,Xc,Pg=L(()=>{"use strict";_g();X0();N8e=Object.prototype,O8e=N8e.hasOwnProperty;a(P8e,"assignValue");Xc=P8e});function B8e(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var u=t[s],h=n?n(r[u],e[u],u,r,e):void 0;h===void 0&&(h=e[u]),i?Wc(r,u,h):Xc(r,u,h)}return r}var cu,Z0=L(()=>{"use strict";Pg();_g();a(B8e,"copyObject");cu=B8e});function F8e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ij,aj=L(()=>{"use strict";a(F8e,"baseTimes");ij=F8e});function G8e(e,t){var r=typeof e;return t=t??z8e,!!t&&(r=="number"||r!="symbol"&&$8e.test(e))&&e>-1&&e%1==0&&e<t}var z8e,$8e,gd,T2=L(()=>{"use strict";z8e=9007199254740991,$8e=/^(?:0|[1-9]\d*)$/;a(G8e,"isIndex");gd=G8e});function U8e(e,t){var r=or(e),n=!r&&ec(e),i=!r&&!n&&tc(e),s=!r&&!n&&!i&&md(e),o=r||n||i||s,u=o?ij(e.length,String):[],h=u.length;for(var p in e)(t||q8e.call(e,p))&&!(o&&(p=="length"||i&&(p=="offset"||p=="parent")||s&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||gd(p,h)))&&u.push(p);return u}var V8e,q8e,Ek,I9=L(()=>{"use strict";aj();Mg();zi();Og();T2();k2();V8e=Object.prototype,q8e=V8e.hasOwnProperty;a(U8e,"arrayLikeKeys");Ek=U8e});function H8e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var sj,oj=L(()=>{"use strict";a(H8e,"nativeKeysIn");sj=H8e});function X8e(e){if(!vi(e))return sj(e);var t=Yc(e),r=[];for(var n in e)n=="constructor"&&(t||!Y8e.call(e,n))||r.push(n);return r}var W8e,Y8e,lj,uj=L(()=>{"use strict";Al();Ig();oj();W8e=Object.prototype,Y8e=W8e.hasOwnProperty;a(X8e,"baseKeysIn");lj=X8e});function j8e(e){return sa(e)?Ek(e,!0):lj(e)}var Qo,yd=L(()=>{"use strict";I9();uj();ou();a(j8e,"keysIn");Qo=j8e});function K8e(e){return cu(e,Qo(e))}var cj,hj=L(()=>{"use strict";Z0();yd();a(K8e,"toPlainObject");cj=K8e});function Q8e(e,t,r,n,i,s,o){var u=w2(e,r),h=w2(t,r),p=o.get(h);if(p){y2(e,r,p);return}var g=s?s(u,h,r+"",e,t,o):void 0,v=g===void 0;if(v){var x=or(h),k=!x&&tc(h),E=!x&&!k&&md(h);g=h,x||k||E?or(u)?g=u:K0(u)?g=vk(u):k?(v=!1,g=mk(h,!0)):E?(v=!1,g=yk(h,!0)):g=[]:v2(h)||ec(h)?(g=u,ec(u)?g=cj(u):(!vi(u)||aa(u))&&(g=kk(h))):v=!1}v&&(o.set(h,g),i(g,h,n,s,o),o.delete(h)),y2(e,r,g)}var fj,dj=L(()=>{"use strict";k9();w9();E9();C9();_9();Mg();zi();Tk();Og();h2();Al();L9();k2();R9();hj();a(Q8e,"baseMergeDeep");fj=Q8e});function pj(e,t,r,n,i){e!==t&&Ag(t,function(s,o){if(i||(i=new Hc),vi(s))fj(e,t,o,r,pj,n,i);else{var u=n?n(w2(e,o),s,o+"",e,t,i):void 0;u===void 0&&(u=s),y2(e,o,u)}},Qo)}var mj,gj=L(()=>{"use strict";g2();k9();pk();dj();Al();yd();R9();a(pj,"baseMerge");mj=pj});function Z8e(e){return e}var us,Qh=L(()=>{"use strict";a(Z8e,"identity");us=Z8e});function J8e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var yj,vj=L(()=>{"use strict";a(J8e,"apply");yj=J8e});function e_e(e,t,r){return t=xj(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=xj(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(o),yj(e,this,u)}}var xj,Ck,M9=L(()=>{"use strict";vj();xj=Math.max;a(e_e,"overRest");Ck=e_e});function t_e(e){return function(){return e}}var Zo,N9=L(()=>{"use strict";a(t_e,"constant");Zo=t_e});var r_e,bj,kj=L(()=>{"use strict";N9();b9();Qh();r_e=Sg?function(e,t){return Sg(e,"toString",{configurable:!0,enumerable:!1,value:Zo(t),writable:!0})}:us,bj=r_e});function s_e(e){var t=0,r=0;return function(){var n=a_e(),i=i_e-(n-r);if(r=n,i>0){if(++t>=n_e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n_e,i_e,a_e,wj,Tj=L(()=>{"use strict";n_e=800,i_e=16,a_e=Date.now;a(s_e,"shortOut");wj=s_e});var o_e,Sk,O9=L(()=>{"use strict";kj();Tj();o_e=wj(bj),Sk=o_e});function l_e(e,t){return Sk(Ck(e,t,us),e+"")}var jc,Bg=L(()=>{"use strict";Qh();M9();O9();a(l_e,"baseRest");jc=l_e});function u_e(e,t,r){if(!vi(r))return!1;var n=typeof t;return(n=="number"?sa(r)&&gd(t,r.length):n=="string"&&t in r)?au(r[t],e):!1}var Ll,J0=L(()=>{"use strict";X0();ou();T2();Al();a(u_e,"isIterateeCall");Ll=u_e});function c_e(e){return jc(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&Ll(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var u=r[n];u&&e(t,u,n,s)}return t})}var _k,P9=L(()=>{"use strict";Bg();J0();a(c_e,"createAssigner");_k=c_e});var h_e,vd,B9=L(()=>{"use strict";gj();P9();h_e=_k(function(e,t,r){mj(e,t,r)}),vd=h_e});function hu(e,t){if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return f_e[r]??t}function g_e(e,t){let r=e.trim();if(r)return t.securityLevel!=="loose"?(0,Sj.sanitizeUrl)(r):r}function Lj(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function v_e(e){let t,r=0;e.forEach(i=>{r+=Lj(i,t),t=i});let n=r/2;return $9(e,n)}function x_e(e){return e.length===1?e[0]:v_e(e)}function k_e(e,t,r){let n=structuredClone(r);ce.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();let i=25+e,s=$9(n,i),o=10+e*.5,u=Math.atan2(n[0].y-s.y,n[0].x-s.x),h={x:0,y:0};return t==="start_left"?(h.x=Math.sin(u+Math.PI)*o+(n[0].x+s.x)/2,h.y=-Math.cos(u+Math.PI)*o+(n[0].y+s.y)/2):t==="end_right"?(h.x=Math.sin(u-Math.PI)*o+(n[0].x+s.x)/2-5,h.y=-Math.cos(u-Math.PI)*o+(n[0].y+s.y)/2-5):t==="end_left"?(h.x=Math.sin(u)*o+(n[0].x+s.x)/2-5,h.y=-Math.cos(u)*o+(n[0].y+s.y)/2-5):(h.x=Math.sin(u)*o+(n[0].x+s.x)/2,h.y=-Math.cos(u)*o+(n[0].y+s.y)/2),h}function Jo(e){let t="",r="";for(let n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}function w_e(e){let t="",r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}function Lk(e,t){return U9(e,t).height}function rc(e,t){return U9(e,t).width}function H9(e){return"str"in e}function oa(e,t){return vd({},e,t)}var Sj,z9,f_e,d_e,p_e,_j,Aj,m_e,y_e,Ej,$9,b_e,Cj,G9,V9,T_e,E_e,q9,C_e,U9,F9,Ak,S_e,__e,Kc,wr,Dj,Zh,Jh,kn=L(()=>{"use strict";Sj=_s($m(),1);Wr();Ln();h9();ar();W0();u2();x9();B9();lk();z9="\u200B",f_e={curveBasis:Jl,curveBasisClosed:g5,curveBasisOpen:y5,curveBumpX:G_,curveBumpY:V_,curveBundle:q_,curveCardinalClosed:H_,curveCardinalOpen:Y_,curveCardinal:U_,curveCatmullRomClosed:K_,curveCatmullRomOpen:Q_,curveCatmullRom:j_,curveLinear:$a,curveLinearClosed:w5,curveMonotoneX:J_,curveMonotoneY:eA,curveNatural:E5,curveStep:S5,curveStepAfter:rA,curveStepBefore:tA},d_e=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,p_e=a(function(e,t){let r=_j(e,/(?:init\b)|(?:initialize\b)/),n={};if(Array.isArray(r)){let o=r.map(u=>u.args);vg(o),n=na(n,[...o])}else n=r.args;if(!n)return;let i=bg(e,t),s="config";return n[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s]),n},"detectInit"),_j=a(function(e,t=null){try{let r=new RegExp(`[%]{2}(?![{]${d_e.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),ce.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n,i=[];for(;(n=U0.exec(e))!==null;)if(n.index===U0.lastIndex&&U0.lastIndex++,n&&!t||t&&n[1]&&n[1].match(t)||t&&n[2]&&n[2].match(t)){let s=n[1]?n[1]:n[2],o=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:s,args:o})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return ce.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),Aj=a(function(e){return e.replace(U0,"")},"removeDirectives"),m_e=a(function(e,t){for(let[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");a(hu,"interpolateToCurve");a(g_e,"formatUrl");y_e=a((e,...t)=>{let r=e.split("."),n=r.length-1,i=r[n],s=window;for(let o=0;o<n;o++)if(s=s[r[o]],!s){ce.error(`Function name: ${e} not found in window`);return}s[i](...t)},"runFunc");a(Lj,"distance");a(v_e,"traverseEdge");a(x_e,"calcLabelPosition");Ej=a((e,t=2)=>{let r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),$9=a((e,t)=>{let r,n=t;for(let i of e){if(r){let s=Lj(i,r);if(s<n)n-=s;else{let o=n/s;if(o<=0)return r;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:Ej((1-o)*r.x+o*i.x,5),y:Ej((1-o)*r.y+o*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),b_e=a((e,t,r)=>{ce.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());let i=$9(t,25),s=e?10:5,o=Math.atan2(t[0].y-i.y,t[0].x-i.x),u={x:0,y:0};return u.x=Math.sin(o)*s+(t[0].x+i.x)/2,u.y=-Math.cos(o)*s+(t[0].y+i.y)/2,u},"calcCardinalityPosition");a(k_e,"calcTerminalLabelPosition");a(Jo,"getStylesFromArray");Cj=0,G9=a(()=>(Cj++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Cj),"generateId");a(w_e,"makeRandomHex");V9=a(e=>w_e(e.length),"random"),T_e=a(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),E_e=a(function(e,t){let r=t.text.replace(Ct.lineBreakRegex," "),[,n]=Kc(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);let s=i.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(r),i},"drawSimpleText"),q9=Eg((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Ct.lineBreakRegex.test(e)))return e;let n=e.split(" "),i=[],s="";return n.forEach((o,u)=>{let h=rc(`${o} `,r),p=rc(s,r);if(h>t){let{hyphenatedStrings:x,remainingWord:k}=C_e(o,t,"-",r);i.push(s,...x),s=k}else p+h>=t?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");u+1===n.length&&i.push(s)}),i.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),C_e=Eg((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);let i=[...e],s=[],o="";return i.forEach((u,h)=>{let p=`${o}${u}`;if(rc(p,n)>=t){let v=h+1,x=i.length===v,k=`${p}${r}`;s.push(x?p:k),o=""}else o=p}),{hyphenatedStrings:s,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);a(Lk,"calculateTextHeight");a(rc,"calculateTextWidth");U9=Eg((e,t)=>{let{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};let[,s]=Kc(r),o=["sans-serif",n],u=e.split(Ct.lineBreakRegex),h=[],p=ut("body");if(!p.remove)return{width:0,height:0,lineHeight:0};let g=p.append("svg");for(let x of o){let k=0,E={width:0,height:0,lineHeight:0};for(let _ of u){let N=T_e();N.text=_||z9;let M=E_e(g,N).style("font-size",s).style("font-weight",i).style("font-family",x),P=(M._groups||M)[0][0].getBBox();if(P.width===0&&P.height===0)throw new Error("svg element not in render tree");E.width=Math.round(Math.max(E.width,P.width)),k=Math.round(P.height),E.height+=k,E.lineHeight=Math.round(Math.max(E.lineHeight,k))}h.push(E)}g.remove();let v=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[v]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),F9=class{constructor(t=!1,r){this.count=0;this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}static{a(this,"InitIDGenerator")}},S_e=a(function(e){return Ak=Ak||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Ak.innerHTML=e,unescape(Ak.textContent)},"entityDecode");a(H9,"isDetailedError");__e=a((e,t,r,n)=>{if(!n)return;let i=e.node()?.getBBox();i&&e.append("text").text(n).attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Kc=a(e=>{if(typeof e=="number")return[e,e+"px"];let t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");a(oa,"cleanAndMerge");wr={assignWithDepth:na,wrapLabel:q9,calculateTextHeight:Lk,calculateTextWidth:rc,calculateTextDimensions:U9,cleanAndMerge:oa,detectInit:p_e,detectDirective:_j,isSubstringInArray:m_e,interpolateToCurve:hu,calcLabelPosition:x_e,calcCardinalityPosition:b_e,calcTerminalLabelPosition:k_e,formatUrl:g_e,getStylesFromArray:Jo,generateId:G9,random:V9,runFunc:y_e,entityDecode:S_e,insertTitle:__e,parseFontSize:Kc,InitIDGenerator:F9},Dj=a(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){let n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"\uFB02\xB0\xB0"+n+"\xB6\xDF":"\uFB02\xB0"+n+"\xB6\xDF"}),t},"encodeEntities"),Zh=a(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),Jh=a((e,t,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId")});var _2,j9=L(()=>{_2="11.0.0-alpha.7"});var bd,el,Kj,Gg,A2,$k,K9,Qj,Zj,Q9,Gk,Cn,Jj,eK,L2,D_e,jj,R_e,tK,ro=L(()=>{"use strict";u2();ar();sk();jo();h9();bd=Object.freeze(tn),el=na({},bd),Gg=[],A2=na({},bd),$k=a((e,t)=>{let r=na({},e),n={};for(let i of t)Jj(i),n=na(n,i);if(r=na(r,n),n.theme&&n.theme in nu){let i=na({},Kj),s=na(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in nu&&(r.themeVariables=nu[r.theme].getThemeVariables(s))}return A2=r,tK(A2),A2},"updateCurrentConfig"),K9=a(e=>(el=na({},bd),el=na(el,e),e.theme&&nu[e.theme]&&(el.themeVariables=nu[e.theme].getThemeVariables(e.themeVariables)),$k(el,Gg),el),"setSiteConfig"),Qj=a(e=>{Kj=na({},e)},"saveConfigFromInitialize"),Zj=a(e=>(el=na(el,e),$k(el,Gg),el),"updateSiteConfig"),Q9=a(()=>na({},el),"getSiteConfig"),Gk=a(e=>(tK(e),na(A2,e),Cn()),"setConfig"),Cn=a(()=>na({},A2),"getConfig"),Jj=a(e=>{e&&(["secure",...el.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(ce.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&Jj(e[t])}))},"sanitize"),eK=a(e=>{vg(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),Gg.push(e),$k(el,Gg)},"addDirective"),L2=a((e=el)=>{Gg=[],$k(e,Gg)},"reset"),D_e={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},jj={},R_e=a(e=>{jj[e]||(ce.warn(D_e[e]),jj[e]=!0)},"issueWarning"),tK=a(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&R_e("LAZY_LOAD_DEPRECATED")},"checkConfig")});var D2,rK,Z9=L(()=>{"use strict";D2=function(){var e=a(function(Lt,st,De,Ge){for(De=De||{},Ge=Lt.length;Ge--;De[Lt[Ge]]=st);return De},"o"),t=[1,24],r=[1,25],n=[1,26],i=[1,27],s=[1,28],o=[1,63],u=[1,64],h=[1,65],p=[1,66],g=[1,67],v=[1,68],x=[1,69],k=[1,29],E=[1,30],_=[1,31],N=[1,32],M=[1,33],P=[1,34],V=[1,35],H=[1,36],O=[1,37],I=[1,38],z=[1,39],G=[1,40],F=[1,41],j=[1,42],D=[1,43],X=[1,44],B=[1,45],Q=[1,46],le=[1,47],J=[1,48],ie=[1,50],re=[1,51],Z=[1,52],Y=[1,53],ue=[1,54],Ae=[1,55],ae=[1,56],Ke=[1,57],Ie=[1,58],$e=[1,59],Xe=[1,60],He=[14,42],Ne=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],_e=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Me=[1,82],Ee=[1,83],Oe=[1,84],at=[1,85],pe=[12,14,42],Bt=[12,14,33,42],Pe=[12,14,33,42,76,77,79,80],gt=[12,33],mt=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Nt={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:a(function(st,De,Ge,Ye,Le,je,Je){var ct=je.length-1;switch(Le){case 3:Ye.setDirection("TB");break;case 4:Ye.setDirection("BT");break;case 5:Ye.setDirection("RL");break;case 6:Ye.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:Ye.setC4Type(je[ct-3]);break;case 19:Ye.setTitle(je[ct].substring(6)),this.$=je[ct].substring(6);break;case 20:Ye.setAccDescription(je[ct].substring(15)),this.$=je[ct].substring(15);break;case 21:this.$=je[ct].trim(),Ye.setTitle(this.$);break;case 22:case 23:this.$=je[ct].trim(),Ye.setAccDescription(this.$);break;case 28:case 29:je[ct].splice(2,0,"ENTERPRISE"),Ye.addPersonOrSystemBoundary(...je[ct]),this.$=je[ct];break;case 30:Ye.addPersonOrSystemBoundary(...je[ct]),this.$=je[ct];break;case 31:je[ct].splice(2,0,"CONTAINER"),Ye.addContainerBoundary(...je[ct]),this.$=je[ct];break;case 32:Ye.addDeploymentNode("node",...je[ct]),this.$=je[ct];break;case 33:Ye.addDeploymentNode("nodeL",...je[ct]),this.$=je[ct];break;case 34:Ye.addDeploymentNode("nodeR",...je[ct]),this.$=je[ct];break;case 35:Ye.popBoundaryParseStack();break;case 39:Ye.addPersonOrSystem("person",...je[ct]),this.$=je[ct];break;case 40:Ye.addPersonOrSystem("external_person",...je[ct]),this.$=je[ct];break;case 41:Ye.addPersonOrSystem("system",...je[ct]),this.$=je[ct];break;case 42:Ye.addPersonOrSystem("system_db",...je[ct]),this.$=je[ct];break;case 43:Ye.addPersonOrSystem("system_queue",...je[ct]),this.$=je[ct];break;case 44:Ye.addPersonOrSystem("external_system",...je[ct]),this.$=je[ct];break;case 45:Ye.addPersonOrSystem("external_system_db",...je[ct]),this.$=je[ct];break;case 46:Ye.addPersonOrSystem("external_system_queue",...je[ct]),this.$=je[ct];break;case 47:Ye.addContainer("container",...je[ct]),this.$=je[ct];break;case 48:Ye.addContainer("container_db",...je[ct]),this.$=je[ct];break;case 49:Ye.addContainer("container_queue",...je[ct]),this.$=je[ct];break;case 50:Ye.addContainer("external_container",...je[ct]),this.$=je[ct];break;case 51:Ye.addContainer("external_container_db",...je[ct]),this.$=je[ct];break;case 52:Ye.addContainer("external_container_queue",...je[ct]),this.$=je[ct];break;case 53:Ye.addComponent("component",...je[ct]),this.$=je[ct];break;case 54:Ye.addComponent("component_db",...je[ct]),this.$=je[ct];break;case 55:Ye.addComponent("component_queue",...je[ct]),this.$=je[ct];break;case 56:Ye.addComponent("external_component",...je[ct]),this.$=je[ct];break;case 57:Ye.addComponent("external_component_db",...je[ct]),this.$=je[ct];break;case 58:Ye.addComponent("external_component_queue",...je[ct]),this.$=je[ct];break;case 60:Ye.addRel("rel",...je[ct]),this.$=je[ct];break;case 61:Ye.addRel("birel",...je[ct]),this.$=je[ct];break;case 62:Ye.addRel("rel_u",...je[ct]),this.$=je[ct];break;case 63:Ye.addRel("rel_d",...je[ct]),this.$=je[ct];break;case 64:Ye.addRel("rel_l",...je[ct]),this.$=je[ct];break;case 65:Ye.addRel("rel_r",...je[ct]),this.$=je[ct];break;case 66:Ye.addRel("rel_b",...je[ct]),this.$=je[ct];break;case 67:je[ct].splice(0,1),Ye.addRel("rel",...je[ct]),this.$=je[ct];break;case 68:Ye.updateElStyle("update_el_style",...je[ct]),this.$=je[ct];break;case 69:Ye.updateRelStyle("update_rel_style",...je[ct]),this.$=je[ct];break;case 70:Ye.updateLayoutConfig("update_layout_config",...je[ct]),this.$=je[ct];break;case 71:this.$=[je[ct]];break;case 72:je[ct].unshift(je[ct-1]),this.$=je[ct];break;case 73:case 75:this.$=je[ct].trim();break;case 74:let Br={};Br[je[ct-1].trim()]=je[ct].trim(),this.$=Br;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:o,36:u,37:h,38:p,39:g,40:v,41:x,43:23,44:k,45:E,46:_,47:N,48:M,49:P,50:V,51:H,52:O,53:I,54:z,55:G,56:F,57:j,58:D,59:X,60:B,61:Q,62:le,63:J,64:ie,65:re,66:Z,67:Y,68:ue,69:Ae,70:ae,71:Ke,72:Ie,73:$e,74:Xe},{13:70,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:o,36:u,37:h,38:p,39:g,40:v,41:x,43:23,44:k,45:E,46:_,47:N,48:M,49:P,50:V,51:H,52:O,53:I,54:z,55:G,56:F,57:j,58:D,59:X,60:B,61:Q,62:le,63:J,64:ie,65:re,66:Z,67:Y,68:ue,69:Ae,70:ae,71:Ke,72:Ie,73:$e,74:Xe},{13:71,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:o,36:u,37:h,38:p,39:g,40:v,41:x,43:23,44:k,45:E,46:_,47:N,48:M,49:P,50:V,51:H,52:O,53:I,54:z,55:G,56:F,57:j,58:D,59:X,60:B,61:Q,62:le,63:J,64:ie,65:re,66:Z,67:Y,68:ue,69:Ae,70:ae,71:Ke,72:Ie,73:$e,74:Xe},{13:72,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:o,36:u,37:h,38:p,39:g,40:v,41:x,43:23,44:k,45:E,46:_,47:N,48:M,49:P,50:V,51:H,52:O,53:I,54:z,55:G,56:F,57:j,58:D,59:X,60:B,61:Q,62:le,63:J,64:ie,65:re,66:Z,67:Y,68:ue,69:Ae,70:ae,71:Ke,72:Ie,73:$e,74:Xe},{13:73,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:o,36:u,37:h,38:p,39:g,40:v,41:x,43:23,44:k,45:E,46:_,47:N,48:M,49:P,50:V,51:H,52:O,53:I,54:z,55:G,56:F,57:j,58:D,59:X,60:B,61:Q,62:le,63:J,64:ie,65:re,66:Z,67:Y,68:ue,69:Ae,70:ae,71:Ke,72:Ie,73:$e,74:Xe},{14:[1,74]},e(He,[2,13],{43:23,29:49,30:61,32:62,20:75,34:o,36:u,37:h,38:p,39:g,40:v,41:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V,51:H,52:O,53:I,54:z,55:G,56:F,57:j,58:D,59:X,60:B,61:Q,62:le,63:J,64:ie,65:re,66:Z,67:Y,68:ue,69:Ae,70:ae,71:Ke,72:Ie,73:$e,74:Xe}),e(He,[2,14]),e(Ne,[2,16],{12:[1,76]}),e(He,[2,36],{12:[1,77]}),e(_e,[2,19]),e(_e,[2,20]),{25:[1,78]},{27:[1,79]},e(_e,[2,23]),{35:80,75:81,76:Me,77:Ee,79:Oe,80:at},{35:86,75:81,76:Me,77:Ee,79:Oe,80:at},{35:87,75:81,76:Me,77:Ee,79:Oe,80:at},{35:88,75:81,76:Me,77:Ee,79:Oe,80:at},{35:89,75:81,76:Me,77:Ee,79:Oe,80:at},{35:90,75:81,76:Me,77:Ee,79:Oe,80:at},{35:91,75:81,76:Me,77:Ee,79:Oe,80:at},{35:92,75:81,76:Me,77:Ee,79:Oe,80:at},{35:93,75:81,76:Me,77:Ee,79:Oe,80:at},{35:94,75:81,76:Me,77:Ee,79:Oe,80:at},{35:95,75:81,76:Me,77:Ee,79:Oe,80:at},{35:96,75:81,76:Me,77:Ee,79:Oe,80:at},{35:97,75:81,76:Me,77:Ee,79:Oe,80:at},{35:98,75:81,76:Me,77:Ee,79:Oe,80:at},{35:99,75:81,76:Me,77:Ee,79:Oe,80:at},{35:100,75:81,76:Me,77:Ee,79:Oe,80:at},{35:101,75:81,76:Me,77:Ee,79:Oe,80:at},{35:102,75:81,76:Me,77:Ee,79:Oe,80:at},{35:103,75:81,76:Me,77:Ee,79:Oe,80:at},{35:104,75:81,76:Me,77:Ee,79:Oe,80:at},e(pe,[2,59]),{35:105,75:81,76:Me,77:Ee,79:Oe,80:at},{35:106,75:81,76:Me,77:Ee,79:Oe,80:at},{35:107,75:81,76:Me,77:Ee,79:Oe,80:at},{35:108,75:81,76:Me,77:Ee,79:Oe,80:at},{35:109,75:81,76:Me,77:Ee,79:Oe,80:at},{35:110,75:81,76:Me,77:Ee,79:Oe,80:at},{35:111,75:81,76:Me,77:Ee,79:Oe,80:at},{35:112,75:81,76:Me,77:Ee,79:Oe,80:at},{35:113,75:81,76:Me,77:Ee,79:Oe,80:at},{35:114,75:81,76:Me,77:Ee,79:Oe,80:at},{35:115,75:81,76:Me,77:Ee,79:Oe,80:at},{20:116,29:49,30:61,32:62,34:o,36:u,37:h,38:p,39:g,40:v,41:x,43:23,44:k,45:E,46:_,47:N,48:M,49:P,50:V,51:H,52:O,53:I,54:z,55:G,56:F,57:j,58:D,59:X,60:B,61:Q,62:le,63:J,64:ie,65:re,66:Z,67:Y,68:ue,69:Ae,70:ae,71:Ke,72:Ie,73:$e,74:Xe},{12:[1,118],33:[1,117]},{35:119,75:81,76:Me,77:Ee,79:Oe,80:at},{35:120,75:81,76:Me,77:Ee,79:Oe,80:at},{35:121,75:81,76:Me,77:Ee,79:Oe,80:at},{35:122,75:81,76:Me,77:Ee,79:Oe,80:at},{35:123,75:81,76:Me,77:Ee,79:Oe,80:at},{35:124,75:81,76:Me,77:Ee,79:Oe,80:at},{35:125,75:81,76:Me,77:Ee,79:Oe,80:at},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(He,[2,15]),e(Ne,[2,17],{21:22,19:130,22:t,23:r,24:n,26:i,28:s}),e(He,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:n,26:i,28:s,34:o,36:u,37:h,38:p,39:g,40:v,41:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V,51:H,52:O,53:I,54:z,55:G,56:F,57:j,58:D,59:X,60:B,61:Q,62:le,63:J,64:ie,65:re,66:Z,67:Y,68:ue,69:Ae,70:ae,71:Ke,72:Ie,73:$e,74:Xe}),e(_e,[2,21]),e(_e,[2,22]),e(pe,[2,39]),e(Bt,[2,71],{75:81,35:132,76:Me,77:Ee,79:Oe,80:at}),e(Pe,[2,73]),{78:[1,133]},e(Pe,[2,75]),e(Pe,[2,76]),e(pe,[2,40]),e(pe,[2,41]),e(pe,[2,42]),e(pe,[2,43]),e(pe,[2,44]),e(pe,[2,45]),e(pe,[2,46]),e(pe,[2,47]),e(pe,[2,48]),e(pe,[2,49]),e(pe,[2,50]),e(pe,[2,51]),e(pe,[2,52]),e(pe,[2,53]),e(pe,[2,54]),e(pe,[2,55]),e(pe,[2,56]),e(pe,[2,57]),e(pe,[2,58]),e(pe,[2,60]),e(pe,[2,61]),e(pe,[2,62]),e(pe,[2,63]),e(pe,[2,64]),e(pe,[2,65]),e(pe,[2,66]),e(pe,[2,67]),e(pe,[2,68]),e(pe,[2,69]),e(pe,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(gt,[2,28]),e(gt,[2,29]),e(gt,[2,30]),e(gt,[2,31]),e(gt,[2,32]),e(gt,[2,33]),e(gt,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(Ne,[2,18]),e(He,[2,38]),e(Bt,[2,72]),e(Pe,[2,74]),e(pe,[2,24]),e(pe,[2,35]),e(mt,[2,25]),e(mt,[2,26],{12:[1,138]}),e(mt,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:a(function(st,De){if(De.recoverable)this.trace(st);else{var Ge=new Error(st);throw Ge.hash=De,Ge}},"parseError"),parse:a(function(st){var De=this,Ge=[0],Ye=[],Le=[null],je=[],Je=this.table,ct="",Br=0,qt=0,Yt=0,Jt=2,rr=1,Ht=je.slice.call(arguments,1),yt=Object.create(this.lexer),Fr={yy:{}};for(var tr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,tr)&&(Fr.yy[tr]=this.yy[tr]);yt.setInput(st,Fr.yy),Fr.yy.lexer=yt,Fr.yy.parser=this,typeof yt.yylloc>"u"&&(yt.yylloc={});var Qi=yt.yylloc;je.push(Qi);var pa=yt.options&&yt.options.ranges;typeof Fr.yy.parseError=="function"?this.parseError=Fr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function li(ln){Ge.length=Ge.length-2*ln,Le.length=Le.length-ln,je.length=je.length-ln}a(li,"popStack");function In(){var ln;return ln=Ye.pop()||yt.lex()||rr,typeof ln!="number"&&(ln instanceof Array&&(Ye=ln,ln=Ye.pop()),ln=De.symbols_[ln]||ln),ln}a(In,"lex");for(var Rr,_n,er,on,ni,Or,Pr={},Ir,wi,ir,ma;;){if(er=Ge[Ge.length-1],this.defaultActions[er]?on=this.defaultActions[er]:((Rr===null||typeof Rr>"u")&&(Rr=In()),on=Je[er]&&Je[er][Rr]),typeof on>"u"||!on.length||!on[0]){var Lr="";ma=[];for(Ir in Je[er])this.terminals_[Ir]&&Ir>Jt&&ma.push("'"+this.terminals_[Ir]+"'");yt.showPosition?Lr="Parse error on line "+(Br+1)+`:
`+yt.showPosition()+`
Expecting `+ma.join(", ")+", got '"+(this.terminals_[Rr]||Rr)+"'":Lr="Parse error on line "+(Br+1)+": Unexpected "+(Rr==rr?"end of input":"'"+(this.terminals_[Rr]||Rr)+"'"),this.parseError(Lr,{text:yt.match,token:this.terminals_[Rr]||Rr,line:yt.yylineno,loc:Qi,expected:ma})}if(on[0]instanceof Array&&on.length>1)throw new Error("Parse Error: multiple actions possible at state: "+er+", token: "+Rr);switch(on[0]){case 1:Ge.push(Rr),Le.push(yt.yytext),je.push(yt.yylloc),Ge.push(on[1]),Rr=null,_n?(Rr=_n,_n=null):(qt=yt.yyleng,ct=yt.yytext,Br=yt.yylineno,Qi=yt.yylloc,Yt>0&&Yt--);break;case 2:if(wi=this.productions_[on[1]][1],Pr.$=Le[Le.length-wi],Pr._$={first_line:je[je.length-(wi||1)].first_line,last_line:je[je.length-1].last_line,first_column:je[je.length-(wi||1)].first_column,last_column:je[je.length-1].last_column},pa&&(Pr._$.range=[je[je.length-(wi||1)].range[0],je[je.length-1].range[1]]),Or=this.performAction.apply(Pr,[ct,qt,Br,Fr.yy,on[1],Le,je].concat(Ht)),typeof Or<"u")return Or;wi&&(Ge=Ge.slice(0,-1*wi*2),Le=Le.slice(0,-1*wi),je=je.slice(0,-1*wi)),Ge.push(this.productions_[on[1]][0]),Le.push(Pr.$),je.push(Pr._$),ir=Je[Ge[Ge.length-2]][Ge[Ge.length-1]],Ge.push(ir);break;case 3:return!0}}return!0},"parse")},Ut=function(){var Lt={EOF:1,parseError:a(function(De,Ge){if(this.yy.parser)this.yy.parser.parseError(De,Ge);else throw new Error(De)},"parseError"),setInput:function(st,De){return this.yy=De||this.yy||{},this._input=st,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var st=this._input[0];this.yytext+=st,this.yyleng++,this.offset++,this.match+=st,this.matched+=st;var De=st.match(/(?:\r\n?|\n).*/g);return De?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),st},unput:function(st){var De=st.length,Ge=st.split(/(?:\r\n?|\n)/g);this._input=st+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-De),this.offset-=De;var Ye=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ge.length-1&&(this.yylineno-=Ge.length-1);var Le=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ge?(Ge.length===Ye.length?this.yylloc.first_column:0)+Ye[Ye.length-Ge.length].length-Ge[0].length:this.yylloc.first_column-De},this.options.ranges&&(this.yylloc.range=[Le[0],Le[0]+this.yyleng-De]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(st){this.unput(this.match.slice(st))},pastInput:function(){var st=this.matched.substr(0,this.matched.length-this.match.length);return(st.length>20?"...":"")+st.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var st=this.match;return st.length<20&&(st+=this._input.substr(0,20-st.length)),(st.substr(0,20)+(st.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var st=this.pastInput(),De=new Array(st.length+1).join("-");return st+this.upcomingInput()+`
`+De+"^"},test_match:function(st,De){var Ge,Ye,Le;if(this.options.backtrack_lexer&&(Le={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Le.yylloc.range=this.yylloc.range.slice(0))),Ye=st[0].match(/(?:\r\n?|\n).*/g),Ye&&(this.yylineno+=Ye.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ye?Ye[Ye.length-1].length-Ye[Ye.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+st[0].length},this.yytext+=st[0],this.match+=st[0],this.matches=st,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(st[0].length),this.matched+=st[0],Ge=this.performAction.call(this,this.yy,this,De,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ge)return Ge;if(this._backtrack){for(var je in Le)this[je]=Le[je];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var st,De,Ge,Ye;this._more||(this.yytext="",this.match="");for(var Le=this._currentRules(),je=0;je<Le.length;je++)if(Ge=this._input.match(this.rules[Le[je]]),Ge&&(!De||Ge[0].length>De[0].length)){if(De=Ge,Ye=je,this.options.backtrack_lexer){if(st=this.test_match(Ge,Le[je]),st!==!1)return st;if(this._backtrack){De=!1;continue}else return!1}else if(!this.options.flex)break}return De?(st=this.test_match(De,Le[Ye]),st!==!1?st:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var De=this.next();return De||this.lex()},"lex"),begin:a(function(De){this.conditionStack.push(De)},"begin"),popState:a(function(){var De=this.conditionStack.length-1;return De>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(De){return De=this.conditionStack.length-1-Math.abs(De||0),De>=0?this.conditionStack[De]:"INITIAL"},"topState"),pushState:a(function(De){this.begin(De)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(De,Ge,Ye,Le){var je=Le;switch(Ye){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),26;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;break;case 23:return this.begin("person"),44;break;case 24:return this.begin("system_ext_queue"),51;break;case 25:return this.begin("system_ext_db"),50;break;case 26:return this.begin("system_ext"),49;break;case 27:return this.begin("system_queue"),48;break;case 28:return this.begin("system_db"),47;break;case 29:return this.begin("system"),46;break;case 30:return this.begin("boundary"),37;break;case 31:return this.begin("enterprise_boundary"),34;break;case 32:return this.begin("system_boundary"),36;break;case 33:return this.begin("container_ext_queue"),57;break;case 34:return this.begin("container_ext_db"),56;break;case 35:return this.begin("container_ext"),55;break;case 36:return this.begin("container_queue"),54;break;case 37:return this.begin("container_db"),53;break;case 38:return this.begin("container"),52;break;case 39:return this.begin("container_boundary"),38;break;case 40:return this.begin("component_ext_queue"),63;break;case 41:return this.begin("component_ext_db"),62;break;case 42:return this.begin("component_ext"),61;break;case 43:return this.begin("component_queue"),60;break;case 44:return this.begin("component_db"),59;break;case 45:return this.begin("component"),58;break;case 46:return this.begin("node"),39;break;case 47:return this.begin("node"),39;break;case 48:return this.begin("node_l"),40;break;case 49:return this.begin("node_r"),41;break;case 50:return this.begin("rel"),64;break;case 51:return this.begin("birel"),65;break;case 52:return this.begin("rel_u"),66;break;case 53:return this.begin("rel_u"),66;break;case 54:return this.begin("rel_d"),67;break;case 55:return this.begin("rel_d"),67;break;case 56:return this.begin("rel_l"),68;break;case 57:return this.begin("rel_l"),68;break;case 58:return this.begin("rel_r"),69;break;case 59:return this.begin("rel_r"),69;break;case 60:return this.begin("rel_b"),70;break;case 61:return this.begin("rel_index"),71;break;case 62:return this.begin("update_el_style"),72;break;case 63:return this.begin("update_rel_style"),73;break;case 64:return this.begin("update_layout_config"),74;break;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";break;case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";break;case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Lt}();Nt.lexer=Ut;function Gt(){this.yy={}}return a(Gt,"Parser"),Gt.prototype=Nt,Nt.Parser=Gt,new Gt}();D2.parser=D2;rK=D2});var I_e,M_e,rn,tl,si=L(()=>{"use strict";ar();I_e=a(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),M_e=a(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),rn=a(function(e,t,r,n){let i=M_e(t,r,n);I_e(e,i)},"configureSvgSize"),tl=a(function(e,t,r,n){let i=t.node().getBBox(),s=i.width,o=i.height;ce.info(`SVG bounds: ${s}x${o}`,i);let u=0,h=0;ce.info(`Graph bounds: ${u}x${h}`,e),u=s+r*2,h=o+r*2,ce.info(`Calculated bounds: ${u}x${h}`),rn(t,h,u,n);let p=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",p)},"setupGraphViewbox")});var Vk,N_e,nK,iK,J9=L(()=>{"use strict";ar();Vk={},N_e=a((e,t,r)=>{let n="";return e in Vk&&Vk[e]?n=Vk[e](r):ce.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }

  ${n}

  ${t}
`},"getStyles"),nK=a((e,t)=>{t!==void 0&&(Vk[e]=t)},"addStylesForDiagram"),iK=N_e});var R2={};Hr(R2,{clear:()=>nn,getAccDescription:()=>gn,getAccTitle:()=>pn,getDiagramTitle:()=>wn,setAccDescription:()=>mn,setAccTitle:()=>hn,setDiagramTitle:()=>Dn});var eL,tL,rL,nL,nn,hn,pn,mn,gn,Dn,wn,$i=L(()=>{"use strict";Ln();ro();eL="",tL="",rL="",nL=a(e=>ai(e,Cn()),"sanitizeText"),nn=a(()=>{eL="",rL="",tL=""},"clear"),hn=a(e=>{eL=nL(e).replace(/^\s+/g,"")},"setAccTitle"),pn=a(()=>eL,"getAccTitle"),mn=a(e=>{rL=nL(e).replace(/\n\s+/g,`
`)},"setAccDescription"),gn=a(()=>rL,"getAccDescription"),Dn=a(e=>{tL=nL(e)},"setDiagramTitle"),wn=a(()=>tL,"getDiagramTitle")});var aK,O_e,we,sK,Uk,P_e,aL,B_e,qk,rp,I2,iL,Vr=L(()=>{"use strict";W0();ar();ro();Ln();si();J9();$i();aK=ce,O_e=av,we=Cn,sK=Gk,Uk=bd,P_e=a(e=>ai(e,we()),"sanitizeText"),aL=tl,B_e=a(()=>R2,"getCommonDb"),qk={},rp=a((e,t,r)=>{qk[e]&&aK.warn(`Diagram with id ${e} already registered. Overwriting.`),qk[e]=t,r&&d9(e,r),nK(e,t.styles),t.injectUtils?.(aK,O_e,we,P_e,aL,B_e(),()=>{})},"registerDiagram"),I2=a(e=>{if(e in qk)return qk[e];throw new iL(e)},"getDiagram"),iL=class extends Error{static{a(this,"DiagramNotFoundError")}constructor(t){super(`Diagram ${t} not found.`)}}});var ic,kd,bo,nc,Qc,M2,sL,oL,Hk,Wk,oK,F_e,z_e,$_e,G_e,V_e,q_e,U_e,H_e,W_e,Y_e,X_e,j_e,K_e,Q_e,Z_e,J_e,eAe,lK,tAe,rAe,uK,nAe,iAe,aAe,sAe,wd,oAe,lAe,uAe,cAe,hAe,N2,lL=L(()=>{"use strict";Vr();Ln();$i();ic=[],kd=[""],bo="global",nc="",Qc=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],M2=[],sL="",oL=!1,Hk=4,Wk=2,F_e=a(function(){return oK},"getC4Type"),z_e=a(function(e){oK=ai(e,we())},"setC4Type"),$_e=a(function(e,t,r,n,i,s,o,u,h){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let p={},g=M2.find(v=>v.from===t&&v.to===r);if(g?p=g:M2.push(p),p.type=e,p.from=t,p.to=r,p.label={text:n},i==null)p.techn={text:""};else if(typeof i=="object"){let[v,x]=Object.entries(i)[0];p[v]={text:x}}else p.techn={text:i};if(s==null)p.descr={text:""};else if(typeof s=="object"){let[v,x]=Object.entries(s)[0];p[v]={text:x}}else p.descr={text:s};if(typeof o=="object"){let[v,x]=Object.entries(o)[0];p[v]=x}else p.sprite=o;if(typeof u=="object"){let[v,x]=Object.entries(u)[0];p[v]=x}else p.tags=u;if(typeof h=="object"){let[v,x]=Object.entries(h)[0];p[v]=x}else p.link=h;p.wrap=wd()},"addRel"),G_e=a(function(e,t,r,n,i,s,o){if(t===null||r===null)return;let u={},h=ic.find(p=>p.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,ic.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.descr={text:""};else if(typeof n=="object"){let[p,g]=Object.entries(n)[0];u[p]={text:g}}else u.descr={text:n};if(typeof i=="object"){let[p,g]=Object.entries(i)[0];u[p]=g}else u.sprite=i;if(typeof s=="object"){let[p,g]=Object.entries(s)[0];u[p]=g}else u.tags=s;if(typeof o=="object"){let[p,g]=Object.entries(o)[0];u[p]=g}else u.link=o;u.typeC4Shape={text:e},u.parentBoundary=bo,u.wrap=wd()},"addPersonOrSystem"),V_e=a(function(e,t,r,n,i,s,o,u){if(t===null||r===null)return;let h={},p=ic.find(g=>g.alias===t);if(p&&t===p.alias?h=p:(h.alias=t,ic.push(h)),r==null?h.label={text:""}:h.label={text:r},n==null)h.techn={text:""};else if(typeof n=="object"){let[g,v]=Object.entries(n)[0];h[g]={text:v}}else h.techn={text:n};if(i==null)h.descr={text:""};else if(typeof i=="object"){let[g,v]=Object.entries(i)[0];h[g]={text:v}}else h.descr={text:i};if(typeof s=="object"){let[g,v]=Object.entries(s)[0];h[g]=v}else h.sprite=s;if(typeof o=="object"){let[g,v]=Object.entries(o)[0];h[g]=v}else h.tags=o;if(typeof u=="object"){let[g,v]=Object.entries(u)[0];h[g]=v}else h.link=u;h.wrap=wd(),h.typeC4Shape={text:e},h.parentBoundary=bo},"addContainer"),q_e=a(function(e,t,r,n,i,s,o,u){if(t===null||r===null)return;let h={},p=ic.find(g=>g.alias===t);if(p&&t===p.alias?h=p:(h.alias=t,ic.push(h)),r==null?h.label={text:""}:h.label={text:r},n==null)h.techn={text:""};else if(typeof n=="object"){let[g,v]=Object.entries(n)[0];h[g]={text:v}}else h.techn={text:n};if(i==null)h.descr={text:""};else if(typeof i=="object"){let[g,v]=Object.entries(i)[0];h[g]={text:v}}else h.descr={text:i};if(typeof s=="object"){let[g,v]=Object.entries(s)[0];h[g]=v}else h.sprite=s;if(typeof o=="object"){let[g,v]=Object.entries(o)[0];h[g]=v}else h.tags=o;if(typeof u=="object"){let[g,v]=Object.entries(u)[0];h[g]=v}else h.link=u;h.wrap=wd(),h.typeC4Shape={text:e},h.parentBoundary=bo},"addComponent"),U_e=a(function(e,t,r,n,i){if(e===null||t===null)return;let s={},o=Qc.find(u=>u.alias===e);if(o&&e===o.alias?s=o:(s.alias=e,Qc.push(s)),t==null?s.label={text:""}:s.label={text:t},r==null)s.type={text:"system"};else if(typeof r=="object"){let[u,h]=Object.entries(r)[0];s[u]={text:h}}else s.type={text:r};if(typeof n=="object"){let[u,h]=Object.entries(n)[0];s[u]=h}else s.tags=n;if(typeof i=="object"){let[u,h]=Object.entries(i)[0];s[u]=h}else s.link=i;s.parentBoundary=bo,s.wrap=wd(),nc=bo,bo=e,kd.push(nc)},"addPersonOrSystemBoundary"),H_e=a(function(e,t,r,n,i){if(e===null||t===null)return;let s={},o=Qc.find(u=>u.alias===e);if(o&&e===o.alias?s=o:(s.alias=e,Qc.push(s)),t==null?s.label={text:""}:s.label={text:t},r==null)s.type={text:"container"};else if(typeof r=="object"){let[u,h]=Object.entries(r)[0];s[u]={text:h}}else s.type={text:r};if(typeof n=="object"){let[u,h]=Object.entries(n)[0];s[u]=h}else s.tags=n;if(typeof i=="object"){let[u,h]=Object.entries(i)[0];s[u]=h}else s.link=i;s.parentBoundary=bo,s.wrap=wd(),nc=bo,bo=e,kd.push(nc)},"addContainerBoundary"),W_e=a(function(e,t,r,n,i,s,o,u){if(t===null||r===null)return;let h={},p=Qc.find(g=>g.alias===t);if(p&&t===p.alias?h=p:(h.alias=t,Qc.push(h)),r==null?h.label={text:""}:h.label={text:r},n==null)h.type={text:"node"};else if(typeof n=="object"){let[g,v]=Object.entries(n)[0];h[g]={text:v}}else h.type={text:n};if(i==null)h.descr={text:""};else if(typeof i=="object"){let[g,v]=Object.entries(i)[0];h[g]={text:v}}else h.descr={text:i};if(typeof o=="object"){let[g,v]=Object.entries(o)[0];h[g]=v}else h.tags=o;if(typeof u=="object"){let[g,v]=Object.entries(u)[0];h[g]=v}else h.link=u;h.nodeType=e,h.parentBoundary=bo,h.wrap=wd(),nc=bo,bo=t,kd.push(nc)},"addDeploymentNode"),Y_e=a(function(){bo=nc,kd.pop(),nc=kd.pop(),kd.push(nc)},"popBoundaryParseStack"),X_e=a(function(e,t,r,n,i,s,o,u,h,p,g){let v=ic.find(x=>x.alias===t);if(!(v===void 0&&(v=Qc.find(x=>x.alias===t),v===void 0))){if(r!=null)if(typeof r=="object"){let[x,k]=Object.entries(r)[0];v[x]=k}else v.bgColor=r;if(n!=null)if(typeof n=="object"){let[x,k]=Object.entries(n)[0];v[x]=k}else v.fontColor=n;if(i!=null)if(typeof i=="object"){let[x,k]=Object.entries(i)[0];v[x]=k}else v.borderColor=i;if(s!=null)if(typeof s=="object"){let[x,k]=Object.entries(s)[0];v[x]=k}else v.shadowing=s;if(o!=null)if(typeof o=="object"){let[x,k]=Object.entries(o)[0];v[x]=k}else v.shape=o;if(u!=null)if(typeof u=="object"){let[x,k]=Object.entries(u)[0];v[x]=k}else v.sprite=u;if(h!=null)if(typeof h=="object"){let[x,k]=Object.entries(h)[0];v[x]=k}else v.techn=h;if(p!=null)if(typeof p=="object"){let[x,k]=Object.entries(p)[0];v[x]=k}else v.legendText=p;if(g!=null)if(typeof g=="object"){let[x,k]=Object.entries(g)[0];v[x]=k}else v.legendSprite=g}},"updateElStyle"),j_e=a(function(e,t,r,n,i,s,o){let u=M2.find(h=>h.from===t&&h.to===r);if(u!==void 0){if(n!=null)if(typeof n=="object"){let[h,p]=Object.entries(n)[0];u[h]=p}else u.textColor=n;if(i!=null)if(typeof i=="object"){let[h,p]=Object.entries(i)[0];u[h]=p}else u.lineColor=i;if(s!=null)if(typeof s=="object"){let[h,p]=Object.entries(s)[0];u[h]=parseInt(p)}else u.offsetX=parseInt(s);if(o!=null)if(typeof o=="object"){let[h,p]=Object.entries(o)[0];u[h]=parseInt(p)}else u.offsetY=parseInt(o)}},"updateRelStyle"),K_e=a(function(e,t,r){let n=Hk,i=Wk;if(typeof t=="object"){let s=Object.values(t)[0];n=parseInt(s)}else n=parseInt(t);if(typeof r=="object"){let s=Object.values(r)[0];i=parseInt(s)}else i=parseInt(r);n>=1&&(Hk=n),i>=1&&(Wk=i)},"updateLayoutConfig"),Q_e=a(function(){return Hk},"getC4ShapeInRow"),Z_e=a(function(){return Wk},"getC4BoundaryInRow"),J_e=a(function(){return bo},"getCurrentBoundaryParse"),eAe=a(function(){return nc},"getParentBoundaryParse"),lK=a(function(e){return e==null?ic:ic.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),tAe=a(function(e){return ic.find(t=>t.alias===e)},"getC4Shape"),rAe=a(function(e){return Object.keys(lK(e))},"getC4ShapeKeys"),uK=a(function(e){return e==null?Qc:Qc.filter(t=>t.parentBoundary===e)},"getBoundaries"),nAe=uK,iAe=a(function(){return M2},"getRels"),aAe=a(function(){return sL},"getTitle"),sAe=a(function(e){oL=e},"setWrap"),wd=a(function(){return oL},"autoWrap"),oAe=a(function(){ic=[],Qc=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],nc="",bo="global",kd=[""],M2=[],kd=[""],sL="",oL=!1,Hk=4,Wk=2},"clear"),lAe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},uAe={FILLED:0,OPEN:1},cAe={LEFTOF:0,RIGHTOF:1,OVER:2},hAe=a(function(e){sL=ai(e,we())},"setTitle"),N2={addPersonOrSystem:G_e,addPersonOrSystemBoundary:U_e,addContainer:V_e,addContainerBoundary:H_e,addComponent:q_e,addDeploymentNode:W_e,popBoundaryParseStack:Y_e,addRel:$_e,updateElStyle:X_e,updateRelStyle:j_e,updateLayoutConfig:K_e,autoWrap:wd,setWrap:sAe,getC4ShapeArray:lK,getC4Shape:tAe,getC4ShapeKeys:rAe,getBoundaries:uK,getBoundarys:nAe,getCurrentBoundaryParse:J_e,getParentBoundaryParse:eAe,getRels:iAe,getTitle:aAe,getC4Type:F_e,getC4ShapeInRow:Q_e,getC4BoundaryInRow:Z_e,setAccTitle:hn,getAccTitle:pn,getAccDescription:gn,setAccDescription:mn,getConfig:()=>we().c4,clear:oAe,LINETYPE:lAe,ARROWTYPE:uAe,PLACEMENT:cAe,setTitle:hAe,setC4Type:z_e}});var uL,np,Yk,cK,hK,fK,ac,O2,P2=L(()=>{"use strict";uL=_s($m(),1);Ln();np=a((e,t)=>{let r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx!==void 0&&r.attr("rx",t.rx),t.ry!==void 0&&r.attr("ry",t.ry),t.attrs!==void 0)for(let n in t.attrs)r.attr(n,t.attrs[n]);return t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),Yk=a((e,t)=>{let r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};np(e,r).lower()},"drawBackgroundRect"),cK=a((e,t)=>{let r=t.text.replace(G0," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),hK=a((e,t,r,n)=>{let i=e.append("image");i.attr("x",t),i.attr("y",r);let s=(0,uL.sanitizeUrl)(n);i.attr("xlink:href",s)},"drawImage"),fK=a((e,t,r,n)=>{let i=e.append("use");i.attr("x",t),i.attr("y",r);let s=(0,uL.sanitizeUrl)(n);i.attr("xlink:href",`#${s}`)},"drawEmbeddedImage"),ac=a(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),O2=a(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")});var dK,cL,pK,fAe,dAe,pAe,mAe,gAe,yAe,vAe,xAe,bAe,kAe,wAe,TAe,ef,sc,mK=L(()=>{"use strict";Ln();P2();dK=_s($m(),1),cL=a(function(e,t){return np(e,t)},"drawRect"),pK=a(function(e,t,r,n,i,s){let o=e.append("image");o.attr("width",t),o.attr("height",r),o.attr("x",n),o.attr("y",i);let u=s.startsWith("data:image/png;base64")?s:(0,dK.sanitizeUrl)(s);o.attr("xlink:href",u)},"drawImage"),fAe=a((e,t,r)=>{let n=e.append("g"),i=0;for(let s of t){let o=s.textColor?s.textColor:"#444444",u=s.lineColor?s.lineColor:"#444444",h=s.offsetX?parseInt(s.offsetX):0,p=s.offsetY?parseInt(s.offsetY):0,g="";if(i===0){let x=n.append("line");x.attr("x1",s.startPoint.x),x.attr("y1",s.startPoint.y),x.attr("x2",s.endPoint.x),x.attr("y2",s.endPoint.y),x.attr("stroke-width","1"),x.attr("stroke",u),x.style("fill","none"),s.type!=="rel_b"&&x.attr("marker-end","url("+g+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&x.attr("marker-start","url("+g+"#arrowend)"),i=-1}else{let x=n.append("path");x.attr("fill","none").attr("stroke-width","1").attr("stroke",u).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",s.startPoint.x).replaceAll("starty",s.startPoint.y).replaceAll("controlx",s.startPoint.x+(s.endPoint.x-s.startPoint.x)/2-(s.endPoint.x-s.startPoint.x)/4).replaceAll("controly",s.startPoint.y+(s.endPoint.y-s.startPoint.y)/2).replaceAll("stopx",s.endPoint.x).replaceAll("stopy",s.endPoint.y)),s.type!=="rel_b"&&x.attr("marker-end","url("+g+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&x.attr("marker-start","url("+g+"#arrowend)")}let v=r.messageFont();ef(r)(s.label.text,n,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+h,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+p,s.label.width,s.label.height,{fill:o},v),s.techn&&s.techn.text!==""&&(v=r.messageFont(),ef(r)("["+s.techn.text+"]",n,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+h,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+r.messageFontSize+5+p,Math.max(s.label.width,s.techn.width),s.techn.height,{fill:o,"font-style":"italic"},v))}},"drawRels"),dAe=a(function(e,t,r){let n=e.append("g"),i=t.bgColor?t.bgColor:"none",s=t.borderColor?t.borderColor:"#444444",o=t.fontColor?t.fontColor:"black",u={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(u={"stroke-width":1});let h={x:t.x,y:t.y,fill:i,stroke:s,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:u};cL(n,h);let p=r.boundaryFont();p.fontWeight="bold",p.fontSize=p.fontSize+2,p.fontColor=o,ef(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},p),t.type&&t.type.text!==""&&(p=r.boundaryFont(),p.fontColor=o,ef(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},p)),t.descr&&t.descr.text!==""&&(p=r.boundaryFont(),p.fontSize=p.fontSize-2,p.fontColor=o,ef(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},p))},"drawBoundary"),pAe=a(function(e,t,r){let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],i=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],s=t.fontColor?t.fontColor:"#FFFFFF",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let u=e.append("g");u.attr("class","person-man");let h=ac();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":h.x=t.x,h.y=t.y,h.fill=n,h.width=t.width,h.height=t.height,h.stroke=i,h.rx=2.5,h.ry=2.5,h.attrs={"stroke-width":.5},cL(u,h);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":u.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":u.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let p=TAe(r,t.typeC4Shape.text);switch(u.append("text").attr("fill",s).attr("font-family",p.fontFamily).attr("font-size",p.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":pK(u,48,48,t.x+t.width/2-24,t.y+t.image.Y,o);break}let g=r[t.typeC4Shape.text+"Font"]();return g.fontWeight="bold",g.fontSize=g.fontSize+2,g.fontColor=s,ef(r)(t.label.text,u,t.x,t.y+t.label.Y,t.width,t.height,{fill:s},g),g=r[t.typeC4Shape.text+"Font"](),g.fontColor=s,t.techn&&t.techn?.text!==""?ef(r)(t.techn.text,u,t.x,t.y+t.techn.Y,t.width,t.height,{fill:s,"font-style":"italic"},g):t.type&&t.type.text!==""&&ef(r)(t.type.text,u,t.x,t.y+t.type.Y,t.width,t.height,{fill:s,"font-style":"italic"},g),t.descr&&t.descr.text!==""&&(g=r.personFont(),g.fontColor=s,ef(r)(t.descr.text,u,t.x,t.y+t.descr.Y,t.width,t.height,{fill:s},g)),t.height},"drawC4Shape"),mAe=a(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),gAe=a(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),yAe=a(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),vAe=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),xAe=a(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),bAe=a(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),kAe=a(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),wAe=a(function(e){let r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),TAe=a((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),ef=function(){function e(i,s,o,u,h,p,g){let v=s.append("text").attr("x",o+h/2).attr("y",u+p/2+5).style("text-anchor","middle").text(i);n(v,g)}a(e,"byText");function t(i,s,o,u,h,p,g,v){let{fontSize:x,fontFamily:k,fontWeight:E}=v,_=i.split(Ct.lineBreakRegex);for(let N=0;N<_.length;N++){let M=N*x-x*(_.length-1)/2,P=s.append("text").attr("x",o+h/2).attr("y",u).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",x).style("font-weight",E).style("font-family",k);P.append("tspan").attr("dy",M).text(_[N]).attr("alignment-baseline","mathematical"),n(P,g)}}a(t,"byTspan");function r(i,s,o,u,h,p,g,v){let x=s.append("switch"),E=x.append("foreignObject").attr("x",o).attr("y",u).attr("width",h).attr("height",p).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,x,o,u,h,p,g,v),n(E,g)}a(r,"byFo");function n(i,s){for(let o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),sc={drawRect:cL,drawBoundary:dAe,drawC4Shape:pAe,drawRels:fAe,drawImage:pK,insertArrowHead:vAe,insertArrowEnd:xAe,insertArrowFilledHead:bAe,insertDynamicNumber:kAe,insertArrowCrossHead:wAe,insertDatabaseIcon:mAe,insertComputerIcon:gAe,insertClockIcon:yAe}});function oc(e,t,r,n,i){if(!t[e].width)if(r)t[e].text=q9(t[e].text,i,n),t[e].textLines=t[e].text.split(Ct.lineBreakRegex).length,t[e].width=i,t[e].height=Lk(t[e].text,n);else{let s=t[e].text.split(Ct.lineBreakRegex);t[e].textLines=s.length;let o=0;t[e].height=0,t[e].width=0;for(let u of s)t[e].width=Math.max(rc(u,n),t[e].width),o=Lk(u,n),t[e].height=t[e].height+o}}function bK(e,t,r,n,i){let s=new Zk(i);s.data.widthLimit=r.data.widthLimit/Math.min(hL,n.length);for(let[o,u]of n.entries()){let h=0;u.image={width:0,height:0,Y:0},u.sprite&&(u.image.width=48,u.image.height=48,u.image.Y=h,h=u.image.Y+u.image.height);let p=u.wrap&&vr.wrap,g=jk(vr);if(g.fontSize=g.fontSize+2,g.fontWeight="bold",oc("label",u,p,g,s.data.widthLimit),u.label.Y=h+8,h=u.label.Y+u.label.height,u.type&&u.type.text!==""){u.type.text="["+u.type.text+"]";let E=jk(vr);oc("type",u,p,E,s.data.widthLimit),u.type.Y=h+5,h=u.type.Y+u.type.height}if(u.descr&&u.descr.text!==""){let E=jk(vr);E.fontSize=E.fontSize-2,oc("descr",u,p,E,s.data.widthLimit),u.descr.Y=h+20,h=u.descr.Y+u.descr.height}if(o==0||o%hL===0){let E=r.data.startx+vr.diagramMarginX,_=r.data.stopy+vr.diagramMarginY+h;s.setData(E,E,_,_)}else{let E=s.data.stopx!==s.data.startx?s.data.stopx+vr.diagramMarginX:s.data.startx,_=s.data.starty;s.setData(E,E,_,_)}s.name=u.alias;let v=i.db.getC4ShapeArray(u.alias),x=i.db.getC4ShapeKeys(u.alias);x.length>0&&xK(s,e,v,x),t=u.alias;let k=i.db.getBoundarys(t);k.length>0&&bK(e,t,s,k,i),u.alias!=="global"&&vK(e,u,s),r.data.stopy=Math.max(s.data.stopy+vr.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(s.data.stopx+vr.c4ShapeMargin,r.data.stopx),Kk=Math.max(Kk,r.data.stopx),Qk=Math.max(Qk,r.data.stopy)}}var Kk,Qk,yK,hL,vr,Zk,fL,B2,jk,EAe,vK,xK,rl,gK,CAe,SAe,_Ae,dL,kK=L(()=>{"use strict";Wr();mK();ar();Z9();Ln();lL();Vr();u2();kn();si();Kk=0,Qk=0,yK=4,hL=2;D2.yy=N2;vr={},Zk=class{static{a(this,"Bounds")}constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,fL(t.db.getConfig())}setData(t,r,n,i){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(t,r,n,i){t[r]===void 0?t[r]=n:t[r]=i(n,t[r])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+t.margin*2,n=r+t.width,i=this.nextData.starty+t.margin*2,s=i+t.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>yK)&&(r=this.nextData.startx+t.margin+vr.nextLinePaddingX,i=this.nextData.stopy+t.margin*2,this.nextData.stopx=n=r+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=s=i+t.height,this.nextData.cnt=1),t.x=r,t.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",s,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",s,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},fL(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}},fL=a(function(e){na(vr,e),e.fontFamily&&(vr.personFontFamily=vr.systemFontFamily=vr.messageFontFamily=e.fontFamily),e.fontSize&&(vr.personFontSize=vr.systemFontSize=vr.messageFontSize=e.fontSize),e.fontWeight&&(vr.personFontWeight=vr.systemFontWeight=vr.messageFontWeight=e.fontWeight)},"setConf"),B2=a((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),jk=a(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),EAe=a(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont");a(oc,"calcC4ShapeTextWH");vK=a(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=vr.c4ShapeMargin-35;let n=t.wrap&&vr.wrap,i=jk(vr);i.fontSize=i.fontSize+2,i.fontWeight="bold";let s=rc(t.label.text,i);oc("label",t,n,i,s),sc.drawBoundary(e,t,vr)},"drawBoundary"),xK=a(function(e,t,r,n){let i=0;for(let s of n){i=0;let o=r[s],u=B2(vr,o.typeC4Shape.text);switch(u.fontSize=u.fontSize-2,o.typeC4Shape.width=rc("\xAB"+o.typeC4Shape.text+"\xBB",u),o.typeC4Shape.height=u.fontSize+2,o.typeC4Shape.Y=vr.c4ShapePadding,i=o.typeC4Shape.Y+o.typeC4Shape.height-4,o.image={width:0,height:0,Y:0},o.typeC4Shape.text){case"person":case"external_person":o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height;break}o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height);let h=o.wrap&&vr.wrap,p=vr.width-vr.c4ShapePadding*2,g=B2(vr,o.typeC4Shape.text);if(g.fontSize=g.fontSize+2,g.fontWeight="bold",oc("label",o,h,g,p),o.label.Y=i+8,i=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let k=B2(vr,o.typeC4Shape.text);oc("type",o,h,k,p),o.type.Y=i+5,i=o.type.Y+o.type.height}else if(o.techn&&o.techn.text!==""){o.techn.text="["+o.techn.text+"]";let k=B2(vr,o.techn.text);oc("techn",o,h,k,p),o.techn.Y=i+5,i=o.techn.Y+o.techn.height}let v=i,x=o.label.width;if(o.descr&&o.descr.text!==""){let k=B2(vr,o.typeC4Shape.text);oc("descr",o,h,k,p),o.descr.Y=i+20,i=o.descr.Y+o.descr.height,x=Math.max(o.label.width,o.descr.width),v=i-o.descr.textLines*5}x=x+vr.c4ShapePadding,o.width=Math.max(o.width||vr.width,x,vr.width),o.height=Math.max(o.height||vr.height,v,vr.height),o.margin=o.margin||vr.c4ShapeMargin,e.insert(o),sc.drawC4Shape(t,o,vr)}e.bumpLastMargin(vr.c4ShapeMargin)},"drawC4ShapeArray"),rl=class{static{a(this,"Point")}constructor(t,r){this.x=t,this.y=r}},gK=a(function(e,t){let r=e.x,n=e.y,i=t.x,s=t.y,o=r+e.width/2,u=n+e.height/2,h=Math.abs(r-i),p=Math.abs(n-s),g=p/h,v=e.height/e.width,x=null;return n==s&&r<i?x=new rl(r+e.width,u):n==s&&r>i?x=new rl(r,u):r==i&&n<s?x=new rl(o,n+e.height):r==i&&n>s&&(x=new rl(o,n)),r>i&&n<s?v>=g?x=new rl(r,u+g*e.width/2):x=new rl(o-h/p*e.height/2,n+e.height):r<i&&n<s?v>=g?x=new rl(r+e.width,u+g*e.width/2):x=new rl(o+h/p*e.height/2,n+e.height):r<i&&n>s?v>=g?x=new rl(r+e.width,u-g*e.width/2):x=new rl(o+e.height/2*h/p,n):r>i&&n>s&&(v>=g?x=new rl(r,u-e.width/2*g):x=new rl(o-e.height/2*h/p,n)),x},"getIntersectPoint"),CAe=a(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=gK(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let i=gK(t,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),SAe=a(function(e,t,r,n){let i=0;for(let s of t){i=i+1;let o=s.wrap&&vr.wrap,u=EAe(vr);n.db.getC4Type()==="C4Dynamic"&&(s.label.text=i+": "+s.label.text);let p=rc(s.label.text,u);oc("label",s,o,u,p),s.techn&&s.techn.text!==""&&(p=rc(s.techn.text,u),oc("techn",s,o,u,p)),s.descr&&s.descr.text!==""&&(p=rc(s.descr.text,u),oc("descr",s,o,u,p));let g=r(s.from),v=r(s.to),x=CAe(g,v);s.startPoint=x.startPoint,s.endPoint=x.endPoint}sc.drawRels(e,t,vr)},"drawRels");a(bK,"drawInsideBoundary");_Ae=a(function(e,t,r,n){vr=we().c4;let i=we().securityLevel,s;i==="sandbox"&&(s=ut("#i"+t));let o=i==="sandbox"?ut(s.nodes()[0].contentDocument.body):ut("body"),u=n.db;n.db.setWrap(vr.wrap),yK=u.getC4ShapeInRow(),hL=u.getC4BoundaryInRow(),ce.debug(`C:${JSON.stringify(vr,null,2)}`);let h=i==="sandbox"?o.select(`[id="${t}"]`):ut(`[id="${t}"]`);sc.insertComputerIcon(h),sc.insertDatabaseIcon(h),sc.insertClockIcon(h);let p=new Zk(n);p.setData(vr.diagramMarginX,vr.diagramMarginX,vr.diagramMarginY,vr.diagramMarginY),p.data.widthLimit=screen.availWidth,Kk=vr.diagramMarginX,Qk=vr.diagramMarginY;let g=n.db.getTitle(),v=n.db.getBoundarys("");bK(h,"",p,v,n),sc.insertArrowHead(h),sc.insertArrowEnd(h),sc.insertArrowCrossHead(h),sc.insertArrowFilledHead(h),SAe(h,n.db.getRels(),n.db.getC4Shape,n),p.data.stopx=Kk,p.data.stopy=Qk;let x=p.data,E=x.stopy-x.starty+2*vr.diagramMarginY,N=x.stopx-x.startx+2*vr.diagramMarginX;g&&h.append("text").text(g).attr("x",(x.stopx-x.startx)/2-4*vr.diagramMarginX).attr("y",x.starty+vr.diagramMarginY),rn(h,E,N,vr.useMaxWidth);let M=g?60:0;h.attr("viewBox",x.startx-vr.diagramMarginX+" -"+(vr.diagramMarginY+M)+" "+N+" "+(E+M)),ce.debug("models:",x)},"draw"),dL={drawPersonOrSystemArray:xK,drawBoundary:vK,setConf:fL,draw:_Ae}});var AAe,wK,TK=L(()=>{"use strict";AAe=a(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),wK=AAe});var EK={};Hr(EK,{diagram:()=>LAe});var LAe,CK=L(()=>{"use strict";Z9();lL();kK();TK();LAe={parser:rK,db:N2,renderer:dL,styles:wK,init:({c4:e,wrap:t})=>{dL.setConf(e),N2.setWrap(t)}}});var pL,Jk,mL=L(()=>{"use strict";pL=function(){var e=a(function(co,fr,Cr,zr){for(Cr=Cr||{},zr=co.length;zr--;Cr[co[zr]]=fr);return Cr},"o"),t=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],s=[2,2],o=[1,13],u=[1,14],h=[1,15],p=[1,16],g=[1,23],v=[1,25],x=[1,26],k=[1,27],E=[1,49],_=[1,48],N=[1,29],M=[1,30],P=[1,31],V=[1,32],H=[1,33],O=[1,44],I=[1,46],z=[1,42],G=[1,47],F=[1,43],j=[1,50],D=[1,45],X=[1,51],B=[1,52],Q=[1,34],le=[1,35],J=[1,36],ie=[1,37],re=[1,57],Z=[1,8,9,10,11,27,32,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],Y=[1,61],ue=[1,60],Ae=[1,62],ae=[8,9,11,73,75],Ke=[1,88],Ie=[1,93],$e=[1,92],Xe=[1,89],He=[1,85],Ne=[1,91],_e=[1,87],Me=[1,94],Ee=[1,90],Oe=[1,95],at=[1,86],pe=[8,9,10,11,73,75],Bt=[8,9,10,11,44,73,75],Pe=[8,9,10,11,29,42,44,46,48,50,52,54,56,58,61,63,65,66,68,73,75,86,99,102,103,106,108,111,112,113],gt=[8,9,11,42,58,73,75,86,99,102,103,106,108,111,112,113],mt=[42,58,86,99,102,103,106,108,111,112,113],Nt=[1,121],Ut=[1,120],Gt=[1,128],Lt=[1,142],st=[1,143],De=[1,144],Ge=[1,145],Ye=[1,130],Le=[1,132],je=[1,136],Je=[1,137],ct=[1,138],Br=[1,139],qt=[1,140],Yt=[1,141],Jt=[1,146],rr=[1,147],Ht=[1,126],yt=[1,127],Fr=[1,134],tr=[1,129],Qi=[1,133],pa=[1,131],li=[8,9,10,11,27,32,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],In=[1,149],Rr=[8,9,11],_n=[8,9,10,11,14,42,58,86,102,103,106,108,111,112,113],er=[1,169],on=[1,165],ni=[1,166],Or=[1,170],Pr=[1,167],Ir=[1,168],wi=[75,113,116],ir=[8,9,10,11,12,14,27,29,32,42,58,73,81,82,83,84,85,86,87,102,106,108,111,112,113],ma=[10,103],Lr=[31,47,49,51,53,55,60,62,64,65,67,69,113,114,115],ln=[1,235],Bn=[1,233],ga=[1,237],Zi=[1,231],Oa=[1,232],ii=[1,234],rs=[1,236],Pa=[1,238],Ba=[1,255],ya=[8,9,11,103],Ea=[8,9,10,11,58,81,102,103,106,107,108,109],bh={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,link:39,node:40,styledVertex:41,AMP:42,vertex:43,STYLE_SEPARATOR:44,idString:45,DOUBLECIRCLESTART:46,DOUBLECIRCLEEND:47,PS:48,PE:49,"(-":50,"-)":51,STADIUMSTART:52,STADIUMEND:53,SUBROUTINESTART:54,SUBROUTINEEND:55,VERTEX_WITH_PROPS_START:56,"NODE_STRING[field]":57,COLON:58,"NODE_STRING[value]":59,PIPE:60,CYLINDERSTART:61,CYLINDEREND:62,DIAMOND_START:63,DIAMOND_STOP:64,TAGEND:65,TRAPSTART:66,TRAPEND:67,INVTRAPSTART:68,INVTRAPEND:69,linkStatement:70,arrowText:71,TESTSTR:72,START_LINK:73,edgeText:74,LINK:75,edgeTextToken:76,STR:77,MD_STR:78,textToken:79,keywords:80,STYLE:81,LINKSTYLE:82,CLASSDEF:83,CLASS:84,CLICK:85,DOWN:86,UP:87,textNoTagsToken:88,stylesOpt:89,"idString[vertex]":90,"idString[class]":91,CALLBACKNAME:92,CALLBACKARGS:93,HREF:94,LINK_TARGET:95,"STR[link]":96,"STR[tooltip]":97,alphaNum:98,DEFAULT:99,numList:100,INTERPOLATE:101,NUM:102,COMMA:103,style:104,styleComponent:105,NODE_STRING:106,UNIT:107,BRKT:108,PCT:109,idStringToken:110,MINUS:111,MULT:112,UNICODE_TEXT:113,TEXT:114,TAGSTART:115,EDGE_TEXT:116,alphaNumToken:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",42:"AMP",44:"STYLE_SEPARATOR",46:"DOUBLECIRCLESTART",47:"DOUBLECIRCLEEND",48:"PS",49:"PE",50:"(-",51:"-)",52:"STADIUMSTART",53:"STADIUMEND",54:"SUBROUTINESTART",55:"SUBROUTINEEND",56:"VERTEX_WITH_PROPS_START",57:"NODE_STRING[field]",58:"COLON",59:"NODE_STRING[value]",60:"PIPE",61:"CYLINDERSTART",62:"CYLINDEREND",63:"DIAMOND_START",64:"DIAMOND_STOP",65:"TAGEND",66:"TRAPSTART",67:"TRAPEND",68:"INVTRAPSTART",69:"INVTRAPEND",72:"TESTSTR",73:"START_LINK",75:"LINK",77:"STR",78:"MD_STR",81:"STYLE",82:"LINKSTYLE",83:"CLASSDEF",84:"CLASS",85:"CLICK",86:"DOWN",87:"UP",90:"idString[vertex]",91:"idString[class]",92:"CALLBACKNAME",93:"CALLBACKARGS",94:"HREF",95:"LINK_TARGET",96:"STR[link]",97:"STR[tooltip]",99:"DEFAULT",101:"INTERPOLATE",102:"NUM",103:"COMMA",106:"NODE_STRING",107:"UNIT",108:"BRKT",109:"PCT",111:"MINUS",112:"MULT",113:"UNICODE_TEXT",114:"TEXT",115:"TAGSTART",116:"EDGE_TEXT",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[20,3],[20,4],[20,2],[20,1],[40,1],[40,5],[41,1],[41,3],[43,4],[43,4],[43,6],[43,4],[43,4],[43,4],[43,8],[43,4],[43,4],[43,4],[43,6],[43,4],[43,4],[43,4],[43,4],[43,4],[43,1],[39,2],[39,3],[39,3],[39,1],[39,3],[74,1],[74,2],[74,1],[74,1],[70,1],[71,3],[30,1],[30,2],[30,1],[30,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[100,1],[100,3],[89,1],[89,3],[104,1],[104,2],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[79,1],[79,1],[79,1],[79,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[76,1],[76,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[45,1],[45,2],[98,1],[98,2],[33,1],[33,1],[33,1],[33,1]],performAction:a(function(fr,Cr,zr,Xt,Fn,Re,bs){var Fe=Re.length-1;switch(Fn){case 2:this.$=[];break;case 3:(!Array.isArray(Re[Fe])||Re[Fe].length>0)&&Re[Fe-1].push(Re[Fe]),this.$=Re[Fe-1];break;case 4:case 176:this.$=Re[Fe];break;case 11:Xt.setDirection("TB"),this.$="TB";break;case 12:Xt.setDirection(Re[Fe-1]),this.$=Re[Fe-1];break;case 27:this.$=Re[Fe-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=Xt.addSubGraph(Re[Fe-6],Re[Fe-1],Re[Fe-4]);break;case 34:this.$=Xt.addSubGraph(Re[Fe-3],Re[Fe-1],Re[Fe-3]);break;case 35:this.$=Xt.addSubGraph(void 0,Re[Fe-1],void 0);break;case 37:this.$=Re[Fe].trim(),Xt.setAccTitle(this.$);break;case 38:case 39:this.$=Re[Fe].trim(),Xt.setAccDescription(this.$);break;case 43:Xt.addLink(Re[Fe-2].stmt,Re[Fe],Re[Fe-1]),this.$={stmt:Re[Fe],nodes:Re[Fe].concat(Re[Fe-2].nodes)};break;case 44:Xt.addLink(Re[Fe-3].stmt,Re[Fe-1],Re[Fe-2]),this.$={stmt:Re[Fe-1],nodes:Re[Fe-1].concat(Re[Fe-3].nodes)};break;case 45:this.$={stmt:Re[Fe-1],nodes:Re[Fe-1]};break;case 46:this.$={stmt:Re[Fe],nodes:Re[Fe]};break;case 47:this.$=[Re[Fe]];break;case 48:this.$=Re[Fe-4].concat(Re[Fe]);break;case 49:this.$=Re[Fe];break;case 50:this.$=Re[Fe-2],Xt.setClass(Re[Fe-2],Re[Fe]);break;case 51:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"square");break;case 52:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"doublecircle");break;case 53:this.$=Re[Fe-5],Xt.addVertex(Re[Fe-5],Re[Fe-2],"circle");break;case 54:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"ellipse");break;case 55:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"stadium");break;case 56:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"subroutine");break;case 57:this.$=Re[Fe-7],Xt.addVertex(Re[Fe-7],Re[Fe-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Re[Fe-5],Re[Fe-3]]]));break;case 58:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"cylinder");break;case 59:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"round");break;case 60:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"diamond");break;case 61:this.$=Re[Fe-5],Xt.addVertex(Re[Fe-5],Re[Fe-2],"hexagon");break;case 62:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"odd");break;case 63:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"trapezoid");break;case 64:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"inv_trapezoid");break;case 65:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"lean_right");break;case 66:this.$=Re[Fe-3],Xt.addVertex(Re[Fe-3],Re[Fe-1],"lean_left");break;case 67:this.$=Re[Fe],Xt.addVertex(Re[Fe]);break;case 68:Re[Fe-1].text=Re[Fe],this.$=Re[Fe-1];break;case 69:case 70:Re[Fe-2].text=Re[Fe-1],this.$=Re[Fe-2];break;case 71:this.$=Re[Fe];break;case 72:var Ji=Xt.destructLink(Re[Fe],Re[Fe-2]);this.$={type:Ji.type,stroke:Ji.stroke,length:Ji.length,text:Re[Fe-1]};break;case 73:this.$={text:Re[Fe],type:"text"};break;case 74:this.$={text:Re[Fe-1].text+""+Re[Fe],type:Re[Fe-1].type};break;case 75:this.$={text:Re[Fe],type:"string"};break;case 76:this.$={text:Re[Fe],type:"markdown"};break;case 77:var Ji=Xt.destructLink(Re[Fe]);this.$={type:Ji.type,stroke:Ji.stroke,length:Ji.length};break;case 78:this.$=Re[Fe-1];break;case 79:this.$={text:Re[Fe],type:"text"};break;case 80:this.$={text:Re[Fe-1].text+""+Re[Fe],type:Re[Fe-1].type};break;case 81:this.$={text:Re[Fe],type:"string"};break;case 82:case 97:this.$={text:Re[Fe],type:"markdown"};break;case 94:this.$={text:Re[Fe],type:"text"};break;case 95:this.$={text:Re[Fe-1].text+""+Re[Fe],type:Re[Fe-1].type};break;case 96:this.$={text:Re[Fe],type:"text"};break;case 98:this.$=Re[Fe-4],Xt.addClass(Re[Fe-2],Re[Fe]);break;case 99:this.$=Re[Fe-4],Xt.setClass(Re[Fe-2],Re[Fe]);break;case 100:case 108:this.$=Re[Fe-1],Xt.setClickEvent(Re[Fe-1],Re[Fe]);break;case 101:case 109:this.$=Re[Fe-3],Xt.setClickEvent(Re[Fe-3],Re[Fe-2]),Xt.setTooltip(Re[Fe-3],Re[Fe]);break;case 102:this.$=Re[Fe-2],Xt.setClickEvent(Re[Fe-2],Re[Fe-1],Re[Fe]);break;case 103:this.$=Re[Fe-4],Xt.setClickEvent(Re[Fe-4],Re[Fe-3],Re[Fe-2]),Xt.setTooltip(Re[Fe-4],Re[Fe]);break;case 104:this.$=Re[Fe-2],Xt.setLink(Re[Fe-2],Re[Fe]);break;case 105:this.$=Re[Fe-4],Xt.setLink(Re[Fe-4],Re[Fe-2]),Xt.setTooltip(Re[Fe-4],Re[Fe]);break;case 106:this.$=Re[Fe-4],Xt.setLink(Re[Fe-4],Re[Fe-2],Re[Fe]);break;case 107:this.$=Re[Fe-6],Xt.setLink(Re[Fe-6],Re[Fe-4],Re[Fe]),Xt.setTooltip(Re[Fe-6],Re[Fe-2]);break;case 110:this.$=Re[Fe-1],Xt.setLink(Re[Fe-1],Re[Fe]);break;case 111:this.$=Re[Fe-3],Xt.setLink(Re[Fe-3],Re[Fe-2]),Xt.setTooltip(Re[Fe-3],Re[Fe]);break;case 112:this.$=Re[Fe-3],Xt.setLink(Re[Fe-3],Re[Fe-2],Re[Fe]);break;case 113:this.$=Re[Fe-5],Xt.setLink(Re[Fe-5],Re[Fe-4],Re[Fe]),Xt.setTooltip(Re[Fe-5],Re[Fe-2]);break;case 114:this.$=Re[Fe-4],Xt.addVertex(Re[Fe-2],void 0,void 0,Re[Fe]);break;case 115:this.$=Re[Fe-4],Xt.updateLink([Re[Fe-2]],Re[Fe]);break;case 116:this.$=Re[Fe-4],Xt.updateLink(Re[Fe-2],Re[Fe]);break;case 117:this.$=Re[Fe-8],Xt.updateLinkInterpolate([Re[Fe-6]],Re[Fe-2]),Xt.updateLink([Re[Fe-6]],Re[Fe]);break;case 118:this.$=Re[Fe-8],Xt.updateLinkInterpolate(Re[Fe-6],Re[Fe-2]),Xt.updateLink(Re[Fe-6],Re[Fe]);break;case 119:this.$=Re[Fe-6],Xt.updateLinkInterpolate([Re[Fe-4]],Re[Fe]);break;case 120:this.$=Re[Fe-6],Xt.updateLinkInterpolate(Re[Fe-4],Re[Fe]);break;case 121:case 123:this.$=[Re[Fe]];break;case 122:case 124:Re[Fe-2].push(Re[Fe]),this.$=Re[Fe-2];break;case 126:this.$=Re[Fe-1]+Re[Fe];break;case 174:this.$=Re[Fe];break;case 175:this.$=Re[Fe-1]+""+Re[Fe];break;case 177:this.$=Re[Fe-1]+""+Re[Fe];break;case 178:this.$={stmt:"dir",value:"TB"};break;case 179:this.$={stmt:"dir",value:"BT"};break;case 180:this.$={stmt:"dir",value:"RL"};break;case 181:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:n},{1:[3]},e(i,s,{5:6}),{4:7,9:t,10:r,12:n},{4:8,9:t,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:o,9:u,10:h,11:p,20:17,22:18,23:19,24:20,25:21,26:22,27:g,33:24,34:v,36:x,38:k,40:28,41:38,42:E,43:39,45:40,58:_,81:N,82:M,83:P,84:V,85:H,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B,118:Q,119:le,120:J,121:ie},e(i,[2,9]),e(i,[2,10]),e(i,[2,11]),{8:[1,54],9:[1,55],10:re,15:53,18:56},e(Z,[2,3]),e(Z,[2,4]),e(Z,[2,5]),e(Z,[2,6]),e(Z,[2,7]),e(Z,[2,8]),{8:Y,9:ue,11:Ae,21:58,39:59,70:63,73:[1,64],75:[1,65]},{8:Y,9:ue,11:Ae,21:66},{8:Y,9:ue,11:Ae,21:67},{8:Y,9:ue,11:Ae,21:68},{8:Y,9:ue,11:Ae,21:69},{8:Y,9:ue,11:Ae,21:70},{8:Y,9:ue,10:[1,71],11:Ae,21:72},e(Z,[2,36]),{35:[1,73]},{37:[1,74]},e(Z,[2,39]),e(ae,[2,46],{18:75,10:re}),{10:[1,76]},{10:[1,77]},{10:[1,78]},{10:[1,79]},{14:Ke,42:Ie,58:$e,77:[1,83],86:Xe,92:[1,80],94:[1,81],98:82,102:He,103:Ne,106:_e,108:Me,111:Ee,112:Oe,113:at,117:84},e(Z,[2,178]),e(Z,[2,179]),e(Z,[2,180]),e(Z,[2,181]),e(pe,[2,47]),e(pe,[2,49],{44:[1,96]}),e(Bt,[2,67],{110:109,29:[1,97],42:E,46:[1,98],48:[1,99],50:[1,100],52:[1,101],54:[1,102],56:[1,103],58:_,61:[1,104],63:[1,105],65:[1,106],66:[1,107],68:[1,108],86:O,99:I,102:z,103:G,106:F,108:j,111:D,112:X,113:B}),e(Pe,[2,174]),e(Pe,[2,135]),e(Pe,[2,136]),e(Pe,[2,137]),e(Pe,[2,138]),e(Pe,[2,139]),e(Pe,[2,140]),e(Pe,[2,141]),e(Pe,[2,142]),e(Pe,[2,143]),e(Pe,[2,144]),e(Pe,[2,145]),e(i,[2,12]),e(i,[2,18]),e(i,[2,19]),{9:[1,110]},e(gt,[2,26],{18:111,10:re}),e(Z,[2,27]),{40:112,41:38,42:E,43:39,45:40,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B},e(Z,[2,40]),e(Z,[2,41]),e(Z,[2,42]),e(mt,[2,71],{71:113,60:[1,115],72:[1,114]}),{74:116,76:117,77:[1,118],78:[1,119],113:Nt,116:Ut},e([42,58,60,72,86,99,102,103,106,108,111,112,113],[2,77]),e(Z,[2,28]),e(Z,[2,29]),e(Z,[2,30]),e(Z,[2,31]),e(Z,[2,32]),{10:Gt,12:Lt,14:st,27:De,28:122,32:Ge,42:Ye,58:Le,73:je,77:[1,124],78:[1,125],80:135,81:Je,82:ct,83:Br,84:qt,85:Yt,86:Jt,87:rr,88:123,102:Ht,106:yt,108:Fr,111:tr,112:Qi,113:pa},e(li,s,{5:148}),e(Z,[2,37]),e(Z,[2,38]),e(ae,[2,45],{42:In}),{42:E,45:150,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B},{99:[1,151],100:152,102:[1,153]},{42:E,45:154,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B},{42:E,45:155,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B},e(Rr,[2,100],{10:[1,156],93:[1,157]}),{77:[1,158]},e(Rr,[2,108],{117:160,10:[1,159],14:Ke,42:Ie,58:$e,86:Xe,102:He,103:Ne,106:_e,108:Me,111:Ee,112:Oe,113:at}),e(Rr,[2,110],{10:[1,161]}),e(_n,[2,176]),e(_n,[2,163]),e(_n,[2,164]),e(_n,[2,165]),e(_n,[2,166]),e(_n,[2,167]),e(_n,[2,168]),e(_n,[2,169]),e(_n,[2,170]),e(_n,[2,171]),e(_n,[2,172]),e(_n,[2,173]),{42:E,45:162,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B},{30:163,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{30:171,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{30:173,48:[1,172],65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{30:174,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{30:175,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{30:176,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{106:[1,177]},{30:178,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{30:179,63:[1,180],65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{30:181,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{30:182,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{30:183,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},e(Pe,[2,175]),e(i,[2,20]),e(gt,[2,25]),e(ae,[2,43],{18:184,10:re}),e(mt,[2,68],{10:[1,185]}),{10:[1,186]},{30:187,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{75:[1,188],76:189,113:Nt,116:Ut},e(wi,[2,73]),e(wi,[2,75]),e(wi,[2,76]),e(wi,[2,161]),e(wi,[2,162]),{8:Y,9:ue,10:Gt,11:Ae,12:Lt,14:st,21:191,27:De,29:[1,190],32:Ge,42:Ye,58:Le,73:je,80:135,81:Je,82:ct,83:Br,84:qt,85:Yt,86:Jt,87:rr,88:192,102:Ht,106:yt,108:Fr,111:tr,112:Qi,113:pa},e(ir,[2,94]),e(ir,[2,96]),e(ir,[2,97]),e(ir,[2,150]),e(ir,[2,151]),e(ir,[2,152]),e(ir,[2,153]),e(ir,[2,154]),e(ir,[2,155]),e(ir,[2,156]),e(ir,[2,157]),e(ir,[2,158]),e(ir,[2,159]),e(ir,[2,160]),e(ir,[2,83]),e(ir,[2,84]),e(ir,[2,85]),e(ir,[2,86]),e(ir,[2,87]),e(ir,[2,88]),e(ir,[2,89]),e(ir,[2,90]),e(ir,[2,91]),e(ir,[2,92]),e(ir,[2,93]),{6:11,7:12,8:o,9:u,10:h,11:p,20:17,22:18,23:19,24:20,25:21,26:22,27:g,32:[1,193],33:24,34:v,36:x,38:k,40:28,41:38,42:E,43:39,45:40,58:_,81:N,82:M,83:P,84:V,85:H,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B,118:Q,119:le,120:J,121:ie},{10:re,18:194},{10:[1,195],42:E,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:109,111:D,112:X,113:B},{10:[1,196]},{10:[1,197],103:[1,198]},e(ma,[2,121]),{10:[1,199],42:E,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:109,111:D,112:X,113:B},{10:[1,200],42:E,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:109,111:D,112:X,113:B},{77:[1,201]},e(Rr,[2,102],{10:[1,202]}),e(Rr,[2,104],{10:[1,203]}),{77:[1,204]},e(_n,[2,177]),{77:[1,205],95:[1,206]},e(pe,[2,50],{110:109,42:E,58:_,86:O,99:I,102:z,103:G,106:F,108:j,111:D,112:X,113:B}),{31:[1,207],65:er,79:208,113:Or,114:Pr,115:Ir},e(Lr,[2,79]),e(Lr,[2,81]),e(Lr,[2,82]),e(Lr,[2,146]),e(Lr,[2,147]),e(Lr,[2,148]),e(Lr,[2,149]),{47:[1,209],65:er,79:208,113:Or,114:Pr,115:Ir},{30:210,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{49:[1,211],65:er,79:208,113:Or,114:Pr,115:Ir},{51:[1,212],65:er,79:208,113:Or,114:Pr,115:Ir},{53:[1,213],65:er,79:208,113:Or,114:Pr,115:Ir},{55:[1,214],65:er,79:208,113:Or,114:Pr,115:Ir},{58:[1,215]},{62:[1,216],65:er,79:208,113:Or,114:Pr,115:Ir},{64:[1,217],65:er,79:208,113:Or,114:Pr,115:Ir},{30:218,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},{31:[1,219],65:er,79:208,113:Or,114:Pr,115:Ir},{65:er,67:[1,220],69:[1,221],79:208,113:Or,114:Pr,115:Ir},{65:er,67:[1,223],69:[1,222],79:208,113:Or,114:Pr,115:Ir},e(ae,[2,44],{42:In}),e(mt,[2,70]),e(mt,[2,69]),{60:[1,224],65:er,79:208,113:Or,114:Pr,115:Ir},e(mt,[2,72]),e(wi,[2,74]),{30:225,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},e(li,s,{5:226}),e(ir,[2,95]),e(Z,[2,35]),{41:227,42:E,43:39,45:40,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B},{10:ln,58:Bn,81:ga,89:228,102:Zi,104:229,105:230,106:Oa,107:ii,108:rs,109:Pa},{10:ln,58:Bn,81:ga,89:239,101:[1,240],102:Zi,104:229,105:230,106:Oa,107:ii,108:rs,109:Pa},{10:ln,58:Bn,81:ga,89:241,101:[1,242],102:Zi,104:229,105:230,106:Oa,107:ii,108:rs,109:Pa},{102:[1,243]},{10:ln,58:Bn,81:ga,89:244,102:Zi,104:229,105:230,106:Oa,107:ii,108:rs,109:Pa},{42:E,45:245,58:_,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B},e(Rr,[2,101]),{77:[1,246]},{77:[1,247],95:[1,248]},e(Rr,[2,109]),e(Rr,[2,111],{10:[1,249]}),e(Rr,[2,112]),e(Bt,[2,51]),e(Lr,[2,80]),e(Bt,[2,52]),{49:[1,250],65:er,79:208,113:Or,114:Pr,115:Ir},e(Bt,[2,59]),e(Bt,[2,54]),e(Bt,[2,55]),e(Bt,[2,56]),{106:[1,251]},e(Bt,[2,58]),e(Bt,[2,60]),{64:[1,252],65:er,79:208,113:Or,114:Pr,115:Ir},e(Bt,[2,62]),e(Bt,[2,63]),e(Bt,[2,65]),e(Bt,[2,64]),e(Bt,[2,66]),e([10,42,58,86,99,102,103,106,108,111,112,113],[2,78]),{31:[1,253],65:er,79:208,113:Or,114:Pr,115:Ir},{6:11,7:12,8:o,9:u,10:h,11:p,20:17,22:18,23:19,24:20,25:21,26:22,27:g,32:[1,254],33:24,34:v,36:x,38:k,40:28,41:38,42:E,43:39,45:40,58:_,81:N,82:M,83:P,84:V,85:H,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B,118:Q,119:le,120:J,121:ie},e(pe,[2,48]),e(Rr,[2,114],{103:Ba}),e(ya,[2,123],{105:256,10:ln,58:Bn,81:ga,102:Zi,106:Oa,107:ii,108:rs,109:Pa}),e(Ea,[2,125]),e(Ea,[2,127]),e(Ea,[2,128]),e(Ea,[2,129]),e(Ea,[2,130]),e(Ea,[2,131]),e(Ea,[2,132]),e(Ea,[2,133]),e(Ea,[2,134]),e(Rr,[2,115],{103:Ba}),{10:[1,257]},e(Rr,[2,116],{103:Ba}),{10:[1,258]},e(ma,[2,122]),e(Rr,[2,98],{103:Ba}),e(Rr,[2,99],{110:109,42:E,58:_,86:O,99:I,102:z,103:G,106:F,108:j,111:D,112:X,113:B}),e(Rr,[2,103]),e(Rr,[2,105],{10:[1,259]}),e(Rr,[2,106]),{95:[1,260]},{49:[1,261]},{60:[1,262]},{64:[1,263]},{8:Y,9:ue,11:Ae,21:264},e(Z,[2,34]),{10:ln,58:Bn,81:ga,102:Zi,104:265,105:230,106:Oa,107:ii,108:rs,109:Pa},e(Ea,[2,126]),{14:Ke,42:Ie,58:$e,86:Xe,98:266,102:He,103:Ne,106:_e,108:Me,111:Ee,112:Oe,113:at,117:84},{14:Ke,42:Ie,58:$e,86:Xe,98:267,102:He,103:Ne,106:_e,108:Me,111:Ee,112:Oe,113:at,117:84},{95:[1,268]},e(Rr,[2,113]),e(Bt,[2,53]),{30:269,65:er,77:on,78:ni,79:164,113:Or,114:Pr,115:Ir},e(Bt,[2,61]),e(li,s,{5:270}),e(ya,[2,124],{105:256,10:ln,58:Bn,81:ga,102:Zi,106:Oa,107:ii,108:rs,109:Pa}),e(Rr,[2,119],{117:160,10:[1,271],14:Ke,42:Ie,58:$e,86:Xe,102:He,103:Ne,106:_e,108:Me,111:Ee,112:Oe,113:at}),e(Rr,[2,120],{117:160,10:[1,272],14:Ke,42:Ie,58:$e,86:Xe,102:He,103:Ne,106:_e,108:Me,111:Ee,112:Oe,113:at}),e(Rr,[2,107]),{31:[1,273],65:er,79:208,113:Or,114:Pr,115:Ir},{6:11,7:12,8:o,9:u,10:h,11:p,20:17,22:18,23:19,24:20,25:21,26:22,27:g,32:[1,274],33:24,34:v,36:x,38:k,40:28,41:38,42:E,43:39,45:40,58:_,81:N,82:M,83:P,84:V,85:H,86:O,99:I,102:z,103:G,106:F,108:j,110:41,111:D,112:X,113:B,118:Q,119:le,120:J,121:ie},{10:ln,58:Bn,81:ga,89:275,102:Zi,104:229,105:230,106:Oa,107:ii,108:rs,109:Pa},{10:ln,58:Bn,81:ga,89:276,102:Zi,104:229,105:230,106:Oa,107:ii,108:rs,109:Pa},e(Bt,[2,57]),e(Z,[2,33]),e(Rr,[2,117],{103:Ba}),e(Rr,[2,118],{103:Ba})],defaultActions:{},parseError:a(function(fr,Cr){if(Cr.recoverable)this.trace(fr);else{var zr=new Error(fr);throw zr.hash=Cr,zr}},"parseError"),parse:a(function(fr){var Cr=this,zr=[0],Xt=[],Fn=[null],Re=[],bs=this.table,Fe="",Ji=0,Lf=0,Du=0,Df=2,Ru=1,Ul=Re.slice.call(arguments,1),Mi=Object.create(this.lexer),Ti={yy:{}};for(var ho in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ho)&&(Ti.yy[ho]=this.yy[ho]);Mi.setInput(fr,Ti.yy),Ti.yy.lexer=Mi,Ti.yy.parser=this,typeof Mi.yylloc>"u"&&(Mi.yylloc={});var kh=Mi.yylloc;Re.push(kh);var vl=Mi.options&&Mi.options.ranges;typeof Ti.yy.parseError=="function"?this.parseError=Ti.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ry(pi){zr.length=zr.length-2*pi,Fn.length=Fn.length-pi,Re.length=Re.length-pi}a(Ry,"popStack");function wh(){var pi;return pi=Xt.pop()||Mi.lex()||Ru,typeof pi!="number"&&(pi instanceof Array&&(Xt=pi,pi=Xt.pop()),pi=Cr.symbols_[pi]||pi),pi}a(wh,"lex");for(var Ca,a0,ui,Ui,dm,Ec,Hl={},Wl,Mn,Rf,An;;){if(ui=zr[zr.length-1],this.defaultActions[ui]?Ui=this.defaultActions[ui]:((Ca===null||typeof Ca>"u")&&(Ca=wh()),Ui=bs[ui]&&bs[ui][Ca]),typeof Ui>"u"||!Ui.length||!Ui[0]){var If="";An=[];for(Wl in bs[ui])this.terminals_[Wl]&&Wl>Df&&An.push("'"+this.terminals_[Wl]+"'");Mi.showPosition?If="Parse error on line "+(Ji+1)+`:
`+Mi.showPosition()+`
Expecting `+An.join(", ")+", got '"+(this.terminals_[Ca]||Ca)+"'":If="Parse error on line "+(Ji+1)+": Unexpected "+(Ca==Ru?"end of input":"'"+(this.terminals_[Ca]||Ca)+"'"),this.parseError(If,{text:Mi.match,token:this.terminals_[Ca]||Ca,line:Mi.yylineno,loc:kh,expected:An})}if(Ui[0]instanceof Array&&Ui.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ui+", token: "+Ca);switch(Ui[0]){case 1:zr.push(Ca),Fn.push(Mi.yytext),Re.push(Mi.yylloc),zr.push(Ui[1]),Ca=null,a0?(Ca=a0,a0=null):(Lf=Mi.yyleng,Fe=Mi.yytext,Ji=Mi.yylineno,kh=Mi.yylloc,Du>0&&Du--);break;case 2:if(Mn=this.productions_[Ui[1]][1],Hl.$=Fn[Fn.length-Mn],Hl._$={first_line:Re[Re.length-(Mn||1)].first_line,last_line:Re[Re.length-1].last_line,first_column:Re[Re.length-(Mn||1)].first_column,last_column:Re[Re.length-1].last_column},vl&&(Hl._$.range=[Re[Re.length-(Mn||1)].range[0],Re[Re.length-1].range[1]]),Ec=this.performAction.apply(Hl,[Fe,Lf,Ji,Ti.yy,Ui[1],Fn,Re].concat(Ul)),typeof Ec<"u")return Ec;Mn&&(zr=zr.slice(0,-1*Mn*2),Fn=Fn.slice(0,-1*Mn),Re=Re.slice(0,-1*Mn)),zr.push(this.productions_[Ui[1]][0]),Fn.push(Hl.$),Re.push(Hl._$),Rf=bs[zr[zr.length-2]][zr[zr.length-1]],zr.push(Rf);break;case 3:return!0}}return!0},"parse")},Af=function(){var co={EOF:1,parseError:a(function(Cr,zr){if(this.yy.parser)this.yy.parser.parseError(Cr,zr);else throw new Error(Cr)},"parseError"),setInput:function(fr,Cr){return this.yy=Cr||this.yy||{},this._input=fr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var fr=this._input[0];this.yytext+=fr,this.yyleng++,this.offset++,this.match+=fr,this.matched+=fr;var Cr=fr.match(/(?:\r\n?|\n).*/g);return Cr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),fr},unput:function(fr){var Cr=fr.length,zr=fr.split(/(?:\r\n?|\n)/g);this._input=fr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Cr),this.offset-=Cr;var Xt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),zr.length-1&&(this.yylineno-=zr.length-1);var Fn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:zr?(zr.length===Xt.length?this.yylloc.first_column:0)+Xt[Xt.length-zr.length].length-zr[0].length:this.yylloc.first_column-Cr},this.options.ranges&&(this.yylloc.range=[Fn[0],Fn[0]+this.yyleng-Cr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(fr){this.unput(this.match.slice(fr))},pastInput:function(){var fr=this.matched.substr(0,this.matched.length-this.match.length);return(fr.length>20?"...":"")+fr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var fr=this.match;return fr.length<20&&(fr+=this._input.substr(0,20-fr.length)),(fr.substr(0,20)+(fr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var fr=this.pastInput(),Cr=new Array(fr.length+1).join("-");return fr+this.upcomingInput()+`
`+Cr+"^"},test_match:function(fr,Cr){var zr,Xt,Fn;if(this.options.backtrack_lexer&&(Fn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Fn.yylloc.range=this.yylloc.range.slice(0))),Xt=fr[0].match(/(?:\r\n?|\n).*/g),Xt&&(this.yylineno+=Xt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Xt?Xt[Xt.length-1].length-Xt[Xt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+fr[0].length},this.yytext+=fr[0],this.match+=fr[0],this.matches=fr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(fr[0].length),this.matched+=fr[0],zr=this.performAction.call(this,this.yy,this,Cr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),zr)return zr;if(this._backtrack){for(var Re in Fn)this[Re]=Fn[Re];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var fr,Cr,zr,Xt;this._more||(this.yytext="",this.match="");for(var Fn=this._currentRules(),Re=0;Re<Fn.length;Re++)if(zr=this._input.match(this.rules[Fn[Re]]),zr&&(!Cr||zr[0].length>Cr[0].length)){if(Cr=zr,Xt=Re,this.options.backtrack_lexer){if(fr=this.test_match(zr,Fn[Re]),fr!==!1)return fr;if(this._backtrack){Cr=!1;continue}else return!1}else if(!this.options.flex)break}return Cr?(fr=this.test_match(Cr,Fn[Xt]),fr!==!1?fr:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var Cr=this.next();return Cr||this.lex()},"lex"),begin:a(function(Cr){this.conditionStack.push(Cr)},"begin"),popState:a(function(){var Cr=this.conditionStack.length-1;return Cr>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(Cr){return Cr=this.conditionStack.length-1-Math.abs(Cr||0),Cr>=0?this.conditionStack[Cr]:"INITIAL"},"topState"),pushState:a(function(Cr){this.begin(Cr)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(Cr,zr,Xt,Fn){var Re=Fn;switch(Xt){case 0:return this.begin("acc_title"),34;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),36;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:this.begin("callbackname");break;case 8:this.popState();break;case 9:this.popState(),this.begin("callbackargs");break;case 10:return 92;case 11:this.popState();break;case 12:return 93;case 13:return"MD_STR";case 14:this.popState();break;case 15:this.begin("md_string");break;case 16:return"STR";case 17:this.popState();break;case 18:this.pushState("string");break;case 19:return 81;case 20:return 99;case 21:return 82;case 22:return 101;case 23:return 83;case 24:return 84;case 25:return 94;case 26:this.begin("click");break;case 27:this.popState();break;case 28:return 85;case 29:return Cr.lex.firstGraph()&&this.begin("dir"),12;break;case 30:return Cr.lex.firstGraph()&&this.begin("dir"),12;break;case 31:return Cr.lex.firstGraph()&&this.begin("dir"),12;break;case 32:return 27;case 33:return 32;case 34:return 95;case 35:return 95;case 36:return 95;case 37:return 95;case 38:return this.popState(),13;break;case 39:return this.popState(),14;break;case 40:return this.popState(),14;break;case 41:return this.popState(),14;break;case 42:return this.popState(),14;break;case 43:return this.popState(),14;break;case 44:return this.popState(),14;break;case 45:return this.popState(),14;break;case 46:return this.popState(),14;break;case 47:return this.popState(),14;break;case 48:return this.popState(),14;break;case 49:return 118;case 50:return 119;case 51:return 120;case 52:return 121;case 53:return 102;case 54:return 108;case 55:return 44;case 56:return 58;case 57:return 42;case 58:return 8;case 59:return 103;case 60:return 112;case 61:return this.popState(),75;break;case 62:return this.pushState("edgeText"),73;break;case 63:return 116;case 64:return this.popState(),75;break;case 65:return this.pushState("thickEdgeText"),73;break;case 66:return 116;case 67:return this.popState(),75;break;case 68:return this.pushState("dottedEdgeText"),73;break;case 69:return 116;case 70:return 75;case 71:return this.popState(),51;break;case 72:return"TEXT";case 73:return this.pushState("ellipseText"),50;break;case 74:return this.popState(),53;break;case 75:return this.pushState("text"),52;break;case 76:return this.popState(),55;break;case 77:return this.pushState("text"),54;break;case 78:return 56;case 79:return this.pushState("text"),65;break;case 80:return this.popState(),62;break;case 81:return this.pushState("text"),61;break;case 82:return this.popState(),47;break;case 83:return this.pushState("text"),46;break;case 84:return this.popState(),67;break;case 85:return this.popState(),69;break;case 86:return 114;case 87:return this.pushState("trapText"),66;break;case 88:return this.pushState("trapText"),68;break;case 89:return 115;case 90:return 65;case 91:return 87;case 92:return"SEP";case 93:return 86;case 94:return 112;case 95:return 108;case 96:return 42;case 97:return 106;case 98:return 111;case 99:return 113;case 100:return this.popState(),60;break;case 101:return this.pushState("text"),60;break;case 102:return this.popState(),49;break;case 103:return this.pushState("text"),48;break;case 104:return this.popState(),31;break;case 105:return this.pushState("text"),29;break;case 106:return this.popState(),64;break;case 107:return this.pushState("text"),63;break;case 108:return"TEXT";case 109:return"QUOTE";case 110:return 9;case 111:return 10;case 112:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{callbackargs:{rules:[11,12,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},callbackname:{rules:[8,9,10,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},href:{rules:[15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},click:{rules:[15,18,27,28,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},dottedEdgeText:{rules:[15,18,67,69,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},thickEdgeText:{rules:[15,18,64,66,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},edgeText:{rules:[15,18,61,63,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},trapText:{rules:[15,18,70,73,75,77,81,83,84,85,86,87,88,101,103,105,107],inclusive:!1},ellipseText:{rules:[15,18,70,71,72,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},text:{rules:[15,18,70,73,74,75,76,77,80,81,82,83,87,88,100,101,102,103,104,105,106,107,108],inclusive:!1},vertex:{rules:[15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},dir:{rules:[15,18,38,39,40,41,42,43,44,45,46,47,48,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_descr_multiline:{rules:[5,6,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_descr:{rules:[3,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_title:{rules:[1,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},md_string:{rules:[13,14,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},string:{rules:[15,16,17,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},INITIAL:{rules:[0,2,4,7,15,18,19,20,21,22,23,24,25,26,29,30,31,32,33,34,35,36,37,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,67,68,70,73,75,77,78,79,81,83,87,88,89,90,91,92,93,94,95,96,97,98,99,101,103,105,107,109,110,111,112],inclusive:!0}}};return co}();bh.lexer=Af;function ql(){this.yy={}}return a(ql,"Parser"),ql.prototype=bh,bh.Parser=ql,new ql}();pL.parser=pL;Jk=pL});var MAe,AK,qg,Td,lc,t6,tf,yL,vL,e6,gL,mu,r6,n6,i6,a6,NAe,OAe,PAe,BAe,FAe,zAe,$Ae,xL,GAe,VAe,qAe,UAe,HAe,WAe,YAe,XAe,jAe,KAe,LK,QAe,ZAe,JAe,e9e,t9e,F2,DK,RK,r9e,n9e,i9e,a9e,s9e,o9e,l9e,u9e,IK,MK,c9e,Ed,bL=L(()=>{"use strict";Wr();kn();Vr();Ln();ar();$i();MAe="flowchart-",AK=0,qg=we(),Td=new Map,lc=[],t6=new Map,tf=[],yL=new Map,vL=new Map,e6=0,gL=!0,n6=[],i6=a(e=>Ct.sanitizeText(e,qg),"sanitizeText"),a6=a(function(e){for(let t of Td.values())if(t.id===e)return t.domId;return e},"lookUpDomId"),NAe=a(function(e,t,r,n,i,s,o={}){if(!e||e.trim().length===0)return;let u,h=Td.get(e);h===void 0&&(h={id:e,labelType:"text",domId:MAe+e+"-"+AK,styles:[],classes:[]},Td.set(e,h)),AK++,t!==void 0?(qg=we(),u=i6(t.text.trim()),h.labelType=t.type,u[0]==='"'&&u[u.length-1]==='"'&&(u=u.substring(1,u.length-1)),h.text=u):h.text===void 0&&(h.text=e),r!==void 0&&(h.type=r),n?.forEach(function(p){h.styles.push(p)}),i?.forEach(function(p){h.classes.push(p)}),s!==void 0&&(h.dir=s),h.props===void 0?h.props=o:o!==void 0&&Object.assign(h.props,o)},"addVertex"),OAe=a(function(e,t,r){let s={start:e,end:t,type:void 0,text:"",labelType:"text"};ce.info("abc78 Got edge...",s);let o=r.text;if(o!==void 0&&(s.text=i6(o.text.trim()),s.text[0]==='"'&&s.text[s.text.length-1]==='"'&&(s.text=s.text.substring(1,s.text.length-1)),s.labelType=o.type),r!==void 0&&(s.type=r.type,s.stroke=r.stroke,s.length=r.length>10?10:r.length),lc.length<(qg.maxEdges??500))ce.info("Pushing edge..."),lc.push(s);else throw new Error(`Edge limit exceeded. ${lc.length} edges found, but the limit is ${qg.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)},"addSingleLink"),PAe=a(function(e,t,r){ce.info("addLink",e,t,r);for(let n of e)for(let i of t)OAe(n,i,r)},"addLink"),BAe=a(function(e,t){e.forEach(function(r){r==="default"?lc.defaultInterpolate=t:lc[r].interpolate=t})},"updateLinkInterpolate"),FAe=a(function(e,t){e.forEach(function(r){if(typeof r=="number"&&r>=lc.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${lc.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?lc.defaultStyle=t:(wr.isSubstringInArray("fill",t)===-1&&t.push("fill:none"),lc[r].style=t)})},"updateLink"),zAe=a(function(e,t){e.split(",").forEach(function(r){let n=t6.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},t6.set(r,n)),t?.forEach(function(i){if(i.match("color")){let s=i.replace("fill","bgFill").replace("color","fill");n.textStyles.push(s)}n.styles.push(i)})})},"addClass"),$Ae=a(function(e){mu=e,mu.match(/.*</)&&(mu="RL"),mu.match(/.*\^/)&&(mu="BT"),mu.match(/.*>/)&&(mu="LR"),mu.match(/.*v/)&&(mu="TB"),mu==="TD"&&(mu="TB")},"setDirection"),xL=a(function(e,t){for(let r of e.split(",")){let n=Td.get(r);n&&n.classes.push(t);let i=yL.get(r);i&&i.classes.push(t)}},"setClass"),GAe=a(function(e,t){if(t!==void 0){t=i6(t);for(let r of e.split(","))vL.set(r6==="gen-1"?a6(r):r,t)}},"setTooltip"),VAe=a(function(e,t,r){let n=a6(e);if(we().securityLevel!=="loose"||t===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<i.length;o++){let u=i[o].trim();u.charAt(0)==='"'&&u.charAt(u.length-1)==='"'&&(u=u.substr(1,u.length-2)),i[o]=u}}i.length===0&&i.push(e);let s=Td.get(e);s&&(s.haveCallback=!0,n6.push(function(){let o=document.querySelector(`[id="${n}"]`);o!==null&&o.addEventListener("click",function(){wr.runFunc(t,...i)},!1)}))},"setClickFun"),qAe=a(function(e,t,r){e.split(",").forEach(function(n){let i=Td.get(n);i!==void 0&&(i.link=wr.formatUrl(t,qg),i.linkTarget=r)}),xL(e,"clickable")},"setLink"),UAe=a(function(e){return vL.get(e)},"getTooltip"),HAe=a(function(e,t,r){e.split(",").forEach(function(n){VAe(n,t,r)}),xL(e,"clickable")},"setClickEvent"),WAe=a(function(e){n6.forEach(function(t){t(e)})},"bindFunctions"),YAe=a(function(){return mu.trim()},"getDirection"),XAe=a(function(){return Td},"getVertices"),jAe=a(function(){return lc},"getEdges"),KAe=a(function(){return t6},"getClasses"),LK=a(function(e){let t=ut(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=ut("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),ut(e).select("svg").selectAll("g.node").on("mouseover",function(){let i=ut(this);if(i.attr("title")===null)return;let o=this?.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),ut(this).classed("hover",!1)})},"setupToolTips");n6.push(LK);QAe=a(function(e="gen-1"){Td=new Map,t6=new Map,lc=[],n6=[LK],tf=[],yL=new Map,e6=0,vL=new Map,gL=!0,r6=e,qg=we(),nn()},"clear"),ZAe=a(e=>{r6=e||"gen-2"},"setGen"),JAe=a(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),e9e=a(function(e,t,r){let n=e.text.trim(),i=r.text;e===r&&r.text.match(/\s/)&&(n=void 0);function s(p){let g={boolean:{},number:{},string:{}},v=[],x;return{nodeList:p.filter(function(E){let _=typeof E;return E.stmt&&E.stmt==="dir"?(x=E.value,!1):E.trim()===""?!1:_ in g?g[_].hasOwnProperty(E)?!1:g[_][E]=!0:v.includes(E)?!1:v.push(E)}),dir:x}}a(s,"uniq");let{nodeList:o,dir:u}=s(t.flat());if(r6==="gen-1")for(let p=0;p<o.length;p++)o[p]=a6(o[p]);n=n||"subGraph"+e6,i=i||"",i=i6(i),e6=e6+1;let h={id:n,nodes:o,title:i.trim(),classes:[],dir:u,labelType:r.type};return ce.info("Adding",h.id,h.nodes,h.dir),h.nodes=MK(h,tf).nodes,tf.push(h),yL.set(n,h),n},"addSubGraph"),t9e=a(function(e){for(let[t,r]of tf.entries())if(r.id===e)return t;return-1},"getPosForId"),F2=-1,DK=[],RK=a(function(e,t){let r=tf[t].nodes;if(F2=F2+1,F2>2e3)return{result:!1,count:0};if(DK[F2]=t,tf[t].id===e)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){let s=t9e(r[n]);if(s>=0){let o=RK(e,s);if(o.result)return{result:!0,count:i+o.count};i=i+o.count}n=n+1}return{result:!1,count:i}},"indexNodes2"),r9e=a(function(e){return DK[e]},"getDepthFirstPos"),n9e=a(function(){F2=-1,tf.length>0&&RK("none",tf.length-1)},"indexNodes"),i9e=a(function(){return tf},"getSubGraphs"),a9e=a(()=>gL?(gL=!1,!0):!1,"firstGraph"),s9e=a(e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let n="normal";return t.includes("=")&&(n="thick"),t.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),o9e=a((e,t)=>{let r=t.length,n=0;for(let i=0;i<r;++i)t[i]===e&&++n;return n},"countChar"),l9e=a(e=>{let t=e.trim(),r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t[0]==="x"&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t[0]==="<"&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t[0]==="o"&&(n="double_"+n,r=r.slice(1));break}let i="normal",s=r.length-1;r[0]==="="&&(i="thick"),r[0]==="~"&&(i="invisible");let o=o9e(".",r);return o&&(i="dotted",s=o),{type:n,stroke:i,length:s}},"destructEndLink"),u9e=a((e,t)=>{let r=l9e(e),n;if(t){if(n=s9e(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),IK=a((e,t)=>{let r=!1;return e.forEach(n=>{n.nodes.indexOf(t)>=0&&(r=!0)}),r},"exists"),MK=a((e,t)=>{let r=[];return e.nodes.forEach((n,i)=>{IK(t,n)||r.push(e.nodes[i])}),{nodes:r}},"makeUniq"),c9e={firstGraph:a9e},Ed={defaultConfig:()=>Uk.flowchart,setAccTitle:hn,getAccTitle:pn,getAccDescription:gn,setAccDescription:mn,addVertex:NAe,lookUpDomId:a6,addLink:PAe,updateLinkInterpolate:BAe,updateLink:FAe,addClass:zAe,setDirection:$Ae,setClass:xL,setTooltip:GAe,getTooltip:UAe,setClickEvent:HAe,setLink:qAe,bindFunctions:WAe,getDirection:YAe,getVertices:XAe,getEdges:jAe,getClasses:KAe,clear:QAe,setGen:ZAe,defaultStyle:JAe,addSubGraph:e9e,getDepthFirstPos:r9e,indexNodes:n9e,getSubGraphs:i9e,destructLink:u9e,lex:c9e,exists:IK,makeUniq:MK,setDiagramTitle:Dn,getDiagramTitle:wn}});function f9e(e){return typeof e=="symbol"||Xi(e)&&Is(e)==h9e}var h9e,Dl,ip=L(()=>{"use strict";Xh();su();h9e="[object Symbol]";a(f9e,"isSymbol");Dl=f9e});function d9e(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var nl,ap=L(()=>{"use strict";a(d9e,"arrayMap");nl=d9e});function PK(e){if(typeof e=="string")return e;if(or(e))return nl(e,PK)+"";if(Dl(e))return OK?OK.call(e):"";var t=e+"";return t=="0"&&1/e==-p9e?"-0":t}var p9e,NK,OK,BK,FK=L(()=>{"use strict";Y0();ap();zi();ip();p9e=1/0,NK=ls?ls.prototype:void 0,OK=NK?NK.toString:void 0;a(PK,"baseToString");BK=PK});function g9e(e){for(var t=e.length;t--&&m9e.test(e.charAt(t)););return t}var m9e,zK,$K=L(()=>{"use strict";m9e=/\s/;a(g9e,"trimmedEndIndex");zK=g9e});function v9e(e){return e&&e.slice(0,zK(e)+1).replace(y9e,"")}var y9e,GK,VK=L(()=>{"use strict";$K();y9e=/^\s+/;a(v9e,"baseTrim");GK=v9e});function T9e(e){if(typeof e=="number")return e;if(Dl(e))return qK;if(vi(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vi(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=GK(e);var r=b9e.test(e);return r||k9e.test(e)?w9e(e.slice(2),r?2:8):x9e.test(e)?qK:+e}var qK,x9e,b9e,k9e,w9e,UK,HK=L(()=>{"use strict";VK();Al();ip();qK=NaN,x9e=/^[-+]0x[0-9a-f]+$/i,b9e=/^0b[01]+$/i,k9e=/^0o[0-7]+$/i,w9e=parseInt;a(T9e,"toNumber");UK=T9e});function C9e(e){if(!e)return e===0?e:0;if(e=UK(e),e===WK||e===-WK){var t=e<0?-1:1;return t*E9e}return e===e?e:0}var WK,E9e,Ug,kL=L(()=>{"use strict";HK();WK=1/0,E9e=17976931348623157e292;a(C9e,"toFinite");Ug=C9e});function S9e(e){var t=Ug(e),r=t%1;return t===t?r?t-r:t:0}var Zc,Hg=L(()=>{"use strict";kL();a(S9e,"toInteger");Zc=S9e});var _9e,s6,YK=L(()=>{"use strict";cd();iu();_9e=Ko(ia,"WeakMap"),s6=_9e});function A9e(){}var ji,wL=L(()=>{"use strict";a(A9e,"noop");ji=A9e});function L9e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var o6,TL=L(()=>{"use strict";a(L9e,"arrayEach");o6=L9e});function D9e(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var l6,EL=L(()=>{"use strict";a(D9e,"baseFindIndex");l6=D9e});function R9e(e){return e!==e}var XK,jK=L(()=>{"use strict";a(R9e,"baseIsNaN");XK=R9e});function I9e(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var KK,QK=L(()=>{"use strict";a(I9e,"strictIndexOf");KK=I9e});function M9e(e,t,r){return t===t?KK(e,t,r):l6(e,XK,r)}var Wg,u6=L(()=>{"use strict";EL();jK();QK();a(M9e,"baseIndexOf");Wg=M9e});function N9e(e,t){var r=e==null?0:e.length;return!!r&&Wg(e,t,0)>-1}var c6,CL=L(()=>{"use strict";u6();a(N9e,"arrayIncludes");c6=N9e});var O9e,ZK,JK=L(()=>{"use strict";S9();O9e=xk(Object.keys,Object),ZK=O9e});function F9e(e){if(!Yc(e))return ZK(e);var t=[];for(var r in Object(e))B9e.call(e,r)&&r!="constructor"&&t.push(r);return t}var P9e,B9e,Yg,h6=L(()=>{"use strict";Ig();JK();P9e=Object.prototype,B9e=P9e.hasOwnProperty;a(F9e,"baseKeys");Yg=F9e});function z9e(e){return sa(e)?Ek(e):Yg(e)}var Vn,Jc=L(()=>{"use strict";I9();h6();ou();a(z9e,"keys");Vn=z9e});var $9e,G9e,V9e,Ms,eQ=L(()=>{"use strict";Pg();Z0();P9();ou();Ig();Jc();$9e=Object.prototype,G9e=$9e.hasOwnProperty,V9e=_k(function(e,t){if(Yc(t)||sa(t)){cu(t,Vn(t),e);return}for(var r in t)G9e.call(t,r)&&Xc(e,r,t[r])}),Ms=V9e});function H9e(e,t){if(or(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Dl(e)?!0:U9e.test(e)||!q9e.test(e)||t!=null&&e in Object(t)}var q9e,U9e,Xg,f6=L(()=>{"use strict";zi();ip();q9e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U9e=/^\w*$/;a(H9e,"isKey");Xg=H9e});function Y9e(e){var t=Eg(e,function(n){return r.size===W9e&&r.clear(),n}),r=t.cache;return t}var W9e,tQ,rQ=L(()=>{"use strict";x9();W9e=500;a(Y9e,"memoizeCapped");tQ=Y9e});var X9e,j9e,K9e,nQ,iQ=L(()=>{"use strict";rQ();X9e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j9e=/\\(\\)?/g,K9e=tQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(X9e,function(r,n,i,s){t.push(i?s.replace(j9e,"$1"):n||r)}),t}),nQ=K9e});function Q9e(e){return e==null?"":BK(e)}var d6,SL=L(()=>{"use strict";FK();a(Q9e,"toString");d6=Q9e});function Z9e(e,t){return or(e)?e:Xg(e,t)?[e]:nQ(d6(e))}var Cd,z2=L(()=>{"use strict";zi();f6();iQ();SL();a(Z9e,"castPath");Cd=Z9e});function eLe(e){if(typeof e=="string"||Dl(e))return e;var t=e+"";return t=="0"&&1/e==-J9e?"-0":t}var J9e,eh,jg=L(()=>{"use strict";ip();J9e=1/0;a(eLe,"toKey");eh=eLe});function tLe(e,t){t=Cd(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[eh(t[r++])];return r&&r==n?e:void 0}var Sd,$2=L(()=>{"use strict";z2();jg();a(tLe,"baseGet");Sd=tLe});function rLe(e,t,r){var n=e==null?void 0:Sd(e,t);return n===void 0?r:n}var aQ,sQ=L(()=>{"use strict";$2();a(rLe,"get");aQ=rLe});function nLe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Kg,p6=L(()=>{"use strict";a(nLe,"arrayPush");Kg=nLe});function iLe(e){return or(e)||ec(e)||!!(oQ&&e&&e[oQ])}var oQ,lQ,uQ=L(()=>{"use strict";Y0();Mg();zi();oQ=ls?ls.isConcatSpreadable:void 0;a(iLe,"isFlattenable");lQ=iLe});function cQ(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=lQ),i||(i=[]);++s<o;){var u=e[s];t>0&&r(u)?t>1?cQ(u,t-1,r,n,i):Kg(i,u):n||(i[i.length]=u)}return i}var th,Qg=L(()=>{"use strict";p6();uQ();a(cQ,"baseFlatten");th=cQ});function aLe(e){var t=e==null?0:e.length;return t?th(e,1):[]}var Xn,m6=L(()=>{"use strict";Qg();a(aLe,"flatten");Xn=aLe});function sLe(e){return Sk(Ck(e,void 0,Xn),e+"")}var hQ,fQ=L(()=>{"use strict";m6();M9();O9();a(sLe,"flatRest");hQ=sLe});function oLe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var g6,_L=L(()=>{"use strict";a(oLe,"baseSlice");g6=oLe});function gLe(e){return mLe.test(e)}var lLe,uLe,cLe,hLe,fLe,dLe,pLe,mLe,dQ,pQ=L(()=>{"use strict";lLe="\\ud800-\\udfff",uLe="\\u0300-\\u036f",cLe="\\ufe20-\\ufe2f",hLe="\\u20d0-\\u20ff",fLe=uLe+cLe+hLe,dLe="\\ufe0e\\ufe0f",pLe="\\u200d",mLe=RegExp("["+pLe+lLe+fLe+dLe+"]");a(gLe,"hasUnicode");dQ=gLe});function yLe(e,t,r,n){var i=-1,s=e==null?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}var mQ,gQ=L(()=>{"use strict";a(yLe,"arrayReduce");mQ=yLe});function vLe(e,t){return e&&cu(t,Vn(t),e)}var yQ,vQ=L(()=>{"use strict";Z0();Jc();a(vLe,"baseAssign");yQ=vLe});function xLe(e,t){return e&&cu(t,Qo(t),e)}var xQ,bQ=L(()=>{"use strict";Z0();yd();a(xLe,"baseAssignIn");xQ=xLe});function bLe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var Zg,y6=L(()=>{"use strict";a(bLe,"arrayFilter");Zg=bLe});function kLe(){return[]}var v6,AL=L(()=>{"use strict";a(kLe,"stubArray");v6=kLe});var wLe,TLe,kQ,ELe,Jg,x6=L(()=>{"use strict";y6();AL();wLe=Object.prototype,TLe=wLe.propertyIsEnumerable,kQ=Object.getOwnPropertySymbols,ELe=kQ?function(e){return e==null?[]:(e=Object(e),Zg(kQ(e),function(t){return TLe.call(e,t)}))}:v6,Jg=ELe});function CLe(e,t){return cu(e,Jg(e),t)}var wQ,TQ=L(()=>{"use strict";Z0();x6();a(CLe,"copySymbols");wQ=CLe});var SLe,_Le,b6,LL=L(()=>{"use strict";p6();bk();x6();AL();SLe=Object.getOwnPropertySymbols,_Le=SLe?function(e){for(var t=[];e;)Kg(t,Jg(e)),e=Rg(e);return t}:v6,b6=_Le});function ALe(e,t){return cu(e,b6(e),t)}var EQ,CQ=L(()=>{"use strict";Z0();LL();a(ALe,"copySymbolsIn");EQ=ALe});function LLe(e,t,r){var n=t(e);return or(e)?n:Kg(n,r(e))}var k6,DL=L(()=>{"use strict";p6();zi();a(LLe,"baseGetAllKeys");k6=LLe});function DLe(e){return k6(e,Vn,Jg)}var G2,RL=L(()=>{"use strict";DL();x6();Jc();a(DLe,"getAllKeys");G2=DLe});function RLe(e){return k6(e,Qo,b6)}var w6,IL=L(()=>{"use strict";DL();LL();yd();a(RLe,"getAllKeysIn");w6=RLe});var ILe,T6,SQ=L(()=>{"use strict";cd();iu();ILe=Ko(ia,"DataView"),T6=ILe});var MLe,E6,_Q=L(()=>{"use strict";cd();iu();MLe=Ko(ia,"Promise"),E6=MLe});var NLe,_d,ML=L(()=>{"use strict";cd();iu();NLe=Ko(ia,"Set"),_d=NLe});var AQ,OLe,LQ,DQ,RQ,IQ,PLe,BLe,FLe,zLe,$Le,sp,Rl,op=L(()=>{"use strict";SQ();fk();_Q();ML();YK();Xh();g9();AQ="[object Map]",OLe="[object Object]",LQ="[object Promise]",DQ="[object Set]",RQ="[object WeakMap]",IQ="[object DataView]",PLe=jh(T6),BLe=jh(dd),FLe=jh(E6),zLe=jh(_d),$Le=jh(s6),sp=Is;(T6&&sp(new T6(new ArrayBuffer(1)))!=IQ||dd&&sp(new dd)!=AQ||E6&&sp(E6.resolve())!=LQ||_d&&sp(new _d)!=DQ||s6&&sp(new s6)!=RQ)&&(sp=a(function(e){var t=Is(e),r=t==OLe?e.constructor:void 0,n=r?jh(r):"";if(n)switch(n){case PLe:return IQ;case BLe:return AQ;case FLe:return LQ;case zLe:return DQ;case $Le:return RQ}return t},"getTag"));Rl=sp});function qLe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&VLe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var GLe,VLe,MQ,NQ=L(()=>{"use strict";GLe=Object.prototype,VLe=GLe.hasOwnProperty;a(qLe,"initCloneArray");MQ=qLe});function ULe(e,t){var r=t?Dg(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var OQ,PQ=L(()=>{"use strict";gk();a(ULe,"cloneDataView");OQ=ULe});function WLe(e){var t=new e.constructor(e.source,HLe.exec(e));return t.lastIndex=e.lastIndex,t}var HLe,BQ,FQ=L(()=>{"use strict";HLe=/\w*$/;a(WLe,"cloneRegExp");BQ=WLe});function YLe(e){return $Q?Object($Q.call(e)):{}}var zQ,$Q,GQ,VQ=L(()=>{"use strict";Y0();zQ=ls?ls.prototype:void 0,$Q=zQ?zQ.valueOf:void 0;a(YLe,"cloneSymbol");GQ=YLe});function dDe(e,t,r){var n=e.constructor;switch(t){case rDe:return Dg(e);case XLe:case jLe:return new n(+e);case nDe:return OQ(e,r);case iDe:case aDe:case sDe:case oDe:case lDe:case uDe:case cDe:case hDe:case fDe:return yk(e,r);case KLe:return new n;case QLe:case eDe:return new n(e);case ZLe:return BQ(e);case JLe:return new n;case tDe:return GQ(e)}}var XLe,jLe,KLe,QLe,ZLe,JLe,eDe,tDe,rDe,nDe,iDe,aDe,sDe,oDe,lDe,uDe,cDe,hDe,fDe,qQ,UQ=L(()=>{"use strict";gk();PQ();FQ();VQ();E9();XLe="[object Boolean]",jLe="[object Date]",KLe="[object Map]",QLe="[object Number]",ZLe="[object RegExp]",JLe="[object Set]",eDe="[object String]",tDe="[object Symbol]",rDe="[object ArrayBuffer]",nDe="[object DataView]",iDe="[object Float32Array]",aDe="[object Float64Array]",sDe="[object Int8Array]",oDe="[object Int16Array]",lDe="[object Int32Array]",uDe="[object Uint8Array]",cDe="[object Uint8ClampedArray]",hDe="[object Uint16Array]",fDe="[object Uint32Array]";a(dDe,"initCloneByTag");qQ=dDe});function mDe(e){return Xi(e)&&Rl(e)==pDe}var pDe,HQ,WQ=L(()=>{"use strict";op();su();pDe="[object Map]";a(mDe,"baseIsMap");HQ=mDe});var YQ,gDe,XQ,jQ=L(()=>{"use strict";WQ();Q0();b2();YQ=uu&&uu.isMap,gDe=YQ?lu(YQ):HQ,XQ=gDe});function vDe(e){return Xi(e)&&Rl(e)==yDe}var yDe,KQ,QQ=L(()=>{"use strict";op();su();yDe="[object Set]";a(vDe,"baseIsSet");KQ=vDe});var ZQ,xDe,JQ,eZ=L(()=>{"use strict";QQ();Q0();b2();ZQ=uu&&uu.isSet,xDe=ZQ?lu(ZQ):KQ,JQ=xDe});function C6(e,t,r,n,i,s){var o,u=t&bDe,h=t&kDe,p=t&wDe;if(r&&(o=i?r(e,n,i,s):r(e)),o!==void 0)return o;if(!vi(e))return e;var g=or(e);if(g){if(o=MQ(e),!u)return vk(e,o)}else{var v=Rl(e),x=v==rZ||v==_De;if(tc(e))return mk(e,u);if(v==nZ||v==tZ||x&&!i){if(o=h||x?{}:kk(e),!u)return h?EQ(e,xQ(o,e)):wQ(e,yQ(o,e))}else{if(!_i[v])return i?e:{};o=qQ(e,v,u)}}s||(s=new Hc);var k=s.get(e);if(k)return k;s.set(e,o),JQ(e)?e.forEach(function(N){o.add(C6(N,t,r,N,e,s))}):XQ(e)&&e.forEach(function(N,M){o.set(M,C6(N,t,r,M,e,s))});var E=p?h?w6:G2:h?Qo:Vn,_=g?void 0:E(e);return o6(_||e,function(N,M){_&&(M=N,N=e[M]),Xc(o,M,C6(N,t,r,M,e,s))}),o}var bDe,kDe,wDe,tZ,TDe,EDe,CDe,SDe,rZ,_De,ADe,LDe,nZ,DDe,RDe,IDe,MDe,NDe,ODe,PDe,BDe,FDe,zDe,$De,GDe,VDe,qDe,UDe,HDe,_i,S6,NL=L(()=>{"use strict";g2();TL();Pg();vQ();bQ();w9();C9();TQ();CQ();RL();IL();op();NQ();UQ();_9();zi();Og();jQ();Al();eZ();Jc();yd();bDe=1,kDe=2,wDe=4,tZ="[object Arguments]",TDe="[object Array]",EDe="[object Boolean]",CDe="[object Date]",SDe="[object Error]",rZ="[object Function]",_De="[object GeneratorFunction]",ADe="[object Map]",LDe="[object Number]",nZ="[object Object]",DDe="[object RegExp]",RDe="[object Set]",IDe="[object String]",MDe="[object Symbol]",NDe="[object WeakMap]",ODe="[object ArrayBuffer]",PDe="[object DataView]",BDe="[object Float32Array]",FDe="[object Float64Array]",zDe="[object Int8Array]",$De="[object Int16Array]",GDe="[object Int32Array]",VDe="[object Uint8Array]",qDe="[object Uint8ClampedArray]",UDe="[object Uint16Array]",HDe="[object Uint32Array]",_i={};_i[tZ]=_i[TDe]=_i[ODe]=_i[PDe]=_i[EDe]=_i[CDe]=_i[BDe]=_i[FDe]=_i[zDe]=_i[$De]=_i[GDe]=_i[ADe]=_i[LDe]=_i[nZ]=_i[DDe]=_i[RDe]=_i[IDe]=_i[MDe]=_i[VDe]=_i[qDe]=_i[UDe]=_i[HDe]=!0;_i[SDe]=_i[rZ]=_i[NDe]=!1;a(C6,"baseClone");S6=C6});function YDe(e){return S6(e,WDe)}var WDe,ei,OL=L(()=>{"use strict";NL();WDe=4;a(YDe,"clone");ei=YDe});function KDe(e){return S6(e,XDe|jDe)}var XDe,jDe,PL,iZ=L(()=>{"use strict";NL();XDe=1,jDe=4;a(KDe,"cloneDeep");PL=KDe});function QDe(e){for(var t=-1,r=e==null?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i}var rh,aZ=L(()=>{"use strict";a(QDe,"compact");rh=QDe});function JDe(e){return this.__data__.set(e,ZDe),this}var ZDe,sZ,oZ=L(()=>{"use strict";ZDe="__lodash_hash_undefined__";a(JDe,"setCacheAdd");sZ=JDe});function eRe(e){return this.__data__.has(e)}var lZ,uZ=L(()=>{"use strict";a(eRe,"setCacheHas");lZ=eRe});function _6(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new j0;++t<r;)this.add(e[t])}var e1,A6=L(()=>{"use strict";dk();oZ();uZ();a(_6,"SetCache");_6.prototype.add=_6.prototype.push=sZ;_6.prototype.has=lZ;e1=_6});function tRe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var L6,BL=L(()=>{"use strict";a(tRe,"arraySome");L6=tRe});function rRe(e,t){return e.has(t)}var t1,D6=L(()=>{"use strict";a(rRe,"cacheHas");t1=rRe});function aRe(e,t,r,n,i,s){var o=r&nRe,u=e.length,h=t.length;if(u!=h&&!(o&&h>u))return!1;var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var v=-1,x=!0,k=r&iRe?new e1:void 0;for(s.set(e,t),s.set(t,e);++v<u;){var E=e[v],_=t[v];if(n)var N=o?n(_,E,v,t,e,s):n(E,_,v,e,t,s);if(N!==void 0){if(N)continue;x=!1;break}if(k){if(!L6(t,function(M,P){if(!t1(k,P)&&(E===M||i(E,M,r,n,s)))return k.push(P)})){x=!1;break}}else if(!(E===_||i(E,_,r,n,s))){x=!1;break}}return s.delete(e),s.delete(t),x}var nRe,iRe,R6,FL=L(()=>{"use strict";A6();BL();D6();nRe=1,iRe=2;a(aRe,"equalArrays");R6=aRe});function sRe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var cZ,hZ=L(()=>{"use strict";a(sRe,"mapToArray");cZ=sRe});function oRe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var r1,I6=L(()=>{"use strict";a(oRe,"setToArray");r1=oRe});function kRe(e,t,r,n,i,s,o){switch(r){case bRe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xRe:return!(e.byteLength!=t.byteLength||!s(new Lg(e),new Lg(t)));case cRe:case hRe:case pRe:return au(+e,+t);case fRe:return e.name==t.name&&e.message==t.message;case mRe:case yRe:return e==t+"";case dRe:var u=cZ;case gRe:var h=n&lRe;if(u||(u=r1),e.size!=t.size&&!h)return!1;var p=o.get(e);if(p)return p==t;n|=uRe,o.set(e,t);var g=R6(u(e),u(t),n,i,s,o);return o.delete(e),g;case vRe:if(zL)return zL.call(e)==zL.call(t)}return!1}var lRe,uRe,cRe,hRe,fRe,dRe,pRe,mRe,gRe,yRe,vRe,xRe,bRe,fZ,zL,dZ,pZ=L(()=>{"use strict";Y0();T9();X0();FL();hZ();I6();lRe=1,uRe=2,cRe="[object Boolean]",hRe="[object Date]",fRe="[object Error]",dRe="[object Map]",pRe="[object Number]",mRe="[object RegExp]",gRe="[object Set]",yRe="[object String]",vRe="[object Symbol]",xRe="[object ArrayBuffer]",bRe="[object DataView]",fZ=ls?ls.prototype:void 0,zL=fZ?fZ.valueOf:void 0;a(kRe,"equalByTag");dZ=kRe});function CRe(e,t,r,n,i,s){var o=r&wRe,u=G2(e),h=u.length,p=G2(t),g=p.length;if(h!=g&&!o)return!1;for(var v=h;v--;){var x=u[v];if(!(o?x in t:ERe.call(t,x)))return!1}var k=s.get(e),E=s.get(t);if(k&&E)return k==t&&E==e;var _=!0;s.set(e,t),s.set(t,e);for(var N=o;++v<h;){x=u[v];var M=e[x],P=t[x];if(n)var V=o?n(P,M,x,t,e,s):n(M,P,x,e,t,s);if(!(V===void 0?M===P||i(M,P,r,n,s):V)){_=!1;break}N||(N=x=="constructor")}if(_&&!N){var H=e.constructor,O=t.constructor;H!=O&&"constructor"in e&&"constructor"in t&&!(typeof H=="function"&&H instanceof H&&typeof O=="function"&&O instanceof O)&&(_=!1)}return s.delete(e),s.delete(t),_}var wRe,TRe,ERe,mZ,gZ=L(()=>{"use strict";RL();wRe=1,TRe=Object.prototype,ERe=TRe.hasOwnProperty;a(CRe,"equalObjects");mZ=CRe});function ARe(e,t,r,n,i,s){var o=or(e),u=or(t),h=o?vZ:Rl(e),p=u?vZ:Rl(t);h=h==yZ?M6:h,p=p==yZ?M6:p;var g=h==M6,v=p==M6,x=h==p;if(x&&tc(e)){if(!tc(t))return!1;o=!0,g=!1}if(x&&!g)return s||(s=new Hc),o||md(e)?R6(e,t,r,n,i,s):dZ(e,t,h,r,n,i,s);if(!(r&SRe)){var k=g&&xZ.call(e,"__wrapped__"),E=v&&xZ.call(t,"__wrapped__");if(k||E){var _=k?e.value():e,N=E?t.value():t;return s||(s=new Hc),i(_,N,r,n,s)}}return x?(s||(s=new Hc),mZ(e,t,r,n,i,s)):!1}var SRe,yZ,vZ,M6,_Re,xZ,bZ,kZ=L(()=>{"use strict";g2();FL();pZ();gZ();op();zi();Og();k2();SRe=1,yZ="[object Arguments]",vZ="[object Array]",M6="[object Object]",_Re=Object.prototype,xZ=_Re.hasOwnProperty;a(ARe,"baseIsEqualDeep");bZ=ARe});function wZ(e,t,r,n,i){return e===t?!0:e==null||t==null||!Xi(e)&&!Xi(t)?e!==e&&t!==t:bZ(e,t,r,n,wZ,i)}var N6,$L=L(()=>{"use strict";kZ();su();a(wZ,"baseIsEqual");N6=wZ});function RRe(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var u=r[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){u=r[i];var h=u[0],p=e[h],g=u[1];if(o&&u[2]){if(p===void 0&&!(h in e))return!1}else{var v=new Hc;if(n)var x=n(p,g,h,e,t,v);if(!(x===void 0?N6(g,p,LRe|DRe,n,v):x))return!1}}return!0}var LRe,DRe,TZ,EZ=L(()=>{"use strict";g2();$L();LRe=1,DRe=2;a(RRe,"baseIsMatch");TZ=RRe});function IRe(e){return e===e&&!vi(e)}var O6,GL=L(()=>{"use strict";Al();a(IRe,"isStrictComparable");O6=IRe});function MRe(e){for(var t=Vn(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,O6(i)]}return t}var CZ,SZ=L(()=>{"use strict";GL();Jc();a(MRe,"getMatchData");CZ=MRe});function NRe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var P6,VL=L(()=>{"use strict";a(NRe,"matchesStrictComparable");P6=NRe});function ORe(e){var t=CZ(e);return t.length==1&&t[0][2]?P6(t[0][0],t[0][1]):function(r){return r===e||TZ(r,e,t)}}var _Z,AZ=L(()=>{"use strict";EZ();SZ();VL();a(ORe,"baseMatches");_Z=ORe});function PRe(e,t){return e!=null&&t in Object(e)}var LZ,DZ=L(()=>{"use strict";a(PRe,"baseHasIn");LZ=PRe});function BRe(e,t,r){t=Cd(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=eh(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&Ng(i)&&gd(o,i)&&(or(e)||ec(e)))}var B6,qL=L(()=>{"use strict";z2();Mg();zi();T2();wk();jg();a(BRe,"hasPath");B6=BRe});function FRe(e,t){return e!=null&&B6(e,t,LZ)}var F6,UL=L(()=>{"use strict";DZ();qL();a(FRe,"hasIn");F6=FRe});function GRe(e,t){return Xg(e)&&O6(t)?P6(eh(e),t):function(r){var n=aQ(r,e);return n===void 0&&n===t?F6(r,e):N6(t,n,zRe|$Re)}}var zRe,$Re,RZ,IZ=L(()=>{"use strict";$L();sQ();UL();f6();GL();VL();jg();zRe=1,$Re=2;a(GRe,"baseMatchesProperty");RZ=GRe});function VRe(e){return function(t){return t?.[e]}}var z6,HL=L(()=>{"use strict";a(VRe,"baseProperty");z6=VRe});function qRe(e){return function(t){return Sd(t,e)}}var MZ,NZ=L(()=>{"use strict";$2();a(qRe,"basePropertyDeep");MZ=qRe});function URe(e){return Xg(e)?z6(eh(e)):MZ(e)}var OZ,PZ=L(()=>{"use strict";HL();NZ();f6();jg();a(URe,"property");OZ=URe});function HRe(e){return typeof e=="function"?e:e==null?us:typeof e=="object"?or(e)?RZ(e[0],e[1]):_Z(e):OZ(e)}var hi,ko=L(()=>{"use strict";AZ();IZ();Qh();zi();PZ();a(HRe,"baseIteratee");hi=HRe});function WRe(e,t,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;){var o=e[i];t(n,o,r(o),e)}return n}var BZ,FZ=L(()=>{"use strict";a(WRe,"arrayAggregator");BZ=WRe});function YRe(e,t){return e&&Ag(e,t,Vn)}var n1,$6=L(()=>{"use strict";pk();Jc();a(YRe,"baseForOwn");n1=YRe});function XRe(e,t){return function(r,n){if(r==null)return r;if(!sa(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var zZ,$Z=L(()=>{"use strict";ou();a(XRe,"createBaseEach");zZ=XRe});var jRe,il,Ad=L(()=>{"use strict";$6();$Z();jRe=zZ(n1),il=jRe});function KRe(e,t,r,n){return il(e,function(i,s,o){t(n,i,r(i),o)}),n}var GZ,VZ=L(()=>{"use strict";Ad();a(KRe,"baseAggregator");GZ=KRe});function QRe(e,t){return function(r,n){var i=or(r)?BZ:GZ,s=t?t():{};return i(r,e,hi(n,2),s)}}var qZ,UZ=L(()=>{"use strict";FZ();VZ();ko();zi();a(QRe,"createAggregator");qZ=QRe});var ZRe,G6,HZ=L(()=>{"use strict";iu();ZRe=a(function(){return ia.Date.now()},"now"),G6=ZRe});var WZ,JRe,eIe,al,YZ=L(()=>{"use strict";Bg();X0();J0();yd();WZ=Object.prototype,JRe=WZ.hasOwnProperty,eIe=jc(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&Ll(t[0],t[1],i)&&(n=1);++r<n;)for(var s=t[r],o=Qo(s),u=-1,h=o.length;++u<h;){var p=o[u],g=e[p];(g===void 0||au(g,WZ[p])&&!JRe.call(e,p))&&(e[p]=s[p])}return e}),al=eIe});function tIe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var V6,WL=L(()=>{"use strict";a(tIe,"arrayIncludesWith");V6=tIe});function nIe(e,t,r,n){var i=-1,s=c6,o=!0,u=e.length,h=[],p=t.length;if(!u)return h;r&&(t=nl(t,lu(r))),n?(s=V6,o=!1):t.length>=rIe&&(s=t1,o=!1,t=new e1(t));e:for(;++i<u;){var g=e[i],v=r==null?g:r(g);if(g=n||g!==0?g:0,o&&v===v){for(var x=p;x--;)if(t[x]===v)continue e;h.push(g)}else s(t,v,n)||h.push(g)}return h}var rIe,XZ,jZ=L(()=>{"use strict";A6();CL();WL();ap();Q0();D6();rIe=200;a(nIe,"baseDifference");XZ=nIe});var iIe,Ld,KZ=L(()=>{"use strict";jZ();Qg();Bg();Tk();iIe=jc(function(e,t){return K0(e)?XZ(e,th(t,1,K0,!0)):[]}),Ld=iIe});function aIe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Ns,QZ=L(()=>{"use strict";a(aIe,"last");Ns=aIe});function sIe(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:Zc(t),g6(e,t<0?0:t,n)):[]}var xa,ZZ=L(()=>{"use strict";_L();Hg();a(sIe,"drop");xa=sIe});function oIe(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:Zc(t),t=n-t,g6(e,0,t<0?0:t)):[]}var rf,JZ=L(()=>{"use strict";_L();Hg();a(oIe,"dropRight");rf=oIe});function lIe(e){return typeof e=="function"?e:us}var i1,q6=L(()=>{"use strict";Qh();a(lIe,"castFunction");i1=lIe});function uIe(e,t){var r=or(e)?o6:il;return r(e,i1(t))}var Ue,U6=L(()=>{"use strict";TL();Ad();q6();zi();a(uIe,"forEach");Ue=uIe});var eJ=L(()=>{"use strict";U6()});function cIe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var tJ,rJ=L(()=>{"use strict";a(cIe,"arrayEvery");tJ=cIe});function hIe(e,t){var r=!0;return il(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var nJ,iJ=L(()=>{"use strict";Ad();a(hIe,"baseEvery");nJ=hIe});function fIe(e,t,r){var n=or(e)?tJ:nJ;return r&&Ll(e,t,r)&&(t=void 0),n(e,hi(t,3))}var no,aJ=L(()=>{"use strict";rJ();iJ();ko();zi();J0();a(fIe,"every");no=fIe});function dIe(e,t){var r=[];return il(e,function(n,i,s){t(n,i,s)&&r.push(n)}),r}var H6,YL=L(()=>{"use strict";Ad();a(dIe,"baseFilter");H6=dIe});function pIe(e,t){var r=or(e)?Zg:H6;return r(e,hi(t,3))}var jn,XL=L(()=>{"use strict";y6();YL();ko();zi();a(pIe,"filter");jn=pIe});function mIe(e){return function(t,r,n){var i=Object(t);if(!sa(t)){var s=hi(r,3);t=Vn(t),r=a(function(u){return s(i[u],u,i)},"predicate")}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var sJ,oJ=L(()=>{"use strict";ko();ou();Jc();a(mIe,"createFind");sJ=mIe});function yIe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Zc(r);return i<0&&(i=gIe(n+i,0)),l6(e,hi(t,3),i)}var gIe,lJ,uJ=L(()=>{"use strict";EL();ko();Hg();gIe=Math.max;a(yIe,"findIndex");lJ=yIe});var vIe,wo,cJ=L(()=>{"use strict";oJ();uJ();vIe=sJ(lJ),wo=vIe});function xIe(e){return e&&e.length?e[0]:void 0}var cs,hJ=L(()=>{"use strict";a(xIe,"head");cs=xIe});var fJ=L(()=>{"use strict";hJ()});function bIe(e,t){var r=-1,n=sa(e)?Array(e.length):[];return il(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var W6,jL=L(()=>{"use strict";Ad();ou();a(bIe,"baseMap");W6=bIe});function kIe(e,t){var r=or(e)?nl:W6;return r(e,hi(t,3))}var It,a1=L(()=>{"use strict";ap();ko();jL();zi();a(kIe,"map");It=kIe});function wIe(e,t){return th(It(e,t),1)}var Os,KL=L(()=>{"use strict";Qg();a1();a(wIe,"flatMap");Os=wIe});function TIe(e,t){return e==null?e:Ag(e,i1(t),Qo)}var QL,dJ=L(()=>{"use strict";pk();q6();yd();a(TIe,"forIn");QL=TIe});function EIe(e,t){return e&&n1(e,i1(t))}var ZL,pJ=L(()=>{"use strict";$6();q6();a(EIe,"forOwn");ZL=EIe});var CIe,SIe,_Ie,JL,mJ=L(()=>{"use strict";_g();UZ();CIe=Object.prototype,SIe=CIe.hasOwnProperty,_Ie=qZ(function(e,t,r){SIe.call(e,r)?e[r].push(t):Wc(e,r,[t])}),JL=_Ie});function AIe(e,t){return e>t}var gJ,yJ=L(()=>{"use strict";a(AIe,"baseGt");gJ=AIe});function RIe(e,t){return e!=null&&DIe.call(e,t)}var LIe,DIe,vJ,xJ=L(()=>{"use strict";LIe=Object.prototype,DIe=LIe.hasOwnProperty;a(RIe,"baseHas");vJ=RIe});function IIe(e,t){return e!=null&&B6(e,t,vJ)}var kt,bJ=L(()=>{"use strict";xJ();qL();a(IIe,"has");kt=IIe});function NIe(e){return typeof e=="string"||!or(e)&&Xi(e)&&Is(e)==MIe}var MIe,ba,Y6=L(()=>{"use strict";Xh();zi();su();MIe="[object String]";a(NIe,"isString");ba=NIe});function OIe(e,t){return nl(t,function(r){return e[r]})}var kJ,wJ=L(()=>{"use strict";ap();a(OIe,"baseValues");kJ=OIe});function PIe(e){return e==null?[]:kJ(e,Vn(e))}var xn,eD=L(()=>{"use strict";wJ();Jc();a(PIe,"values");xn=PIe});function FIe(e,t,r,n){e=sa(e)?e:xn(e),r=r&&!n?Zc(r):0;var i=e.length;return r<0&&(r=BIe(i+r,0)),ba(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Wg(e,t,r)>-1}var BIe,Gi,TJ=L(()=>{"use strict";u6();ou();Y6();Hg();eD();BIe=Math.max;a(FIe,"includes");Gi=FIe});function $Ie(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Zc(r);return i<0&&(i=zIe(n+i,0)),Wg(e,t,i)}var zIe,X6,EJ=L(()=>{"use strict";u6();Hg();zIe=Math.max;a($Ie,"indexOf");X6=$Ie});function HIe(e){if(e==null)return!0;if(sa(e)&&(or(e)||typeof e=="string"||typeof e.splice=="function"||tc(e)||md(e)||ec(e)))return!e.length;var t=Rl(e);if(t==GIe||t==VIe)return!e.size;if(Yc(e))return!Yg(e).length;for(var r in e)if(UIe.call(e,r))return!1;return!0}var GIe,VIe,qIe,UIe,jr,j6=L(()=>{"use strict";h6();op();Mg();zi();ou();Og();Ig();k2();GIe="[object Map]",VIe="[object Set]",qIe=Object.prototype,UIe=qIe.hasOwnProperty;a(HIe,"isEmpty");jr=HIe});function YIe(e){return Xi(e)&&Is(e)==WIe}var WIe,CJ,SJ=L(()=>{"use strict";Xh();su();WIe="[object RegExp]";a(YIe,"baseIsRegExp");CJ=YIe});var _J,XIe,gu,AJ=L(()=>{"use strict";SJ();Q0();b2();_J=uu&&uu.isRegExp,XIe=_J?lu(_J):CJ,gu=XIe});function jIe(e){return e===void 0}var an,LJ=L(()=>{"use strict";a(jIe,"isUndefined");an=jIe});function KIe(e,t){return e<t}var K6,tD=L(()=>{"use strict";a(KIe,"baseLt");K6=KIe});function QIe(e,t){var r={};return t=hi(t,3),n1(e,function(n,i,s){Wc(r,i,t(n,i,s))}),r}var lp,DJ=L(()=>{"use strict";_g();$6();ko();a(QIe,"mapValues");lp=QIe});function ZIe(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(u===void 0?o===o&&!Dl(o):r(o,u)))var u=o,h=s}return h}var s1,Q6=L(()=>{"use strict";ip();a(ZIe,"baseExtremum");s1=ZIe});function JIe(e){return e&&e.length?s1(e,us,gJ):void 0}var sl,RJ=L(()=>{"use strict";Q6();yJ();Qh();a(JIe,"max");sl=JIe});function eMe(e){return e&&e.length?s1(e,us,K6):void 0}var uc,rD=L(()=>{"use strict";Q6();tD();Qh();a(eMe,"min");uc=eMe});function tMe(e,t){return e&&e.length?s1(e,hi(t,2),K6):void 0}var up,IJ=L(()=>{"use strict";Q6();ko();tD();a(tMe,"minBy");up=tMe});function nMe(e){if(typeof e!="function")throw new TypeError(rMe);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var rMe,MJ,NJ=L(()=>{"use strict";rMe="Expected a function";a(nMe,"negate");MJ=nMe});function iMe(e,t,r,n){if(!vi(e))return e;t=Cd(t,e);for(var i=-1,s=t.length,o=s-1,u=e;u!=null&&++i<s;){var h=eh(t[i]),p=r;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(i!=o){var g=u[h];p=n?n(g,h,u):void 0,p===void 0&&(p=vi(g)?g:gd(t[i+1])?[]:{})}Xc(u,h,p),u=u[h]}return e}var OJ,PJ=L(()=>{"use strict";Pg();z2();T2();Al();jg();a(iMe,"baseSet");OJ=iMe});function aMe(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var o=t[n],u=Sd(e,o);r(u,o)&&OJ(s,Cd(o,e),u)}return s}var Z6,nD=L(()=>{"use strict";$2();PJ();z2();a(aMe,"basePickBy");Z6=aMe});function sMe(e,t){if(e==null)return{};var r=nl(w6(e),function(n){return[n]});return t=hi(t),Z6(e,r,function(n,i){return t(n,i[0])})}var ol,BJ=L(()=>{"use strict";ap();ko();nD();IL();a(sMe,"pickBy");ol=sMe});function oMe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var FJ,zJ=L(()=>{"use strict";a(oMe,"baseSortBy");FJ=oMe});function lMe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=Dl(e),o=t!==void 0,u=t===null,h=t===t,p=Dl(t);if(!u&&!p&&!s&&e>t||s&&o&&h&&!u&&!p||n&&o&&h||!r&&h||!i)return 1;if(!n&&!s&&!p&&e<t||p&&r&&i&&!n&&!s||u&&r&&i||!o&&i||!h)return-1}return 0}var $J,GJ=L(()=>{"use strict";ip();a(lMe,"compareAscending");$J=lMe});function uMe(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,u=r.length;++n<o;){var h=$J(i[n],s[n]);if(h){if(n>=u)return h;var p=r[n];return h*(p=="desc"?-1:1)}}return e.index-t.index}var VJ,qJ=L(()=>{"use strict";GJ();a(uMe,"compareMultiple");VJ=uMe});function cMe(e,t,r){t.length?t=nl(t,function(s){return or(s)?function(o){return Sd(o,s.length===1?s[0]:s)}:s}):t=[us];var n=-1;t=nl(t,lu(hi));var i=W6(e,function(s,o,u){var h=nl(t,function(p){return p(s)});return{criteria:h,index:++n,value:s}});return FJ(i,function(s,o){return VJ(s,o,r)})}var UJ,HJ=L(()=>{"use strict";ap();$2();ko();jL();zJ();Q0();qJ();Qh();zi();a(cMe,"baseOrderBy");UJ=cMe});var hMe,WJ,YJ=L(()=>{"use strict";HL();hMe=z6("length"),WJ=hMe});function TMe(e){for(var t=XJ.lastIndex=0;XJ.test(e);)++t;return t}var jJ,fMe,dMe,pMe,mMe,gMe,yMe,iD,aD,vMe,KJ,QJ,ZJ,xMe,JJ,eee,bMe,kMe,wMe,XJ,tee,ree=L(()=>{"use strict";jJ="\\ud800-\\udfff",fMe="\\u0300-\\u036f",dMe="\\ufe20-\\ufe2f",pMe="\\u20d0-\\u20ff",mMe=fMe+dMe+pMe,gMe="\\ufe0e\\ufe0f",yMe="["+jJ+"]",iD="["+mMe+"]",aD="\\ud83c[\\udffb-\\udfff]",vMe="(?:"+iD+"|"+aD+")",KJ="[^"+jJ+"]",QJ="(?:\\ud83c[\\udde6-\\uddff]){2}",ZJ="[\\ud800-\\udbff][\\udc00-\\udfff]",xMe="\\u200d",JJ=vMe+"?",eee="["+gMe+"]?",bMe="(?:"+xMe+"(?:"+[KJ,QJ,ZJ].join("|")+")"+eee+JJ+")*",kMe=eee+JJ+bMe,wMe="(?:"+[KJ+iD+"?",iD,QJ,ZJ,yMe].join("|")+")",XJ=RegExp(aD+"(?="+aD+")|"+wMe+kMe,"g");a(TMe,"unicodeSize");tee=TMe});function EMe(e){return dQ(e)?tee(e):WJ(e)}var nee,iee=L(()=>{"use strict";YJ();pQ();ree();a(EMe,"stringSize");nee=EMe});function CMe(e,t){return Z6(e,t,function(r,n){return F6(e,n)})}var aee,see=L(()=>{"use strict";nD();UL();a(CMe,"basePick");aee=CMe});var SMe,nf,oee=L(()=>{"use strict";see();fQ();SMe=hQ(function(e,t){return e==null?{}:aee(e,t)}),nf=SMe});function LMe(e,t,r,n){for(var i=-1,s=AMe(_Me((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var _Me,AMe,lee,uee=L(()=>{"use strict";_Me=Math.ceil,AMe=Math.max;a(LMe,"baseRange");lee=LMe});function DMe(e){return function(t,r,n){return n&&typeof n!="number"&&Ll(t,r,n)&&(r=n=void 0),t=Ug(t),r===void 0?(r=t,t=0):r=Ug(r),n=n===void 0?t<r?1:-1:Ug(n),lee(t,r,n,e)}}var cee,hee=L(()=>{"use strict";uee();J0();kL();a(DMe,"createRange");cee=DMe});var RMe,ll,fee=L(()=>{"use strict";hee();RMe=cee(),ll=RMe});function IMe(e,t,r,n,i){return i(e,function(s,o,u){r=n?(n=!1,s):t(r,s,o,u)}),r}var dee,pee=L(()=>{"use strict";a(IMe,"baseReduce");dee=IMe});function MMe(e,t,r){var n=or(e)?mQ:dee,i=arguments.length<3;return n(e,hi(t,4),r,i,il)}var Kn,sD=L(()=>{"use strict";gQ();Ad();ko();pee();zi();a(MMe,"reduce");Kn=MMe});function NMe(e,t){var r=or(e)?Zg:H6;return r(e,MJ(hi(t,3)))}var Dd,mee=L(()=>{"use strict";y6();YL();ko();zi();NJ();a(NMe,"reject");Dd=NMe});function BMe(e){if(e==null)return 0;if(sa(e))return ba(e)?nee(e):e.length;var t=Rl(e);return t==OMe||t==PMe?e.size:Yg(e).length}var OMe,PMe,oD,gee=L(()=>{"use strict";h6();op();ou();Y6();iee();OMe="[object Map]",PMe="[object Set]";a(BMe,"size");oD=BMe});function FMe(e,t){var r;return il(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var yee,vee=L(()=>{"use strict";Ad();a(FMe,"baseSome");yee=FMe});function zMe(e,t,r){var n=or(e)?L6:yee;return r&&Ll(e,t,r)&&(t=void 0),n(e,hi(t,3))}var V2,xee=L(()=>{"use strict";BL();ko();vee();zi();J0();a(zMe,"some");V2=zMe});var $Me,nh,bee=L(()=>{"use strict";Qg();HJ();Bg();J0();$Me=jc(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ll(e,t[0],t[1])?t=[]:r>2&&Ll(t[0],t[1],t[2])&&(t=[t[0]]),UJ(e,th(t,1),[])}),nh=$Me});var GMe,VMe,kee,wee=L(()=>{"use strict";ML();wL();I6();GMe=1/0,VMe=_d&&1/r1(new _d([,-0]))[1]==GMe?function(e){return new _d(e)}:ji,kee=VMe});function UMe(e,t,r){var n=-1,i=c6,s=e.length,o=!0,u=[],h=u;if(r)o=!1,i=V6;else if(s>=qMe){var p=t?null:kee(e);if(p)return r1(p);o=!1,i=t1,h=new e1}else h=t?[]:u;e:for(;++n<s;){var g=e[n],v=t?t(g):g;if(g=r||g!==0?g:0,o&&v===v){for(var x=h.length;x--;)if(h[x]===v)continue e;t&&h.push(v),u.push(g)}else i(h,v,r)||(h!==u&&h.push(v),u.push(g))}return u}var qMe,o1,J6=L(()=>{"use strict";A6();CL();WL();D6();wee();I6();qMe=200;a(UMe,"baseUniq");o1=UMe});var HMe,lD,Tee=L(()=>{"use strict";Qg();Bg();J6();Tk();HMe=jc(function(e){return o1(th(e,1,K0,!0))}),lD=HMe});function WMe(e){return e&&e.length?o1(e):[]}var l1,Eee=L(()=>{"use strict";J6();a(WMe,"uniq");l1=WMe});function YMe(e,t){return e&&e.length?o1(e,hi(t,2)):[]}var Cee,See=L(()=>{"use strict";ko();J6();a(YMe,"uniqBy");Cee=YMe});function jMe(e){var t=++XMe;return d6(e)+t}var XMe,af,_ee=L(()=>{"use strict";SL();XMe=0;a(jMe,"uniqueId");af=jMe});function KMe(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var u=n<s?t[n]:void 0;r(o,e[n],u)}return o}var Aee,Lee=L(()=>{"use strict";a(KMe,"baseZipObject");Aee=KMe});function QMe(e,t){return Aee(e||[],t||[],Xc)}var ew,Dee=L(()=>{"use strict";Pg();Lee();a(QMe,"zipObject");ew=QMe});var hr=L(()=>{"use strict";eQ();OL();iZ();aZ();N9();YZ();KZ();ZZ();JZ();eJ();aJ();XL();cJ();fJ();KL();m6();U6();dJ();pJ();mJ();bJ();Qh();TJ();EJ();zi();j6();h2();Al();L9();AJ();Y6();LJ();Jc();QZ();a1();DJ();RJ();B9();rD();IJ();wL();HZ();oee();BJ();fee();sD();mee();gee();xee();bee();Tee();Eee();_ee();eD();Dee();});function Iee(e,t){e[t]?e[t]++:e[t]=1}function Mee(e,t){--e[t]||delete e[t]}function q2(e,t,r,n){var i=""+t,s=""+r;if(!e&&i>s){var o=i;i=s,s=o}return i+Ree+s+Ree+(an(n)?ZMe:n)}function JMe(e,t,r,n){var i=""+t,s=""+r;if(!e&&i>s){var o=i;i=s,s=o}var u={v:i,w:s};return n&&(u.name=n),u}function uD(e,t){return q2(e,t.v,t.w,t.name)}var ZMe,cp,Ree,fn,tw=L(()=>{"use strict";hr();ZMe="\0",cp="\0",Ree="",fn=class{static{a(this,"Graph")}constructor(t={}){this._isDirected=kt(t,"directed")?t.directed:!0,this._isMultigraph=kt(t,"multigraph")?t.multigraph:!1,this._isCompound=kt(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Zo(void 0),this._defaultEdgeLabelFn=Zo(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[cp]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return aa(t)||(t=Zo(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return Vn(this._nodes)}sources(){var t=this;return jn(this.nodes(),function(r){return jr(t._in[r])})}sinks(){var t=this;return jn(this.nodes(),function(r){return jr(t._out[r])})}setNodes(t,r){var n=arguments,i=this;return Ue(t,function(s){n.length>1?i.setNode(s,r):i.setNode(s)}),this}setNode(t,r){return kt(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=r),this):(this._nodes[t]=arguments.length>1?r:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=cp,this._children[t]={},this._children[cp][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return kt(this._nodes,t)}removeNode(t){var r=this;if(kt(this._nodes,t)){var n=a(function(i){r.removeEdge(r._edgeObjs[i])},"removeEdge");delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],Ue(this.children(t),function(i){r.setParent(i)}),delete this._children[t]),Ue(Vn(this._in[t]),n),delete this._in[t],delete this._preds[t],Ue(Vn(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(an(r))r=cp;else{r+="";for(var n=r;!an(n);n=this.parent(n))if(n===t)throw new Error("Setting "+r+" as parent of "+t+" would create a cycle");this.setNode(r)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=r,this._children[r][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var r=this._parent[t];if(r!==cp)return r}}children(t){if(an(t)&&(t=cp),this._isCompound){var r=this._children[t];if(r)return Vn(r)}else{if(t===cp)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return Vn(r)}successors(t){var r=this._sucs[t];if(r)return Vn(r)}neighbors(t){var r=this.predecessors(t);if(r)return lD(r,this.successors(t))}isLeaf(t){var r;return this.isDirected()?r=this.successors(t):r=this.neighbors(t),r.length===0}filterNodes(t){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;Ue(this._nodes,function(o,u){t(u)&&r.setNode(u,o)}),Ue(this._edgeObjs,function(o){r.hasNode(o.v)&&r.hasNode(o.w)&&r.setEdge(o,n.edge(o))});var i={};function s(o){var u=n.parent(o);return u===void 0||r.hasNode(u)?(i[o]=u,u):u in i?i[u]:s(u)}return a(s,"findParent"),this._isCompound&&Ue(r.nodes(),function(o){r.setParent(o,s(o))}),r}setDefaultEdgeLabel(t){return aa(t)||(t=Zo(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return xn(this._edgeObjs)}setPath(t,r){var n=this,i=arguments;return Kn(t,function(s,o){return i.length>1?n.setEdge(s,o,r):n.setEdge(s,o),o}),this}setEdge(){var t,r,n,i,s=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(t=o.v,r=o.w,n=o.name,arguments.length===2&&(i=arguments[1],s=!0)):(t=o,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),t=""+t,r=""+r,an(n)||(n=""+n);var u=q2(this._isDirected,t,r,n);if(kt(this._edgeLabels,u))return s&&(this._edgeLabels[u]=i),this;if(!an(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(r),this._edgeLabels[u]=s?i:this._defaultEdgeLabelFn(t,r,n);var h=JMe(this._isDirected,t,r,n);return t=h.v,r=h.w,Object.freeze(h),this._edgeObjs[u]=h,Iee(this._preds[r],t),Iee(this._sucs[t],r),this._in[r][u]=h,this._out[t][u]=h,this._edgeCount++,this}edge(t,r,n){var i=arguments.length===1?uD(this._isDirected,arguments[0]):q2(this._isDirected,t,r,n);return this._edgeLabels[i]}hasEdge(t,r,n){var i=arguments.length===1?uD(this._isDirected,arguments[0]):q2(this._isDirected,t,r,n);return kt(this._edgeLabels,i)}removeEdge(t,r,n){var i=arguments.length===1?uD(this._isDirected,arguments[0]):q2(this._isDirected,t,r,n),s=this._edgeObjs[i];return s&&(t=s.v,r=s.w,delete this._edgeLabels[i],delete this._edgeObjs[i],Mee(this._preds[r],t),Mee(this._sucs[t],r),delete this._in[r][i],delete this._out[t][i],this._edgeCount--),this}inEdges(t,r){var n=this._in[t];if(n){var i=xn(n);return r?jn(i,function(s){return s.v===r}):i}}outEdges(t,r){var n=this._out[t];if(n){var i=xn(n);return r?jn(i,function(s){return s.w===r}):i}}nodeEdges(t,r){var n=this.inEdges(t,r);if(n)return n.concat(this.outEdges(t,r))}};fn.prototype._nodeCount=0;fn.prototype._edgeCount=0;a(Iee,"incrementOrInitEntry");a(Mee,"decrementOrRemoveEntry");a(q2,"edgeArgsToId");a(JMe,"edgeArgsToObj");a(uD,"edgeObjToId")});var Ua=L(()=>{"use strict";tw()});function Nee(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function eNe(e,t){if(e!=="_next"&&e!=="_prev")return t}var rw,Oee=L(()=>{"use strict";rw=class{static{a(this,"List")}constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,r=t._prev;if(r!==t)return Nee(r),r}enqueue(t){var r=this._sentinel;t._prev&&t._next&&Nee(t),t._next=r._next,r._next._prev=t,r._next=t,t._prev=r}toString(){for(var t=[],r=this._sentinel,n=r._prev;n!==r;)t.push(JSON.stringify(n,eNe)),n=n._prev;return"["+t.join(", ")+"]"}};a(Nee,"unlink");a(eNe,"filterOutLinks")});function Pee(e,t){if(e.nodeCount()<=1)return[];var r=nNe(e,t||tNe),n=rNe(r.graph,r.buckets,r.zeroIdx);return Xn(It(n,function(i){return e.outEdges(i.v,i.w)}))}function rNe(e,t,r){for(var n=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)cD(e,t,r,o);for(;o=i.dequeue();)cD(e,t,r,o);if(e.nodeCount()){for(var u=t.length-2;u>0;--u)if(o=t[u].dequeue(),o){n=n.concat(cD(e,t,r,o,!0));break}}}return n}function cD(e,t,r,n,i){var s=i?[]:void 0;return Ue(e.inEdges(n.v),function(o){var u=e.edge(o),h=e.node(o.v);i&&s.push({v:o.v,w:o.w}),h.out-=u,hD(t,r,h)}),Ue(e.outEdges(n.v),function(o){var u=e.edge(o),h=o.w,p=e.node(h);p.in-=u,hD(t,r,p)}),e.removeNode(n.v),s}function nNe(e,t){var r=new fn,n=0,i=0;Ue(e.nodes(),function(u){r.setNode(u,{v:u,in:0,out:0})}),Ue(e.edges(),function(u){var h=r.edge(u.v,u.w)||0,p=t(u),g=h+p;r.setEdge(u.v,u.w,g),i=Math.max(i,r.node(u.v).out+=p),n=Math.max(n,r.node(u.w).in+=p)});var s=ll(i+n+3).map(function(){return new rw}),o=n+1;return Ue(r.nodes(),function(u){hD(s,o,r.node(u))}),{graph:r,buckets:s,zeroIdx:o}}function hD(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var tNe,Bee=L(()=>{"use strict";hr();Ua();Oee();tNe=Zo(1);a(Pee,"greedyFAS");a(rNe,"doGreedyFAS");a(cD,"removeNode");a(nNe,"buildState");a(hD,"assignBucket")});function Fee(e){var t=e.graph().acyclicer==="greedy"?Pee(e,r(e)):iNe(e);Ue(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,af("rev"))});function r(n){return function(i){return n.edge(i).weight}}a(r,"weightFn")}function iNe(e){var t=[],r={},n={};function i(s){kt(n,s)||(n[s]=!0,r[s]=!0,Ue(e.outEdges(s),function(o){kt(r,o.w)?t.push(o):i(o.w)}),delete r[s])}return a(i,"dfs"),Ue(e.nodes(),i),t}function zee(e){Ue(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var fD=L(()=>{"use strict";hr();Bee();a(Fee,"run");a(iNe,"dfsFAS");a(zee,"undo")});function ih(e,t,r,n){var i;do i=af(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function Gee(e){var t=new fn().setGraph(e.graph());return Ue(e.nodes(),function(r){t.setNode(r,e.node(r))}),Ue(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function nw(e){var t=new fn({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ue(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Ue(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function dD(e,t){var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,u=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var h,p;return Math.abs(s)*o>Math.abs(i)*u?(s<0&&(u=-u),h=u*i/s,p=u):(i<0&&(o=-o),h=o,p=o*s/i),{x:r+h,y:n+p}}function Rd(e){var t=It(ll(mD(e)+1),function(){return[]});return Ue(e.nodes(),function(r){var n=e.node(r),i=n.rank;an(i)||(t[i][n.order]=r)}),t}function Vee(e){var t=uc(It(e.nodes(),function(r){return e.node(r).rank}));Ue(e.nodes(),function(r){var n=e.node(r);kt(n,"rank")&&(n.rank-=t)})}function qee(e){var t=uc(It(e.nodes(),function(s){return e.node(s).rank})),r=[];Ue(e.nodes(),function(s){var o=e.node(s).rank-t;r[o]||(r[o]=[]),r[o].push(s)});var n=0,i=e.graph().nodeRankFactor;Ue(r,function(s,o){an(s)&&o%i!==0?--n:n&&Ue(s,function(u){e.node(u).rank+=n})})}function pD(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),ih(e,"border",i,t)}function mD(e){return sl(It(e.nodes(),function(t){var r=e.node(t).rank;if(!an(r))return r}))}function Uee(e,t){var r={lhs:[],rhs:[]};return Ue(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function Hee(e,t){var r=G6();try{return t()}finally{console.log(e+" time: "+(G6()-r)+"ms")}}function Wee(e,t){return t()}var ah=L(()=>{"use strict";hr();Ua();a(ih,"addDummyNode");a(Gee,"simplify");a(nw,"asNonCompoundGraph");a(dD,"intersectRect");a(Rd,"buildLayerMatrix");a(Vee,"normalizeRanks");a(qee,"removeEmptyRanks");a(pD,"addBorderNode");a(mD,"maxRank");a(Uee,"partition");a(Hee,"time");a(Wee,"notime")});function Xee(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&Ue(n,t),kt(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)Yee(e,"borderLeft","_bl",r,i,s),Yee(e,"borderRight","_br",r,i,s)}}a(t,"dfs"),Ue(e.children(),t)}function Yee(e,t,r,n,i,s){var o={width:0,height:0,rank:s,borderType:t},u=i[t][s-1],h=ih(e,"border",o,r);i[t][s]=h,e.setParent(h,n),u&&e.setEdge(u,h,{weight:1})}var jee=L(()=>{"use strict";hr();ah();a(Xee,"addBorderSegments");a(Yee,"addBorderNode")});function Qee(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Jee(e)}function Zee(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&aNe(e),(t==="lr"||t==="rl")&&(sNe(e),Jee(e))}function Jee(e){Ue(e.nodes(),function(t){Kee(e.node(t))}),Ue(e.edges(),function(t){Kee(e.edge(t))})}function Kee(e){var t=e.width;e.width=e.height,e.height=t}function aNe(e){Ue(e.nodes(),function(t){gD(e.node(t))}),Ue(e.edges(),function(t){var r=e.edge(t);Ue(r.points,gD),kt(r,"y")&&gD(r)})}function gD(e){e.y=-e.y}function sNe(e){Ue(e.nodes(),function(t){yD(e.node(t))}),Ue(e.edges(),function(t){var r=e.edge(t);Ue(r.points,yD),kt(r,"x")&&yD(r)})}function yD(e){var t=e.x;e.x=e.y,e.y=t}var ete=L(()=>{"use strict";hr();a(Qee,"adjust");a(Zee,"undo");a(Jee,"swapWidthHeight");a(Kee,"swapWidthHeightOne");a(aNe,"reverseY");a(gD,"reverseYOne");a(sNe,"swapXY");a(yD,"swapXYOne")});function tte(e){e.graph().dummyChains=[],Ue(e.edges(),function(t){lNe(e,t)})}function lNe(e,t){var r=t.v,n=e.node(r).rank,i=t.w,s=e.node(i).rank,o=t.name,u=e.edge(t),h=u.labelRank;if(s!==n+1){e.removeEdge(t);var p,g,v;for(v=0,++n;n<s;++v,++n)u.points=[],g={width:0,height:0,edgeLabel:u,edgeObj:t,rank:n},p=ih(e,"edge",g,"_d"),n===h&&(g.width=u.width,g.height=u.height,g.dummy="edge-label",g.labelpos=u.labelpos),e.setEdge(r,p,{weight:u.weight},o),v===0&&e.graph().dummyChains.push(p),r=p;e.setEdge(r,i,{weight:u.weight},o)}}function rte(e){Ue(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}var vD=L(()=>{"use strict";hr();ah();a(tte,"run");a(lNe,"normalizeEdge");a(rte,"undo")});function U2(e){var t={};function r(n){var i=e.node(n);if(kt(t,n))return i.rank;t[n]=!0;var s=uc(It(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}a(r,"dfs"),Ue(e.sources(),r)}function hp(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var iw=L(()=>{"use strict";hr();a(U2,"longestPath");a(hp,"slack")});function aw(e){var t=new fn({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,s;uNe(t,e)<n;)i=cNe(t,e),s=t.hasNode(i.v)?hp(e,i):-hp(e,i),hNe(t,e,s);return t}function uNe(e,t){function r(n){Ue(t.nodeEdges(n),function(i){var s=i.v,o=n===s?i.w:s;!e.hasNode(o)&&!hp(t,i)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return a(r,"dfs"),Ue(e.nodes(),r),e.nodeCount()}function cNe(e,t){return up(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return hp(t,r)})}function hNe(e,t,r){Ue(e.nodes(),function(n){t.node(n).rank+=r})}var xD=L(()=>{"use strict";hr();Ua();iw();a(aw,"feasibleTree");a(uNe,"tightTree");a(cNe,"findMinSlackEdge");a(hNe,"shiftRanks")});var ite=L(()=>{"use strict"});var bD=L(()=>{"use strict"});var TIt,kD=L(()=>{"use strict";hr();bD();TIt=Zo(1)});var ate=L(()=>{"use strict";kD()});var wD=L(()=>{"use strict"});var ste=L(()=>{"use strict";wD()});var NIt,ote=L(()=>{"use strict";hr();NIt=Zo(1)});function TD(e){var t={},r={},n=[];function i(s){if(kt(r,s))throw new H2;kt(t,s)||(r[s]=!0,t[s]=!0,Ue(e.predecessors(s),i),delete r[s],n.push(s))}if(a(i,"visit"),Ue(e.sinks(),i),oD(t)!==e.nodeCount())throw new H2;return n}function H2(){}var ED=L(()=>{"use strict";hr();TD.CycleException=H2;a(TD,"topsort");a(H2,"CycleException");H2.prototype=new Error});var lte=L(()=>{"use strict";ED()});function sw(e,t,r){or(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],s={};return Ue(t,function(o){if(!e.hasNode(o))throw new Error("Graph does not have node: "+o);ute(e,o,r==="post",s,n,i)}),i}function ute(e,t,r,n,i,s){kt(n,t)||(n[t]=!0,r||s.push(t),Ue(i(t),function(o){ute(e,o,r,n,i,s)}),r&&s.push(t))}var CD=L(()=>{"use strict";hr();a(sw,"dfs");a(ute,"doDfs")});function SD(e,t){return sw(e,t,"post")}var cte=L(()=>{"use strict";CD();a(SD,"postorder")});function _D(e,t){return sw(e,t,"pre")}var hte=L(()=>{"use strict";CD();a(_D,"preorder")});var fte=L(()=>{"use strict";bD();tw()});var dte=L(()=>{"use strict";ite();kD();ate();ste();ote();lte();cte();hte();fte();wD();ED()});function Md(e){e=Gee(e),U2(e);var t=aw(e);LD(t),AD(t,e);for(var r,n;r=yte(t);)n=vte(t,e,r),xte(t,e,r,n)}function AD(e,t){var r=SD(e,e.nodes());r=r.slice(0,r.length-1),Ue(r,function(n){gNe(e,t,n)})}function gNe(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=mte(e,t,r)}function mte(e,t,r){var n=e.node(r),i=n.parent,s=!0,o=t.edge(r,i),u=0;return o||(s=!1,o=t.edge(i,r)),u=o.weight,Ue(t.nodeEdges(r),function(h){var p=h.v===r,g=p?h.w:h.v;if(g!==i){var v=p===s,x=t.edge(h).weight;if(u+=v?x:-x,vNe(e,r,g)){var k=e.edge(r,g).cutvalue;u+=v?-k:k}}}),u}function LD(e,t){arguments.length<2&&(t=e.nodes()[0]),gte(e,{},1,t)}function gte(e,t,r,n,i){var s=r,o=e.node(n);return t[n]=!0,Ue(e.neighbors(n),function(u){kt(t,u)||(r=gte(e,t,r,u,n))}),o.low=s,o.lim=r++,i?o.parent=i:delete o.parent,r}function yte(e){return wo(e.edges(),function(t){return e.edge(t).cutvalue<0})}function vte(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var s=e.node(n),o=e.node(i),u=s,h=!1;s.lim>o.lim&&(u=o,h=!0);var p=jn(t.edges(),function(g){return h===pte(e,e.node(g.v),u)&&h!==pte(e,e.node(g.w),u)});return up(p,function(g){return hp(t,g)})}function xte(e,t,r,n){var i=r.v,s=r.w;e.removeEdge(i,s),e.setEdge(n.v,n.w,{}),LD(e),AD(e,t),yNe(e,t)}function yNe(e,t){var r=wo(e.nodes(),function(i){return!t.node(i).parent}),n=_D(e,r);n=n.slice(1),Ue(n,function(i){var s=e.node(i).parent,o=t.edge(i,s),u=!1;o||(o=t.edge(s,i),u=!0),t.node(i).rank=t.node(s).rank+(u?o.minlen:-o.minlen)})}function vNe(e,t,r){return e.hasEdge(t,r)}function pte(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var bte=L(()=>{"use strict";hr();dte();ah();xD();iw();Md.initLowLimValues=LD;Md.initCutValues=AD;Md.calcCutValue=mte;Md.leaveEdge=yte;Md.enterEdge=vte;Md.exchangeEdges=xte;a(Md,"networkSimplex");a(AD,"initCutValues");a(gNe,"assignCutValue");a(mte,"calcCutValue");a(LD,"initLowLimValues");a(gte,"dfsAssignLowLim");a(yte,"leaveEdge");a(vte,"enterEdge");a(xte,"exchangeEdges");a(yNe,"updateRanks");a(vNe,"isTreeEdge");a(pte,"isDescendant")});function DD(e){switch(e.graph().ranker){case"network-simplex":kte(e);break;case"tight-tree":bNe(e);break;case"longest-path":xNe(e);break;default:kte(e)}}function bNe(e){U2(e),aw(e)}function kte(e){Md(e)}var xNe,RD=L(()=>{"use strict";xD();bte();iw();a(DD,"rank");xNe=U2;a(bNe,"tightTreeRanker");a(kte,"networkSimplexRanker")});function wte(e){var t=ih(e,"root",{},"_root"),r=kNe(e),n=sl(xn(r))-1,i=2*n+1;e.graph().nestingRoot=t,Ue(e.edges(),function(o){e.edge(o).minlen*=i});var s=wNe(e)+1;Ue(e.children(),function(o){Tte(e,t,i,s,n,r,o)}),e.graph().nodeRankFactor=i}function Tte(e,t,r,n,i,s,o){var u=e.children(o);if(!u.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var h=pD(e,"_bt"),p=pD(e,"_bb"),g=e.node(o);e.setParent(h,o),g.borderTop=h,e.setParent(p,o),g.borderBottom=p,Ue(u,function(v){Tte(e,t,r,n,i,s,v);var x=e.node(v),k=x.borderTop?x.borderTop:v,E=x.borderBottom?x.borderBottom:v,_=x.borderTop?n:2*n,N=k!==E?1:i-s[o]+1;e.setEdge(h,k,{weight:_,minlen:N,nestingEdge:!0}),e.setEdge(E,p,{weight:_,minlen:N,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,h,{weight:0,minlen:i+s[o]})}function kNe(e){var t={};function r(n,i){var s=e.children(n);s&&s.length&&Ue(s,function(o){r(o,i+1)}),t[n]=i}return a(r,"dfs"),Ue(e.children(),function(n){r(n,1)}),t}function wNe(e){return Kn(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function Ete(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Ue(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var Cte=L(()=>{"use strict";hr();ah();a(wte,"run");a(Tte,"dfs");a(kNe,"treeDepths");a(wNe,"sumWeights");a(Ete,"cleanup")});function Ste(e,t,r){var n={},i;Ue(r,function(s){for(var o=e.parent(s),u,h;o;){if(u=e.parent(o),u?(h=n[u],n[u]=o):(h=i,i=o),h&&h!==o){t.setEdge(h,o);return}o=u}})}var _te=L(()=>{"use strict";hr();a(Ste,"addSubgraphConstraints")});function Ate(e,t,r){var n=ENe(e),i=new fn({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(s){return e.node(s)});return Ue(e.nodes(),function(s){var o=e.node(s),u=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,u||n),Ue(e[r](s),function(h){var p=h.v===s?h.w:h.v,g=i.edge(p,s),v=an(g)?0:g.weight;i.setEdge(p,s,{weight:e.edge(h).weight+v})}),kt(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function ENe(e){for(var t;e.hasNode(t=af("_root")););return t}var Lte=L(()=>{"use strict";hr();Ua();a(Ate,"buildLayerGraph");a(ENe,"createRootNode")});function Dte(e,t){for(var r=0,n=1;n<t.length;++n)r+=CNe(e,t[n-1],t[n]);return r}function CNe(e,t,r){for(var n=ew(r,It(r,function(p,g){return g})),i=Xn(It(t,function(p){return nh(It(e.outEdges(p),function(g){return{pos:n[g.w],weight:e.edge(g).weight}}),"pos")})),s=1;s<r.length;)s<<=1;var o=2*s-1;s-=1;var u=It(new Array(o),function(){return 0}),h=0;return Ue(i.forEach(function(p){var g=p.pos+s;u[g]+=p.weight;for(var v=0;g>0;)g%2&&(v+=u[g+1]),g=g-1>>1,u[g]+=p.weight;h+=p.weight*v})),h}var Rte=L(()=>{"use strict";hr();a(Dte,"crossCount");a(CNe,"twoLayerCrossCount")});function Ite(e){var t={},r=jn(e.nodes(),function(u){return!e.children(u).length}),n=sl(It(r,function(u){return e.node(u).rank})),i=It(ll(n+1),function(){return[]});function s(u){if(!kt(t,u)){t[u]=!0;var h=e.node(u);i[h.rank].push(u),Ue(e.successors(u),s)}}a(s,"dfs");var o=nh(r,function(u){return e.node(u).rank});return Ue(o,s),i}var Mte=L(()=>{"use strict";hr();a(Ite,"initOrder")});function Nte(e,t){return It(t,function(r){var n=e.inEdges(r);if(n.length){var i=Kn(n,function(s,o){var u=e.edge(o),h=e.node(o.v);return{sum:s.sum+u.weight*h.order,weight:s.weight+u.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var Ote=L(()=>{"use strict";hr();a(Nte,"barycenter")});function Pte(e,t){var r={};Ue(e,function(i,s){var o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};an(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Ue(t.edges(),function(i){var s=r[i.v],o=r[i.w];!an(s)&&!an(o)&&(o.indegree++,s.out.push(r[i.w]))});var n=jn(r,function(i){return!i.indegree});return SNe(n)}function SNe(e){var t=[];function r(s){return function(o){o.merged||(an(o.barycenter)||an(s.barycenter)||o.barycenter>=s.barycenter)&&_Ne(s,o)}}a(r,"handleIn");function n(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(a(n,"handleOut");e.length;){var i=e.pop();t.push(i),Ue(i.in.reverse(),r(i)),Ue(i.out,n(i))}return It(jn(t,function(s){return!s.merged}),function(s){return nf(s,["vs","i","barycenter","weight"])})}function _Ne(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var Bte=L(()=>{"use strict";hr();a(Pte,"resolveConflicts");a(SNe,"doResolveConflicts");a(_Ne,"mergeEntries")});function zte(e,t){var r=Uee(e,function(g){return kt(g,"barycenter")}),n=r.lhs,i=nh(r.rhs,function(g){return-g.i}),s=[],o=0,u=0,h=0;n.sort(ANe(!!t)),h=Fte(s,i,h),Ue(n,function(g){h+=g.vs.length,s.push(g.vs),o+=g.barycenter*g.weight,u+=g.weight,h=Fte(s,i,h)});var p={vs:Xn(s)};return u&&(p.barycenter=o/u,p.weight=u),p}function Fte(e,t,r){for(var n;t.length&&(n=Ns(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function ANe(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var $te=L(()=>{"use strict";hr();ah();a(zte,"sort");a(Fte,"consumeUnsortable");a(ANe,"compareWithBias")});function ID(e,t,r,n){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,u=s?s.borderRight:void 0,h={};o&&(i=jn(i,function(E){return E!==o&&E!==u}));var p=Nte(e,i);Ue(p,function(E){if(e.children(E.v).length){var _=ID(e,E.v,r,n);h[E.v]=_,kt(_,"barycenter")&&DNe(E,_)}});var g=Pte(p,r);LNe(g,h);var v=zte(g,n);if(o&&(v.vs=Xn([o,v.vs,u]),e.predecessors(o).length)){var x=e.node(e.predecessors(o)[0]),k=e.node(e.predecessors(u)[0]);kt(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+x.order+k.order)/(v.weight+2),v.weight+=2}return v}function LNe(e,t){Ue(e,function(r){r.vs=Xn(r.vs.map(function(n){return t[n]?t[n].vs:n}))})}function DNe(e,t){an(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Gte=L(()=>{"use strict";hr();Ote();Bte();$te();a(ID,"sortSubgraph");a(LNe,"expandSubgraphs");a(DNe,"mergeBarycenters")});function Ute(e){var t=mD(e),r=Vte(e,ll(1,t+1),"inEdges"),n=Vte(e,ll(t-1,-1,-1),"outEdges"),i=Ite(e);qte(e,i);for(var s=Number.POSITIVE_INFINITY,o,u=0,h=0;h<4;++u,++h){RNe(u%2?r:n,u%4>=2),i=Rd(e);var p=Dte(e,i);p<s&&(h=0,o=PL(i),s=p)}qte(e,o)}function Vte(e,t,r){return It(t,function(n){return Ate(e,n,r)})}function RNe(e,t){var r=new fn;Ue(e,function(n){var i=n.graph().root,s=ID(n,i,r,t);Ue(s.vs,function(o,u){n.node(o).order=u}),Ste(n,r,s.vs)})}function qte(e,t){Ue(t,function(r){Ue(r,function(n,i){e.node(n).order=i})})}var Hte=L(()=>{"use strict";hr();Ua();ah();_te();Lte();Rte();Mte();Gte();a(Ute,"order");a(Vte,"buildLayerGraphs");a(RNe,"sweepLayerGraphs");a(qte,"assignOrder")});function Wte(e){var t=MNe(e);Ue(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,s=INe(e,t,i.v,i.w),o=s.path,u=s.lca,h=0,p=o[h],g=!0;r!==i.w;){if(n=e.node(r),g){for(;(p=o[h])!==u&&e.node(p).maxRank<n.rank;)h++;p===u&&(g=!1)}if(!g){for(;h<o.length-1&&e.node(p=o[h+1]).minRank<=n.rank;)h++;p=o[h]}e.setParent(r,p),r=e.successors(r)[0]}})}function INe(e,t,r,n){var i=[],s=[],o=Math.min(t[r].low,t[n].low),u=Math.max(t[r].lim,t[n].lim),h,p;h=r;do h=e.parent(h),i.push(h);while(h&&(t[h].low>o||u>t[h].lim));for(p=h,h=n;(h=e.parent(h))!==p;)s.push(h);return{path:i.concat(s.reverse()),lca:p}}function MNe(e){var t={},r=0;function n(i){var s=r;Ue(e.children(i),n),t[i]={low:s,lim:r++}}return a(n,"dfs"),Ue(e.children(),n),t}var Yte=L(()=>{"use strict";hr();a(Wte,"parentDummyChains");a(INe,"findPath");a(MNe,"postorder")});function NNe(e,t){var r={};function n(i,s){var o=0,u=0,h=i.length,p=Ns(s);return Ue(s,function(g,v){var x=PNe(e,g),k=x?e.node(x).order:h;(x||g===p)&&(Ue(s.slice(u,v+1),function(E){Ue(e.predecessors(E),function(_){var N=e.node(_),M=N.order;(M<o||k<M)&&!(N.dummy&&e.node(E).dummy)&&Xte(r,_,E)})}),u=v+1,o=k)}),s}return a(n,"visitLayer"),Kn(t,n),r}function ONe(e,t){var r={};function n(s,o,u,h,p){var g;Ue(ll(o,u),function(v){g=s[v],e.node(g).dummy&&Ue(e.predecessors(g),function(x){var k=e.node(x);k.dummy&&(k.order<h||k.order>p)&&Xte(r,x,g)})})}a(n,"scan");function i(s,o){var u=-1,h,p=0;return Ue(o,function(g,v){if(e.node(g).dummy==="border"){var x=e.predecessors(g);x.length&&(h=e.node(x[0]).order,n(o,p,v,u,h),p=v,u=h)}n(o,p,o.length,h,s.length)}),o}return a(i,"visitLayer"),Kn(t,i),r}function PNe(e,t){if(e.node(t).dummy)return wo(e.predecessors(t),function(r){return e.node(r).dummy})}function Xte(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function BNe(e,t,r){if(t>r){var n=t;t=r,r=n}return kt(e[t],r)}function FNe(e,t,r,n){var i={},s={},o={};return Ue(t,function(u){Ue(u,function(h,p){i[h]=h,s[h]=h,o[h]=p})}),Ue(t,function(u){var h=-1;Ue(u,function(p){var g=n(p);if(g.length){g=nh(g,function(_){return o[_]});for(var v=(g.length-1)/2,x=Math.floor(v),k=Math.ceil(v);x<=k;++x){var E=g[x];s[p]===p&&h<o[E]&&!BNe(r,p,E)&&(s[E]=p,s[p]=i[p]=i[E],h=o[E])}}})}),{root:i,align:s}}function zNe(e,t,r,n,i){var s={},o=$Ne(e,t,r,i),u=i?"borderLeft":"borderRight";function h(v,x){for(var k=o.nodes(),E=k.pop(),_={};E;)_[E]?v(E):(_[E]=!0,k.push(E),k=k.concat(x(E))),E=k.pop()}a(h,"iterate");function p(v){s[v]=o.inEdges(v).reduce(function(x,k){return Math.max(x,s[k.v]+o.edge(k))},0)}a(p,"pass1");function g(v){var x=o.outEdges(v).reduce(function(E,_){return Math.min(E,s[_.w]-o.edge(_))},Number.POSITIVE_INFINITY),k=e.node(v);x!==Number.POSITIVE_INFINITY&&k.borderType!==u&&(s[v]=Math.max(s[v],x))}return a(g,"pass2"),h(p,o.predecessors.bind(o)),h(g,o.successors.bind(o)),Ue(n,function(v){s[v]=s[r[v]]}),s}function $Ne(e,t,r,n){var i=new fn,s=e.graph(),o=UNe(s.nodesep,s.edgesep,n);return Ue(t,function(u){var h;Ue(u,function(p){var g=r[p];if(i.setNode(g),h){var v=r[h],x=i.edge(v,g);i.setEdge(v,g,Math.max(o(e,p,h),x||0))}h=p})}),i}function GNe(e,t){return up(xn(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return QL(r,function(s,o){var u=HNe(e,o)/2;n=Math.max(s+u,n),i=Math.min(s-u,i)}),n-i})}function VNe(e,t){var r=xn(t),n=uc(r),i=sl(r);Ue(["u","d"],function(s){Ue(["l","r"],function(o){var u=s+o,h=e[u],p;if(h!==t){var g=xn(h);p=o==="l"?n-uc(g):i-sl(g),p&&(e[u]=lp(h,function(v){return v+p}))}})})}function qNe(e,t){return lp(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=nh(It(e,n));return(i[1]+i[2])/2})}function jte(e){var t=Rd(e),r=vd(NNe(e,t),ONe(e,t)),n={},i;Ue(["u","d"],function(o){i=o==="u"?t:xn(t).reverse(),Ue(["l","r"],function(u){u==="r"&&(i=It(i,function(v){return xn(v).reverse()}));var h=(o==="u"?e.predecessors:e.successors).bind(e),p=FNe(e,i,r,h),g=zNe(e,i,p.root,p.align,u==="r");u==="r"&&(g=lp(g,function(v){return-v})),n[o+u]=g})});var s=GNe(e,n);return VNe(n,s),qNe(n,e.graph().align)}function UNe(e,t,r){return function(n,i,s){var o=n.node(i),u=n.node(s),h=0,p;if(h+=o.width/2,kt(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":p=-o.width/2;break;case"r":p=o.width/2;break}if(p&&(h+=r?p:-p),p=0,h+=(o.dummy?t:e)/2,h+=(u.dummy?t:e)/2,h+=u.width/2,kt(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":p=u.width/2;break;case"r":p=-u.width/2;break}return p&&(h+=r?p:-p),p=0,h}}function HNe(e,t){return e.node(t).width}var Kte=L(()=>{"use strict";hr();Ua();ah();a(NNe,"findType1Conflicts");a(ONe,"findType2Conflicts");a(PNe,"findOtherInnerSegmentNode");a(Xte,"addConflict");a(BNe,"hasConflict");a(FNe,"verticalAlignment");a(zNe,"horizontalCompaction");a($Ne,"buildBlockGraph");a(GNe,"findSmallestWidthAlignment");a(VNe,"alignCoordinates");a(qNe,"balance");a(jte,"positionX");a(UNe,"sep");a(HNe,"width")});function Qte(e){e=nw(e),WNe(e),ZL(jte(e),function(t,r){e.node(r).x=t})}function WNe(e){var t=Rd(e),r=e.graph().ranksep,n=0;Ue(t,function(i){var s=sl(It(i,function(o){return e.node(o).height}));Ue(i,function(o){e.node(o).y=n+s/2}),n+=s+r})}var Zte=L(()=>{"use strict";hr();ah();Kte();a(Qte,"position");a(WNe,"positionY")});function Il(e,t){var r=t&&t.debugTiming?Hee:Wee;r("layout",function(){var n=r("  buildLayoutGraph",function(){return nOe(e)});r("  runLayout",function(){YNe(n,r)}),r("  updateInputGraph",function(){XNe(e,n)})})}function YNe(e,t){t("    makeSpaceForEdgeLabels",function(){iOe(e)}),t("    removeSelfEdges",function(){dOe(e)}),t("    acyclic",function(){Fee(e)}),t("    nestingGraph.run",function(){wte(e)}),t("    rank",function(){DD(nw(e))}),t("    injectEdgeLabelProxies",function(){aOe(e)}),t("    removeEmptyRanks",function(){qee(e)}),t("    nestingGraph.cleanup",function(){Ete(e)}),t("    normalizeRanks",function(){Vee(e)}),t("    assignRankMinMax",function(){sOe(e)}),t("    removeEdgeLabelProxies",function(){oOe(e)}),t("    normalize.run",function(){tte(e)}),t("    parentDummyChains",function(){Wte(e)}),t("    addBorderSegments",function(){Xee(e)}),t("    order",function(){Ute(e)}),t("    insertSelfEdges",function(){pOe(e)}),t("    adjustCoordinateSystem",function(){Qee(e)}),t("    position",function(){Qte(e)}),t("    positionSelfEdges",function(){mOe(e)}),t("    removeBorderNodes",function(){fOe(e)}),t("    normalize.undo",function(){rte(e)}),t("    fixupEdgeLabelCoords",function(){cOe(e)}),t("    undoCoordinateSystem",function(){Zee(e)}),t("    translateGraph",function(){lOe(e)}),t("    assignNodeIntersects",function(){uOe(e)}),t("    reversePoints",function(){hOe(e)}),t("    acyclic.undo",function(){zee(e)})}function XNe(e,t){Ue(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),Ue(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,kt(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function nOe(e){var t=new fn({multigraph:!0,compound:!0}),r=ND(e.graph());return t.setGraph(vd({},KNe,MD(r,jNe),nf(r,QNe))),Ue(e.nodes(),function(n){var i=ND(e.node(n));t.setNode(n,al(MD(i,ZNe),JNe)),t.setParent(n,e.parent(n))}),Ue(e.edges(),function(n){var i=ND(e.edge(n));t.setEdge(n,vd({},tOe,MD(i,eOe),nf(i,rOe)))}),t}function iOe(e){var t=e.graph();t.ranksep/=2,Ue(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function aOe(e){Ue(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-n.rank)/2+n.rank,e:t};ih(e,"edge-proxy",s,"_ep")}})}function sOe(e){var t=0;Ue(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=sl(t,n.maxRank))}),e.graph().maxRank=t}function oOe(e){Ue(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function lOe(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,u=s.marginy||0;function h(p){var g=p.x,v=p.y,x=p.width,k=p.height;t=Math.min(t,g-x/2),r=Math.max(r,g+x/2),n=Math.min(n,v-k/2),i=Math.max(i,v+k/2)}a(h,"getExtremes"),Ue(e.nodes(),function(p){h(e.node(p))}),Ue(e.edges(),function(p){var g=e.edge(p);kt(g,"x")&&h(g)}),t-=o,n-=u,Ue(e.nodes(),function(p){var g=e.node(p);g.x-=t,g.y-=n}),Ue(e.edges(),function(p){var g=e.edge(p);Ue(g.points,function(v){v.x-=t,v.y-=n}),kt(g,"x")&&(g.x-=t),kt(g,"y")&&(g.y-=n)}),s.width=r-t+o,s.height=i-n+u}function uOe(e){Ue(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),s,o;r.points?(s=r.points[0],o=r.points[r.points.length-1]):(r.points=[],s=i,o=n),r.points.unshift(dD(n,s)),r.points.push(dD(i,o))})}function cOe(e){Ue(e.edges(),function(t){var r=e.edge(t);if(kt(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function hOe(e){Ue(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function fOe(e){Ue(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),s=e.node(Ns(r.borderLeft)),o=e.node(Ns(r.borderRight));r.width=Math.abs(o.x-s.x),r.height=Math.abs(i.y-n.y),r.x=s.x+r.width/2,r.y=n.y+r.height/2}}),Ue(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function dOe(e){Ue(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function pOe(e){var t=Rd(e);Ue(t,function(r){var n=0;Ue(r,function(i,s){var o=e.node(i);o.order=s+n,Ue(o.selfEdges,function(u){ih(e,"selfedge",{width:u.label.width,height:u.label.height,rank:o.rank,order:s+ ++n,e:u.e,label:u.label},"_se")}),delete o.selfEdges})})}function mOe(e){Ue(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,s=n.y,o=r.x-i,u=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*o/3,y:s-u},{x:i+5*o/6,y:s-u},{x:i+o,y:s},{x:i+5*o/6,y:s+u},{x:i+2*o/3,y:s+u}],r.label.x=r.x,r.label.y=r.y}})}function MD(e,t){return lp(nf(e,t),Number)}function ND(e){var t={};return Ue(e,function(r,n){t[n.toLowerCase()]=r}),t}var jNe,KNe,QNe,ZNe,JNe,eOe,tOe,rOe,Jte=L(()=>{"use strict";hr();Ua();jee();ete();fD();vD();RD();Cte();Hte();Yte();Zte();ah();a(Il,"layout");a(YNe,"runLayout");a(XNe,"updateInputGraph");jNe=["nodesep","edgesep","ranksep","marginx","marginy"],KNe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},QNe=["acyclicer","ranker","rankdir","align"],ZNe=["width","height"],JNe={width:0,height:0},eOe=["minlen","weight","width","height","labeloffset"],tOe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},rOe=["labelpos"];a(nOe,"buildLayoutGraph");a(iOe,"makeSpaceForEdgeLabels");a(aOe,"injectEdgeLabelProxies");a(sOe,"assignRankMinMax");a(oOe,"removeEdgeLabelProxies");a(lOe,"translateGraph");a(uOe,"assignNodeIntersects");a(cOe,"fixupEdgeLabelCoords");a(hOe,"reversePointsForReversedEdges");a(fOe,"removeBorderNodes");a(dOe,"removeSelfEdges");a(pOe,"insertSelfEdges");a(mOe,"positionSelfEdges");a(MD,"selectNumberAttrs");a(ND,"canonicalize")});var fp=L(()=>{"use strict";fD();Jte();vD();RD()});function ow(e,t){return!!e.children(t).length}function lw(e){return OD(e.v)+":"+OD(e.w)+":"+OD(e.name)}function OD(e){return e?String(e).replace(gOe,"\\:"):""}function hs(e,t){t&&e.attr("style",t)}function uw(e,t,r){t&&e.attr("class",t).attr("class",r+" "+e.attr("class"))}function fs(e,t){var r=t.graph();if(v2(r)){var n=r.transition;if(aa(n))return n(e)}return e}var gOe,Ml=L(()=>{"use strict";hr();a(ow,"isSubgraph");a(lw,"edgeToId");gOe=/:/g;a(OD,"escapeId");a(hs,"applyStyle");a(uw,"applyClass");a(fs,"applyTransition")});function ere(e){cw=e}function yOe(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");hs(s,r[n+"Style"]),r[n+"Class"]&&s.attr("class",r[n+"Class"])}function vOe(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");hs(s,r[n+"Style"]),r[n+"Class"]&&s.attr("class",r[n+"Class"])}function xOe(e,t,r,n){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");hs(s,r[n+"Style"]),r[n+"Class"]&&s.attr("class",r[n+"Class"])}var cw,tre=L(()=>{"use strict";Ml();cw={normal:yOe,vee:vOe,undirected:xOe};a(ere,"setArrows");a(yOe,"normal");a(vOe,"vee");a(xOe,"undirected")});function u1(e,t){var r=e.append("foreignObject").attr("width","100000"),n=r.append("xhtml:div");n.attr("xmlns","http://www.w3.org/1999/xhtml");var i=t.label;switch(typeof i){case"function":n.insert(i);break;case"object":n.insert(function(){return i});break;default:n.html(i)}hs(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap");var s=n.node().getBoundingClientRect();return r.attr("width",s.width).attr("height",s.height),r}var hw=L(()=>{"use strict";Ml();a(u1,"addHtmlLabel")});function rre(e,t){var r=e;return r.node().appendChild(t.label),hs(r,t.labelStyle),r}var nre=L(()=>{"use strict";Ml();a(rre,"addSVGLabel")});function ire(e,t){for(var r=e.append("text"),n=bOe(t.label).split(`
`),i=0;i<n.length;i++)r.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(n[i]);return hs(r,t.labelStyle),r}function bOe(e){for(var t="",r=!1,n,i=0;i<e.length;++i)if(n=e[i],r){switch(n){case"n":t+=`
`;break;default:t+=n}r=!1}else n==="\\"?r=!0:t+=n;return t}var are=L(()=>{"use strict";Ml();a(ire,"addTextLabel");a(bOe,"processEscapeSequences")});function c1(e,t,r){var n=t.label,i=e.append("g");t.labelType==="svg"?rre(i,t):typeof n!="string"||t.labelType==="html"?u1(i,t):ire(i,t);var s=i.node().getBBox(),o;switch(r){case"top":o=-t.height/2;break;case"bottom":o=t.height/2-s.height;break;default:o=-s.height/2}return i.attr("transform","translate("+-s.width/2+","+o+")"),i}var fw=L(()=>{"use strict";hw();nre();are();a(c1,"addLabel")});function sre(e){dw=e}var dw,ore=L(()=>{"use strict";Wr();fw();Ml();dw=a(function(e,t){var r=t.nodes().filter(function(s){return ow(t,s)}),n=e.selectAll("g.cluster").data(r,function(s){return s});fs(n.exit(),t).style("opacity",0).remove();var i=n.enter().append("g").attr("class","cluster").attr("id",function(s){var o=t.node(s);return o.id}).style("opacity",0).each(function(s){var o=t.node(s),u=ut(this);ut(this).append("rect");var h=u.append("g").attr("class","label");c1(h,o,o.clusterLabelPos)});return n=n.merge(i),n=fs(n,t).style("opacity",1),n.selectAll("rect").each(function(s){var o=t.node(s),u=ut(this);hs(u,o.style)}),n},"createClusters");a(sre,"setCreateClusters")});function lre(e){pw=e}var pw,ure=L(()=>{"use strict";Wr();hr();fw();Ml();pw=a(function(e,t){var r=e.selectAll("g.edgeLabel").data(t.edges(),function(i){return lw(i)}).classed("update",!0);r.exit().remove(),r.enter().append("g").classed("edgeLabel",!0).style("opacity",0),r=e.selectAll("g.edgeLabel"),r.each(function(i){var s=ut(this);s.select(".label").remove();var o=t.edge(i),u=c1(s,t.edge(i),0).classed("label",!0),h=u.node().getBBox();o.labelId&&u.attr("id",o.labelId),kt(o,"width")||(o.width=h.width),kt(o,"height")||(o.height=h.height)});var n;return r.exit?n=r.exit():n=r.selectAll(null),fs(n,t).style("opacity",0).remove(),r},"createEdgeLabels");a(lre,"setCreateEdgeLabels")});function PD(e,t){return e.intersect(t)}var BD=L(()=>{"use strict";a(PD,"intersectNode")});function cre(e){mw=e}function wOe(e,t){var r=e.split("#")[0];return r+"#"+t}function TOe(e,t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),s=r.points.slice(1,r.points.length-1);return s.unshift(PD(n,s[0])),s.push(PD(i,s[s.length-1])),hre(r,s)}function hre(e,t){var r=(Rs||j8.line)().x(function(n){return n.x}).y(function(n){return n.y});return(r.curve||r.interpolate)(e.curve),r(t)}function EOe(e){var t=e.getBBox(),r=e.ownerSVGElement.getScreenCTM().inverse().multiply(e.getScreenCTM()).translate(t.width/2,t.height/2);return{x:r.e,y:r.f}}function COe(e,t){var r=e.enter().append("g").attr("class","edgePath").style("opacity",0);return r.append("path").attr("class","path").attr("d",function(n){var i=t.edge(n),s=t.node(n.v).elem,o=ll(i.points.length).map(function(){return EOe(s)});return hre(i,o)}),r.append("defs"),r}function SOe(e,t){var r=e.exit();fs(r,t).style("opacity",0).remove()}var mw,fre=L(()=>{"use strict";Wr();hr();BD();Ml();mw=a(function(e,t,r){var n=e.selectAll("g.edgePath").data(t.edges(),function(o){return lw(o)}).classed("update",!0),i=COe(n,t);SOe(n,t);var s=n.merge!==void 0?n.merge(i):n;return fs(s,t).style("opacity",1),s.each(function(o){var u=ut(this),h=t.edge(o);h.elem=this,h.id&&u.attr("id",h.id),uw(u,h.class,(u.classed("update")?"update ":"")+"edgePath")}),s.selectAll("path.path").each(function(o){var u=t.edge(o);u.arrowheadId=af("arrowhead");var h=ut(this).attr("marker-end",function(){return"url("+wOe(location.href,u.arrowheadId)+")"}).style("fill","none");fs(h,t).attr("d",function(p){return TOe(t,p)}),hs(h,u.style)}),s.selectAll("defs *").remove(),s.selectAll("defs").each(function(o){var u=t.edge(o),h=r[u.arrowhead];h(ut(this),u.arrowheadId,u,"arrowhead")}),s},"createEdgePaths");a(cre,"setCreateEdgePaths");a(wOe,"makeFragmentRef");a(TOe,"calcPoints");a(hre,"createLine");a(EOe,"getCoords");a(COe,"enter");a(SOe,"exit")});function dre(e){gw=e}var gw,pre=L(()=>{"use strict";Wr();hr();fw();Ml();gw=a(function(e,t,r){var n=t.nodes().filter(function(o){return!ow(t,o)}),i=e.selectAll("g.node").data(n,function(o){return o}).classed("update",!0);i.exit().remove(),i.enter().append("g").attr("class","node").style("opacity",0),i=e.selectAll("g.node"),i.each(function(o){var u=t.node(o),h=ut(this);uw(h,u.class,(h.classed("update")?"update ":"")+"node"),h.select("g.label").remove();var p=h.append("g").attr("class","label"),g=c1(p,u),v=r[u.shape],x=nf(g.node().getBBox(),"width","height");u.elem=this,u.id&&h.attr("id",u.id),u.labelId&&p.attr("id",u.labelId),kt(u,"width")&&(x.width=u.width),kt(u,"height")&&(x.height=u.height),x.width+=u.paddingLeft+u.paddingRight,x.height+=u.paddingTop+u.paddingBottom,p.attr("transform","translate("+(u.paddingLeft-u.paddingRight)/2+","+(u.paddingTop-u.paddingBottom)/2+")");var k=ut(this);k.select(".label-container").remove();var E=v(k,x,u).classed("label-container",!0);hs(E,u.style);var _=E.node().getBBox();u.width=_.width,u.height=_.height});var s;return i.exit?s=i.exit():s=i.selectAll(null),fs(s,t).style("opacity",0).remove(),i},"createNodes");a(dre,"setCreateNodes")});function mre(e,t){var r=e.filter(function(){return!ut(this).classed("update")});function n(i){var s=t.node(i);return"translate("+s.x+","+s.y+")"}a(n,"translate"),r.attr("transform",n),fs(e,t).style("opacity",1).attr("transform",n),fs(r.selectAll("rect"),t).attr("width",function(i){return t.node(i).width}).attr("height",function(i){return t.node(i).height}).attr("x",function(i){var s=t.node(i);return-s.width/2}).attr("y",function(i){var s=t.node(i);return-s.height/2})}var gre=L(()=>{"use strict";Wr();Ml();a(mre,"positionClusters")});function yre(e,t){var r=e.filter(function(){return!ut(this).classed("update")});function n(i){var s=t.edge(i);return kt(s,"x")?"translate("+s.x+","+s.y+")":""}a(n,"translate"),r.attr("transform",n),fs(e,t).style("opacity",1).attr("transform",n)}var vre=L(()=>{"use strict";Wr();hr();Ml();a(yre,"positionEdgeLabels")});function xre(e,t){var r=e.filter(function(){return!ut(this).classed("update")});function n(i){var s=t.node(i);return"translate("+s.x+","+s.y+")"}a(n,"translate"),r.attr("transform",n),fs(e,t).style("opacity",1).attr("transform",n)}var bre=L(()=>{"use strict";Wr();Ml();a(xre,"positionNodes")});function yw(e,t,r,n){var i=e.x,s=e.y,o=i-n.x,u=s-n.y,h=Math.sqrt(t*t*u*u+r*r*o*o),p=Math.abs(t*r*o/h);n.x<i&&(p=-p);var g=Math.abs(t*r*u/h);return n.y<s&&(g=-g),{x:i+p,y:s+g}}var vw=L(()=>{"use strict";a(yw,"intersectEllipse")});function kre(e,t,r){return yw(e,t,t,r)}var FD=L(()=>{"use strict";vw();a(kre,"intersectCircle")});function Tre(e,t,r,n){var i,s,o,u,h,p,g,v,x,k,E,_,N,M,P;if(i=t.y-e.y,o=e.x-t.x,h=t.x*e.y-e.x*t.y,x=i*r.x+o*r.y+h,k=i*n.x+o*n.y+h,!(x!==0&&k!==0&&wre(x,k))&&(s=n.y-r.y,u=r.x-n.x,p=n.x*r.y-r.x*n.y,g=s*e.x+u*e.y+p,v=s*t.x+u*t.y+p,!(g!==0&&v!==0&&wre(g,v))&&(E=i*u-s*o,E!==0)))return _=Math.abs(E/2),N=o*p-u*h,M=N<0?(N-_)/E:(N+_)/E,N=s*h-i*p,P=N<0?(N-_)/E:(N+_)/E,{x:M,y:P}}function wre(e,t){return e*t>0}var Ere=L(()=>{"use strict";a(Tre,"intersectLine");a(wre,"sameSign")});function yu(e,t,r){var n=e.x,i=e.y,s=[],o=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;t.forEach(function(E){o=Math.min(o,E.x),u=Math.min(u,E.y)});for(var h=n-e.width/2-o,p=i-e.height/2-u,g=0;g<t.length;g++){var v=t[g],x=t[g<t.length-1?g+1:0],k=Tre(e,r,{x:h+v.x,y:p+v.y},{x:h+x.x,y:p+x.y});k&&s.push(k)}return s.length?(s.length>1&&s.sort(function(E,_){var N=E.x-r.x,M=E.y-r.y,P=Math.sqrt(N*N+M*M),V=_.x-r.x,H=_.y-r.y,O=Math.sqrt(V*V+H*H);return P<O?-1:P===O?0:1}),s[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e)}var xw=L(()=>{"use strict";Ere();a(yu,"intersectPolygon")});function W2(e,t){var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,u=e.height/2,h,p;return Math.abs(s)*o>Math.abs(i)*u?(s<0&&(u=-u),h=s===0?0:u*i/s,p=u):(i<0&&(o=-o),h=o,p=i===0?0:o*s/i),{x:r+h,y:n+p}}var bw=L(()=>{"use strict";a(W2,"intersectRect")});function Cre(e){kw=e}function ROe(e,t,r){var n=e.insert("rect",":first-child").attr("rx",r.rx).attr("ry",r.ry).attr("x",-t.width/2).attr("y",-t.height/2).attr("width",t.width).attr("height",t.height);return r.intersect=function(i){return W2(r,i)},n}function IOe(e,t,r){var n=t.width/2,i=t.height/2,s=e.insert("ellipse",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("rx",n).attr("ry",i);return r.intersect=function(o){return yw(r,n,i,o)},s}function MOe(e,t,r){var n=Math.max(t.width,t.height)/2,i=e.insert("circle",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("r",n);return r.intersect=function(s){return kre(r,n,s)},i}function NOe(e,t,r){var n=t.width*Math.SQRT2/2,i=t.height*Math.SQRT2/2,s=[{x:0,y:-i},{x:-n,y:0},{x:0,y:i},{x:n,y:0}],o=e.insert("polygon",":first-child").attr("points",s.map(function(u){return u.x+","+u.y}).join(" "));return r.intersect=function(u){return yu(r,s,u)},o}var kw,Sre=L(()=>{"use strict";FD();vw();xw();bw();kw={rect:ROe,ellipse:IOe,circle:MOe,diamond:NOe};a(Cre,"setShapes");a(ROe,"rect");a(IOe,"ellipse");a(MOe,"circle");a(NOe,"diamond")});function zD(){var e=a(function(t,r){BOe(r);var n=Y2(t,"output"),i=Y2(n,"clusters"),s=Y2(n,"edgePaths"),o=pw(Y2(n,"edgeLabels"),r),u=gw(Y2(n,"nodes"),r,kw);Il(r),xre(u,r),yre(o,r),mw(s,r,cw);var h=dw(i,r);mre(h,r),FOe(r)},"fn");return e.createNodes=function(t){return arguments.length?(dre(t),e):gw},e.createClusters=function(t){return arguments.length?(sre(t),e):dw},e.createEdgeLabels=function(t){return arguments.length?(lre(t),e):pw},e.createEdgePaths=function(t){return arguments.length?(cre(t),e):mw},e.shapes=function(t){return arguments.length?(Cre(t),e):kw},e.arrows=function(t){return arguments.length?(ere(t),e):cw},e}function BOe(e){e.nodes().forEach(function(t){var r=e.node(t);!kt(r,"label")&&!e.children(t).length&&(r.label=t),kt(r,"paddingX")&&al(r,{paddingLeft:r.paddingX,paddingRight:r.paddingX}),kt(r,"paddingY")&&al(r,{paddingTop:r.paddingY,paddingBottom:r.paddingY}),kt(r,"padding")&&al(r,{paddingLeft:r.padding,paddingRight:r.padding,paddingTop:r.padding,paddingBottom:r.padding}),al(r,OOe),Ue(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(n){r[n]=Number(r[n])}),kt(r,"width")&&(r._prevWidth=r.width),kt(r,"height")&&(r._prevHeight=r.height)}),e.edges().forEach(function(t){var r=e.edge(t);kt(r,"label")||(r.label=""),al(r,POe)})}function FOe(e){Ue(e.nodes(),function(t){var r=e.node(t);kt(r,"_prevWidth")?r.width=r._prevWidth:delete r.width,kt(r,"_prevHeight")?r.height=r._prevHeight:delete r.height,delete r._prevWidth,delete r._prevHeight})}function Y2(e,t){var r=e.select("g."+t);return r.empty()&&(r=e.append("g").attr("class",t)),r}var OOe,POe,_re=L(()=>{"use strict";Wr();hr();fp();tre();ore();ure();fre();pre();gre();vre();bre();Sre();a(zD,"render");OOe={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},POe={arrowhead:"normal",curve:$a};a(BOe,"preProcessGraph");a(FOe,"postProcessGraph");a(Y2,"createOrSelectGroup")});var Are=L(()=>{"use strict";BD();FD();vw();xw();bw()});var Lre=L(()=>{"use strict";_re();Ua();Are()});function Dre(e,t,r){let n=t.width,i=t.height,s=(n+i)*.9,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}],u=sf(e,s,s,o);return r.intersect=function(h){return yu(r,o,h)},u}function Rre(e,t,r){let i=t.height,s=i/4,o=t.width+2*s,u=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-i/2},{x:o-s,y:-i},{x:s,y:-i},{x:0,y:-i/2}],h=sf(e,o,i,u);return r.intersect=function(p){return yu(r,u,p)},h}function Ire(e,t,r){let n=t.width,i=t.height,s=[{x:-i/2,y:0},{x:n,y:0},{x:n,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],o=sf(e,n,i,s);return r.intersect=function(u){return yu(r,s,u)},o}function Mre(e,t,r){let n=t.width,i=t.height,s=[{x:-2*i/6,y:0},{x:n-i/6,y:0},{x:n+2*i/6,y:-i},{x:i/6,y:-i}],o=sf(e,n,i,s);return r.intersect=function(u){return yu(r,s,u)},o}function Nre(e,t,r){let n=t.width,i=t.height,s=[{x:2*i/6,y:0},{x:n+i/6,y:0},{x:n-2*i/6,y:-i},{x:-i/6,y:-i}],o=sf(e,n,i,s);return r.intersect=function(u){return yu(r,s,u)},o}function Ore(e,t,r){let n=t.width,i=t.height,s=[{x:-2*i/6,y:0},{x:n+2*i/6,y:0},{x:n-i/6,y:-i},{x:i/6,y:-i}],o=sf(e,n,i,s);return r.intersect=function(u){return yu(r,s,u)},o}function Pre(e,t,r){let n=t.width,i=t.height,s=[{x:i/6,y:0},{x:n-i/6,y:0},{x:n+2*i/6,y:-i},{x:-2*i/6,y:-i}],o=sf(e,n,i,s);return r.intersect=function(u){return yu(r,s,u)},o}function Bre(e,t,r){let n=t.width,i=t.height,s=[{x:0,y:0},{x:n+i/2,y:0},{x:n,y:-i/2},{x:n+i/2,y:-i},{x:0,y:-i}],o=sf(e,n,i,s);return r.intersect=function(u){return yu(r,s,u)},o}function Fre(e,t,r){let n=t.height,i=t.width+n/4,s=e.insert("rect",":first-child").attr("rx",n/2).attr("ry",n/2).attr("x",-i/2).attr("y",-n/2).attr("width",i).attr("height",n);return r.intersect=function(o){return W2(r,o)},s}function zre(e,t,r){let n=t.width,i=t.height,s=[{x:0,y:0},{x:n,y:0},{x:n,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],o=sf(e,n,i,s);return r.intersect=function(u){return yu(r,s,u)},o}function $re(e,t,r){let n=t.width,i=n/2,s=i/(2.5+n/50),o=t.height+s,u="M 0,"+s+" a "+i+","+s+" 0,0,0 "+n+" 0 a "+i+","+s+" 0,0,0 "+-n+" 0 l 0,"+o+" a "+i+","+s+" 0,0,0 "+n+" 0 l 0,"+-o,h=e.attr("label-offset-y",s).insert("path",":first-child").attr("d",u).attr("transform","translate("+-n/2+","+-(o/2+s)+")");return r.intersect=function(p){let g=W2(r,p),v=g.x-r.x;if(i!=0&&(Math.abs(v)<r.width/2||Math.abs(v)==r.width/2&&Math.abs(g.y-r.y)>r.height/2-s)){let x=s*s*(1-v*v/(i*i));x!=0&&(x=Math.sqrt(x)),x=s-x,p.y-r.y>0&&(x=-x),g.y+=x}return g},h}function $Oe(e){e.shapes().question=Dre,e.shapes().hexagon=Rre,e.shapes().stadium=Fre,e.shapes().subroutine=zre,e.shapes().cylinder=$re,e.shapes().rect_left_inv_arrow=Ire,e.shapes().lean_right=Mre,e.shapes().lean_left=Nre,e.shapes().trapezoid=Ore,e.shapes().inv_trapezoid=Pre,e.shapes().rect_right_inv_arrow=Bre}function GOe(e){e({question:Dre}),e({hexagon:Rre}),e({stadium:Fre}),e({subroutine:zre}),e({cylinder:$re}),e({rect_left_inv_arrow:Ire}),e({lean_right:Mre}),e({lean_left:Nre}),e({trapezoid:Ore}),e({inv_trapezoid:Pre}),e({rect_right_inv_arrow:Bre})}function sf(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("transform","translate("+-t/2+","+r/2+")")}var Gre,Vre=L(()=>{"use strict";xw();bw();a(Dre,"question");a(Rre,"hexagon");a(Ire,"rect_left_inv_arrow");a(Mre,"lean_right");a(Nre,"lean_left");a(Ore,"trapezoid");a(Pre,"inv_trapezoid");a(Bre,"rect_right_inv_arrow");a(Fre,"stadium");a(zre,"subroutine");a($re,"cylinder");a($Oe,"addToRender");a(GOe,"addToRenderV2");a(sf,"insertPolygonShape");Gre={addToRender:$Oe,addToRenderV2:GOe}});function $D(e,t){let r=t||VOe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Ure(e,n,i)}function Ure(e,t,r){if(qOe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return qre(e.children,t,r)}return Array.isArray(e)?qre(e,t,r):""}function qre(e,t,r){let n=[],i=-1;for(;++i<e.length;)n[i]=Ure(e[i],t,r);return n.join("")}function qOe(e){return!!(e&&typeof e=="object")}var VOe,Hre=L(()=>{"use strict";VOe={};a($D,"toString");a(Ure,"one");a(qre,"all");a(qOe,"node")});var Wre=L(()=>{"use strict";Hre()});function h1(e){let t="&"+e+";";Yre.innerHTML=t;let r=Yre.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}var Yre,ww=L(()=>{"use strict";Yre=document.createElement("i");a(h1,"decodeNamedCharacterReference")});function Ps(e,t,r,n){let i=e.length,s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);s<n.length;)o=n.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function To(e,t){return e.length>0?(Ps(e,e.length,0,t),e):t}var Nd=L(()=>{"use strict";a(Ps,"splice");a(To,"push")});function jre(e){let t={},r=-1;for(;++r<e.length;)UOe(t,e[r]);return t}function UOe(e,t){let r;for(r in t){let i=(Xre.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r],o;if(s)for(o in s){Xre.call(i,o)||(i[o]=[]);let u=s[o];HOe(i[o],Array.isArray(u)?u:u?[u]:[])}}}function HOe(e,t){let r=-1,n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Ps(e,0,0,n)}var Xre,Kre=L(()=>{"use strict";Nd();Xre={}.hasOwnProperty;a(jre,"combineExtensions");a(UOe,"syntaxExtension");a(HOe,"constructs")});function Tw(e,t){let r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"\uFFFD":String.fromCodePoint(r)}var GD=L(()=>{"use strict";a(Tw,"decodeNumericCharacterReference")});function of(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Ew=L(()=>{"use strict";a(of,"normalizeIdentifier")});function X2(e){return e!==null&&(e<32||e===127)}function cr(e){return e!==null&&e<-2}function ka(e){return e!==null&&(e<0||e===32)}function en(e){return e===-2||e===-1||e===32}function Od(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}var Nl,Eo,Qre,j2,Zre,Jre,ene,tne,fi=L(()=>{"use strict";Nl=Od(/[A-Za-z]/),Eo=Od(/[\dA-Za-z]/),Qre=Od(/[#-'*+\--9=?A-Z^-~]/);a(X2,"asciiControl");j2=Od(/\d/),Zre=Od(/[\dA-Fa-f]/),Jre=Od(/[!-/:-@[-`{-~]/);a(cr,"markdownLineEnding");a(ka,"markdownLineEndingOrSpace");a(en,"markdownSpace");ene=Od(/\p{P}|\p{S}/u),tne=Od(/\s/);a(Od,"regexCheck")});function sn(e,t,r,n){let i=n?n-1:Number.POSITIVE_INFINITY,s=0;return o;function o(h){return en(h)?(e.enter(r),u(h)):t(h)}function u(h){return en(h)&&s++<i?(e.consume(h),u):(e.exit(r),t(h))}}var ds=L(()=>{"use strict";fi();a(sn,"factorySpace")});function WOe(e){let t=e.attempt(this.parser.constructs.contentInitial,n,i),r;return t;function n(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),sn(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),s(u)}function s(u){let h=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=h),r=h,o(u)}function o(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return cr(u)?(e.consume(u),e.exit("chunkText"),s):(e.consume(u),o)}}var rne,nne=L(()=>{"use strict";ds();fi();rne={tokenize:WOe};a(WOe,"initializeContent")});function YOe(e){let t=this,r=[],n=0,i,s,o;return u;function u(V){if(n<r.length){let H=r[n];return t.containerState=H[1],e.attempt(H[0].continuation,h,p)(V)}return p(V)}function h(V){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&P();let H=t.events.length,O=H,I;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){I=t.events[O][1].end;break}M(n);let z=H;for(;z<t.events.length;)t.events[z][1].end=Object.assign({},I),z++;return Ps(t.events,O+1,0,t.events.slice(H)),t.events.length=z,p(V)}return u(V)}function p(V){if(n===r.length){if(!i)return x(V);if(i.currentConstruct&&i.currentConstruct.concrete)return E(V);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(ine,g,v)(V)}function g(V){return i&&P(),M(n),x(V)}function v(V){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,E(V)}function x(V){return t.containerState={},e.attempt(ine,k,E)(V)}function k(V){return n++,r.push([t.currentConstruct,t.containerState]),x(V)}function E(V){if(V===null){i&&P(),M(0),e.consume(V);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),_(V)}function _(V){if(V===null){N(e.exit("chunkFlow"),!0),M(0),e.consume(V);return}return cr(V)?(e.consume(V),N(e.exit("chunkFlow")),n=0,t.interrupt=void 0,u):(e.consume(V),_)}function N(V,H){let O=t.sliceStream(V);if(H&&O.push(null),V.previous=s,s&&(s.next=V),s=V,i.defineSkip(V.start),i.write(O),t.parser.lazy[V.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<o&&(!i.events[I][1].end||i.events[I][1].end.offset>o))return;let z=t.events.length,G=z,F,j;for(;G--;)if(t.events[G][0]==="exit"&&t.events[G][1].type==="chunkFlow"){if(F){j=t.events[G][1].end;break}F=!0}for(M(n),I=z;I<t.events.length;)t.events[I][1].end=Object.assign({},j),I++;Ps(t.events,G+1,0,t.events.slice(z)),t.events.length=I}}function M(V){let H=r.length;for(;H-- >V;){let O=r[H];t.containerState=O[1],O[0].exit.call(t,e)}r.length=V}function P(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function XOe(e,t,r){return sn(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}var ane,ine,sne=L(()=>{"use strict";ds();fi();Nd();ane={tokenize:YOe},ine={tokenize:XOe};a(YOe,"initializeDocument");a(XOe,"tokenizeContainer")});function VD(e){if(e===null||ka(e)||tne(e))return 1;if(ene(e))return 2}var one=L(()=>{"use strict";fi();a(VD,"classifyCharacter")});function f1(e,t,r){let n=[],i=-1;for(;++i<e.length;){let s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}var Cw=L(()=>{"use strict";a(f1,"resolveAll")});function jOe(e,t){let r=-1,n,i,s,o,u,h,p,g;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;h=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;let v=Object.assign({},e[n][1].end),x=Object.assign({},e[r][1].start);lne(v,-h),lne(x,h),o={type:h>1?"strongSequence":"emphasisSequence",start:v,end:Object.assign({},e[n][1].end)},u={type:h>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[r][1].start),end:x},s={type:h>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[r][1].start)},i={type:h>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},u.end)},e[n][1].end=Object.assign({},o.start),e[r][1].start=Object.assign({},u.end),p=[],e[n][1].end.offset-e[n][1].start.offset&&(p=To(p,[["enter",e[n][1],t],["exit",e[n][1],t]])),p=To(p,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),p=To(p,f1(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),p=To(p,[["exit",s,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(g=2,p=To(p,[["enter",e[r][1],t],["exit",e[r][1],t]])):g=0,Ps(e,n-1,r-n+3,p),r=n+p.length-g-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function KOe(e,t){let r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=VD(n),s;return o;function o(h){return s=h,e.enter("attentionSequence"),u(h)}function u(h){if(h===s)return e.consume(h),u;let p=e.exit("attentionSequence"),g=VD(h),v=!g||g===2&&i||r.includes(h),x=!i||i===2&&g||r.includes(n);return p._open=!!(s===42?v:v&&(i||!x)),p._close=!!(s===42?x:x&&(g||!v)),t(h)}}function lne(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var K2,une=L(()=>{"use strict";Nd();one();Cw();K2={name:"attention",tokenize:KOe,resolveAll:jOe};a(jOe,"resolveAllAttention");a(KOe,"tokenizeAttention");a(lne,"movePoint")});function QOe(e,t,r){let n=0;return i;function i(k){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(k),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(k){return Nl(k)?(e.consume(k),o):p(k)}function o(k){return k===43||k===45||k===46||Eo(k)?(n=1,u(k)):p(k)}function u(k){return k===58?(e.consume(k),n=0,h):(k===43||k===45||k===46||Eo(k))&&n++<32?(e.consume(k),u):(n=0,p(k))}function h(k){return k===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(k),e.exit("autolinkMarker"),e.exit("autolink"),t):k===null||k===32||k===60||X2(k)?r(k):(e.consume(k),h)}function p(k){return k===64?(e.consume(k),g):Qre(k)?(e.consume(k),p):r(k)}function g(k){return Eo(k)?v(k):r(k)}function v(k){return k===46?(e.consume(k),n=0,g):k===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(k),e.exit("autolinkMarker"),e.exit("autolink"),t):x(k)}function x(k){if((k===45||Eo(k))&&n++<63){let E=k===45?x:v;return e.consume(k),E}return r(k)}}var qD,cne=L(()=>{"use strict";fi();qD={name:"autolink",tokenize:QOe};a(QOe,"tokenizeAutolink")});function ZOe(e,t,r){return n;function n(s){return en(s)?sn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||cr(s)?t(s):r(s)}}var Pd,Sw=L(()=>{"use strict";ds();fi();Pd={tokenize:ZOe,partial:!0};a(ZOe,"tokenizeBlankLine")});function JOe(e,t,r){let n=this;return i;function i(o){if(o===62){let u=n.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return r(o)}function s(o){return en(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function ePe(e,t,r){let n=this;return i;function i(o){return en(o)?sn(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(_w,t,r)(o)}}function tPe(e){e.exit("blockQuote")}var _w,hne=L(()=>{"use strict";ds();fi();_w={name:"blockQuote",tokenize:JOe,continuation:{tokenize:ePe},exit:tPe};a(JOe,"tokenizeBlockQuoteStart");a(ePe,"tokenizeBlockQuoteContinuation");a(tPe,"exit")});function rPe(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Jre(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}var Aw,fne=L(()=>{"use strict";fi();Aw={name:"characterEscape",tokenize:rPe};a(rPe,"tokenizeCharacterEscape")});function nPe(e,t,r){let n=this,i=0,s,o;return u;function u(v){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),h}function h(v){return v===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(v),e.exit("characterReferenceMarkerNumeric"),p):(e.enter("characterReferenceValue"),s=31,o=Eo,g(v))}function p(v){return v===88||v===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(v),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Zre,g):(e.enter("characterReferenceValue"),s=7,o=j2,g(v))}function g(v){if(v===59&&i){let x=e.exit("characterReferenceValue");return o===Eo&&!h1(n.sliceSerialize(x))?r(v):(e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(v)&&i++<s?(e.consume(v),g):r(v)}}var Lw,dne=L(()=>{"use strict";ww();fi();Lw={name:"characterReference",tokenize:nPe};a(nPe,"tokenizeCharacterReference")});function iPe(e,t,r){let n=this,i={tokenize:O,partial:!0},s=0,o=0,u;return h;function h(I){return p(I)}function p(I){let z=n.events[n.events.length-1];return s=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,u=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(I)}function g(I){return I===u?(o++,e.consume(I),g):o<3?r(I):(e.exit("codeFencedFenceSequence"),en(I)?sn(e,v,"whitespace")(I):v(I))}function v(I){return I===null||cr(I)?(e.exit("codeFencedFence"),n.interrupt?t(I):e.check(pne,_,H)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x(I))}function x(I){return I===null||cr(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v(I)):en(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),sn(e,k,"whitespace")(I)):I===96&&I===u?r(I):(e.consume(I),x)}function k(I){return I===null||cr(I)?v(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(I))}function E(I){return I===null||cr(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(I)):I===96&&I===u?r(I):(e.consume(I),E)}function _(I){return e.attempt(i,H,N)(I)}function N(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),M}function M(I){return s>0&&en(I)?sn(e,P,"linePrefix",s+1)(I):P(I)}function P(I){return I===null||cr(I)?e.check(pne,_,H)(I):(e.enter("codeFlowValue"),V(I))}function V(I){return I===null||cr(I)?(e.exit("codeFlowValue"),P(I)):(e.consume(I),V)}function H(I){return e.exit("codeFenced"),t(I)}function O(I,z,G){let F=0;return j;function j(le){return I.enter("lineEnding"),I.consume(le),I.exit("lineEnding"),D}function D(le){return I.enter("codeFencedFence"),en(le)?sn(I,X,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):X(le)}function X(le){return le===u?(I.enter("codeFencedFenceSequence"),B(le)):G(le)}function B(le){return le===u?(F++,I.consume(le),B):F>=o?(I.exit("codeFencedFenceSequence"),en(le)?sn(I,Q,"whitespace")(le):Q(le)):G(le)}function Q(le){return le===null||cr(le)?(I.exit("codeFencedFence"),z(le)):G(le)}}}function aPe(e,t,r){let n=this;return i;function i(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}var pne,Dw,mne=L(()=>{"use strict";ds();fi();pne={tokenize:aPe,partial:!0},Dw={name:"codeFenced",tokenize:iPe,concrete:!0};a(iPe,"tokenizeCodeFenced");a(aPe,"tokenizeNonLazyContinuation")});function oPe(e,t,r){let n=this;return i;function i(p){return e.enter("codeIndented"),sn(e,s,"linePrefix",5)(p)}function s(p){let g=n.events[n.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?o(p):r(p)}function o(p){return p===null?h(p):cr(p)?e.attempt(sPe,o,h)(p):(e.enter("codeFlowValue"),u(p))}function u(p){return p===null||cr(p)?(e.exit("codeFlowValue"),o(p)):(e.consume(p),u)}function h(p){return e.exit("codeIndented"),t(p)}}function lPe(e,t,r){let n=this;return i;function i(o){return n.parser.lazy[n.now().line]?r(o):cr(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):sn(e,s,"linePrefix",5)(o)}function s(o){let u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(o):cr(o)?i(o):r(o)}}var Q2,sPe,gne=L(()=>{"use strict";ds();fi();Q2={name:"codeIndented",tokenize:oPe},sPe={tokenize:lPe,partial:!0};a(oPe,"tokenizeCodeIndented");a(lPe,"tokenizeFurtherStart")});function uPe(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function cPe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function hPe(e,t,r){let n=this,i=0,s,o;return u;function u(x){return e.enter("codeText"),e.enter("codeTextSequence"),h(x)}function h(x){return x===96?(e.consume(x),i++,h):(e.exit("codeTextSequence"),p(x))}function p(x){return x===null?r(x):x===32?(e.enter("space"),e.consume(x),e.exit("space"),p):x===96?(o=e.enter("codeTextSequence"),s=0,v(x)):cr(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),p):(e.enter("codeTextData"),g(x))}function g(x){return x===null||x===32||x===96||cr(x)?(e.exit("codeTextData"),p(x)):(e.consume(x),g)}function v(x){return x===96?(e.consume(x),s++,v):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(x)):(o.type="codeTextData",g(x))}}var UD,yne=L(()=>{"use strict";fi();UD={name:"codeText",tokenize:hPe,resolve:uPe,previous:cPe};a(uPe,"resolveCodeText");a(cPe,"previous");a(hPe,"tokenizeCodeText")});function Rw(e){let t={},r=-1,n,i,s,o,u,h,p;for(;++r<e.length;){for(;r in t;)r=t[r];if(n=e[r],r&&n[1].type==="chunkFlow"&&e[r-1][1].type==="listItemPrefix"&&(h=n[1]._tokenizer.events,s=0,s<h.length&&h[s][1].type==="lineEndingBlank"&&(s+=2),s<h.length&&h[s][1].type==="content"))for(;++s<h.length&&h[s][1].type!=="content";)h[s][1].type==="chunkText"&&(h[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,fPe(e,r)),r=t[r],p=!0);else if(n[1]._container){for(s=r,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(n[1].end=Object.assign({},e[i][1].start),u=e.slice(i,r),u.unshift(n),Ps(e,i,r-i+1,u))}}return!p}function fPe(e,t){let r=e[t][1],n=e[t][2],i=t-1,s=[],o=r._tokenizer||n.parser[r.contentType](r.start),u=o.events,h=[],p={},g,v,x=-1,k=r,E=0,_=0,N=[_];for(;k;){for(;e[++i][1]!==k;);s.push(i),k._tokenizer||(g=n.sliceStream(k),k.next||g.push(null),v&&o.defineSkip(k.start),k._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(g),k._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),v=k,k=k.next}for(k=r;++x<u.length;)u[x][0]==="exit"&&u[x-1][0]==="enter"&&u[x][1].type===u[x-1][1].type&&u[x][1].start.line!==u[x][1].end.line&&(_=x+1,N.push(_),k._tokenizer=void 0,k.previous=void 0,k=k.next);for(o.events=[],k?(k._tokenizer=void 0,k.previous=void 0):N.pop(),x=N.length;x--;){let M=u.slice(N[x],N[x+1]),P=s.pop();h.unshift([P,P+M.length-1]),Ps(e,P,2,M)}for(x=-1;++x<h.length;)p[E+h[x][0]]=E+h[x][1],E+=h[x][1]-h[x][0]-1;return p}var HD=L(()=>{"use strict";Nd();a(Rw,"subtokenize");a(fPe,"subcontent")});function pPe(e){return Rw(e),e}function mPe(e,t){let r;return n;function n(u){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?s(u):cr(u)?e.check(dPe,o,s)(u):(e.consume(u),i)}function s(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function o(u){return e.consume(u),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function gPe(e,t,r){let n=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),sn(e,s,"linePrefix")}function s(o){if(o===null||cr(o))return r(o);let u=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}var WD,dPe,vne=L(()=>{"use strict";ds();fi();HD();WD={tokenize:mPe,resolve:pPe},dPe={tokenize:gPe,partial:!0};a(pPe,"resolveContent");a(mPe,"tokenizeContent");a(gPe,"tokenizeContinuation")});function Iw(e,t,r,n,i,s,o,u,h){let p=h||Number.POSITIVE_INFINITY,g=0;return v;function v(M){return M===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(M),e.exit(s),x):M===null||M===32||M===41||X2(M)?r(M):(e.enter(n),e.enter(o),e.enter(u),e.enter("chunkString",{contentType:"string"}),_(M))}function x(M){return M===62?(e.enter(s),e.consume(M),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),k(M))}function k(M){return M===62?(e.exit("chunkString"),e.exit(u),x(M)):M===null||M===60||cr(M)?r(M):(e.consume(M),M===92?E:k)}function E(M){return M===60||M===62||M===92?(e.consume(M),k):k(M)}function _(M){return!g&&(M===null||M===41||ka(M))?(e.exit("chunkString"),e.exit(u),e.exit(o),e.exit(n),t(M)):g<p&&M===40?(e.consume(M),g++,_):M===41?(e.consume(M),g--,_):M===null||M===32||M===40||X2(M)?r(M):(e.consume(M),M===92?N:_)}function N(M){return M===40||M===41||M===92?(e.consume(M),_):_(M)}}var YD=L(()=>{"use strict";fi();a(Iw,"factoryDestination")});function Mw(e,t,r,n,i,s){let o=this,u=0,h;return p;function p(k){return e.enter(n),e.enter(i),e.consume(k),e.exit(i),e.enter(s),g}function g(k){return u>999||k===null||k===91||k===93&&!h||k===94&&!u&&"_hiddenFootnoteSupport"in o.parser.constructs?r(k):k===93?(e.exit(s),e.enter(i),e.consume(k),e.exit(i),e.exit(n),t):cr(k)?(e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),v(k))}function v(k){return k===null||k===91||k===93||cr(k)||u++>999?(e.exit("chunkString"),g(k)):(e.consume(k),h||(h=!en(k)),k===92?x:v)}function x(k){return k===91||k===92||k===93?(e.consume(k),u++,v):v(k)}}var XD=L(()=>{"use strict";fi();a(Mw,"factoryLabel")});function Nw(e,t,r,n,i,s){let o;return u;function u(x){return x===34||x===39||x===40?(e.enter(n),e.enter(i),e.consume(x),e.exit(i),o=x===40?41:x,h):r(x)}function h(x){return x===o?(e.enter(i),e.consume(x),e.exit(i),e.exit(n),t):(e.enter(s),p(x))}function p(x){return x===o?(e.exit(s),h(o)):x===null?r(x):cr(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),sn(e,p,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===o||x===null||cr(x)?(e.exit("chunkString"),p(x)):(e.consume(x),x===92?v:g)}function v(x){return x===o||x===92?(e.consume(x),g):g(x)}}var jD=L(()=>{"use strict";ds();fi();a(Nw,"factoryTitle")});function dp(e,t){let r;return n;function n(i){return cr(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):en(i)?sn(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}var KD=L(()=>{"use strict";ds();fi();a(dp,"factoryWhitespace")});function vPe(e,t,r){let n=this,i;return s;function s(k){return e.enter("definition"),o(k)}function o(k){return Mw.call(n,e,u,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(k)}function u(k){return i=of(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),k===58?(e.enter("definitionMarker"),e.consume(k),e.exit("definitionMarker"),h):r(k)}function h(k){return ka(k)?dp(e,p)(k):p(k)}function p(k){return Iw(e,g,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(k)}function g(k){return e.attempt(yPe,v,v)(k)}function v(k){return en(k)?sn(e,x,"whitespace")(k):x(k)}function x(k){return k===null||cr(k)?(e.exit("definition"),n.parser.defined.push(i),t(k)):r(k)}}function xPe(e,t,r){return n;function n(u){return ka(u)?dp(e,i)(u):r(u)}function i(u){return Nw(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return en(u)?sn(e,o,"whitespace")(u):o(u)}function o(u){return u===null||cr(u)?t(u):r(u)}}var QD,yPe,xne=L(()=>{"use strict";YD();XD();ds();jD();KD();fi();Ew();QD={name:"definition",tokenize:vPe},yPe={tokenize:xPe,partial:!0};a(vPe,"tokenizeDefinition");a(xPe,"tokenizeTitleBefore")});function bPe(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return cr(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}var ZD,bne=L(()=>{"use strict";fi();ZD={name:"hardBreakEscape",tokenize:bPe};a(bPe,"tokenizeHardBreakEscape")});function kPe(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Ps(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function wPe(e,t,r){let n=0;return i;function i(g){return e.enter("atxHeading"),s(g)}function s(g){return e.enter("atxHeadingSequence"),o(g)}function o(g){return g===35&&n++<6?(e.consume(g),o):g===null||ka(g)?(e.exit("atxHeadingSequence"),u(g)):r(g)}function u(g){return g===35?(e.enter("atxHeadingSequence"),h(g)):g===null||cr(g)?(e.exit("atxHeading"),t(g)):en(g)?sn(e,u,"whitespace")(g):(e.enter("atxHeadingText"),p(g))}function h(g){return g===35?(e.consume(g),h):(e.exit("atxHeadingSequence"),u(g))}function p(g){return g===null||g===35||ka(g)?(e.exit("atxHeadingText"),u(g)):(e.consume(g),p)}}var JD,kne=L(()=>{"use strict";ds();fi();Nd();JD={name:"headingAtx",tokenize:wPe,resolve:kPe};a(kPe,"resolveHeadingAtx");a(wPe,"tokenizeHeadingAtx")});var wne,eR,Tne=L(()=>{"use strict";wne=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],eR=["pre","script","style","textarea"]});function CPe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function SPe(e,t,r){let n=this,i,s,o,u,h;return p;function p(ae){return g(ae)}function g(ae){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(ae),v}function v(ae){return ae===33?(e.consume(ae),x):ae===47?(e.consume(ae),s=!0,_):ae===63?(e.consume(ae),i=3,n.interrupt?t:Y):Nl(ae)?(e.consume(ae),o=String.fromCharCode(ae),N):r(ae)}function x(ae){return ae===45?(e.consume(ae),i=2,k):ae===91?(e.consume(ae),i=5,u=0,E):Nl(ae)?(e.consume(ae),i=4,n.interrupt?t:Y):r(ae)}function k(ae){return ae===45?(e.consume(ae),n.interrupt?t:Y):r(ae)}function E(ae){let Ke="CDATA[";return ae===Ke.charCodeAt(u++)?(e.consume(ae),u===Ke.length?n.interrupt?t:X:E):r(ae)}function _(ae){return Nl(ae)?(e.consume(ae),o=String.fromCharCode(ae),N):r(ae)}function N(ae){if(ae===null||ae===47||ae===62||ka(ae)){let Ke=ae===47,Ie=o.toLowerCase();return!Ke&&!s&&eR.includes(Ie)?(i=1,n.interrupt?t(ae):X(ae)):wne.includes(o.toLowerCase())?(i=6,Ke?(e.consume(ae),M):n.interrupt?t(ae):X(ae)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(ae):s?P(ae):V(ae))}return ae===45||Eo(ae)?(e.consume(ae),o+=String.fromCharCode(ae),N):r(ae)}function M(ae){return ae===62?(e.consume(ae),n.interrupt?t:X):r(ae)}function P(ae){return en(ae)?(e.consume(ae),P):j(ae)}function V(ae){return ae===47?(e.consume(ae),j):ae===58||ae===95||Nl(ae)?(e.consume(ae),H):en(ae)?(e.consume(ae),V):j(ae)}function H(ae){return ae===45||ae===46||ae===58||ae===95||Eo(ae)?(e.consume(ae),H):O(ae)}function O(ae){return ae===61?(e.consume(ae),I):en(ae)?(e.consume(ae),O):V(ae)}function I(ae){return ae===null||ae===60||ae===61||ae===62||ae===96?r(ae):ae===34||ae===39?(e.consume(ae),h=ae,z):en(ae)?(e.consume(ae),I):G(ae)}function z(ae){return ae===h?(e.consume(ae),h=null,F):ae===null||cr(ae)?r(ae):(e.consume(ae),z)}function G(ae){return ae===null||ae===34||ae===39||ae===47||ae===60||ae===61||ae===62||ae===96||ka(ae)?O(ae):(e.consume(ae),G)}function F(ae){return ae===47||ae===62||en(ae)?V(ae):r(ae)}function j(ae){return ae===62?(e.consume(ae),D):r(ae)}function D(ae){return ae===null||cr(ae)?X(ae):en(ae)?(e.consume(ae),D):r(ae)}function X(ae){return ae===45&&i===2?(e.consume(ae),J):ae===60&&i===1?(e.consume(ae),ie):ae===62&&i===4?(e.consume(ae),ue):ae===63&&i===3?(e.consume(ae),Y):ae===93&&i===5?(e.consume(ae),Z):cr(ae)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(TPe,Ae,B)(ae)):ae===null||cr(ae)?(e.exit("htmlFlowData"),B(ae)):(e.consume(ae),X)}function B(ae){return e.check(EPe,Q,Ae)(ae)}function Q(ae){return e.enter("lineEnding"),e.consume(ae),e.exit("lineEnding"),le}function le(ae){return ae===null||cr(ae)?B(ae):(e.enter("htmlFlowData"),X(ae))}function J(ae){return ae===45?(e.consume(ae),Y):X(ae)}function ie(ae){return ae===47?(e.consume(ae),o="",re):X(ae)}function re(ae){if(ae===62){let Ke=o.toLowerCase();return eR.includes(Ke)?(e.consume(ae),ue):X(ae)}return Nl(ae)&&o.length<8?(e.consume(ae),o+=String.fromCharCode(ae),re):X(ae)}function Z(ae){return ae===93?(e.consume(ae),Y):X(ae)}function Y(ae){return ae===62?(e.consume(ae),ue):ae===45&&i===2?(e.consume(ae),Y):X(ae)}function ue(ae){return ae===null||cr(ae)?(e.exit("htmlFlowData"),Ae(ae)):(e.consume(ae),ue)}function Ae(ae){return e.exit("htmlFlow"),t(ae)}}function _Pe(e,t,r){let n=this;return i;function i(o){return cr(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):r(o)}function s(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}function APe(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Pd,t,r)}}var tR,TPe,EPe,Ene=L(()=>{"use strict";fi();Tne();Sw();tR={name:"htmlFlow",tokenize:SPe,resolveTo:CPe,concrete:!0},TPe={tokenize:APe,partial:!0},EPe={tokenize:_Pe,partial:!0};a(CPe,"resolveToHtmlFlow");a(SPe,"tokenizeHtmlFlow");a(_Pe,"tokenizeNonLazyContinuationStart");a(APe,"tokenizeBlankLineBefore")});function LPe(e,t,r){let n=this,i,s,o;return u;function u(Y){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(Y),h}function h(Y){return Y===33?(e.consume(Y),p):Y===47?(e.consume(Y),O):Y===63?(e.consume(Y),V):Nl(Y)?(e.consume(Y),G):r(Y)}function p(Y){return Y===45?(e.consume(Y),g):Y===91?(e.consume(Y),s=0,E):Nl(Y)?(e.consume(Y),P):r(Y)}function g(Y){return Y===45?(e.consume(Y),k):r(Y)}function v(Y){return Y===null?r(Y):Y===45?(e.consume(Y),x):cr(Y)?(o=v,ie(Y)):(e.consume(Y),v)}function x(Y){return Y===45?(e.consume(Y),k):v(Y)}function k(Y){return Y===62?J(Y):Y===45?x(Y):v(Y)}function E(Y){let ue="CDATA[";return Y===ue.charCodeAt(s++)?(e.consume(Y),s===ue.length?_:E):r(Y)}function _(Y){return Y===null?r(Y):Y===93?(e.consume(Y),N):cr(Y)?(o=_,ie(Y)):(e.consume(Y),_)}function N(Y){return Y===93?(e.consume(Y),M):_(Y)}function M(Y){return Y===62?J(Y):Y===93?(e.consume(Y),M):_(Y)}function P(Y){return Y===null||Y===62?J(Y):cr(Y)?(o=P,ie(Y)):(e.consume(Y),P)}function V(Y){return Y===null?r(Y):Y===63?(e.consume(Y),H):cr(Y)?(o=V,ie(Y)):(e.consume(Y),V)}function H(Y){return Y===62?J(Y):V(Y)}function O(Y){return Nl(Y)?(e.consume(Y),I):r(Y)}function I(Y){return Y===45||Eo(Y)?(e.consume(Y),I):z(Y)}function z(Y){return cr(Y)?(o=z,ie(Y)):en(Y)?(e.consume(Y),z):J(Y)}function G(Y){return Y===45||Eo(Y)?(e.consume(Y),G):Y===47||Y===62||ka(Y)?F(Y):r(Y)}function F(Y){return Y===47?(e.consume(Y),J):Y===58||Y===95||Nl(Y)?(e.consume(Y),j):cr(Y)?(o=F,ie(Y)):en(Y)?(e.consume(Y),F):J(Y)}function j(Y){return Y===45||Y===46||Y===58||Y===95||Eo(Y)?(e.consume(Y),j):D(Y)}function D(Y){return Y===61?(e.consume(Y),X):cr(Y)?(o=D,ie(Y)):en(Y)?(e.consume(Y),D):F(Y)}function X(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?r(Y):Y===34||Y===39?(e.consume(Y),i=Y,B):cr(Y)?(o=X,ie(Y)):en(Y)?(e.consume(Y),X):(e.consume(Y),Q)}function B(Y){return Y===i?(e.consume(Y),i=void 0,le):Y===null?r(Y):cr(Y)?(o=B,ie(Y)):(e.consume(Y),B)}function Q(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?r(Y):Y===47||Y===62||ka(Y)?F(Y):(e.consume(Y),Q)}function le(Y){return Y===47||Y===62||ka(Y)?F(Y):r(Y)}function J(Y){return Y===62?(e.consume(Y),e.exit("htmlTextData"),e.exit("htmlText"),t):r(Y)}function ie(Y){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),re}function re(Y){return en(Y)?sn(e,Z,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):Z(Y)}function Z(Y){return e.enter("htmlTextData"),o(Y)}}var rR,Cne=L(()=>{"use strict";ds();fi();rR={name:"htmlText",tokenize:LPe};a(LPe,"tokenizeHtmlText")});function MPe(e){let t=-1;for(;++t<e.length;){let r=e[t][1];(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(e.splice(t+1,r.type==="labelImage"?4:2),r.type="data",t++)}return e}function NPe(e,t){let r=e.length,n=0,i,s,o,u;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=r);let h={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},p={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},g={type:"labelText",start:Object.assign({},e[s+n+2][1].end),end:Object.assign({},e[o-2][1].start)};return u=[["enter",h,t],["enter",p,t]],u=To(u,e.slice(s+1,s+n+3)),u=To(u,[["enter",g,t]]),u=To(u,f1(t.parser.constructs.insideSpan.null,e.slice(s+n+4,o-3),t)),u=To(u,[["exit",g,t],e[o-2],e[o-1],["exit",p,t]]),u=To(u,e.slice(o+1)),u=To(u,[["exit",h,t]]),Ps(e,s,e.length,u),e}function OPe(e,t,r){let n=this,i=n.events.length,s,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return u;function u(x){return s?s._inactive?v(x):(o=n.parser.defined.includes(of(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),h):r(x)}function h(x){return x===40?e.attempt(DPe,g,o?g:v)(x):x===91?e.attempt(RPe,g,o?p:v)(x):o?g(x):v(x)}function p(x){return e.attempt(IPe,g,v)(x)}function g(x){return t(x)}function v(x){return s._balanced=!0,r(x)}}function PPe(e,t,r){return n;function n(v){return e.enter("resource"),e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),i}function i(v){return ka(v)?dp(e,s)(v):s(v)}function s(v){return v===41?g(v):Iw(e,o,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function o(v){return ka(v)?dp(e,h)(v):g(v)}function u(v){return r(v)}function h(v){return v===34||v===39||v===40?Nw(e,p,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):g(v)}function p(v){return ka(v)?dp(e,g)(v):g(v)}function g(v){return v===41?(e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),e.exit("resource"),t):r(v)}}function BPe(e,t,r){let n=this;return i;function i(u){return Mw.call(n,e,s,o,"reference","referenceMarker","referenceString")(u)}function s(u){return n.parser.defined.includes(of(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(u):r(u)}function o(u){return r(u)}}function FPe(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}var pp,DPe,RPe,IPe,Ow=L(()=>{"use strict";YD();XD();jD();KD();fi();Nd();Ew();Cw();pp={name:"labelEnd",tokenize:OPe,resolveTo:NPe,resolveAll:MPe},DPe={tokenize:PPe},RPe={tokenize:BPe},IPe={tokenize:FPe};a(MPe,"resolveAllLabelEnd");a(NPe,"resolveToLabelEnd");a(OPe,"tokenizeLabelEnd");a(PPe,"tokenizeResource");a(BPe,"tokenizeReferenceFull");a(FPe,"tokenizeReferenceCollapsed")});function zPe(e,t,r){let n=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),s}function s(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),o):r(u)}function o(u){return u===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(u):t(u)}}var nR,Sne=L(()=>{"use strict";Ow();nR={name:"labelStartImage",tokenize:zPe,resolveAll:pp.resolveAll};a(zPe,"tokenizeLabelStartImage")});function $Pe(e,t,r){let n=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}var iR,_ne=L(()=>{"use strict";Ow();iR={name:"labelStartLink",tokenize:$Pe,resolveAll:pp.resolveAll};a($Pe,"tokenizeLabelStartLink")});function GPe(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),sn(e,t,"linePrefix")}}var Z2,Ane=L(()=>{"use strict";ds();Z2={name:"lineEnding",tokenize:GPe};a(GPe,"tokenizeLineEnding")});function VPe(e,t,r){let n=0,i;return s;function s(p){return e.enter("thematicBreak"),o(p)}function o(p){return i=p,u(p)}function u(p){return p===i?(e.enter("thematicBreakSequence"),h(p)):n>=3&&(p===null||cr(p))?(e.exit("thematicBreak"),t(p)):r(p)}function h(p){return p===i?(e.consume(p),n++,h):(e.exit("thematicBreakSequence"),en(p)?sn(e,u,"whitespace")(p):u(p))}}var mp,aR=L(()=>{"use strict";ds();fi();mp={name:"thematicBreak",tokenize:VPe};a(VPe,"tokenizeThematicBreak")});function HPe(e,t,r){let n=this,i=n.events[n.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return u;function u(k){let E=n.containerState.type||(k===42||k===43||k===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!n.containerState.marker||k===n.containerState.marker:j2(k)){if(n.containerState.type||(n.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),k===42||k===45?e.check(mp,r,p)(k):p(k);if(!n.interrupt||k===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(k)}return r(k)}function h(k){return j2(k)&&++o<10?(e.consume(k),h):(!n.interrupt||o<2)&&(n.containerState.marker?k===n.containerState.marker:k===41||k===46)?(e.exit("listItemValue"),p(k)):r(k)}function p(k){return e.enter("listItemMarker"),e.consume(k),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||k,e.check(Pd,n.interrupt?r:g,e.attempt(qPe,x,v))}function g(k){return n.containerState.initialBlankLine=!0,s++,x(k)}function v(k){return en(k)?(e.enter("listItemPrefixWhitespace"),e.consume(k),e.exit("listItemPrefixWhitespace"),x):r(k)}function x(k){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(k)}}function WPe(e,t,r){let n=this;return n.containerState._closeFlow=void 0,e.check(Pd,i,s);function i(u){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,sn(e,t,"listItemIndent",n.containerState.size+1)(u)}a(i,"onBlank");function s(u){return n.containerState.furtherBlankLines||!en(u)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(u)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(UPe,t,o)(u))}a(s,"notBlank");function o(u){return n.containerState._closeFlow=!0,n.interrupt=void 0,sn(e,e.attempt(io,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}a(o,"notInCurrentItem")}function YPe(e,t,r){let n=this;return sn(e,i,"listItemIndent",n.containerState.size+1);function i(s){let o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(s):r(s)}}function XPe(e){e.exit(this.containerState.type)}function jPe(e,t,r){let n=this;return sn(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){let o=n.events[n.events.length-1];return!en(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}var io,qPe,UPe,Lne=L(()=>{"use strict";ds();fi();Sw();aR();io={name:"list",tokenize:HPe,continuation:{tokenize:WPe},exit:XPe},qPe={tokenize:jPe,partial:!0},UPe={tokenize:YPe,partial:!0};a(HPe,"tokenizeListStart");a(WPe,"tokenizeListContinuation");a(YPe,"tokenizeIndent");a(XPe,"tokenizeListEnd");a(jPe,"tokenizeListItemPrefixWhitespace")});function KPe(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);let o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[s][1].end)):e[n][1]=o,e.push(["exit",o,t]),e}function QPe(e,t,r){let n=this,i;return s;function s(p){let g=n.events.length,v;for(;g--;)if(n.events[g][1].type!=="lineEnding"&&n.events[g][1].type!=="linePrefix"&&n.events[g][1].type!=="content"){v=n.events[g][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||v)?(e.enter("setextHeadingLine"),i=p,o(p)):r(p)}function o(p){return e.enter("setextHeadingLineSequence"),u(p)}function u(p){return p===i?(e.consume(p),u):(e.exit("setextHeadingLineSequence"),en(p)?sn(e,h,"lineSuffix")(p):h(p))}function h(p){return p===null||cr(p)?(e.exit("setextHeadingLine"),t(p)):r(p)}}var Pw,Dne=L(()=>{"use strict";ds();fi();Pw={name:"setextUnderline",tokenize:QPe,resolveTo:KPe};a(KPe,"resolveToSetextUnderline");a(QPe,"tokenizeSetextUnderline")});var sR=L(()=>{"use strict";une();cne();Sw();hne();fne();dne();mne();gne();yne();vne();xne();bne();kne();Ene();Cne();Ow();Sne();_ne();Ane();Lne();Dne();aR()});function ZPe(e){let t=this,r=e.attempt(Pd,n,e.attempt(this.parser.constructs.flowInitial,i,sn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(WD,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}var Rne,Ine=L(()=>{"use strict";sR();ds();Rne={tokenize:ZPe};a(ZPe,"initializeFlow")});function Pne(e){return{tokenize:t,resolveAll:Bne(e==="text"?JPe:void 0)};function t(r){let n=this,i=this.parser.constructs[e],s=r.attempt(i,o,u);return o;function o(g){return p(g)?s(g):u(g)}function u(g){if(g===null){r.consume(g);return}return r.enter("data"),r.consume(g),h}function h(g){return p(g)?(r.exit("data"),s(g)):(r.consume(g),h)}function p(g){if(g===null)return!0;let v=i[g],x=-1;if(v)for(;++x<v.length;){let k=v[x];if(!k.previous||k.previous.call(n,n.previous))return!0}return!1}}}function Bne(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function JPe(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){let n=e[r-1][1],i=t.sliceStream(n),s=i.length,o=-1,u=0,h;for(;s--;){let p=i[s];if(typeof p=="string"){for(o=p.length;p.charCodeAt(o-1)===32;)u++,o--;if(o)break;o=-1}else if(p===-2)h=!0,u++;else if(p!==-1){s++;break}}if(u){let p={type:r===e.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-u,offset:n.end.offset-u,_index:n.start._index+s,_bufferIndex:s?o:n.start._bufferIndex+o},end:Object.assign({},n.end)};n.end=Object.assign({},p.start),n.start.offset===n.end.offset?Object.assign(n,p):(e.splice(r,0,["enter",p,t],["exit",p,t]),r+=2)}r++}return e}var Mne,Nne,One,oR=L(()=>{"use strict";Mne={resolveAll:Bne()},Nne=Pne("string"),One=Pne("text");a(Pne,"initializeFactory");a(Bne,"createResolver");a(JPe,"resolveAllLineSuffixes")});function Fne(e,t,r){let n=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},s=[],o=[],u=[],h=!0,p={consume:H,enter:O,exit:I,attempt:F(z),check:F(G),interrupt:F(G,{interrupt:!0})},g={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:_,sliceSerialize:E,now:N,defineSkip:M,write:k},v=t.tokenize.call(g,p),x;return t.resolveAll&&s.push(t),g;function k(B){return o=To(o,B),P(),o[o.length-1]!==null?[]:(j(t,0),g.events=f1(s,g.events,g),g.events)}a(k,"write");function E(B,Q){return tBe(_(B),Q)}a(E,"sliceSerialize");function _(B){return eBe(o,B)}a(_,"sliceStream");function N(){let{line:B,column:Q,offset:le,_index:J,_bufferIndex:ie}=n;return{line:B,column:Q,offset:le,_index:J,_bufferIndex:ie}}a(N,"now");function M(B){i[B.line]=B.column,X()}a(M,"defineSkip");function P(){let B;for(;n._index<o.length;){let Q=o[n._index];if(typeof Q=="string")for(B=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===B&&n._bufferIndex<Q.length;)V(Q.charCodeAt(n._bufferIndex));else V(Q)}}a(P,"main");function V(B){h=void 0,x=B,v=v(B)}a(V,"go");function H(B){cr(B)?(n.line++,n.column=1,n.offset+=B===-3?2:1,X()):B!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),g.previous=B,h=!0}a(H,"consume");function O(B,Q){let le=Q||{};return le.type=B,le.start=N(),g.events.push(["enter",le,g]),u.push(le),le}a(O,"enter");function I(B){let Q=u.pop();return Q.end=N(),g.events.push(["exit",Q,g]),Q}a(I,"exit");function z(B,Q){j(B,Q.from)}a(z,"onsuccessfulconstruct");function G(B,Q){Q.restore()}a(G,"onsuccessfulcheck");function F(B,Q){return le;function le(J,ie,re){let Z,Y,ue,Ae;return Array.isArray(J)?Ke(J):"tokenize"in J?Ke([J]):ae(J);function ae(He){return Ne;function Ne(_e){let Me=_e!==null&&He[_e],Ee=_e!==null&&He.null,Oe=[...Array.isArray(Me)?Me:Me?[Me]:[],...Array.isArray(Ee)?Ee:Ee?[Ee]:[]];return Ke(Oe)(_e)}}function Ke(He){return Z=He,Y=0,He.length===0?re:Ie(He[Y])}function Ie(He){return Ne;function Ne(_e){return Ae=D(),ue=He,He.partial||(g.currentConstruct=He),He.name&&g.parser.constructs.disable.null.includes(He.name)?Xe(_e):He.tokenize.call(Q?Object.assign(Object.create(g),Q):g,p,$e,Xe)(_e)}}function $e(He){return h=!0,B(ue,Ae),ie}function Xe(He){return h=!0,Ae.restore(),++Y<Z.length?Ie(Z[Y]):re}}}a(F,"constructFactory");function j(B,Q){B.resolveAll&&!s.includes(B)&&s.push(B),B.resolve&&Ps(g.events,Q,g.events.length-Q,B.resolve(g.events.slice(Q),g)),B.resolveTo&&(g.events=B.resolveTo(g.events,g))}a(j,"addResult");function D(){let B=N(),Q=g.previous,le=g.currentConstruct,J=g.events.length,ie=Array.from(u);return{restore:re,from:J};function re(){n=B,g.previous=Q,g.currentConstruct=le,g.events.length=J,u=ie,X()}}a(D,"store");function X(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}a(X,"accountForPotentialSkip")}function eBe(e,t){let r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex,o;if(r===i)o=[e[r].slice(n,s)];else{if(o=e.slice(r,i),n>-1){let u=o[0];typeof u=="string"?o[0]=u.slice(n):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function tBe(e,t){let r=-1,n=[],i;for(;++r<e.length;){let s=e[r],o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,n.push(o)}return n.join("")}var zne=L(()=>{"use strict";fi();Nd();Cw();a(Fne,"createTokenizer");a(eBe,"sliceChunks");a(tBe,"serializeChunks")});var lR={};Hr(lR,{attentionMarkers:()=>uBe,contentInitial:()=>nBe,disable:()=>cBe,document:()=>rBe,flow:()=>aBe,flowInitial:()=>iBe,insideSpan:()=>lBe,string:()=>sBe,text:()=>oBe});var rBe,nBe,iBe,aBe,sBe,oBe,lBe,uBe,cBe,$ne=L(()=>{"use strict";sR();oR();rBe={42:io,43:io,45:io,48:io,49:io,50:io,51:io,52:io,53:io,54:io,55:io,56:io,57:io,62:_w},nBe={91:QD},iBe={[-2]:Q2,[-1]:Q2,32:Q2},aBe={35:JD,42:mp,45:[Pw,mp],60:tR,61:Pw,95:mp,96:Dw,126:Dw},sBe={38:Lw,92:Aw},oBe={[-5]:Z2,[-4]:Z2,[-3]:Z2,33:nR,38:Lw,42:K2,60:[qD,rR],91:iR,92:[ZD,Aw],93:pp,95:K2,96:UD},lBe={null:[K2,Mne]},uBe={null:[42,95]},cBe={null:[]}});function uR(e){let r=jre([lR,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:r,content:i(rne),document:i(ane),flow:i(Rne),string:i(Nne),text:i(One)};return n;function i(s){return o;function o(u){return Fne(n,s,u)}}}var Gne=L(()=>{"use strict";Kre();nne();sne();Ine();oR();zne();$ne();a(uR,"parse")});function cR(e){for(;!Rw(e););return e}var Vne=L(()=>{"use strict";HD();a(cR,"postprocess")});function hR(){let e=1,t="",r=!0,n;return i;function i(s,o,u){let h=[],p,g,v,x,k;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),v=0,t="",r&&(s.charCodeAt(0)===65279&&v++,r=void 0);v<s.length;){if(qne.lastIndex=v,p=qne.exec(s),x=p&&p.index!==void 0?p.index:s.length,k=s.charCodeAt(x),!p){t=s.slice(v);break}if(k===10&&v===x&&n)h.push(-3),n=void 0;else switch(n&&(h.push(-5),n=void 0),v<x&&(h.push(s.slice(v,x)),e+=x-v),k){case 0:{h.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,h.push(-2);e++<g;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:n=!0,e=1}v=x+1}return u&&(n&&h.push(-5),t&&h.push(t),h.push(null)),h}}var qne,Une=L(()=>{"use strict";qne=/[\0\t\n\r]/g;a(hR,"preprocess")});var Hne=L(()=>{"use strict";Gne();Vne();Une()});function Wne(e){return e.replace(hBe,fBe)}function fBe(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){let i=r.charCodeAt(1),s=i===120||i===88;return Tw(r.slice(s?2:1),s?16:10)}return h1(r)||e}var hBe,Yne=L(()=>{"use strict";ww();GD();hBe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;a(Wne,"decodeString");a(fBe,"decode")});function d1(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Xne(e.position):"start"in e||"end"in e?Xne(e):"line"in e||"column"in e?fR(e):""}function fR(e){return jne(e&&e.line)+":"+jne(e&&e.column)}function Xne(e){return fR(e&&e.start)+"-"+fR(e&&e.end)}function jne(e){return e&&typeof e=="number"?e:1}var Kne=L(()=>{"use strict";a(d1,"stringifyPosition");a(fR,"point");a(Xne,"position");a(jne,"index")});var Qne=L(()=>{"use strict";Kne()});function Bw(e,t,r){return typeof t!="string"&&(r=t,t=void 0),dBe(r)(cR(uR(r).document().write(hR()(e,t,!0))))}function dBe(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(gt),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(at),blockQuote:s(Ne),characterEscape:F,characterReference:F,codeFenced:s(_e),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(_e,o),codeText:s(Me,o),codeTextData:F,data:F,codeFlowValue:F,definition:s(Ee),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Oe),hardBreakEscape:s(pe),hardBreakTrailing:s(pe),htmlFlow:s(Bt,o),htmlFlowData:F,htmlText:s(Bt,o),htmlTextData:F,image:s(Pe),label:o,link:s(gt),listItem:s(Nt),listItemValue:x,listOrdered:s(mt,v),listUnordered:s(mt),paragraph:s(Ut),reference:ae,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(at),strong:s(Gt),thematicBreak:s(st)},exit:{atxHeading:h(),atxHeadingSequence:O,autolink:h(),autolinkEmail:He,autolinkProtocol:Xe,blockQuote:h(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:$e,codeFenced:h(N),codeFencedFence:_,codeFencedFenceInfo:k,codeFencedFenceMeta:E,codeFlowValue:j,codeIndented:h(M),codeText:h(le),codeTextData:j,data:j,definition:h(),definitionDestinationString:H,definitionLabelString:P,definitionTitleString:V,emphasis:h(),hardBreakEscape:h(X),hardBreakTrailing:h(X),htmlFlow:h(B),htmlFlowData:j,htmlText:h(Q),htmlTextData:j,image:h(ie),label:Z,labelText:re,lineEnding:D,link:h(J),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Ke,resourceDestinationString:Y,resourceTitleString:ue,resource:Ae,setextHeading:h(G),setextHeadingLineSequence:z,setextHeadingText:I,strong:h(),thematicBreak:h()}};eie(t,(e||{}).mdastExtensions||[]);let r={};return n;function n(De){let Ge={type:"root",children:[]},Ye={stack:[Ge],tokenStack:[],config:t,enter:u,exit:p,buffer:o,resume:g,data:r},Le=[],je=-1;for(;++je<De.length;)if(De[je][1].type==="listOrdered"||De[je][1].type==="listUnordered")if(De[je][0]==="enter")Le.push(je);else{let Je=Le.pop();je=i(De,Je,je)}for(je=-1;++je<De.length;){let Je=t[De[je][0]];Jne.call(Je,De[je][1].type)&&Je[De[je][1].type].call(Object.assign({sliceSerialize:De[je][2].sliceSerialize},Ye),De[je][1])}if(Ye.tokenStack.length>0){let Je=Ye.tokenStack[Ye.tokenStack.length-1];(Je[1]||Zne).call(Ye,void 0,Je[0])}for(Ge.position={start:Bd(De.length>0?De[0][1].start:{line:1,column:1,offset:0}),end:Bd(De.length>0?De[De.length-2][1].end:{line:1,column:1,offset:0})},je=-1;++je<t.transforms.length;)Ge=t.transforms[je](Ge)||Ge;return Ge}function i(De,Ge,Ye){let Le=Ge-1,je=-1,Je=!1,ct,Br,qt,Yt;for(;++Le<=Ye;){let Jt=De[Le];switch(Jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Jt[0]==="enter"?je++:je--,Yt=void 0;break}case"lineEndingBlank":{Jt[0]==="enter"&&(ct&&!Yt&&!je&&!qt&&(qt=Le),Yt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Yt=void 0}if(!je&&Jt[0]==="enter"&&Jt[1].type==="listItemPrefix"||je===-1&&Jt[0]==="exit"&&(Jt[1].type==="listUnordered"||Jt[1].type==="listOrdered")){if(ct){let rr=Le;for(Br=void 0;rr--;){let Ht=De[rr];if(Ht[1].type==="lineEnding"||Ht[1].type==="lineEndingBlank"){if(Ht[0]==="exit")continue;Br&&(De[Br][1].type="lineEndingBlank",Je=!0),Ht[1].type="lineEnding",Br=rr}else if(!(Ht[1].type==="linePrefix"||Ht[1].type==="blockQuotePrefix"||Ht[1].type==="blockQuotePrefixWhitespace"||Ht[1].type==="blockQuoteMarker"||Ht[1].type==="listItemIndent"))break}qt&&(!Br||qt<Br)&&(ct._spread=!0),ct.end=Object.assign({},Br?De[Br][1].start:Jt[1].end),De.splice(Br||Le,0,["exit",ct,Jt[2]]),Le++,Ye++}if(Jt[1].type==="listItemPrefix"){let rr={type:"listItem",_spread:!1,start:Object.assign({},Jt[1].start),end:void 0};ct=rr,De.splice(Le,0,["enter",rr,Jt[2]]),Le++,Ye++,qt=void 0,Yt=!0}}}return De[Ge][1]._spread=Je,Ye}function s(De,Ge){return Ye;function Ye(Le){u.call(this,De(Le),Le),Ge&&Ge.call(this,Le)}}function o(){this.stack.push({type:"fragment",children:[]})}function u(De,Ge,Ye){this.stack[this.stack.length-1].children.push(De),this.stack.push(De),this.tokenStack.push([Ge,Ye]),De.position={start:Bd(Ge.start),end:void 0}}function h(De){return Ge;function Ge(Ye){De&&De.call(this,Ye),p.call(this,Ye)}}function p(De,Ge){let Ye=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==De.type&&(Ge?Ge.call(this,De,Le[0]):(Le[1]||Zne).call(this,De,Le[0]));else throw new Error("Cannot close `"+De.type+"` ("+d1({start:De.start,end:De.end})+"): it\u2019s not open");Ye.position.end=Bd(De.end)}function g(){return $D(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function x(De){if(this.data.expectingFirstListItemValue){let Ge=this.stack[this.stack.length-2];Ge.start=Number.parseInt(this.sliceSerialize(De),10),this.data.expectingFirstListItemValue=void 0}}function k(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.lang=De}function E(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.meta=De}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.value=De.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function M(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.value=De.replace(/(\r?\n|\r)$/g,"")}function P(De){let Ge=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=Ge,Ye.identifier=of(this.sliceSerialize(De)).toLowerCase()}function V(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.title=De}function H(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.url=De}function O(De){let Ge=this.stack[this.stack.length-1];if(!Ge.depth){let Ye=this.sliceSerialize(De).length;Ge.depth=Ye}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function z(De){let Ge=this.stack[this.stack.length-1];Ge.depth=this.sliceSerialize(De).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function F(De){let Ye=this.stack[this.stack.length-1].children,Le=Ye[Ye.length-1];(!Le||Le.type!=="text")&&(Le=Lt(),Le.position={start:Bd(De.start),end:void 0},Ye.push(Le)),this.stack.push(Le)}function j(De){let Ge=this.stack.pop();Ge.value+=this.sliceSerialize(De),Ge.position.end=Bd(De.end)}function D(De){let Ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){let Ye=Ge.children[Ge.children.length-1];Ye.position.end=Bd(De.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ge.type)&&(F.call(this,De),j.call(this,De))}function X(){this.data.atHardBreak=!0}function B(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.value=De}function Q(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.value=De}function le(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.value=De}function J(){let De=this.stack[this.stack.length-1];if(this.data.inReference){let Ge=this.data.referenceType||"shortcut";De.type+="Reference",De.referenceType=Ge,delete De.url,delete De.title}else delete De.identifier,delete De.label;this.data.referenceType=void 0}function ie(){let De=this.stack[this.stack.length-1];if(this.data.inReference){let Ge=this.data.referenceType||"shortcut";De.type+="Reference",De.referenceType=Ge,delete De.url,delete De.title}else delete De.identifier,delete De.label;this.data.referenceType=void 0}function re(De){let Ge=this.sliceSerialize(De),Ye=this.stack[this.stack.length-2];Ye.label=Wne(Ge),Ye.identifier=of(Ge).toLowerCase()}function Z(){let De=this.stack[this.stack.length-1],Ge=this.resume(),Ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ye.type==="link"){let Le=De.children;Ye.children=Le}else Ye.alt=Ge}function Y(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.url=De}function ue(){let De=this.resume(),Ge=this.stack[this.stack.length-1];Ge.title=De}function Ae(){this.data.inReference=void 0}function ae(){this.data.referenceType="collapsed"}function Ke(De){let Ge=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=Ge,Ye.identifier=of(this.sliceSerialize(De)).toLowerCase(),this.data.referenceType="full"}function Ie(De){this.data.characterReferenceType=De.type}function $e(De){let Ge=this.sliceSerialize(De),Ye=this.data.characterReferenceType,Le;Ye?(Le=Tw(Ge,Ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=h1(Ge);let je=this.stack.pop();je.value+=Le,je.position.end=Bd(De.end)}function Xe(De){j.call(this,De);let Ge=this.stack[this.stack.length-1];Ge.url=this.sliceSerialize(De)}function He(De){j.call(this,De);let Ge=this.stack[this.stack.length-1];Ge.url="mailto:"+this.sliceSerialize(De)}function Ne(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function Me(){return{type:"inlineCode",value:""}}function Ee(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oe(){return{type:"emphasis",children:[]}}function at(){return{type:"heading",depth:0,children:[]}}function pe(){return{type:"break"}}function Bt(){return{type:"html",value:""}}function Pe(){return{type:"image",title:null,url:"",alt:null}}function gt(){return{type:"link",title:null,url:"",children:[]}}function mt(De){return{type:"list",ordered:De.type==="listOrdered",start:null,spread:De._spread,children:[]}}function Nt(De){return{type:"listItem",spread:De._spread,checked:null,children:[]}}function Ut(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function Lt(){return{type:"text",value:""}}function st(){return{type:"thematicBreak"}}}function Bd(e){return{line:e.line,column:e.column,offset:e.offset}}function eie(e,t){let r=-1;for(;++r<t.length;){let n=t[r];Array.isArray(n)?eie(e,n):pBe(e,n)}}function pBe(e,t){let r;for(r in t)if(Jne.call(t,r))switch(r){case"canContainEols":{let n=t[r];n&&e[r].push(...n);break}case"transforms":{let n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{let n=t[r];n&&Object.assign(e[r],n);break}}}function Zne(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+d1({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+d1({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+d1({start:t.start,end:t.end})+") is still open")}var Jne,tie=L(()=>{"use strict";Wre();Hne();GD();Yne();Ew();ww();Qne();Jne={}.hasOwnProperty;a(Bw,"fromMarkdown");a(dBe,"compiler");a(Bd,"point");a(eie,"configure");a(pBe,"extension");a(Zne,"defaultOnError")});var rie=L(()=>{"use strict";tie()});function mBe(e,{markdownAutoWrap:t}){let r=e.replace(/\n{2,}/g,`
`),n=o3(r);return t===!1?n.replace(/ /g,"&nbsp;"):n}function nie(e,t={}){let r=mBe(e,t),{children:n}=Bw(r),i=[[]],s=0;function o(u,h="normal"){u.type==="text"?u.value.split(`
`).forEach((g,v)=>{v!==0&&(s++,i.push([])),g.split(" ").forEach(x=>{x&&i[s].push({content:x,type:h})})}):(u.type==="strong"||u.type==="emphasis")&&u.children.forEach(p=>{o(p,u.type)})}return a(o,"processNode"),n.forEach(u=>{u.type==="paragraph"&&u.children.forEach(h=>{o(h)})}),i}function iie(e,{markdownAutoWrap:t}={}){let{children:r}=Bw(e);function n(i){return i.type==="text"?t===!1?i.value.replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;"):i.value.replace(/\n/g,"<br/>"):i.type==="strong"?`<strong>${i.children.map(n).join("")}</strong>`:i.type==="emphasis"?`<em>${i.children.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${i.children.map(n).join("")}</p>`:`Unsupported markdown: ${i.type}`}return a(n,"output"),r.map(n).join("")}var aie=L(()=>{"use strict";rie();$C();a(mBe,"preprocessMarkdown");a(nie,"markdownToLines");a(iie,"markdownToHTML")});function gBe(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}function yBe(e,t){let r=gBe(t.content);return sie(e,[],r,t.type)}function sie(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];let[i,...s]=r,o=[...t,i];return e([{content:o.join(""),type:n}])?sie(e,o,s,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}function oie(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return dR(e,t)}function dR(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());let s=e.shift()??{content:" ",type:"normal"},o=[...n];if(i!==""&&o.push({content:i,type:"normal"}),o.push(s),t(o))return dR(e,t,r,o);if(n.length>0)r.push(n),e.unshift(s);else if(s.content){let[u,h]=yBe(t,s);r.push([u]),h.content&&e.unshift(h)}return dR(e,t,r)}var lie=L(()=>{"use strict";a(gBe,"splitTextToChars");a(yBe,"splitWordToFitWidth");a(sie,"splitWordToFitWidthRecursion");a(oie,"splitLineToFitWidth");a(dR,"splitLineToFitWidthRecursion")});function vBe(e,t){t&&e.attr("style",t)}function xBe(e,t,r,n,i=!1){let s=e.append("foreignObject"),o=s.append("xhtml:div"),u=t.label,h=t.isNode?"nodeLabel":"edgeLabel";o.html(`<span class="${h} ${n}" `+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+u+"</span>"),vBe(o,t.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("max-width",r+"px"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let p=o.node().getBoundingClientRect();return p.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),p=o.node().getBoundingClientRect()),s.style("width",p.width),s.style("height",p.height),s.node()}function pR(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function bBe(e,t,r){let n=e.append("text"),i=pR(n,1,t);mR(i,r);let s=i.node().getComputedTextLength();return n.remove(),s}function uie(e,t,r){let n=e.append("text"),i=pR(n,1,t);mR(i,[{content:r,type:"normal"}]);let s=i.node()?.getBoundingClientRect();return s&&n.remove(),s}function kBe(e,t,r,n=!1){let s=t.append("g"),o=s.insert("rect").attr("class","background"),u=s.append("text").attr("y","-10.1"),h=0;for(let p of r){let g=a(x=>bBe(s,1.1,x)<=e,"checkWidth"),v=g(p)?[p]:oie(p,g);for(let x of v){let k=pR(u,h,1.1);mR(k,x),h++}}if(n){let p=u.node().getBBox(),g=2;return o.attr("x",-g).attr("y",-g).attr("width",p.width+2*g).attr("height",p.height+2*g),s.node()}else return u.node()}function mR(e,t){e.text(""),t.forEach((r,n)=>{let i=e.append("tspan").attr("font-style",r.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}function p1(e){return e.replace(/fa[bklrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`)}var Fd,zd=L(()=>{"use strict";ar();aie();kn();lie();a(vBe,"applyStyle");a(xBe,"addHtmlSpan");a(pR,"createTspan");a(bBe,"computeWidthOfText");a(uie,"computeDimensionOfText");a(kBe,"createFormattedText");a(mR,"updateTextContentAndStyles");a(p1,"replaceIconSubstring");Fd=a((e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:s=!0,isNode:o=!0,width:u=200,addSvgBackground:h=!1}={},p)=>{if(ce.info("createText",t,r,n,i,s,o,h),s){let g=iie(t,p),v=p1(Zh(g)),x={isNode:o,label:v,labelStyle:r.replace("fill:","color:")};return xBe(e,x,u,i,h)}else{let g=nie(t,p);return kBe(u,e,g,h)}},"createText")});var cie,wBe,hie,fie,TBe,EBe,die,pie=L(()=>{"use strict";Ua();Wr();Vr();Lre();Ml();hw();ar();Ln();kn();si();Vre();zd();cie={},wBe=a(function(e){let t=Object.keys(e);for(let r of t)cie[r]=e[r]},"setConf"),hie=a(async function(e,t,r,n,i,s){let o=n?n.select(`[id="${r}"]`):ut(`[id="${r}"]`),u=i||document,h=Object.keys(e);for(let p of h){let g=e[p],v="default";g.classes.length>0&&(v=g.classes.join(" "));let x=Jo(g.styles),k=g.text!==void 0?g.text:g.id,E;if(yi(we().flowchart.htmlLabels)){let M=p1(k),P={label:await qc(M,we())};E=u1(o,P).node(),E.parentNode.removeChild(E)}else{let M=u.createElementNS("http://www.w3.org/2000/svg","text");M.setAttribute("style",x.labelStyle.replace("color:","fill:"));let P=k.split(Ct.lineBreakRegex);for(let V of P){let H=u.createElementNS("http://www.w3.org/2000/svg","tspan");H.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),H.setAttribute("dy","1em"),H.setAttribute("x","1"),H.textContent=V,M.appendChild(H)}E=M}let _=0,N="";switch(g.type){case"round":_=5,N="rect";break;case"square":N="rect";break;case"diamond":N="question";break;case"hexagon":N="hexagon";break;case"odd":N="rect_left_inv_arrow";break;case"lean_right":N="lean_right";break;case"lean_left":N="lean_left";break;case"trapezoid":N="trapezoid";break;case"inv_trapezoid":N="inv_trapezoid";break;case"odd_right":N="rect_left_inv_arrow";break;case"circle":N="circle";break;case"ellipse":N="ellipse";break;case"stadium":N="stadium";break;case"subroutine":N="subroutine";break;case"cylinder":N="cylinder";break;case"group":N="rect";break;default:N="rect"}ce.warn("Adding node",g.id,g.domId),t.setNode(s.db.lookUpDomId(g.id),{labelType:"svg",labelStyle:x.labelStyle,shape:N,label:E,rx:_,ry:_,class:v,style:x.style,id:s.db.lookUpDomId(g.id)})}},"addVertices"),fie=a(async function(e,t,r){let n=0,i,s;if(e.defaultStyle!==void 0){let o=Jo(e.defaultStyle);i=o.style,s=o.labelStyle}for(let o of e){n++;let u=Jh(o.start,o.end,{counter:n,prefix:"L"}),h="LS-"+o.start,p="LE-"+o.end,g={};o.type==="arrow_open"?g.arrowhead="none":g.arrowhead="normal";let v="",x="";if(o.style!==void 0){let k=Jo(o.style);v=k.style,x=k.labelStyle}else switch(o.stroke){case"normal":v="fill:none",i!==void 0&&(v=i),s!==void 0&&(x=s);break;case"dotted":v="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":v=" stroke-width: 3.5px;fill:none";break}g.style=v,g.labelStyle=x,o.interpolate!==void 0?g.curve=hu(o.interpolate,$a):e.defaultInterpolate!==void 0?g.curve=hu(e.defaultInterpolate,$a):g.curve=hu(cie.curve,$a),o.text===void 0?o.style!==void 0&&(g.arrowheadStyle="fill: #333"):(g.arrowheadStyle="fill: #333",g.labelpos="c",yi(we().flowchart.htmlLabels)?(g.labelType="html",g.label=`<span id="L-${u}" class="edgeLabel L-${h}' L-${p}" style="${g.labelStyle}">${await qc(p1(o.text),we())}</span>`):(g.labelType="text",g.label=o.text.replace(Ct.lineBreakRegex,`
`),o.style===void 0&&(g.style=g.style||"stroke: #333; stroke-width: 1.5px;fill:none"),g.labelStyle=g.labelStyle.replace("color:","fill:"))),g.id=u,g.class=h+" "+p,g.minlen=o.length||1,t.setEdge(r.db.lookUpDomId(o.start),r.db.lookUpDomId(o.end),g,n)}},"addEdges"),TBe=a(function(e,t){return ce.info("Extracting classes"),t.db.getClasses()},"getClasses"),EBe=a(async function(e,t,r,n){ce.info("Drawing flowchart");let{securityLevel:i,flowchart:s}=we(),o;i==="sandbox"&&(o=ut("#i"+t));let u=i==="sandbox"?ut(o.nodes()[0].contentDocument.body):ut("body"),h=i==="sandbox"?o.nodes()[0].contentDocument:document,p=n.db.getDirection();p===void 0&&(p="TD");let g=s.nodeSpacing||50,v=s.rankSpacing||50,x=new fn({multigraph:!0,compound:!0}).setGraph({rankdir:p,nodesep:g,ranksep:v,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),k,E=n.db.getSubGraphs();for(let I=E.length-1;I>=0;I--)k=E[I],n.db.addVertex(k.id,k.title,"group",void 0,k.classes);let _=n.db.getVertices();ce.warn("Get vertices",_);let N=n.db.getEdges(),M=0;for(M=E.length-1;M>=0;M--){k=E[M],Hm("cluster").append("text");for(let I=0;I<k.nodes.length;I++)ce.warn("Setting subgraph",k.nodes[I],n.db.lookUpDomId(k.nodes[I]),n.db.lookUpDomId(k.id)),x.setParent(n.db.lookUpDomId(k.nodes[I]),n.db.lookUpDomId(k.id))}await hie(_,x,t,u,h,n),await fie(N,x,n);let P=new zD;Gre.addToRender(P),P.arrows().none=a(function(z,G,F,j){let X=z.append("marker").attr("id",G).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");hs(X,F[j+"Style"])},"normal"),P.arrows().normal=a(function(z,G){z.append("marker").attr("id",G).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"normal");let V=u.select(`[id="${t}"]`),H=u.select("#"+t+" g");for(P(H,x),H.selectAll("g.node").attr("title",function(){return n.db.getTooltip(this.id)}),n.db.indexNodes("subGraph"+M),M=0;M<E.length;M++)if(k=E[M],k.title!=="undefined"){let I=h.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(k.id)+'"] rect'),z=h.querySelectorAll("#"+t+' [id="'+n.db.lookUpDomId(k.id)+'"]'),G=I[0].x.baseVal.value,F=I[0].y.baseVal.value,j=I[0].width.baseVal.value,X=ut(z[0]).select(".label");X.attr("transform",`translate(${G+j/2}, ${F+14})`),X.attr("id",t+"Text");for(let B=0;B<k.classes.length;B++)z[0].classList.add(k.classes[B])}if(!s.htmlLabels){let I=h.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let z of I){let G=z.getBBox(),F=h.createElementNS("http://www.w3.org/2000/svg","rect");F.setAttribute("rx",0),F.setAttribute("ry",0),F.setAttribute("width",G.width),F.setAttribute("height",G.height),z.insertBefore(F,z.firstChild)}}tl(x,V,s.diagramPadding,s.useMaxWidth),[..._.keys()].forEach(function(I){let z=_.get(I);if(z.link){let G=u.select("#"+t+' [id="'+n.db.lookUpDomId(I)+'"]');if(G){let F=h.createElementNS("http://www.w3.org/2000/svg","a");F.setAttributeNS("http://www.w3.org/2000/svg","class",z.classes.join(" ")),F.setAttributeNS("http://www.w3.org/2000/svg","href",z.link),F.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?F.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):z.linkTarget&&F.setAttributeNS("http://www.w3.org/2000/svg","target",z.linkTarget);let j=G.insert(function(){return F},":first-child"),D=G.select(".label-container");D&&j.append(function(){return D.node()});let X=G.select(".label");X&&j.append(function(){return X.node()})}}})},"draw"),die={setConf:wBe,addVertices:hie,addEdges:fie,getClasses:TBe,draw:EBe}});function fc(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:CBe(e),edges:SBe(e)};return an(e.graph())||(t.value=ei(e.graph())),t}function CBe(e){return It(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return an(r)||(i.value=r),an(n)||(i.parent=n),i})}function SBe(e){return It(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return an(t.name)||(n.name=t.name),an(r)||(n.value=r),n})}var gR=L(()=>{"use strict";hr();tw();a(fc,"write");a(CBe,"writeNodes");a(SBe,"writeEdges")});var _Be,ABe,LBe,DBe,RBe,IBe,MBe,NBe,OBe,PBe,BBe,Fw,yR=L(()=>{"use strict";ar();_Be=a((e,t,r,n)=>{t.forEach(i=>{BBe[i](e,r,n)})},"insertMarkers"),ABe=a((e,t,r)=>{ce.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),LBe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),DBe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),RBe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),IBe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),MBe=a((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),NBe=a((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),OBe=a((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),PBe=a((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),BBe={extension:ABe,composition:LBe,aggregation:DBe,dependency:RBe,lollipop:IBe,point:MBe,circle:NBe,cross:OBe,barb:PBe},Fw=_Be});function FBe(e,t){t&&e.attr("style",t)}function zBe(e){let t=ut(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,i=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),FBe(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}var $Be,ps,J2=L(()=>{"use strict";Wr();ar();Vr();Ln();kn();zd();a(FBe,"applyStyle");a(zBe,"addHtmlLabel");$Be=a((e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),yi(we().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),ce.debug("vertexText"+i);let s={isNode:n,label:p1(Zh(i)),labelStyle:t.replace("fill:","color:")};return zBe(s)}else{let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(let u of o){let h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),r?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=u.trim(),s.appendChild(h)}return s}},"createLabel"),ps=$Be});function dc(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var Da,Ai,zw=L(()=>{"use strict";J2();zd();Vr();Wr();Ln();kn();Da=a(async(e,t,r,n)=>{let i=we(),s,o=t.useHtmlLabels||yi(i.flowchart.htmlLabels);r?s=r:s="node default";let u=e.insert("g").attr("class",s).attr("id",t.domId||t.id),h=u.insert("g").attr("class","label").attr("style",t.labelStyle),p;t.labelText===void 0?p="":p=typeof t.labelText=="string"?t.labelText:t.labelText[0];let g=h.node(),v;t.labelType==="markdown"?v=Fd(h,ai(Zh(p),i),{useHtmlLabels:o,width:t.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):v=g.appendChild(ps(ai(Zh(p),i),t.labelStyle,!1,n));let x=v.getBBox(),k=t.padding/2;if(yi(i.flowchart.htmlLabels)){let E=v.children[0],_=ut(v),N=E.getElementsByTagName("img");if(N){let M=p.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...N].map(P=>new Promise(V=>{function H(){if(P.style.display="flex",P.style.flexDirection="column",M){let O=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,z=parseInt(O,10)*5+"px";P.style.minWidth=z,P.style.maxWidth=z}else P.style.width="100%";V(P)}a(H,"setupImage"),setTimeout(()=>{P.complete&&H()}),P.addEventListener("error",H),P.addEventListener("load",H)})))}x=E.getBoundingClientRect(),_.attr("width",x.width),_.attr("height",x.height)}return o?h.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"):h.attr("transform","translate(0, "+-x.height/2+")"),t.centerLabel&&h.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),h.insert("rect",":first-child"),{shapeSvg:u,bbox:x,halfPadding:k,label:h}},"labelHelper"),Ai=a((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds");a(dc,"insertPolygonShape")});var Jr,pc,gie,yie,Gw,GBe,vie,xie,m1,$w,bie,kie,wie,Tie,Eie=L(()=>{"use strict";ar();gR();Ua();Jr={},pc={},gie={},yie=a(()=>{pc={},gie={},Jr={}},"clear"),Gw=a((e,t)=>(ce.trace("In isDescendant",t," ",e," = ",pc[t].includes(e)),!!pc[t].includes(e)),"isDescendant"),GBe=a((e,t)=>(ce.info("Descendants of ",t," is ",pc[t]),ce.info("Edge is ",e),e.v===t||e.w===t?!1:pc[t]?pc[t].includes(e.v)||Gw(e.v,t)||Gw(e.w,t)||pc[t].includes(e.w):(ce.debug("Tilt, ",t,",not in descendants"),!1)),"edgeInCluster"),vie=a((e,t,r,n)=>{ce.warn("Copying children of ",e,"root",n,"data",t.node(e),n);let i=t.children(e)||[];e!==n&&i.push(e),ce.warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach(s=>{if(t.children(s).length>0)vie(s,t,r,n);else{let o=t.node(s);ce.info("cp ",s," to ",n," with parent ",e),r.setNode(s,o),n!==t.parent(s)&&(ce.warn("Setting parent",s,t.parent(s)),r.setParent(s,t.parent(s))),e!==n&&s!==e?(ce.debug("Setting parent",s,e),r.setParent(s,e)):(ce.info("In copy ",e,"root",n,"data",t.node(e),n),ce.debug("Not Setting parent for node=",s,"cluster!==rootId",e!==n,"node!==clusterId",s!==e));let u=t.edges(s);ce.debug("Copying Edges",u),u.forEach(h=>{ce.info("Edge",h);let p=t.edge(h.v,h.w,h.name);ce.info("Edge data",p,n);try{GBe(h,n)?(ce.info("Copying as ",h.v,h.w,p,h.name),r.setEdge(h.v,h.w,p,h.name),ce.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):ce.info("Skipping copy of edge ",h.v,"-->",h.w," rootId: ",n," clusterId:",e)}catch(g){ce.error(g)}})}ce.debug("Removing node",s),t.removeNode(s)})},"copy"),xie=a((e,t)=>{let r=t.children(e),n=[...r];for(let i of r)gie[i]=e,n=[...n,...xie(i,t)];return n},"extractDescendants"),m1=a((e,t)=>{ce.trace("Searching",e);let r=t.children(e);if(ce.trace("Searching children of id ",e,r),r.length<1)return ce.trace("This is a valid node",e),e;for(let n of r){let i=m1(n,t);if(i)return ce.trace("Found replacement for",e," => ",i),i}},"findNonClusterChild"),$w=a(e=>!Jr[e]||!Jr[e].externalConnections?e:Jr[e]?Jr[e].id:e,"getAnchorId"),bie=a((e,t)=>{if(!e||t>10){ce.debug("Opting out, no graph ");return}else ce.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(ce.warn("Cluster identified",r," Replacement id in edges: ",m1(r,e)),pc[r]=xie(r,e),Jr[r]={id:m1(r,e),clusterData:e.node(r)})}),e.nodes().forEach(function(r){let n=e.children(r),i=e.edges();n.length>0?(ce.debug("Cluster identified",r,pc),i.forEach(s=>{if(s.v!==r&&s.w!==r){let o=Gw(s.v,r),u=Gw(s.w,r);o^u&&(ce.warn("Edge: ",s," leaves cluster ",r),ce.warn("Descendants of XXX ",r,": ",pc[r]),Jr[r].externalConnections=!0)}})):ce.debug("Not a cluster ",r,pc)});for(let r of Object.keys(Jr)){let n=Jr[r].id,i=e.parent(n);i!==r&&Jr[i]&&!Jr[i].externalConnections&&(Jr[r].id=i)}e.edges().forEach(function(r){let n=e.edge(r);ce.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),ce.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let i=r.v,s=r.w;if(ce.warn("Fix XXX",Jr,"ids:",r.v,r.w,"Translating: ",Jr[r.v]," --- ",Jr[r.w]),Jr[r.v]&&Jr[r.w]&&Jr[r.v]===Jr[r.w]){ce.warn("Fixing and trixing link to self - removing XXX",r.v,r.w,r.name),ce.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=$w(r.v),s=$w(r.w),e.removeEdge(r.v,r.w,r.name);let o=r.w+"---"+r.v;e.setNode(o,{domId:o,id:o,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});let u=structuredClone(n),h=structuredClone(n);u.label="",u.arrowTypeEnd="none",h.label="",u.fromCluster=r.v,h.toCluster=r.v,e.setEdge(i,o,u,r.name+"-cyclic-special"),e.setEdge(o,s,h,r.name+"-cyclic-special")}else if(Jr[r.v]||Jr[r.w]){if(ce.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=$w(r.v),s=$w(r.w),e.removeEdge(r.v,r.w,r.name),i!==r.v){let o=e.parent(i);Jr[o].externalConnections=!0,n.fromCluster=r.v}if(s!==r.w){let o=e.parent(s);Jr[o].externalConnections=!0,n.toCluster=r.w}ce.warn("Fix Replacing with XXX",i,s,r.name),e.setEdge(i,s,n,r.name)}}),ce.warn("Adjusted Graph",fc(e)),kie(e,0),ce.trace(Jr)},"adjustClustersAndEdges"),kie=a((e,t)=>{if(ce.warn("extractor - ",t,fc(e),e.children("D")),t>10){ce.error("Bailing out");return}let r=e.nodes(),n=!1;for(let i of r){let s=e.children(i);n=n||s.length>0}if(!n){ce.debug("Done, no node has children",e.nodes());return}ce.debug("Nodes = ",r,t);for(let i of r)if(ce.debug("Extracting node",i,Jr,Jr[i]&&!Jr[i].externalConnections,!e.parent(i),e.node(i),e.children("D")," Depth ",t),!Jr[i])ce.debug("Not a cluster",i,t);else if(!Jr[i].externalConnections&&e.children(i)&&e.children(i).length>0){ce.warn("Cluster without external connections, without a parent and with children",i,t);let o=e.graph().rankdir==="TB"?"LR":"TB";Jr[i]&&Jr[i].clusterData&&Jr[i].clusterData.dir&&(o=Jr[i].clusterData.dir,ce.warn("Fixing dir",Jr[i].clusterData.dir,o));let u=new fn({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});ce.warn("Old graph before copy",fc(e)),vie(i,e,u,i),e.setNode(i,{clusterNode:!0,id:i,clusterData:Jr[i].clusterData,labelText:Jr[i].labelText,graph:u}),ce.warn("New graph after copy node: (",i,")",fc(u)),ce.debug("Old graph after copy",fc(e))}else ce.warn("Cluster ** ",i," **not meeting the criteria !externalConnections:",!Jr[i].externalConnections," no parent: ",!e.parent(i)," children ",e.children(i)&&e.children(i).length>0,e.children("D"),t),ce.debug(Jr);r=e.nodes(),ce.warn("New list of nodes",r);for(let i of r){let s=e.node(i);ce.warn(" Now next level",i,s),s.clusterNode&&kie(s.graph,t+1)}},"extractor"),wie=a((e,t)=>{if(t.length===0)return[];let r=Object.assign(t);return t.forEach(n=>{let i=e.children(n),s=wie(e,i);r=[...r,...s]}),r},"sorter"),Tie=a(e=>wie(e,e.children()),"sortNodesByHierarchy")});function VBe(e,t){return e.intersect(t)}var Cie,Sie=L(()=>{"use strict";a(VBe,"intersectNode");Cie=VBe});function qBe(e,t,r,n){var i=e.x,s=e.y,o=i-n.x,u=s-n.y,h=Math.sqrt(t*t*u*u+r*r*o*o),p=Math.abs(t*r*o/h);n.x<i&&(p=-p);var g=Math.abs(t*r*u/h);return n.y<s&&(g=-g),{x:i+p,y:s+g}}var Vw,vR=L(()=>{"use strict";a(qBe,"intersectEllipse");Vw=qBe});function UBe(e,t,r){return Vw(e,t,t,r)}var _ie,Aie=L(()=>{"use strict";vR();a(UBe,"intersectCircle");_ie=UBe});function HBe(e,t,r,n){var i,s,o,u,h,p,g,v,x,k,E,_,N,M,P;if(i=t.y-e.y,o=e.x-t.x,h=t.x*e.y-e.x*t.y,x=i*r.x+o*r.y+h,k=i*n.x+o*n.y+h,!(x!==0&&k!==0&&Lie(x,k))&&(s=n.y-r.y,u=r.x-n.x,p=n.x*r.y-r.x*n.y,g=s*e.x+u*e.y+p,v=s*t.x+u*t.y+p,!(g!==0&&v!==0&&Lie(g,v))&&(E=i*u-s*o,E!==0)))return _=Math.abs(E/2),N=o*p-u*h,M=N<0?(N-_)/E:(N+_)/E,N=s*h-i*p,P=N<0?(N-_)/E:(N+_)/E,{x:M,y:P}}function Lie(e,t){return e*t>0}var Die,Rie=L(()=>{"use strict";a(HBe,"intersectLine");a(Lie,"sameSign");Die=HBe});function WBe(e,t,r){var n=e.x,i=e.y,s=[],o=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(E){o=Math.min(o,E.x),u=Math.min(u,E.y)}):(o=Math.min(o,t.x),u=Math.min(u,t.y));for(var h=n-e.width/2-o,p=i-e.height/2-u,g=0;g<t.length;g++){var v=t[g],x=t[g<t.length-1?g+1:0],k=Die(e,r,{x:h+v.x,y:p+v.y},{x:h+x.x,y:p+x.y});k&&s.push(k)}return s.length?(s.length>1&&s.sort(function(E,_){var N=E.x-r.x,M=E.y-r.y,P=Math.sqrt(N*N+M*M),V=_.x-r.x,H=_.y-r.y,O=Math.sqrt(V*V+H*H);return P<O?-1:P===O?0:1}),s[0]):e}var Iie,Mie=L(()=>{"use strict";Rie();Iie=WBe;a(WBe,"intersectPolygon")});var YBe,gp,xR=L(()=>{"use strict";YBe=a((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,u=e.height/2,h,p;return Math.abs(s)*o>Math.abs(i)*u?(s<0&&(u=-u),h=s===0?0:u*i/s,p=u):(i<0&&(o=-o),h=o,p=i===0?0:o*s/i),{x:r+h,y:n+p}},"intersectRect"),gp=YBe});var Li,bR=L(()=>{"use strict";Sie();Aie();vR();Mie();xR();Li={node:Cie,circle:_ie,ellipse:Vw,polygon:Iie,rect:gp}});var XBe,Nie,Oie=L(()=>{"use strict";zw();ar();Vr();bR();XBe=a(async(e,t)=>{t.useHtmlLabels||we().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:n,bbox:i,halfPadding:s}=await Da(e,t,"node "+t.classes,!0);ce.info("Classes = ",t.classes);let o=n.insert("rect",":first-child");return o.attr("rx",t.rx).attr("ry",t.ry).attr("x",-i.width/2-s).attr("y",-i.height/2-s).attr("width",i.width+t.padding).attr("height",i.height+t.padding),Ai(t,o),t.intersect=function(u){return Li.rect(t,u)},n},"note"),Nie=XBe});var jBe,Pie,Bie=L(()=>{"use strict";jBe=a(e=>{let t=new Set;for(let r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r);break}return t},"expandAndDeduplicateDirections"),Pie=a((e,t,r)=>{let n=jBe(e),i=2,s=t.height+2*r.padding,o=s/i,u=t.width+2*o+r.padding,h=r.padding/2,p=[];return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:o,y:0},{x:u/2,y:2*h},{x:u-o,y:0},{x:u,y:0},{x:u,y:-s/3},{x:u+2*h,y:-s/2},{x:u,y:-2*s/3},{x:u,y:-s},{x:u-o,y:-s},{x:u/2,y:-s-2*h},{x:o,y:-s},{x:0,y:-s},{x:0,y:-2*s/3},{x:-2*h,y:-s/2},{x:0,y:-s/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:o,y:0},{x:u-o,y:0},{x:u,y:-s/2},{x:u-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:o,y:-s},{x:u-o,y:-s},{x:u,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:u,y:-o},{x:u,y:-s+o},{x:0,y:-s}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:u,y:0},{x:0,y:-o},{x:0,y:-s+o},{x:u,y:-s}]:n.has("right")&&n.has("left")?[{x:o,y:0},{x:o,y:-h},{x:u-o,y:-h},{x:u-o,y:0},{x:u,y:-s/2},{x:u-o,y:-s},{x:u-o,y:-s+h},{x:o,y:-s+h},{x:o,y:-s},{x:0,y:-s/2}]:n.has("up")&&n.has("down")?[{x:u/2,y:0},{x:0,y:-h},{x:o,y:-h},{x:o,y:-s+h},{x:0,y:-s+h},{x:u/2,y:-s},{x:u,y:-s+h},{x:u-o,y:-s+h},{x:u-o,y:-h},{x:u,y:-h}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:u,y:-o},{x:0,y:-s}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:u,y:0},{x:0,y:-s}]:n.has("left")&&n.has("up")?[{x:u,y:0},{x:0,y:-o},{x:u,y:-s}]:n.has("left")&&n.has("down")?[{x:u,y:0},{x:0,y:0},{x:u,y:-s}]:n.has("right")?[{x:o,y:-h},{x:o,y:-h},{x:u-o,y:-h},{x:u-o,y:0},{x:u,y:-s/2},{x:u-o,y:-s},{x:u-o,y:-s+h},{x:o,y:-s+h},{x:o,y:-s+h}]:n.has("left")?[{x:o,y:0},{x:o,y:-h},{x:u-o,y:-h},{x:u-o,y:-s+h},{x:o,y:-s+h},{x:o,y:-s},{x:0,y:-s/2}]:n.has("up")?[{x:o,y:-h},{x:o,y:-s+h},{x:0,y:-s+h},{x:u/2,y:-s},{x:u,y:-s+h},{x:u-o,y:-s+h},{x:u-o,y:-h}]:n.has("down")?[{x:u/2,y:0},{x:0,y:-h},{x:o,y:-h},{x:o,y:-s+h},{x:u-o,y:-s+h},{x:u-o,y:-h},{x:u,y:-h}]:[{x:0,y:0}]},"getArrowPoints")});function kR(e,t,r,n){let i=[],s=a(u=>{i.push(u,0)},"addBorder"),o=a(u=>{i.push(0,u)},"skipBorder");t.includes("t")?(ce.debug("add top border"),s(r)):o(r),t.includes("r")?(ce.debug("add right border"),s(n)):o(n),t.includes("b")?(ce.debug("add bottom border"),s(r)):o(r),t.includes("l")?(ce.debug("add left border"),s(n)):o(n),e.attr("stroke-dasharray",i.join(" "))}var Fie,Ol,zie,KBe,QBe,ZBe,JBe,eFe,tFe,rFe,nFe,iFe,aFe,sFe,oFe,lFe,uFe,cFe,hFe,fFe,dFe,pFe,$ie,mFe,gFe,Gie,g1,ex,Vie,qie,tx,wR=L(()=>{"use strict";Wr();ar();zw();Vr();bR();J2();Oie();Ln();Bie();Fie=a(e=>e?" "+e:"","formatClass"),Ol=a((e,t)=>`${t||"node default"}${Fie(e.classes)} ${Fie(e.class)}`,"getClassesFromNode"),zie=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,o=i+s,u=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];ce.info("Question main (Circle)");let h=dc(r,o,o,u);return h.attr("style",t.style),Ai(t,h),t.intersect=function(p){return ce.warn("Intersect called"),Li.polygon(t,u,p)},r},"question"),KBe=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(o){return o.x+","+o.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(o){return Li.circle(t,14,o)},r},"choice"),QBe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=4,s=n.height+t.padding,o=s/i,u=n.width+2*o+t.padding,h=[{x:o,y:0},{x:u-o,y:0},{x:u,y:-s/2},{x:u-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}],p=dc(r,u,s,h);return p.attr("style",t.style),Ai(t,p),t.intersect=function(g){return Li.polygon(t,h,g)},r},"hexagon"),ZBe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,void 0,!0),i=2,s=n.height+2*t.padding,o=s/i,u=n.width+2*o+t.padding,h=Pie(t.directions,n,t),p=dc(r,u,s,h);return p.attr("style",t.style),Ai(t,p),t.intersect=function(g){return Li.polygon(t,h,g)},r},"block_arrow"),JBe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:-s/2,y:0},{x:i,y:0},{x:i,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return dc(r,i,s,o).attr("style",t.style),t.width=i+s,t.height=s,t.intersect=function(h){return Li.polygon(t,o,h)},r},"rect_left_inv_arrow"),eFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t),!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:-2*s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:s/6,y:-s}],u=dc(r,i,s,o);return u.attr("style",t.style),Ai(t,u),t.intersect=function(h){return Li.polygon(t,o,h)},r},"lean_right"),tFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:2*s/6,y:0},{x:i+s/6,y:0},{x:i-2*s/6,y:-s},{x:-s/6,y:-s}],u=dc(r,i,s,o);return u.attr("style",t.style),Ai(t,u),t.intersect=function(h){return Li.polygon(t,o,h)},r},"lean_left"),rFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:-2*s/6,y:0},{x:i+2*s/6,y:0},{x:i-s/6,y:-s},{x:s/6,y:-s}],u=dc(r,i,s,o);return u.attr("style",t.style),Ai(t,u),t.intersect=function(h){return Li.polygon(t,o,h)},r},"trapezoid"),nFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:-2*s/6,y:-s}],u=dc(r,i,s,o);return u.attr("style",t.style),Ai(t,u),t.intersect=function(h){return Li.polygon(t,o,h)},r},"inv_trapezoid"),iFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:0,y:0},{x:i+s/2,y:0},{x:i,y:-s/2},{x:i+s/2,y:-s},{x:0,y:-s}],u=dc(r,i,s,o);return u.attr("style",t.style),Ai(t,u),t.intersect=function(h){return Li.polygon(t,o,h)},r},"rect_right_inv_arrow"),aFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=n.width+t.padding,s=i/2,o=s/(2.5+i/50),u=n.height+o+t.padding,h="M 0,"+o+" a "+s+","+o+" 0,0,0 "+i+" 0 a "+s+","+o+" 0,0,0 "+-i+" 0 l 0,"+u+" a "+s+","+o+" 0,0,0 "+i+" 0 l 0,"+-u,p=r.attr("label-offset-y",o).insert("path",":first-child").attr("style",t.style).attr("d",h).attr("transform","translate("+-i/2+","+-(u/2+o)+")");return Ai(t,p),t.intersect=function(g){let v=Li.rect(t,g),x=v.x-t.x;if(s!=0&&(Math.abs(x)<t.width/2||Math.abs(x)==t.width/2&&Math.abs(v.y-t.y)>t.height/2-o)){let k=o*o*(1-x*x/(s*s));k!=0&&(k=Math.sqrt(k)),k=o-k,g.y-t.y>0&&(k=-k),v.y+=k}return v},r},"cylinder"),sFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Da(e,t,"node "+t.classes+" "+t.class,!0),s=r.insert("rect",":first-child"),o=t.positioned?t.width:n.width+t.padding,u=t.positioned?t.height:n.height+t.padding,h=t.positioned?-o/2:-n.width/2-i,p=t.positioned?-u/2:-n.height/2-i;if(s.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",h).attr("y",p).attr("width",o).attr("height",u),t.props){let g=new Set(Object.keys(t.props));t.props.borders&&(kR(s,t.props.borders,o,u),g.delete("borders")),g.forEach(v=>{ce.warn(`Unknown node property ${v}`)})}return Ai(t,s),t.intersect=function(g){return Li.rect(t,g)},r},"rect"),oFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Da(e,t,"node "+t.classes,!0),s=r.insert("rect",":first-child"),o=t.positioned?t.width:n.width+t.padding,u=t.positioned?t.height:n.height+t.padding,h=t.positioned?-o/2:-n.width/2-i,p=t.positioned?-u/2:-n.height/2-i;if(s.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",h).attr("y",p).attr("width",o).attr("height",u),t.props){let g=new Set(Object.keys(t.props));t.props.borders&&(kR(s,t.props.borders,o,u),g.delete("borders")),g.forEach(v=>{ce.warn(`Unknown node property ${v}`)})}return Ai(t,s),t.intersect=function(g){return Li.rect(t,g)},r},"composite"),lFe=a(async(e,t)=>{let{shapeSvg:r}=await Da(e,t,"label",!0);ce.trace("Classes = ",t.class);let n=r.insert("rect",":first-child"),i=0,s=0;if(n.attr("width",i).attr("height",s),r.attr("class","label edgeLabel"),t.props){let o=new Set(Object.keys(t.props));t.props.borders&&(kR(n,t.props.borders,i,s),o.delete("borders")),o.forEach(u=>{ce.warn(`Unknown node property ${u}`)})}return Ai(t,n),t.intersect=function(o){return Li.rect(t,o)},r},"labelRect");a(kR,"applyNodePropertyBorders");uFe=a((e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";let n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),i=n.insert("rect",":first-child"),s=n.insert("line"),o=n.insert("g").attr("class","label"),u=t.labelText.flat?t.labelText.flat():t.labelText,h="";typeof u=="object"?h=u[0]:h=u,ce.info("Label text abc79",h,u,typeof u=="object");let p=o.node().appendChild(ps(h,t.labelStyle,!0,!0)),g={width:0,height:0};if(yi(we().flowchart.htmlLabels)){let _=p.children[0],N=ut(p);g=_.getBoundingClientRect(),N.attr("width",g.width),N.attr("height",g.height)}ce.info("Text 2",u);let v=u.slice(1,u.length),x=p.getBBox(),k=o.node().appendChild(ps(v.join?v.join("<br/>"):v,t.labelStyle,!0,!0));if(yi(we().flowchart.htmlLabels)){let _=k.children[0],N=ut(k);g=_.getBoundingClientRect(),N.attr("width",g.width),N.attr("height",g.height)}let E=t.padding/2;return ut(k).attr("transform","translate( "+(g.width>x.width?0:(x.width-g.width)/2)+", "+(x.height+E+5)+")"),ut(p).attr("transform","translate( "+(g.width<x.width?0:-(x.width-g.width)/2)+", 0)"),g=o.node().getBBox(),o.attr("transform","translate("+-g.width/2+", "+(-g.height/2-E+3)+")"),i.attr("class","outer title-state").attr("x",-g.width/2-E).attr("y",-g.height/2-E).attr("width",g.width+t.padding).attr("height",g.height+t.padding),s.attr("class","divider").attr("x1",-g.width/2-E).attr("x2",g.width/2+E).attr("y1",-g.height/2-E+x.height+E).attr("y2",-g.height/2-E+x.height+E),Ai(t,i),t.intersect=function(_){return Li.rect(t,_)},n},"rectWithTitle"),cFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=n.height+t.padding,s=n.width+i/4+t.padding,o=r.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-s/2).attr("y",-i/2).attr("width",s).attr("height",i);return Ai(t,o),t.intersect=function(u){return Li.rect(t,u)},r},"stadium"),hFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Da(e,t,Ol(t,void 0),!0),s=r.insert("circle",":first-child");return s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),ce.info("Circle main"),Ai(t,s),t.intersect=function(o){return ce.info("Circle intersect",t,n.width/2+i,o),Li.circle(t,n.width/2+i,o)},r},"circle"),fFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Da(e,t,Ol(t,void 0),!0),s=5,o=r.insert("g",":first-child"),u=o.insert("circle"),h=o.insert("circle");return o.attr("class",t.class),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i+s).attr("width",n.width+t.padding+s*2).attr("height",n.height+t.padding+s*2),h.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),ce.info("DoubleCircle main"),Ai(t,u),t.intersect=function(p){return ce.info("DoubleCircle intersect",t,n.width/2+i+s,p),Li.circle(t,n.width/2+i+s,p)},r},"doublecircle"),dFe=a(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Da(e,t,Ol(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],u=dc(r,i,s,o);return u.attr("style",t.style),Ai(t,u),t.intersect=function(h){return Li.polygon(t,o,h)},r},"subroutine"),pFe=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Ai(t,n),t.intersect=function(i){return Li.circle(t,7,i)},r},"start"),$ie=a((e,t,r)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=70,s=10;r==="LR"&&(i=10,s=70);let o=n.append("rect").attr("x",-1*i/2).attr("y",-1*s/2).attr("width",i).attr("height",s).attr("class","fork-join");return Ai(t,o),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(u){return Li.rect(t,u)},n},"forkJoin"),mFe=a((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Ai(t,i),t.intersect=function(s){return Li.circle(t,7,s)},r},"end"),gFe=a((e,t)=>{let r=t.padding/2,n=4,i=8,s;t.classes?s="node "+t.classes:s="node default";let o=e.insert("g").attr("class",s).attr("id",t.domId||t.id),u=o.insert("rect",":first-child"),h=o.insert("line"),p=o.insert("line"),g=0,v=n,x=o.insert("g").attr("class","label"),k=0,E=t.classData.annotations&&t.classData.annotations[0],_=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",N=x.node().appendChild(ps(_,t.labelStyle,!0,!0)),M=N.getBBox();if(yi(we().flowchart.htmlLabels)){let G=N.children[0],F=ut(N);M=G.getBoundingClientRect(),F.attr("width",M.width),F.attr("height",M.height)}t.classData.annotations[0]&&(v+=M.height+n,g+=M.width);let P=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(we().flowchart.htmlLabels?P+="&lt;"+t.classData.type+"&gt;":P+="<"+t.classData.type+">");let V=x.node().appendChild(ps(P,t.labelStyle,!0,!0));ut(V).attr("class","classTitle");let H=V.getBBox();if(yi(we().flowchart.htmlLabels)){let G=V.children[0],F=ut(V);H=G.getBoundingClientRect(),F.attr("width",H.width),F.attr("height",H.height)}v+=H.height+n,H.width>g&&(g=H.width);let O=[];t.classData.members.forEach(G=>{let F=G.getDisplayDetails(),j=F.displayText;we().flowchart.htmlLabels&&(j=j.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let D=x.node().appendChild(ps(j,F.cssStyle?F.cssStyle:t.labelStyle,!0,!0)),X=D.getBBox();if(yi(we().flowchart.htmlLabels)){let B=D.children[0],Q=ut(D);X=B.getBoundingClientRect(),Q.attr("width",X.width),Q.attr("height",X.height)}X.width>g&&(g=X.width),v+=X.height+n,O.push(D)}),v+=i;let I=[];if(t.classData.methods.forEach(G=>{let F=G.getDisplayDetails(),j=F.displayText;we().flowchart.htmlLabels&&(j=j.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let D=x.node().appendChild(ps(j,F.cssStyle?F.cssStyle:t.labelStyle,!0,!0)),X=D.getBBox();if(yi(we().flowchart.htmlLabels)){let B=D.children[0],Q=ut(D);X=B.getBoundingClientRect(),Q.attr("width",X.width),Q.attr("height",X.height)}X.width>g&&(g=X.width),v+=X.height+n,I.push(D)}),v+=i,E){let G=(g-M.width)/2;ut(N).attr("transform","translate( "+(-1*g/2+G)+", "+-1*v/2+")"),k=M.height+n}let z=(g-H.width)/2;return ut(V).attr("transform","translate( "+(-1*g/2+z)+", "+(-1*v/2+k)+")"),k+=H.height+n,h.attr("class","divider").attr("x1",-g/2-r).attr("x2",g/2+r).attr("y1",-v/2-r+i+k).attr("y2",-v/2-r+i+k),k+=i,O.forEach(G=>{ut(G).attr("transform","translate( "+-g/2+", "+(-1*v/2+k+i/2)+")");let F=G?.getBBox();k+=(F?.height??0)+n}),k+=i,p.attr("class","divider").attr("x1",-g/2-r).attr("x2",g/2+r).attr("y1",-v/2-r+i+k).attr("y2",-v/2-r+i+k),k+=i,I.forEach(G=>{ut(G).attr("transform","translate( "+-g/2+", "+(-1*v/2+k)+")");let F=G?.getBBox();k+=(F?.height??0)+n}),u.attr("style",t.style).attr("class","outer title-state").attr("x",-g/2-r).attr("y",-(v/2)-r).attr("width",g+t.padding).attr("height",v+t.padding),Ai(t,u),t.intersect=function(G){return Li.rect(t,G)},o},"class_box"),Gie={rhombus:zie,composite:oFe,question:zie,rect:sFe,labelRect:lFe,rectWithTitle:uFe,choice:KBe,circle:hFe,doublecircle:fFe,stadium:cFe,hexagon:QBe,block_arrow:ZBe,rect_left_inv_arrow:JBe,lean_right:eFe,lean_left:tFe,trapezoid:rFe,inv_trapezoid:nFe,rect_right_inv_arrow:iFe,cylinder:aFe,start:pFe,end:mFe,note:Nie,subroutine:dFe,fork:$ie,join:$ie,class_box:gFe},g1={},ex=a(async(e,t,r)=>{let n,i;if(t.link){let s;we().securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s),i=await Gie[t.shape](n,t,r)}else i=await Gie[t.shape](e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),t.class&&i.attr("class","node default "+t.class),n.attr("data-node","true"),n.attr("data-id",t.id),g1[t.id]=n,t.haveCallback&&g1[t.id].attr("class",g1[t.id].attr("class")+" clickable"),n},"insertNode"),Vie=a((e,t)=>{g1[t.id]=e},"setNodeElem"),qie=a(()=>{g1={}},"clear"),tx=a(e=>{let t=g1[e.id];ce.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode")});var yp,qw=L(()=>{"use strict";yp=a(({flowchart:e})=>{let t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins")});var yFe,vFe,xFe,bFe,kFe,Uie,Hie,Wie,Yie=L(()=>{"use strict";xR();ar();J2();zd();Wr();Vr();Ln();qw();yFe=a((e,t)=>{ce.info("Creating subgraph rect for ",t.id,t);let r=we(),n=e.insert("g").attr("class","cluster"+(t.class?" "+t.class:"")).attr("id",t.id),i=n.insert("rect",":first-child"),s=yi(r.flowchart.htmlLabels),o=n.insert("g").attr("class","cluster-label"),u=t.labelType==="markdown"?Fd(o,t.labelText,{style:t.labelStyle,useHtmlLabels:s},r):o.node().appendChild(ps(t.labelText,t.labelStyle,void 0,!0)),h=u.getBBox();if(yi(r.flowchart.htmlLabels)){let E=u.children[0],_=ut(u);h=E.getBoundingClientRect(),_.attr("width",h.width),_.attr("height",h.height)}let p=0*t.padding,g=p/2,v=t.width<=h.width+p?h.width+p:t.width;t.width<=h.width+p?t.diff=(h.width-t.width)/2-t.padding/2:t.diff=-t.padding/2,ce.trace("Data ",t,JSON.stringify(t)),i.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-v/2).attr("y",t.y-t.height/2-g).attr("width",v).attr("height",t.height+p);let{subGraphTitleTopMargin:x}=yp(r);s?o.attr("transform",`translate(${t.x-h.width/2}, ${t.y-t.height/2+x})`):o.attr("transform",`translate(${t.x}, ${t.y-t.height/2+x})`);let k=i.node().getBBox();return t.width=k.width,t.height=k.height,t.intersect=function(E){return gp(t,E)},n},"rect"),vFe=a((e,t)=>{let r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");let o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(u){return gp(t,u)},r},"noteGroup"),xFe=a((e,t)=>{let r=we(),n=e.insert("g").attr("class",t.classes).attr("id",t.id),i=n.insert("rect",":first-child"),s=n.insert("g").attr("class","cluster-label"),o=n.append("rect"),u=s.node().appendChild(ps(t.labelText,t.labelStyle,void 0,!0)),h=u.getBBox();if(yi(r.flowchart.htmlLabels)){let E=u.children[0],_=ut(u);h=E.getBoundingClientRect(),_.attr("width",h.width),_.attr("height",h.height)}h=u.getBBox();let p=0*t.padding,g=p/2,v=t.width<=h.width+t.padding?h.width+t.padding:t.width;t.width<=h.width+t.padding?t.diff=(h.width+t.padding*0-t.width)/2:t.diff=-t.padding/2,i.attr("class","outer").attr("x",t.x-v/2-g).attr("y",t.y-t.height/2-g).attr("width",v+p).attr("height",t.height+p),o.attr("class","inner").attr("x",t.x-v/2-g).attr("y",t.y-t.height/2-g+h.height-1).attr("width",v+p).attr("height",t.height+p-h.height-3);let{subGraphTitleTopMargin:x}=yp(r);s.attr("transform",`translate(${t.x-h.width/2}, ${t.y-t.height/2-t.padding/3+(yi(r.flowchart.htmlLabels)?5:3)+x})`);let k=i.node().getBBox();return t.height=k.height,t.intersect=function(E){return gp(t,E)},n},"roundedWithTitle"),bFe=a((e,t)=>{let r=e.insert("g").attr("class",t.classes).attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("class","divider").attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2).attr("width",t.width+i).attr("height",t.height+i);let o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.diff=-t.padding/2,t.intersect=function(u){return gp(t,u)},r},"divider"),kFe={rect:yFe,roundedWithTitle:xFe,noteGroup:vFe,divider:bFe},Uie={},Hie=a((e,t)=>{ce.trace("Inserting cluster");let r=t.shape||"rect";Uie[t.id]=kFe[r](e,t)},"insertCluster"),Wie=a(()=>{Uie={}},"clear")});function Uw(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Hw(e),t=Hw(t);let[r,n]=[e.x,e.y],[i,s]=[t.x,t.y],o=i-r,u=s-n;return{angle:Math.atan(u/o),deltaX:o,deltaY:u}}var $d,Hw,Xie,jie=L(()=>{"use strict";$d={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:5.3};a(Uw,"calculateDeltaAndAngle");Hw=a(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),Xie=a(e=>({x:function(t,r,n){let i=0;if(r===0&&Object.hasOwn($d,e.arrowTypeStart)){let{angle:s,deltaX:o}=Uw(n[0],n[1]);i=$d[e.arrowTypeStart]*Math.cos(s)*(o>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn($d,e.arrowTypeEnd)){let{angle:s,deltaX:o}=Uw(n[n.length-1],n[n.length-2]);i=$d[e.arrowTypeEnd]*Math.cos(s)*(o>=0?1:-1)}return Hw(t).x+i},y:function(t,r,n){let i=0;if(r===0&&Object.hasOwn($d,e.arrowTypeStart)){let{angle:s,deltaY:o}=Uw(n[0],n[1]);i=$d[e.arrowTypeStart]*Math.abs(Math.sin(s))*(o>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn($d,e.arrowTypeEnd)){let{angle:s,deltaY:o}=Uw(n[n.length-1],n[n.length-2]);i=$d[e.arrowTypeEnd]*Math.abs(Math.sin(s))*(o>=0?1:-1)}return Hw(t).y+i}}),"getLineFunctionsWithOffset")});var Qie,wFe,Kie,Zie=L(()=>{"use strict";ar();Qie=a((e,t,r,n,i)=>{t.arrowTypeStart&&Kie(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&Kie(e,"end",t.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),wFe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},Kie=a((e,t,r,n,i,s)=>{let o=wFe[r];if(!o){ce.warn(`Unknown arrow type: ${r}`);return}let u=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${s}-${o}${u})`)},"addEdgeMarker")});function Ww(e,t){we().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}var Yw,Bs,eae,Xw,jw,TFe,EFe,Jie,Kw,TR=L(()=>{"use strict";ar();J2();zd();Wr();Vr();kn();Ln();jie();qw();Zie();Yw={},Bs={},eae=a(()=>{Yw={},Bs={}},"clear"),Xw=a((e,t)=>{let r=we(),n=yi(r.flowchart.htmlLabels),i=t.labelType==="markdown"?Fd(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):ps(t.label,t.labelStyle),s=e.insert("g").attr("class","edgeLabel"),o=s.insert("g").attr("class","label");o.node().appendChild(i);let u=i.getBBox();if(n){let p=i.children[0],g=ut(i);u=p.getBoundingClientRect(),g.attr("width",u.width),g.attr("height",u.height)}o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),Yw[t.id]=s,t.width=u.width,t.height=u.height;let h;if(t.startLabelLeft){let p=ps(t.startLabelLeft,t.labelStyle),g=e.insert("g").attr("class","edgeTerminals"),v=g.insert("g").attr("class","inner");h=v.node().appendChild(p);let x=p.getBBox();v.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),Bs[t.id]||(Bs[t.id]={}),Bs[t.id].startLeft=g,Ww(h,t.startLabelLeft)}if(t.startLabelRight){let p=ps(t.startLabelRight,t.labelStyle),g=e.insert("g").attr("class","edgeTerminals"),v=g.insert("g").attr("class","inner");h=g.node().appendChild(p),v.node().appendChild(p);let x=p.getBBox();v.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),Bs[t.id]||(Bs[t.id]={}),Bs[t.id].startRight=g,Ww(h,t.startLabelRight)}if(t.endLabelLeft){let p=ps(t.endLabelLeft,t.labelStyle),g=e.insert("g").attr("class","edgeTerminals"),v=g.insert("g").attr("class","inner");h=v.node().appendChild(p);let x=p.getBBox();v.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),g.node().appendChild(p),Bs[t.id]||(Bs[t.id]={}),Bs[t.id].endLeft=g,Ww(h,t.endLabelLeft)}if(t.endLabelRight){let p=ps(t.endLabelRight,t.labelStyle),g=e.insert("g").attr("class","edgeTerminals"),v=g.insert("g").attr("class","inner");h=v.node().appendChild(p);let x=p.getBBox();v.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),g.node().appendChild(p),Bs[t.id]||(Bs[t.id]={}),Bs[t.id].endRight=g,Ww(h,t.endLabelRight)}return i},"insertEdgeLabel");a(Ww,"setTerminalWidth");jw=a((e,t)=>{ce.debug("Moving label abc88 ",e.id,e.label,Yw[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath,n=we(),{subGraphTitleTotalMargin:i}=yp(n);if(e.label){let s=Yw[e.id],o=e.x,u=e.y;if(r){let h=wr.calcLabelPosition(r);ce.debug("Moving label "+e.label+" from (",o,",",u,") to (",h.x,",",h.y,") abc88"),t.updatedPath&&(o=h.x,u=h.y)}s.attr("transform",`translate(${o}, ${u+i/2})`)}if(e.startLabelLeft){let s=Bs[e.id].startLeft,o=e.x,u=e.y;if(r){let h=wr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=h.x,u=h.y}s.attr("transform",`translate(${o}, ${u})`)}if(e.startLabelRight){let s=Bs[e.id].startRight,o=e.x,u=e.y;if(r){let h=wr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=h.x,u=h.y}s.attr("transform",`translate(${o}, ${u})`)}if(e.endLabelLeft){let s=Bs[e.id].endLeft,o=e.x,u=e.y;if(r){let h=wr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=h.x,u=h.y}s.attr("transform",`translate(${o}, ${u})`)}if(e.endLabelRight){let s=Bs[e.id].endRight,o=e.x,u=e.y;if(r){let h=wr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=h.x,u=h.y}s.attr("transform",`translate(${o}, ${u})`)}},"positionEdgeLabel"),TFe=a((e,t)=>{let r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),o=e.width/2,u=e.height/2;return i>=o||s>=u},"outsideNode"),EFe=a((e,t,r)=>{ce.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,i=e.y,s=Math.abs(n-r.x),o=e.width/2,u=r.x<t.x?o-s:o+s,h=e.height/2,p=Math.abs(t.y-r.y),g=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*o>Math.abs(n-t.x)*h){let v=r.y<t.y?t.y-h-i:i-h-t.y;u=g*v/p;let x={x:r.x<t.x?r.x+u:r.x-g+u,y:r.y<t.y?r.y+p-v:r.y-p+v};return u===0&&(x.x=t.x,x.y=t.y),g===0&&(x.x=t.x),p===0&&(x.y=t.y),ce.debug(`abc89 topp/bott calc, Q ${p}, q ${v}, R ${g}, r ${u}`,x),x}else{r.x<t.x?u=t.x-o-n:u=n-o-t.x;let v=p*u/g,x=r.x<t.x?r.x+g-u:r.x-g+u,k=r.y<t.y?r.y+v:r.y-v;return ce.debug(`sides calc abc89, Q ${p}, q ${v}, R ${g}, r ${u}`,{_x:x,_y:k}),u===0&&(x=t.x,k=t.y),g===0&&(x=t.x),p===0&&(k=t.y),{x,y:k}}},"intersection"),Jie=a((e,t)=>{ce.debug("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(!TFe(t,s)&&!i){let o=EFe(t,n,s),u=!1;r.forEach(h=>{u=u||h.x===o.x&&h.y===o.y}),r.some(h=>h.x===o.x&&h.y===o.y)||r.push(o),i=!0}else n=s,i||r.push(s)}),r},"cutPathAtIntersect"),Kw=a(function(e,t,r,n,i,s,o){let u=r.points;ce.debug("abc88 InsertEdge: edge=",r,"e=",t);let h=!1,p=s.node(t.v);var g=s.node(t.w);g?.intersect&&p?.intersect&&(u=u.slice(1,r.points.length-1),u.unshift(p.intersect(u[0])),u.push(g.intersect(u[u.length-1]))),r.toCluster&&(ce.debug("to cluster abc88",n[r.toCluster]),u=Jie(r.points,n[r.toCluster].node),h=!0),r.fromCluster&&(ce.debug("from cluster abc88",n[r.fromCluster]),u=Jie(u.reverse(),n[r.fromCluster].node).reverse(),h=!0);let v=u.filter(H=>!Number.isNaN(H.y)),x=Jl;r.curve&&(i==="graph"||i==="flowchart")&&(x=r.curve);let{x:k,y:E}=Xie(r),_=Rs().x(k).y(E).curve(x),N;switch(r.thickness){case"normal":N="edge-thickness-normal";break;case"thick":N="edge-thickness-thick";break;case"invisible":N="edge-thickness-thick";break;default:N=""}switch(r.pattern){case"solid":N+=" edge-pattern-solid";break;case"dotted":N+=" edge-pattern-dotted";break;case"dashed":N+=" edge-pattern-dashed";break}let M=e.append("path").attr("d",_(v)).attr("id",r.id).attr("class"," "+N+(r.classes?" "+r.classes:"")).attr("style",r.style),P="";(we().flowchart.arrowMarkerAbsolute||we().state.arrowMarkerAbsolute)&&(P=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,P=P.replace(/\(/g,"\\("),P=P.replace(/\)/g,"\\)")),Qie(M,r,P,o,i);let V={};return h&&(V.updatedPath=u),V.originalPath=r.points,V},"insertEdge")});var tae,y1,Qw=L(()=>{"use strict";fp();gR();yR();zw();Eie();wR();Yie();TR();ar();qw();Vr();tae=a(async(e,t,r,n,i,s)=>{ce.info("Graph in recursive render: XXX",fc(t),i);let o=t.graph().rankdir;ce.trace("Dir in recursive render - dir:",o);let u=e.insert("g").attr("class","root");t.nodes()?ce.info("Recursive render XXX",t.nodes()):ce.info("No nodes found for",t),t.edges().length>0&&ce.trace("Recursive edges",t.edge(t.edges()[0]));let h=u.insert("g").attr("class","clusters"),p=u.insert("g").attr("class","edgePaths"),g=u.insert("g").attr("class","edgeLabels"),v=u.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(E){let _=t.node(E);if(i!==void 0){let N=JSON.parse(JSON.stringify(i.clusterData));ce.info("Setting data for cluster XXX (",E,") ",N,i),t.setNode(i.id,N),t.parent(E)||(ce.trace("Setting parent",E,i.id),t.setParent(E,i.id,N))}if(ce.info("(Insert) Node XXX"+E+": "+JSON.stringify(t.node(E))),_&&_.clusterNode){ce.info("Cluster identified",E,_.width,t.node(E));let{ranksep:N,nodesep:M}=t.graph();_.graph.setGraph({..._.graph.graph(),ranksep:N,nodesep:M});let P=await tae(v,_.graph,r,n,t.node(E),s),V=P.elem;Ai(_,V),_.diff=P.diff||0,ce.info("Node bounds (abc123)",E,_,_.width,_.x,_.y),Vie(V,_),ce.warn("Recursive render complete ",V,_)}else t.children(E).length>0?(ce.info("Cluster - the non recursive path XXX",E,_.id,_,t),ce.info(m1(_.id,t)),Jr[_.id]={id:m1(_.id,t),node:_}):(ce.info("Node - the non recursive path",E,_.id,_),await ex(v,t.node(E),o))})),t.edges().forEach(function(E){let _=t.edge(E.v,E.w,E.name);ce.info("Edge "+E.v+" -> "+E.w+": "+JSON.stringify(E)),ce.info("Edge "+E.v+" -> "+E.w+": ",E," ",JSON.stringify(t.edge(E))),ce.info("Fix",Jr,"ids:",E.v,E.w,"Translating: ",Jr[E.v],Jr[E.w]),Xw(g,_)}),t.edges().forEach(function(E){ce.info("Edge "+E.v+" -> "+E.w+": "+JSON.stringify(E))}),ce.info("#############################################"),ce.info("###                Layout                 ###"),ce.info("#############################################"),ce.info(t),Il(t),ce.info("Graph after layout:",fc(t));let x=0,{subGraphTitleTotalMargin:k}=yp(s);return Tie(t).forEach(function(E){let _=t.node(E);ce.info("Position "+E+": "+JSON.stringify(t.node(E))),ce.info("Position "+E+": ("+_.x,","+_.y,") width: ",_.width," height: ",_.height),_&&_.clusterNode?(_.y+=k,tx(_)):t.children(E).length>0?(_.height+=k,Hie(h,_),Jr[_.id].node=_):(_.y+=k/2,tx(_))}),t.edges().forEach(function(E){let _=t.edge(E);ce.info("Edge "+E.v+" -> "+E.w+": "+JSON.stringify(_),_),_.points.forEach(M=>M.y+=k/2);let N=Kw(p,E,_,Jr,r,t,n);jw(_,N)}),t.nodes().forEach(function(E){let _=t.node(E);ce.info(E,_.type,_.diff),_.type==="group"&&(x=_.diff)}),{elem:u,diff:x}},"recursiveRender"),y1=a(async(e,t,r,n,i)=>{Fw(e,r,n,i),qie(),eae(),Wie(),yie(),ce.warn("Graph at first:",JSON.stringify(fc(t))),bie(t),ce.warn("Graph after:",JSON.stringify(fc(t)));let s=we();await tae(e,t,n,i,void 0,s)},"render")});var rae,CFe,nae,iae,SFe,_Fe,rx,ER=L(()=>{"use strict";Ua();Wr();Vr();kn();Qw();hw();ar();Ln();kn();si();rae={},CFe=a(function(e){let t=Object.keys(e);for(let r of t)rae[r]=e[r]},"setConf"),nae=a(async function(e,t,r,n,i,s){let o=n.select(`[id="${r}"]`),u=e.keys();for(let h of u){let p=e.get(h),g="default";p.classes.length>0&&(g=p.classes.join(" ")),g=g+" flowchart-label";let v=Jo(p.styles),x=p.text!==void 0?p.text:p.id,k;if(ce.info("vertex",p,p.labelType),p.labelType==="markdown")ce.info("vertex",p,p.labelType);else if(yi(we().flowchart.htmlLabels))k=u1(o,{label:x}).node(),k.parentNode.removeChild(k);else{let M=i.createElementNS("http://www.w3.org/2000/svg","text");M.setAttribute("style",v.labelStyle.replace("color:","fill:"));let P=x.split(Ct.lineBreakRegex);for(let V of P){let H=i.createElementNS("http://www.w3.org/2000/svg","tspan");H.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),H.setAttribute("dy","1em"),H.setAttribute("x","1"),H.textContent=V,M.appendChild(H)}k=M}let E=0,_="";switch(p.type){case"round":E=5,_="rect";break;case"square":_="rect";break;case"diamond":_="question";break;case"hexagon":_="hexagon";break;case"odd":_="rect_left_inv_arrow";break;case"lean_right":_="lean_right";break;case"lean_left":_="lean_left";break;case"trapezoid":_="trapezoid";break;case"inv_trapezoid":_="inv_trapezoid";break;case"odd_right":_="rect_left_inv_arrow";break;case"circle":_="circle";break;case"ellipse":_="ellipse";break;case"stadium":_="stadium";break;case"subroutine":_="subroutine";break;case"cylinder":_="cylinder";break;case"group":_="rect";break;case"doublecircle":_="doublecircle";break;default:_="rect"}let N=await qc(x,we());t.setNode(p.id,{labelStyle:v.labelStyle,shape:_,labelText:N,labelType:p.labelType,rx:E,ry:E,class:g,style:v.style,id:p.id,link:p.link,linkTarget:p.linkTarget,tooltip:s.db.getTooltip(p.id)||"",domId:s.db.lookUpDomId(p.id),haveCallback:p.haveCallback,width:p.type==="group"?500:void 0,dir:p.dir,type:p.type,props:p.props,padding:we().flowchart.padding}),ce.info("setNode",{labelStyle:v.labelStyle,labelType:p.labelType,shape:_,labelText:N,rx:E,ry:E,class:g,style:v.style,id:p.id,domId:s.db.lookUpDomId(p.id),width:p.type==="group"?500:void 0,type:p.type,dir:p.dir,props:p.props,padding:we().flowchart.padding})}},"addVertices"),iae=a(async function(e,t,r){ce.info("abc78 edges = ",e);let n=0,i={},s,o;if(e.defaultStyle!==void 0){let u=Jo(e.defaultStyle);s=u.style,o=u.labelStyle}for(let u of e){n++;let h=Jh(u.start,u.end,{counter:n,prefix:"L"});i[h]===void 0?(i[h]=0,ce.info("abc78 new entry",h,i[h])):(i[h]++,ce.info("abc78 new entry",h,i[h]));let p=`${h}_${i[h]}`;ce.info("abc78 new link id to be used is",h,p,i[h]);let g="LS-"+u.start,v="LE-"+u.end,x={style:"",labelStyle:""};switch(x.minlen=u.length||1,u.type==="arrow_open"?x.arrowhead="none":x.arrowhead="normal",x.arrowTypeStart="arrow_open",x.arrowTypeEnd="arrow_open",u.type){case"double_arrow_cross":x.arrowTypeStart="arrow_cross";case"arrow_cross":x.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":x.arrowTypeStart="arrow_point";case"arrow_point":x.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":x.arrowTypeStart="arrow_circle";case"arrow_circle":x.arrowTypeEnd="arrow_circle";break}let k="",E="";switch(u.stroke){case"normal":k="fill:none;",s!==void 0&&(k=s),o!==void 0&&(E=o),x.thickness="normal",x.pattern="solid";break;case"dotted":x.thickness="normal",x.pattern="dotted",x.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":x.thickness="thick",x.pattern="solid",x.style="stroke-width: 3.5px;fill:none;";break;case"invisible":x.thickness="invisible",x.pattern="solid",x.style="stroke-width: 0;fill:none;";break}if(u.style!==void 0){let _=Jo(u.style);k=_.style,E=_.labelStyle}x.style=x.style+=k,x.labelStyle=x.labelStyle+=E,u.interpolate!==void 0?x.curve=hu(u.interpolate,$a):e.defaultInterpolate!==void 0?x.curve=hu(e.defaultInterpolate,$a):x.curve=hu(rae.curve,$a),u.text===void 0?u.style!==void 0&&(x.arrowheadStyle="fill: #333"):(x.arrowheadStyle="fill: #333",x.labelpos="c"),x.labelType=u.labelType,x.label=await qc(u.text.replace(Ct.lineBreakRegex,`
`),we()),u.style===void 0&&(x.style=x.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),x.labelStyle=x.labelStyle.replace("color:","fill:"),x.id=p,x.classes="flowchart-link "+g+" "+v,t.setEdge(u.start,u.end,x,n)}},"addEdges"),SFe=a(function(e,t){return t.db.getClasses()},"getClasses"),_Fe=a(async function(e,t,r,n){ce.info("Drawing flowchart");let i=n.db.getDirection();i===void 0&&(i="TD");let{securityLevel:s,flowchart:o}=we(),u=o.nodeSpacing||50,h=o.rankSpacing||50,p;s==="sandbox"&&(p=ut("#i"+t));let g=s==="sandbox"?ut(p.nodes()[0].contentDocument.body):ut("body"),v=s==="sandbox"?p.nodes()[0].contentDocument:document,x=new fn({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:u,ranksep:h,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}}),k,E=n.db.getSubGraphs();ce.info("Subgraphs - ",E);for(let O=E.length-1;O>=0;O--)k=E[O],ce.info("Subgraph - ",k),n.db.addVertex(k.id,{text:k.title,type:k.labelType},"group",void 0,k.classes,k.dir);let _=n.db.getVertices(),N=n.db.getEdges();ce.info("Edges",N);let M=0;for(M=E.length-1;M>=0;M--){k=E[M],Hm("cluster").append("text");for(let O=0;O<k.nodes.length;O++)ce.info("Setting up subgraphs",k.nodes[O],k.id),x.setParent(k.nodes[O],k.id)}await nae(_,x,t,g,v,n),await iae(N,x,n);let P=g.select(`[id="${t}"]`),V=g.select("#"+t+" g");if(await y1(V,x,["point","circle","cross"],"flowchart",t),wr.insertTitle(P,"flowchartTitleText",o.titleTopMargin,n.db.getDiagramTitle()),tl(x,P,o.diagramPadding,o.useMaxWidth),n.db.indexNodes("subGraph"+M),!o.htmlLabels){let O=v.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let I of O){let z=I.getBBox(),G=v.createElementNS("http://www.w3.org/2000/svg","rect");G.setAttribute("rx",0),G.setAttribute("ry",0),G.setAttribute("width",z.width),G.setAttribute("height",z.height),I.insertBefore(G,I.firstChild)}}[..._.keys()].forEach(O=>{let I=_.get(O);if(I.link){let z=ut("#"+t+' [id="'+O+'"]');if(z){let G=v.createElementNS("http://www.w3.org/2000/svg","a");G.setAttributeNS("http://www.w3.org/2000/svg","class",I.classes.join(" ")),G.setAttributeNS("http://www.w3.org/2000/svg","href",I.link),G.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),s==="sandbox"?G.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):I.linkTarget&&G.setAttributeNS("http://www.w3.org/2000/svg","target",I.linkTarget);let F=z.insert(function(){return G},":first-child"),j=z.select(".label-container");j&&F.append(function(){return j.node()});let D=z.select(".label");D&&F.append(function(){return D.node()})}}})},"draw"),rx={setConf:CFe,addVertices:nae,addEdges:iae,getClasses:SFe,draw:_Fe}});var AFe,LFe,Zw,CR=L(()=>{"use strict";Zu();AFe=a((e,t)=>{let r=o2,n=r(e,"r"),i=r(e,"g"),s=r(e,"b");return _l(n,i,s,t)},"fade"),LFe=a(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }

  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${AFe(e.edgeLabelBackground,.5)};
    // background-color: 
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),Zw=LFe});var aae={};Hr(aae,{diagram:()=>DFe});var DFe,sae=L(()=>{"use strict";mL();bL();pie();ER();CR();DFe={parser:Jk,db:Ed,renderer:rx,styles:Zw,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,die.setConf(e.flowchart),Ed.clear(),Ed.setGen("gen-1")}}});var SR={};Hr(SR,{diagram:()=>NFe});var NFe,_R=L(()=>{"use strict";mL();bL();ER();CR();Vr();NFe={parser:Jk,db:Ed,renderer:rx,styles:Zw,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,sK({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),rx.setConf(e.flowchart),Ed.clear(),Ed.setGen("gen-2")}}});var AR,hae,fae=L(()=>{"use strict";AR=function(){var e=a(function(G,F,j,D){for(j=j||{},D=G.length;D--;j[G[D]]=F);return j},"o"),t=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],i=[1,12],s=[1,13],o=[1,14],u=[1,15],h=[1,21],p=[1,22],g=[1,23],v=[1,24],x=[1,25],k=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],E=[1,34],_=[27,28,46,47],N=[41,42,43,44,45],M=[17,34],P=[1,54],V=[1,53],H=[17,34,36,38],O={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:a(function(F,j,D,X,B,Q,le){var J=Q.length-1;switch(B){case 1:break;case 2:this.$=[];break;case 3:Q[J-1].push(Q[J]),this.$=Q[J-1];break;case 4:case 5:this.$=Q[J];break;case 6:case 7:this.$=[];break;case 8:X.addEntity(Q[J-4]),X.addEntity(Q[J-2]),X.addRelationship(Q[J-4],Q[J],Q[J-2],Q[J-3]);break;case 9:X.addEntity(Q[J-3]),X.addAttributes(Q[J-3],Q[J-1]);break;case 10:X.addEntity(Q[J-2]);break;case 11:X.addEntity(Q[J]);break;case 12:X.addEntity(Q[J-6],Q[J-4]),X.addAttributes(Q[J-6],Q[J-1]);break;case 13:X.addEntity(Q[J-5],Q[J-3]);break;case 14:X.addEntity(Q[J-3],Q[J-1]);break;case 15:case 16:this.$=Q[J].trim(),X.setAccTitle(this.$);break;case 17:case 18:this.$=Q[J].trim(),X.setAccDescription(this.$);break;case 19:case 43:this.$=Q[J];break;case 20:case 41:case 42:this.$=Q[J].replace(/"/g,"");break;case 21:case 29:this.$=[Q[J]];break;case 22:Q[J].push(Q[J-1]),this.$=Q[J];break;case 23:this.$={attributeType:Q[J-1],attributeName:Q[J]};break;case 24:this.$={attributeType:Q[J-2],attributeName:Q[J-1],attributeKeyTypeList:Q[J]};break;case 25:this.$={attributeType:Q[J-2],attributeName:Q[J-1],attributeComment:Q[J]};break;case 26:this.$={attributeType:Q[J-3],attributeName:Q[J-2],attributeKeyTypeList:Q[J-1],attributeComment:Q[J]};break;case 27:case 28:case 31:this.$=Q[J];break;case 30:Q[J-2].push(Q[J]),this.$=Q[J-2];break;case 32:this.$=Q[J].replace(/"/g,"");break;case 33:this.$={cardA:Q[J],relType:Q[J-1],cardB:Q[J-2]};break;case 34:this.$=X.Cardinality.ZERO_OR_ONE;break;case 35:this.$=X.Cardinality.ZERO_OR_MORE;break;case 36:this.$=X.Cardinality.ONE_OR_MORE;break;case 37:this.$=X.Cardinality.ONLY_ONE;break;case 38:this.$=X.Cardinality.MD_PARENT;break;case 39:this.$=X.Identification.NON_IDENTIFYING;break;case 40:this.$=X.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:i,26:s,27:o,28:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:16,11:9,20:r,22:n,24:i,26:s,27:o,28:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:h,42:p,43:g,44:v,45:x}),{21:[1,26]},{23:[1,27]},{25:[1,28]},e(t,[2,18]),e(k,[2,19]),e(k,[2,20]),e(t,[2,4]),{11:29,27:o,28:u},{16:30,17:[1,31],29:32,30:33,34:E},{11:35,27:o,28:u},{40:36,46:[1,37],47:[1,38]},e(_,[2,34]),e(_,[2,35]),e(_,[2,36]),e(_,[2,37]),e(_,[2,38]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{13:[1,39]},{17:[1,40]},e(t,[2,10]),{16:41,17:[2,21],29:32,30:33,34:E},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:h,42:p,43:g,44:v,45:x},e(N,[2,39]),e(N,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},e(t,[2,9]),{17:[2,22]},e(M,[2,23],{32:50,33:51,35:52,37:P,38:V}),e([17,34,37,38],[2,28]),e(t,[2,14],{15:[1,55]}),e([27,28],[2,33]),e(t,[2,8]),e(t,[2,41]),e(t,[2,42]),e(t,[2,43]),e(M,[2,24],{33:56,36:[1,57],38:V}),e(M,[2,25]),e(H,[2,29]),e(M,[2,32]),e(H,[2,31]),{16:58,17:[1,59],29:32,30:33,34:E},e(M,[2,26]),{35:60,37:P},{17:[1,61]},e(t,[2,13]),e(H,[2,30]),e(t,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:a(function(F,j){if(j.recoverable)this.trace(F);else{var D=new Error(F);throw D.hash=j,D}},"parseError"),parse:a(function(F){var j=this,D=[0],X=[],B=[null],Q=[],le=this.table,J="",ie=0,re=0,Z=0,Y=2,ue=1,Ae=Q.slice.call(arguments,1),ae=Object.create(this.lexer),Ke={yy:{}};for(var Ie in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ie)&&(Ke.yy[Ie]=this.yy[Ie]);ae.setInput(F,Ke.yy),Ke.yy.lexer=ae,Ke.yy.parser=this,typeof ae.yylloc>"u"&&(ae.yylloc={});var $e=ae.yylloc;Q.push($e);var Xe=ae.options&&ae.options.ranges;typeof Ke.yy.parseError=="function"?this.parseError=Ke.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function He(Gt){D.length=D.length-2*Gt,B.length=B.length-Gt,Q.length=Q.length-Gt}a(He,"popStack");function Ne(){var Gt;return Gt=X.pop()||ae.lex()||ue,typeof Gt!="number"&&(Gt instanceof Array&&(X=Gt,Gt=X.pop()),Gt=j.symbols_[Gt]||Gt),Gt}a(Ne,"lex");for(var _e,Me,Ee,Oe,at,pe,Bt={},Pe,gt,mt,Nt;;){if(Ee=D[D.length-1],this.defaultActions[Ee]?Oe=this.defaultActions[Ee]:((_e===null||typeof _e>"u")&&(_e=Ne()),Oe=le[Ee]&&le[Ee][_e]),typeof Oe>"u"||!Oe.length||!Oe[0]){var Ut="";Nt=[];for(Pe in le[Ee])this.terminals_[Pe]&&Pe>Y&&Nt.push("'"+this.terminals_[Pe]+"'");ae.showPosition?Ut="Parse error on line "+(ie+1)+`:
`+ae.showPosition()+`
Expecting `+Nt.join(", ")+", got '"+(this.terminals_[_e]||_e)+"'":Ut="Parse error on line "+(ie+1)+": Unexpected "+(_e==ue?"end of input":"'"+(this.terminals_[_e]||_e)+"'"),this.parseError(Ut,{text:ae.match,token:this.terminals_[_e]||_e,line:ae.yylineno,loc:$e,expected:Nt})}if(Oe[0]instanceof Array&&Oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+_e);switch(Oe[0]){case 1:D.push(_e),B.push(ae.yytext),Q.push(ae.yylloc),D.push(Oe[1]),_e=null,Me?(_e=Me,Me=null):(re=ae.yyleng,J=ae.yytext,ie=ae.yylineno,$e=ae.yylloc,Z>0&&Z--);break;case 2:if(gt=this.productions_[Oe[1]][1],Bt.$=B[B.length-gt],Bt._$={first_line:Q[Q.length-(gt||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(gt||1)].first_column,last_column:Q[Q.length-1].last_column},Xe&&(Bt._$.range=[Q[Q.length-(gt||1)].range[0],Q[Q.length-1].range[1]]),pe=this.performAction.apply(Bt,[J,re,ie,Ke.yy,Oe[1],B,Q].concat(Ae)),typeof pe<"u")return pe;gt&&(D=D.slice(0,-1*gt*2),B=B.slice(0,-1*gt),Q=Q.slice(0,-1*gt)),D.push(this.productions_[Oe[1]][0]),B.push(Bt.$),Q.push(Bt._$),mt=le[D[D.length-2]][D[D.length-1]],D.push(mt);break;case 3:return!0}}return!0},"parse")},I=function(){var G={EOF:1,parseError:a(function(j,D){if(this.yy.parser)this.yy.parser.parseError(j,D);else throw new Error(j)},"parseError"),setInput:function(F,j){return this.yy=j||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var j=F.match(/(?:\r\n?|\n).*/g);return j?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),F},unput:function(F){var j=F.length,D=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-j),this.offset-=j;var X=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),D.length-1&&(this.yylineno-=D.length-1);var B=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:D?(D.length===X.length?this.yylloc.first_column:0)+X[X.length-D.length].length-D[0].length:this.yylloc.first_column-j},this.options.ranges&&(this.yylloc.range=[B[0],B[0]+this.yyleng-j]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(F){this.unput(this.match.slice(F))},pastInput:function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var F=this.match;return F.length<20&&(F+=this._input.substr(0,20-F.length)),(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var F=this.pastInput(),j=new Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+j+"^"},test_match:function(F,j){var D,X,B;if(this.options.backtrack_lexer&&(B={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(B.yylloc.range=this.yylloc.range.slice(0))),X=F[0].match(/(?:\r\n?|\n).*/g),X&&(this.yylineno+=X.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-X[X.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],D=this.performAction.call(this,this.yy,this,j,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),D)return D;if(this._backtrack){for(var Q in B)this[Q]=B[Q];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var F,j,D,X;this._more||(this.yytext="",this.match="");for(var B=this._currentRules(),Q=0;Q<B.length;Q++)if(D=this._input.match(this.rules[B[Q]]),D&&(!j||D[0].length>j[0].length)){if(j=D,X=Q,this.options.backtrack_lexer){if(F=this.test_match(D,B[Q]),F!==!1)return F;if(this._backtrack){j=!1;continue}else return!1}else if(!this.options.flex)break}return j?(F=this.test_match(j,B[X]),F!==!1?F:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var j=this.next();return j||this.lex()},"lex"),begin:a(function(j){this.conditionStack.push(j)},"begin"),popState:a(function(){var j=this.conditionStack.length-1;return j>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(j){return j=this.conditionStack.length-1-Math.abs(j||0),j>=0?this.conditionStack[j]:"INITIAL"},"topState"),pushState:a(function(j){this.begin(j)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(j,D,X,B){var Q=B;switch(X){case 0:return this.begin("acc_title"),22;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),24;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;break;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;break;case 22:return D.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return D.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return G}();O.lexer=I;function z(){this.yy={}}return a(z,"Parser"),z.prototype=O,O.Parser=z,new z}();AR.parser=AR;hae=AR});var Gd,LR,FFe,zFe,dae,$Fe,GFe,VFe,qFe,UFe,pae,mae=L(()=>{"use strict";ar();Vr();$i();Gd=new Map,LR=[],FFe={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},zFe={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},dae=a(function(e,t=void 0){return Gd.has(e)?Gd.has(e)&&!Gd.get(e).alias&&t&&(Gd.get(e).alias=t,ce.info(`Add alias '${t}' to entity '${e}'`)):(Gd.set(e,{attributes:[],alias:t}),ce.info("Added new entity :",e)),Gd.get(e)},"addEntity"),$Fe=a(()=>Gd,"getEntities"),GFe=a(function(e,t){let r=dae(e),n;for(n=t.length-1;n>=0;n--)r.attributes.push(t[n]),ce.debug("Added attribute ",t[n].attributeName)},"addAttributes"),VFe=a(function(e,t,r,n){let i={entityA:e,roleA:t,entityB:r,relSpec:n};LR.push(i),ce.debug("Added new relationship :",i)},"addRelationship"),qFe=a(()=>LR,"getRelationships"),UFe=a(function(){Gd=new Map,LR=[],nn()},"clear"),pae={Cardinality:FFe,Identification:zFe,getConfig:()=>we().er,addEntity:dae,addAttributes:GFe,getEntities:$Fe,addRelationship:VFe,getRelationships:qFe,clear:UFe,setAccTitle:hn,getAccTitle:pn,setAccDescription:mn,getAccDescription:gn,setDiagramTitle:Dn,getDiagramTitle:wn}});var mc,HFe,vu,gae=L(()=>{"use strict";mc={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},HFe=a(function(e,t){let r;e.append("defs").append("marker").attr("id",mc.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",mc.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",mc.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",mc.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",mc.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",mc.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",mc.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",mc.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",mc.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",mc.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),vu={ERMarkers:mc,insertMarkers:HFe}});var yae,vae=L(()=>{"use strict";yae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function WFe(e){return typeof e=="string"&&yae.test(e)}var xae,bae=L(()=>{"use strict";vae();a(WFe,"validate");xae=WFe});function kae(e,t=0){return Fs[e[t+0]]+Fs[e[t+1]]+Fs[e[t+2]]+Fs[e[t+3]]+"-"+Fs[e[t+4]]+Fs[e[t+5]]+"-"+Fs[e[t+6]]+Fs[e[t+7]]+"-"+Fs[e[t+8]]+Fs[e[t+9]]+"-"+Fs[e[t+10]]+Fs[e[t+11]]+Fs[e[t+12]]+Fs[e[t+13]]+Fs[e[t+14]]+Fs[e[t+15]]}var Fs,wae=L(()=>{"use strict";Fs=[];for(let e=0;e<256;++e)Fs.push((e+256).toString(16).slice(1));a(kae,"unsafeStringify")});function YFe(e){if(!xae(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Tae,Eae=L(()=>{"use strict";bae();a(YFe,"parse");Tae=YFe});function XFe(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function DR(e,t,r){function n(i,s,o,u){var h;if(typeof i=="string"&&(i=XFe(i)),typeof s=="string"&&(s=Tae(s)),((h=s)===null||h===void 0?void 0:h.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+i.length);if(p.set(s),p.set(i,s.length),p=r(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,o){u=u||0;for(let g=0;g<16;++g)o[u+g]=p[g];return o}return kae(p)}a(n,"generateUUID");try{n.name=e}catch{}return n.DNS=jFe,n.URL=KFe,n}var jFe,KFe,Cae=L(()=>{"use strict";wae();Eae();a(XFe,"stringToBytes");jFe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",KFe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";a(DR,"v35")});function QFe(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function RR(e,t){return e<<t|e>>>32-t}function ZFe(e){let t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let o=unescape(encodeURIComponent(e));e=[];for(let u=0;u<o.length;++u)e.push(o.charCodeAt(u))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let n=e.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let o=0;o<i;++o){let u=new Uint32Array(16);for(let h=0;h<16;++h)u[h]=e[o*64+h*4]<<24|e[o*64+h*4+1]<<16|e[o*64+h*4+2]<<8|e[o*64+h*4+3];s[o]=u}s[i-1][14]=(e.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(e.length-1)*8&4294967295;for(let o=0;o<i;++o){let u=new Uint32Array(80);for(let k=0;k<16;++k)u[k]=s[o][k];for(let k=16;k<80;++k)u[k]=RR(u[k-3]^u[k-8]^u[k-14]^u[k-16],1);let h=r[0],p=r[1],g=r[2],v=r[3],x=r[4];for(let k=0;k<80;++k){let E=Math.floor(k/20),_=RR(h,5)+QFe(E,p,g,v)+x+t[E]+u[k]>>>0;x=v,v=g,g=RR(p,30)>>>0,p=h,h=_}r[0]=r[0]+h>>>0,r[1]=r[1]+p>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+v>>>0,r[4]=r[4]+x>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var Sae,_ae=L(()=>{"use strict";a(QFe,"f");a(RR,"ROTL");a(ZFe,"sha1");Sae=ZFe});var JFe,IR,Aae=L(()=>{"use strict";Cae();_ae();JFe=DR("v5",80,Sae),IR=JFe});var Lae=L(()=>{"use strict";Aae()});function uze(e="",t=""){let r=e.replace(eze,"");return`${Rae(t)}${Rae(r)}${IR(e,lze)}`}function Rae(e=""){return e.length>0?`${e}-`:""}var eze,Ha,nx,tze,rze,nze,ize,Iae,aze,Dae,sze,oze,lze,Mae,Nae=L(()=>{"use strict";Ua();Wr();fp();Vr();ar();kn();gae();si();Ln();Lae();eze=/[^\dA-Za-z](\W)*/g,Ha={},nx=new Map,tze=a(function(e){let t=Object.keys(e);for(let r of t)Ha[r]=e[r]},"setConf"),rze=a((e,t,r)=>{let n=Ha.entityPadding/3,i=Ha.entityPadding/3,s=Ha.fontSize*.85,o=t.node().getBBox(),u=[],h=!1,p=!1,g=0,v=0,x=0,k=0,E=o.height+n*2,_=1;r.forEach(V=>{V.attributeKeyTypeList!==void 0&&V.attributeKeyTypeList.length>0&&(h=!0),V.attributeComment!==void 0&&(p=!0)}),r.forEach(V=>{let H=`${t.node().id}-attr-${_}`,O=0,I=sd(V.attributeType),z=e.append("text").classed("er entityLabel",!0).attr("id",`${H}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",s+"px").text(I),G=e.append("text").classed("er entityLabel",!0).attr("id",`${H}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",s+"px").text(V.attributeName),F={};F.tn=z,F.nn=G;let j=z.node().getBBox(),D=G.node().getBBox();if(g=Math.max(g,j.width),v=Math.max(v,D.width),O=Math.max(j.height,D.height),h){let X=V.attributeKeyTypeList!==void 0?V.attributeKeyTypeList.join(","):"",B=e.append("text").classed("er entityLabel",!0).attr("id",`${H}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",s+"px").text(X);F.kn=B;let Q=B.node().getBBox();x=Math.max(x,Q.width),O=Math.max(O,Q.height)}if(p){let X=e.append("text").classed("er entityLabel",!0).attr("id",`${H}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",s+"px").text(V.attributeComment||"");F.cn=X;let B=X.node().getBBox();k=Math.max(k,B.width),O=Math.max(O,B.height)}F.height=O,u.push(F),E+=O+n*2,_+=1});let N=4;h&&(N+=2),p&&(N+=2);let M=g+v+x+k,P={width:Math.max(Ha.minEntityWidth,Math.max(o.width+Ha.entityPadding*2,M+i*N)),height:r.length>0?E:Math.max(Ha.minEntityHeight,o.height+Ha.entityPadding*2)};if(r.length>0){let V=Math.max(0,(P.width-M-i*N)/(N/2));t.attr("transform","translate("+P.width/2+","+(n+o.height/2)+")");let H=o.height+n*2,O="attributeBoxOdd";u.forEach(I=>{let z=H+n+I.height/2;I.tn.attr("transform","translate("+i+","+z+")");let G=e.insert("rect","#"+I.tn.node().id).classed(`er ${O}`,!0).attr("x",0).attr("y",H).attr("width",g+i*2+V).attr("height",I.height+n*2),F=parseFloat(G.attr("x"))+parseFloat(G.attr("width"));I.nn.attr("transform","translate("+(F+i)+","+z+")");let j=e.insert("rect","#"+I.nn.node().id).classed(`er ${O}`,!0).attr("x",F).attr("y",H).attr("width",v+i*2+V).attr("height",I.height+n*2),D=parseFloat(j.attr("x"))+parseFloat(j.attr("width"));if(h){I.kn.attr("transform","translate("+(D+i)+","+z+")");let X=e.insert("rect","#"+I.kn.node().id).classed(`er ${O}`,!0).attr("x",D).attr("y",H).attr("width",x+i*2+V).attr("height",I.height+n*2);D=parseFloat(X.attr("x"))+parseFloat(X.attr("width"))}p&&(I.cn.attr("transform","translate("+(D+i)+","+z+")"),e.insert("rect","#"+I.cn.node().id).classed(`er ${O}`,"true").attr("x",D).attr("y",H).attr("width",k+i*2+V).attr("height",I.height+n*2)),H+=I.height+n*2,O=O==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else P.height=Math.max(Ha.minEntityHeight,E),t.attr("transform","translate("+P.width/2+","+P.height/2+")");return P},"drawAttributes"),nze=a(function(e,t,r){let n=[...t.keys()],i;return n.forEach(function(s){let o=uze(s,"entity");nx.set(s,o);let u=e.append("g").attr("id",o);i=i===void 0?o:i;let h="text-"+o,p=u.append("text").classed("er entityLabel",!0).attr("id",h).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",we().fontFamily).style("font-size",Ha.fontSize+"px").text(t.get(s).alias??s),{width:g,height:v}=rze(u,p,t.get(s).attributes),k=u.insert("rect","#"+h).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",g).attr("height",v).node().getBBox();r.setNode(o,{width:k.width,height:k.height,shape:"rect",id:o})}),i},"drawEntities"),ize=a(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")})},"adjustEntities"),Iae=a(function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},"getEdgeName"),aze=a(function(e,t){return e.forEach(function(r){t.setEdge(nx.get(r.entityA),nx.get(r.entityB),{relationship:r},Iae(r))}),e},"addRelationships"),Dae=0,sze=a(function(e,t,r,n,i){Dae++;let s=r.edge(nx.get(t.entityA),nx.get(t.entityB),Iae(t)),o=Rs().x(function(E){return E.x}).y(function(E){return E.y}).curve(Jl),u=e.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",o(s.points)).style("stroke",Ha.stroke).style("fill","none");t.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&u.attr("stroke-dasharray","8,8");let h="";switch(Ha.arrowMarkerAbsolute&&(h=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,h=h.replace(/\(/g,"\\("),h=h.replace(/\)/g,"\\)")),t.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:u.attr("marker-end","url("+h+"#"+vu.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:u.attr("marker-end","url("+h+"#"+vu.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:u.attr("marker-end","url("+h+"#"+vu.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:u.attr("marker-end","url("+h+"#"+vu.ERMarkers.ONLY_ONE_END+")");break;case i.db.Cardinality.MD_PARENT:u.attr("marker-end","url("+h+"#"+vu.ERMarkers.MD_PARENT_END+")");break}switch(t.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:u.attr("marker-start","url("+h+"#"+vu.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:u.attr("marker-start","url("+h+"#"+vu.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:u.attr("marker-start","url("+h+"#"+vu.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:u.attr("marker-start","url("+h+"#"+vu.ERMarkers.ONLY_ONE_START+")");break;case i.db.Cardinality.MD_PARENT:u.attr("marker-start","url("+h+"#"+vu.ERMarkers.MD_PARENT_START+")");break}let p=u.node().getTotalLength(),g=u.node().getPointAtLength(p*.5),v="rel"+Dae,k=e.append("text").classed("er relationshipLabel",!0).attr("id",v).attr("x",g.x).attr("y",g.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",we().fontFamily).style("font-size",Ha.fontSize+"px").text(t.roleA).node().getBBox();e.insert("rect","#"+v).classed("er relationshipLabelBox",!0).attr("x",g.x-k.width/2).attr("y",g.y-k.height/2).attr("width",k.width).attr("height",k.height)},"drawRelationshipFromLayout"),oze=a(function(e,t,r,n){Ha=we().er,ce.info("Drawing ER diagram");let i=we().securityLevel,s;i==="sandbox"&&(s=ut("#i"+t));let u=(i==="sandbox"?ut(s.nodes()[0].contentDocument.body):ut("body")).select(`[id='${t}']`);vu.insertMarkers(u,Ha);let h;h=new fn({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Ha.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let p=nze(u,n.db.getEntities(),h),g=aze(n.db.getRelationships(),h);Il(h),ize(u,h),g.forEach(function(_){sze(u,_,h,p,n)});let v=Ha.diagramPadding;wr.insertTitle(u,"entityTitleText",Ha.titleTopMargin,n.db.getDiagramTitle());let x=u.node().getBBox(),k=x.width+v*2,E=x.height+v*2;rn(u,E,k,Ha.useMaxWidth),u.attr("viewBox",`${x.x-v} ${x.y-v} ${k} ${E}`)},"draw"),lze="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";a(uze,"generateId");a(Rae,"strWithHyphen");Mae={setConf:tze,draw:oze}});var cze,Oae,Pae=L(()=>{"use strict";cze=a(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),Oae=cze});var Bae={};Hr(Bae,{diagram:()=>hze});var hze,Fae=L(()=>{"use strict";fae();mae();Nae();Pae();hze={parser:hae,db:pae,renderer:Mae,styles:Oae}});var MR,Gae,Vae=L(()=>{"use strict";MR=function(){var e=a(function(O,I,z,G){for(z=z||{},G=O.length;G--;z[O[G]]=I);return z},"o"),t=[1,3],r=[1,6],n=[1,4],i=[1,5],s=[2,5],o=[1,12],u=[5,7,13,19,21,23,24,26,28,31,37,40,47],h=[7,13,19,21,23,24,26,28,31,37,40],p=[7,12,13,19,21,23,24,26,28,31,37,40],g=[7,13,47],v=[1,42],x=[1,41],k=[7,13,29,32,35,38,47],E=[1,55],_=[1,56],N=[1,57],M=[7,13,32,35,42,47],P={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,GG:5,document:6,EOF:7,":":8,DIR:9,options:10,body:11,OPT:12,NL:13,line:14,statement:15,commitStatement:16,mergeStatement:17,cherryPickStatement:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,section:24,branchStatement:25,CHECKOUT:26,ref:27,BRANCH:28,ORDER:29,NUM:30,CHERRY_PICK:31,COMMIT_ID:32,STR:33,PARENT_COMMIT:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,ID:46,";":47,$accept:0,$end:1},terminals_:{2:"error",5:"GG",7:"EOF",8:":",9:"DIR",12:"OPT",13:"NL",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"section",26:"CHECKOUT",28:"BRANCH",29:"ORDER",30:"NUM",31:"CHERRY_PICK",32:"COMMIT_ID",33:"STR",34:"PARENT_COMMIT",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",46:"ID",47:";"},productions_:[0,[3,2],[3,3],[3,4],[3,5],[6,0],[6,2],[10,2],[10,1],[11,0],[11,2],[14,2],[14,1],[15,1],[15,1],[15,1],[15,2],[15,2],[15,1],[15,1],[15,1],[15,2],[25,2],[25,4],[18,3],[18,5],[18,5],[18,7],[18,7],[18,5],[18,5],[18,5],[18,7],[18,7],[18,7],[18,7],[17,2],[17,4],[17,4],[17,4],[17,6],[17,6],[17,6],[17,6],[17,6],[17,6],[17,8],[17,8],[17,8],[17,8],[17,8],[17,8],[16,2],[16,3],[16,3],[16,5],[16,5],[16,3],[16,5],[16,5],[16,5],[16,5],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,3],[16,5],[16,5],[16,5],[16,5],[16,5],[16,5],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[41,0],[41,1],[39,1],[39,1],[39,1],[27,1],[27,1],[4,1],[4,1],[4,1]],performAction:a(function(I,z,G,F,j,D,X){var B=D.length-1;switch(j){case 2:return D[B];case 3:return D[B-1];case 4:return F.setDirection(D[B-3]),D[B-1];break;case 6:F.setOptions(D[B-1]),this.$=D[B];break;case 7:D[B-1]+=D[B],this.$=D[B-1];break;case 9:this.$=[];break;case 10:D[B-1].push(D[B]),this.$=D[B-1];break;case 11:this.$=D[B-1];break;case 16:this.$=D[B].trim(),F.setAccTitle(this.$);break;case 17:case 18:this.$=D[B].trim(),F.setAccDescription(this.$);break;case 19:F.addSection(D[B].substr(8)),this.$=D[B].substr(8);break;case 21:F.checkout(D[B]);break;case 22:F.branch(D[B]);break;case 23:F.branch(D[B-2],D[B]);break;case 24:F.cherryPick(D[B],"",void 0);break;case 25:F.cherryPick(D[B-2],"",void 0,D[B]);break;case 26:F.cherryPick(D[B-2],"",D[B]);break;case 27:F.cherryPick(D[B-4],"",D[B],D[B-2]);break;case 28:F.cherryPick(D[B-4],"",D[B-2],D[B]);break;case 29:F.cherryPick(D[B],"",D[B-2]);break;case 30:F.cherryPick(D[B],"","");break;case 31:F.cherryPick(D[B-2],"","");break;case 32:F.cherryPick(D[B-4],"","",D[B-2]);break;case 33:F.cherryPick(D[B-4],"","",D[B]);break;case 34:F.cherryPick(D[B-2],"",D[B-4],D[B]);break;case 35:F.cherryPick(D[B-2],"","",D[B]);break;case 36:F.merge(D[B],"","","");break;case 37:F.merge(D[B-2],D[B],"","");break;case 38:F.merge(D[B-2],"",D[B],"");break;case 39:F.merge(D[B-2],"","",D[B]);break;case 40:F.merge(D[B-4],D[B],"",D[B-2]);break;case 41:F.merge(D[B-4],"",D[B],D[B-2]);break;case 42:F.merge(D[B-4],"",D[B-2],D[B]);break;case 43:F.merge(D[B-4],D[B-2],D[B],"");break;case 44:F.merge(D[B-4],D[B-2],"",D[B]);break;case 45:F.merge(D[B-4],D[B],D[B-2],"");break;case 46:F.merge(D[B-6],D[B-4],D[B-2],D[B]);break;case 47:F.merge(D[B-6],D[B],D[B-4],D[B-2]);break;case 48:F.merge(D[B-6],D[B-4],D[B],D[B-2]);break;case 49:F.merge(D[B-6],D[B-2],D[B-4],D[B]);break;case 50:F.merge(D[B-6],D[B],D[B-2],D[B-4]);break;case 51:F.merge(D[B-6],D[B-2],D[B],D[B-4]);break;case 52:F.commit(D[B]);break;case 53:F.commit("","",F.commitType.NORMAL,D[B]);break;case 54:F.commit("","",D[B],"");break;case 55:F.commit("","",D[B],D[B-2]);break;case 56:F.commit("","",D[B-2],D[B]);break;case 57:F.commit("",D[B],F.commitType.NORMAL,"");break;case 58:F.commit("",D[B-2],F.commitType.NORMAL,D[B]);break;case 59:F.commit("",D[B],F.commitType.NORMAL,D[B-2]);break;case 60:F.commit("",D[B-2],D[B],"");break;case 61:F.commit("",D[B],D[B-2],"");break;case 62:F.commit("",D[B-4],D[B-2],D[B]);break;case 63:F.commit("",D[B-4],D[B],D[B-2]);break;case 64:F.commit("",D[B-2],D[B-4],D[B]);break;case 65:F.commit("",D[B],D[B-4],D[B-2]);break;case 66:F.commit("",D[B],D[B-2],D[B-4]);break;case 67:F.commit("",D[B-2],D[B],D[B-4]);break;case 68:F.commit(D[B],"",F.commitType.NORMAL,"");break;case 69:F.commit(D[B],"",F.commitType.NORMAL,D[B-2]);break;case 70:F.commit(D[B-2],"",F.commitType.NORMAL,D[B]);break;case 71:F.commit(D[B-2],"",D[B],"");break;case 72:F.commit(D[B],"",D[B-2],"");break;case 73:F.commit(D[B],D[B-2],F.commitType.NORMAL,"");break;case 74:F.commit(D[B-2],D[B],F.commitType.NORMAL,"");break;case 75:F.commit(D[B-4],"",D[B-2],D[B]);break;case 76:F.commit(D[B-4],"",D[B],D[B-2]);break;case 77:F.commit(D[B-2],"",D[B-4],D[B]);break;case 78:F.commit(D[B],"",D[B-4],D[B-2]);break;case 79:F.commit(D[B],"",D[B-2],D[B-4]);break;case 80:F.commit(D[B-2],"",D[B],D[B-4]);break;case 81:F.commit(D[B-4],D[B],D[B-2],"");break;case 82:F.commit(D[B-4],D[B-2],D[B],"");break;case 83:F.commit(D[B-2],D[B],D[B-4],"");break;case 84:F.commit(D[B],D[B-2],D[B-4],"");break;case 85:F.commit(D[B],D[B-4],D[B-2],"");break;case 86:F.commit(D[B-2],D[B-4],D[B],"");break;case 87:F.commit(D[B-4],D[B],F.commitType.NORMAL,D[B-2]);break;case 88:F.commit(D[B-4],D[B-2],F.commitType.NORMAL,D[B]);break;case 89:F.commit(D[B-2],D[B],F.commitType.NORMAL,D[B-4]);break;case 90:F.commit(D[B],D[B-2],F.commitType.NORMAL,D[B-4]);break;case 91:F.commit(D[B],D[B-4],F.commitType.NORMAL,D[B-2]);break;case 92:F.commit(D[B-2],D[B-4],F.commitType.NORMAL,D[B]);break;case 93:F.commit(D[B-6],D[B-4],D[B-2],D[B]);break;case 94:F.commit(D[B-6],D[B-4],D[B],D[B-2]);break;case 95:F.commit(D[B-6],D[B-2],D[B-4],D[B]);break;case 96:F.commit(D[B-6],D[B],D[B-4],D[B-2]);break;case 97:F.commit(D[B-6],D[B-2],D[B],D[B-4]);break;case 98:F.commit(D[B-6],D[B],D[B-2],D[B-4]);break;case 99:F.commit(D[B-4],D[B-6],D[B-2],D[B]);break;case 100:F.commit(D[B-4],D[B-6],D[B],D[B-2]);break;case 101:F.commit(D[B-2],D[B-6],D[B-4],D[B]);break;case 102:F.commit(D[B],D[B-6],D[B-4],D[B-2]);break;case 103:F.commit(D[B-2],D[B-6],D[B],D[B-4]);break;case 104:F.commit(D[B],D[B-6],D[B-2],D[B-4]);break;case 105:F.commit(D[B],D[B-4],D[B-2],D[B-6]);break;case 106:F.commit(D[B-2],D[B-4],D[B],D[B-6]);break;case 107:F.commit(D[B],D[B-2],D[B-4],D[B-6]);break;case 108:F.commit(D[B-2],D[B],D[B-4],D[B-6]);break;case 109:F.commit(D[B-4],D[B-2],D[B],D[B-6]);break;case 110:F.commit(D[B-4],D[B],D[B-2],D[B-6]);break;case 111:F.commit(D[B-2],D[B-4],D[B-6],D[B]);break;case 112:F.commit(D[B],D[B-4],D[B-6],D[B-2]);break;case 113:F.commit(D[B-2],D[B],D[B-6],D[B-4]);break;case 114:F.commit(D[B],D[B-2],D[B-6],D[B-4]);break;case 115:F.commit(D[B-4],D[B-2],D[B-6],D[B]);break;case 116:F.commit(D[B-4],D[B],D[B-6],D[B-2]);break;case 117:this.$="";break;case 118:this.$=D[B];break;case 119:this.$=F.commitType.NORMAL;break;case 120:this.$=F.commitType.REVERSE;break;case 121:this.$=F.commitType.HIGHLIGHT;break}},"anonymous"),table:[{3:1,4:2,5:t,7:r,13:n,47:i},{1:[3]},{3:7,4:2,5:t,7:r,13:n,47:i},{6:8,7:s,8:[1,9],9:[1,10],10:11,13:o},e(u,[2,124]),e(u,[2,125]),e(u,[2,126]),{1:[2,1]},{7:[1,13]},{6:14,7:s,10:11,13:o},{8:[1,15]},e(h,[2,9],{11:16,12:[1,17]}),e(p,[2,8]),{1:[2,2]},{7:[1,18]},{6:19,7:s,10:11,13:o},{7:[2,6],13:[1,22],14:20,15:21,16:23,17:24,18:25,19:[1,26],21:[1,27],23:[1,28],24:[1,29],25:30,26:[1,31],28:[1,35],31:[1,34],37:[1,33],40:[1,32]},e(p,[2,7]),{1:[2,3]},{7:[1,36]},e(h,[2,10]),{4:37,7:r,13:n,47:i},e(h,[2,12]),e(g,[2,13]),e(g,[2,14]),e(g,[2,15]),{20:[1,38]},{22:[1,39]},e(g,[2,18]),e(g,[2,19]),e(g,[2,20]),{27:40,33:v,46:x},e(g,[2,117],{41:43,32:[1,46],33:[1,48],35:[1,44],38:[1,45],42:[1,47]}),{27:49,33:v,46:x},{32:[1,50],35:[1,51]},{27:52,33:v,46:x},{1:[2,4]},e(h,[2,11]),e(g,[2,16]),e(g,[2,17]),e(g,[2,21]),e(k,[2,122]),e(k,[2,123]),e(g,[2,52]),{33:[1,53]},{39:54,43:E,44:_,45:N},{33:[1,58]},{33:[1,59]},e(g,[2,118]),e(g,[2,36],{32:[1,60],35:[1,62],38:[1,61]}),{33:[1,63]},{33:[1,64],36:[1,65]},e(g,[2,22],{29:[1,66]}),e(g,[2,53],{32:[1,68],38:[1,67],42:[1,69]}),e(g,[2,54],{32:[1,71],35:[1,70],42:[1,72]}),e(M,[2,119]),e(M,[2,120]),e(M,[2,121]),e(g,[2,57],{35:[1,73],38:[1,74],42:[1,75]}),e(g,[2,68],{32:[1,78],35:[1,76],38:[1,77]}),{33:[1,79]},{39:80,43:E,44:_,45:N},{33:[1,81]},e(g,[2,24],{34:[1,82],35:[1,83]}),{32:[1,84]},{32:[1,85]},{30:[1,86]},{39:87,43:E,44:_,45:N},{33:[1,88]},{33:[1,89]},{33:[1,90]},{33:[1,91]},{33:[1,92]},{33:[1,93]},{39:94,43:E,44:_,45:N},{33:[1,95]},{33:[1,96]},{39:97,43:E,44:_,45:N},{33:[1,98]},e(g,[2,37],{35:[1,100],38:[1,99]}),e(g,[2,38],{32:[1,102],35:[1,101]}),e(g,[2,39],{32:[1,103],38:[1,104]}),{33:[1,105]},{33:[1,106],36:[1,107]},{33:[1,108]},{33:[1,109]},e(g,[2,23]),e(g,[2,55],{32:[1,110],42:[1,111]}),e(g,[2,59],{38:[1,112],42:[1,113]}),e(g,[2,69],{32:[1,115],38:[1,114]}),e(g,[2,56],{32:[1,116],42:[1,117]}),e(g,[2,61],{35:[1,118],42:[1,119]}),e(g,[2,72],{32:[1,121],35:[1,120]}),e(g,[2,58],{38:[1,122],42:[1,123]}),e(g,[2,60],{35:[1,124],42:[1,125]}),e(g,[2,73],{35:[1,127],38:[1,126]}),e(g,[2,70],{32:[1,129],38:[1,128]}),e(g,[2,71],{32:[1,131],35:[1,130]}),e(g,[2,74],{35:[1,133],38:[1,132]}),{39:134,43:E,44:_,45:N},{33:[1,135]},{33:[1,136]},{33:[1,137]},{33:[1,138]},{39:139,43:E,44:_,45:N},e(g,[2,25],{35:[1,140]}),e(g,[2,26],{34:[1,141]}),e(g,[2,31],{34:[1,142]}),e(g,[2,29],{34:[1,143]}),e(g,[2,30],{34:[1,144]}),{33:[1,145]},{33:[1,146]},{39:147,43:E,44:_,45:N},{33:[1,148]},{39:149,43:E,44:_,45:N},{33:[1,150]},{33:[1,151]},{33:[1,152]},{33:[1,153]},{33:[1,154]},{33:[1,155]},{33:[1,156]},{39:157,43:E,44:_,45:N},{33:[1,158]},{33:[1,159]},{33:[1,160]},{39:161,43:E,44:_,45:N},{33:[1,162]},{39:163,43:E,44:_,45:N},{33:[1,164]},{33:[1,165]},{33:[1,166]},{39:167,43:E,44:_,45:N},{33:[1,168]},e(g,[2,43],{35:[1,169]}),e(g,[2,44],{38:[1,170]}),e(g,[2,42],{32:[1,171]}),e(g,[2,45],{35:[1,172]}),e(g,[2,40],{38:[1,173]}),e(g,[2,41],{32:[1,174]}),{33:[1,175],36:[1,176]},{33:[1,177]},{33:[1,178]},{33:[1,179]},{33:[1,180]},e(g,[2,66],{42:[1,181]}),e(g,[2,79],{32:[1,182]}),e(g,[2,67],{42:[1,183]}),e(g,[2,90],{38:[1,184]}),e(g,[2,80],{32:[1,185]}),e(g,[2,89],{38:[1,186]}),e(g,[2,65],{42:[1,187]}),e(g,[2,78],{32:[1,188]}),e(g,[2,64],{42:[1,189]}),e(g,[2,84],{35:[1,190]}),e(g,[2,77],{32:[1,191]}),e(g,[2,83],{35:[1,192]}),e(g,[2,63],{42:[1,193]}),e(g,[2,91],{38:[1,194]}),e(g,[2,62],{42:[1,195]}),e(g,[2,85],{35:[1,196]}),e(g,[2,86],{35:[1,197]}),e(g,[2,92],{38:[1,198]}),e(g,[2,76],{32:[1,199]}),e(g,[2,87],{38:[1,200]}),e(g,[2,75],{32:[1,201]}),e(g,[2,81],{35:[1,202]}),e(g,[2,82],{35:[1,203]}),e(g,[2,88],{38:[1,204]}),{33:[1,205]},{39:206,43:E,44:_,45:N},{33:[1,207]},{33:[1,208]},{39:209,43:E,44:_,45:N},{33:[1,210]},e(g,[2,27]),e(g,[2,32]),e(g,[2,28]),e(g,[2,33]),e(g,[2,34]),e(g,[2,35]),{33:[1,211]},{33:[1,212]},{33:[1,213]},{39:214,43:E,44:_,45:N},{33:[1,215]},{39:216,43:E,44:_,45:N},{33:[1,217]},{33:[1,218]},{33:[1,219]},{33:[1,220]},{33:[1,221]},{33:[1,222]},{33:[1,223]},{39:224,43:E,44:_,45:N},{33:[1,225]},{33:[1,226]},{33:[1,227]},{39:228,43:E,44:_,45:N},{33:[1,229]},{39:230,43:E,44:_,45:N},{33:[1,231]},{33:[1,232]},{33:[1,233]},{39:234,43:E,44:_,45:N},e(g,[2,46]),e(g,[2,48]),e(g,[2,47]),e(g,[2,49]),e(g,[2,51]),e(g,[2,50]),e(g,[2,107]),e(g,[2,108]),e(g,[2,105]),e(g,[2,106]),e(g,[2,110]),e(g,[2,109]),e(g,[2,114]),e(g,[2,113]),e(g,[2,112]),e(g,[2,111]),e(g,[2,116]),e(g,[2,115]),e(g,[2,104]),e(g,[2,103]),e(g,[2,102]),e(g,[2,101]),e(g,[2,99]),e(g,[2,100]),e(g,[2,98]),e(g,[2,97]),e(g,[2,96]),e(g,[2,95]),e(g,[2,93]),e(g,[2,94])],defaultActions:{7:[2,1],13:[2,2],18:[2,3],36:[2,4]},parseError:a(function(I,z){if(z.recoverable)this.trace(I);else{var G=new Error(I);throw G.hash=z,G}},"parseError"),parse:a(function(I){var z=this,G=[0],F=[],j=[null],D=[],X=this.table,B="",Q=0,le=0,J=0,ie=2,re=1,Z=D.slice.call(arguments,1),Y=Object.create(this.lexer),ue={yy:{}};for(var Ae in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ae)&&(ue.yy[Ae]=this.yy[Ae]);Y.setInput(I,ue.yy),ue.yy.lexer=Y,ue.yy.parser=this,typeof Y.yylloc>"u"&&(Y.yylloc={});var ae=Y.yylloc;D.push(ae);var Ke=Y.options&&Y.options.ranges;typeof ue.yy.parseError=="function"?this.parseError=ue.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ie(mt){G.length=G.length-2*mt,j.length=j.length-mt,D.length=D.length-mt}a(Ie,"popStack");function $e(){var mt;return mt=F.pop()||Y.lex()||re,typeof mt!="number"&&(mt instanceof Array&&(F=mt,mt=F.pop()),mt=z.symbols_[mt]||mt),mt}a($e,"lex");for(var Xe,He,Ne,_e,Me,Ee,Oe={},at,pe,Bt,Pe;;){if(Ne=G[G.length-1],this.defaultActions[Ne]?_e=this.defaultActions[Ne]:((Xe===null||typeof Xe>"u")&&(Xe=$e()),_e=X[Ne]&&X[Ne][Xe]),typeof _e>"u"||!_e.length||!_e[0]){var gt="";Pe=[];for(at in X[Ne])this.terminals_[at]&&at>ie&&Pe.push("'"+this.terminals_[at]+"'");Y.showPosition?gt="Parse error on line "+(Q+1)+`:
`+Y.showPosition()+`
Expecting `+Pe.join(", ")+", got '"+(this.terminals_[Xe]||Xe)+"'":gt="Parse error on line "+(Q+1)+": Unexpected "+(Xe==re?"end of input":"'"+(this.terminals_[Xe]||Xe)+"'"),this.parseError(gt,{text:Y.match,token:this.terminals_[Xe]||Xe,line:Y.yylineno,loc:ae,expected:Pe})}if(_e[0]instanceof Array&&_e.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ne+", token: "+Xe);switch(_e[0]){case 1:G.push(Xe),j.push(Y.yytext),D.push(Y.yylloc),G.push(_e[1]),Xe=null,He?(Xe=He,He=null):(le=Y.yyleng,B=Y.yytext,Q=Y.yylineno,ae=Y.yylloc,J>0&&J--);break;case 2:if(pe=this.productions_[_e[1]][1],Oe.$=j[j.length-pe],Oe._$={first_line:D[D.length-(pe||1)].first_line,last_line:D[D.length-1].last_line,first_column:D[D.length-(pe||1)].first_column,last_column:D[D.length-1].last_column},Ke&&(Oe._$.range=[D[D.length-(pe||1)].range[0],D[D.length-1].range[1]]),Ee=this.performAction.apply(Oe,[B,le,Q,ue.yy,_e[1],j,D].concat(Z)),typeof Ee<"u")return Ee;pe&&(G=G.slice(0,-1*pe*2),j=j.slice(0,-1*pe),D=D.slice(0,-1*pe)),G.push(this.productions_[_e[1]][0]),j.push(Oe.$),D.push(Oe._$),Bt=X[G[G.length-2]][G[G.length-1]],G.push(Bt);break;case 3:return!0}}return!0},"parse")},V=function(){var O={EOF:1,parseError:a(function(z,G){if(this.yy.parser)this.yy.parser.parseError(z,G);else throw new Error(z)},"parseError"),setInput:function(I,z){return this.yy=z||this.yy||{},this._input=I,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var I=this._input[0];this.yytext+=I,this.yyleng++,this.offset++,this.match+=I,this.matched+=I;var z=I.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),I},unput:function(I){var z=I.length,G=I.split(/(?:\r\n?|\n)/g);this._input=I+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var F=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),G.length-1&&(this.yylineno-=G.length-1);var j=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:G?(G.length===F.length?this.yylloc.first_column:0)+F[F.length-G.length].length-G[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[j[0],j[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(I){this.unput(this.match.slice(I))},pastInput:function(){var I=this.matched.substr(0,this.matched.length-this.match.length);return(I.length>20?"...":"")+I.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var I=this.match;return I.length<20&&(I+=this._input.substr(0,20-I.length)),(I.substr(0,20)+(I.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var I=this.pastInput(),z=new Array(I.length+1).join("-");return I+this.upcomingInput()+`
`+z+"^"},test_match:function(I,z){var G,F,j;if(this.options.backtrack_lexer&&(j={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(j.yylloc.range=this.yylloc.range.slice(0))),F=I[0].match(/(?:\r\n?|\n).*/g),F&&(this.yylineno+=F.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:F?F[F.length-1].length-F[F.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+I[0].length},this.yytext+=I[0],this.match+=I[0],this.matches=I,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(I[0].length),this.matched+=I[0],G=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),G)return G;if(this._backtrack){for(var D in j)this[D]=j[D];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var I,z,G,F;this._more||(this.yytext="",this.match="");for(var j=this._currentRules(),D=0;D<j.length;D++)if(G=this._input.match(this.rules[j[D]]),G&&(!z||G[0].length>z[0].length)){if(z=G,F=D,this.options.backtrack_lexer){if(I=this.test_match(G,j[D]),I!==!1)return I;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(I=this.test_match(z,j[F]),I!==!1?I:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var z=this.next();return z||this.lex()},"lex"),begin:a(function(z){this.conditionStack.push(z)},"begin"),popState:a(function(){var z=this.conditionStack.length-1;return z>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(z){return z=this.conditionStack.length-1-Math.abs(z||0),z>=0?this.conditionStack[z]:"INITIAL"},"topState"),pushState:a(function(z){this.begin(z)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(z,G,F,j){var D=j;switch(F){case 0:return this.begin("acc_title"),19;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),21;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 13;case 8:break;case 9:break;case 10:return 5;case 11:return 40;case 12:return 32;case 13:return 38;case 14:return 42;case 15:return 43;case 16:return 44;case 17:return 45;case 18:return 35;case 19:return 28;case 20:return 29;case 21:return 37;case 22:return 31;case 23:return 34;case 24:return 26;case 25:return 9;case 26:return 9;case 27:return 9;case 28:return 8;case 29:return"CARET";case 30:this.begin("options");break;case 31:this.popState();break;case 32:return 12;case 33:return 36;case 34:this.begin("string");break;case 35:this.popState();break;case 36:return 33;case 37:return 30;case 38:return 46;case 39:return 7;case 40:break}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:parent:)/i,/^(?:\b(checkout|switch)(?=\s|$))/i,/^(?:LR\b)/i,/^(?:TB\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},options:{rules:[31,32],inclusive:!1},string:{rules:[35,36],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,33,34,37,38,39,40],inclusive:!0}}};return O}();P.lexer=V;function H(){this.yy={}}return a(H,"Parser"),H.prototype=P,P.Parser=H,new H}();MR.parser=MR;Gae=MR});function NR(){return V9({length:7})}function gze(e,t){let r=Object.create(null);return e.reduce((n,i)=>{let s=t(i);return r[s]||(r[s]=!0,n.push(i)),n},[])}function qae(e,t,r){let n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}function Yae(e){let t=e.reduce((i,s)=>i.seq>s.seq?i:s,e[0]),r="";e.forEach(function(i){i===t?r+="	*":r+="	|"});let n=[r,t.id,t.seq];for(let i in Ra)Ra.get(i)===t.id&&n.push(i);if(ce.debug(n.join(" ")),t.parents&&t.parents.length==2){let i=gs.get(t.parents[0]);qae(e,t,i),e.push(gs.get(t.parents[1]))}else{if(t.parents.length==0)return;{let i=gs.get(t.parents);qae(e,t,i)}}e=gze(e,i=>i.id),Yae(e)}var Jw,mze,gs,Co,ix,Ra,ms,Uae,vp,yze,Hae,vze,xze,bze,kze,wze,Tze,Wae,Eze,Cze,Sze,_ze,Aze,Xae,Lze,Dze,Rze,v1,jae,Kae=L(()=>{"use strict";ar();kn();Vr();Ln();$i();Jw=we().gitGraph.mainBranchName,mze=we().gitGraph.mainBranchOrder,gs=new Map,Co=null,ix=new Map;ix.set(Jw,{name:Jw,order:mze});Ra=new Map;Ra.set(Jw,Co);ms=Jw,Uae="LR",vp=0;a(NR,"getId");a(gze,"uniqBy");yze=a(function(e){Uae=e},"setDirection"),Hae={},vze=a(function(e){ce.debug("options str",e),e=e&&e.trim(),e=e||"{}";try{Hae=JSON.parse(e)}catch(t){ce.error("error while parsing gitGraph options",t.message)}},"setOptions"),xze=a(function(){return Hae},"getOptions"),bze=a(function(e,t,r,n){ce.debug("Entering commit:",e,t,r,n),t=Ct.sanitizeText(t,we()),e=Ct.sanitizeText(e,we()),n=Ct.sanitizeText(n,we());let i={id:t||vp+"-"+NR(),message:e,seq:vp++,type:r||v1.NORMAL,tag:n||"",parents:Co==null?[]:[Co.id],branch:ms};Co=i,gs.set(i.id,i),Ra.set(ms,i.id),ce.debug("in pushCommit "+i.id)},"commit"),kze=a(function(e,t){if(e=Ct.sanitizeText(e,we()),!Ra.has(e))Ra.set(e,Co!=null?Co.id:null),ix.set(e,{name:e,order:t?parseInt(t,10):null}),Wae(e),ce.debug("in createBranch");else{let r=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+e+'")');throw r.hash={text:"branch "+e,token:"branch "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+e+'"']},r}},"branch"),wze=a(function(e,t,r,n){e=Ct.sanitizeText(e,we()),t=Ct.sanitizeText(t,we());let i=gs.get(Ra.get(ms)),s=gs.get(Ra.get(e));if(ms===e){let u=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},u}else if(i===void 0||!i){let u=new Error('Incorrect usage of "merge". Current branch ('+ms+")has no commits");throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},u}else if(Ra.has(e)){if(s===void 0||!s){let u=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},u}else if(i===s){let u=new Error('Incorrect usage of "merge". Both branches have same head');throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},u}else if(t&&gs.has(t)){let u=new Error('Incorrect usage of "merge". Commit with id:'+t+" already exists, use different custom Id");throw u.hash={text:"merge "+e+t+r+n,token:"merge "+e+t+r+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+e+" "+t+"_UNIQUE "+r+" "+n]},u}}else{let u=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw u.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+e]},u}let o={id:t||vp+"-"+NR(),message:"merged branch "+e+" into "+ms,seq:vp++,parents:[Co==null?null:Co.id,Ra.get(e)],branch:ms,type:v1.MERGE,customType:r,customId:!!t,tag:n||""};Co=o,gs.set(o.id,o),Ra.set(ms,o.id),ce.debug(Ra),ce.debug("in mergeBranch")},"merge"),Tze=a(function(e,t,r,n){if(ce.debug("Entering cherryPick:",e,t,r),e=Ct.sanitizeText(e,we()),t=Ct.sanitizeText(t,we()),r=Ct.sanitizeText(r,we()),n=Ct.sanitizeText(n,we()),!e||!gs.has(e)){let o=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw o.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}let i=gs.get(e),s=i.branch;if(n&&!(Array.isArray(i.parents)&&i.parents.includes(n)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");if(i.type===v1.MERGE&&!n)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!t||!gs.has(t)){if(s===ms){let h=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw h.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},h}let o=gs.get(Ra.get(ms));if(o===void 0||!o){let h=new Error('Incorrect usage of "cherry-pick". Current branch ('+ms+")has no commits");throw h.hash={text:"cherryPick "+e+" "+t,token:"cherryPick "+e+" "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},h}let u={id:vp+"-"+NR(),message:"cherry-picked "+i+" into "+ms,seq:vp++,parents:[Co==null?null:Co.id,i.id],branch:ms,type:v1.CHERRY_PICK,tag:r??`cherry-pick:${i.id}${i.type===v1.MERGE?`|parent:${n}`:""}`};Co=u,gs.set(u.id,u),Ra.set(ms,u.id),ce.debug(Ra),ce.debug("in cherryPick")}},"cherryPick"),Wae=a(function(e){if(e=Ct.sanitizeText(e,we()),Ra.has(e)){ms=e;let t=Ra.get(ms);Co=gs.get(t)}else{let t=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+e+'")');throw t.hash={text:"checkout "+e,token:"checkout "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+e+'"']},t}},"checkout");a(qae,"upsert");a(Yae,"prettyPrintCommitHistory");Eze=a(function(){ce.debug(gs);let e=Xae()[0];Yae([e])},"prettyPrint"),Cze=a(function(){gs=new Map,Co=null;let e=we().gitGraph.mainBranchName,t=we().gitGraph.mainBranchOrder;Ra=new Map,Ra.set(e,null),ix=new Map,ix.set(e,{name:e,order:t}),ms=e,vp=0,nn()},"clear"),Sze=a(function(){return[...ix.values()].map((t,r)=>t.order!==null?t:{...t,order:parseFloat(`0.${r}`,10)}).sort((t,r)=>t.order-r.order).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),_ze=a(function(){return Ra},"getBranches"),Aze=a(function(){return gs},"getCommits"),Xae=a(function(){let e=[...gs.values()];return e.forEach(function(t){ce.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),Lze=a(function(){return ms},"getCurrentBranch"),Dze=a(function(){return Uae},"getDirection"),Rze=a(function(){return Co},"getHead"),v1={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},jae={getConfig:()=>we().gitGraph,setDirection:yze,setOptions:vze,getOptions:xze,commit:bze,branch:kze,merge:wze,cherryPick:Tze,checkout:Wae,prettyPrint:Eze,clear:Cze,getBranchesAsObjArray:Sze,getBranches:_ze,getCommits:Aze,getCommitsArray:Xae,getCurrentBranch:Lze,getDirection:Dze,getHead:Rze,setAccTitle:hn,getAccTitle:pn,getAccDescription:gn,setAccDescription:mn,setDiagramTitle:Dn,getDiagramTitle:wn,commitType:v1}});var ax,Ia,xp,ys,zs,eT,Vd,bn,tT,Ize,Zae,Jae,ese,Mze,Qae,Nze,sx,Oze,Pze,Bze,Fze,tse,rse=L(()=>{"use strict";Wr();Vr();ar();kn();ax=new Map,Ia={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},xp=8,ys={},zs={},eT=[],Vd=0,bn="LR",tT=30,Ize=a(()=>{ys=new Map,zs=new Map,ax=new Map,Vd=0,eT=[],bn="LR"},"clear"),Zae=a(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text"),r=[];typeof e=="string"?r=e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?r=e:r=[];for(let n of r){let i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n.trim(),t.appendChild(i)}return t},"drawText"),Jae=a(e=>{let t="",r=0;return e.forEach(n=>{let i=bn==="TB"||bn==="BT"?zs.get(n).y:zs.get(n).x;i>=r&&(t=n,r=i)}),t||void 0},"findClosestParent"),ese=a(e=>{let t="",r=1/0;return e.forEach(n=>{let i=zs.get(n).y;i<=r&&(t=n,r=i)}),t||void 0},"findClosestParentBT"),Mze=a((e,t,r,n,i)=>{let s=r,o=r,u=[];e.forEach(h=>{let p=t.get(h);if(p.parents.length){let x=Jae(p.parents);s=zs.get(x).y+n,s>=o&&(o=s)}else u.push(p);let g=ys.get(p.branch).pos,v=s+i;zs.set(p.id,{x:g,y:v})}),s=o,u.forEach(h=>{let g=s+r,v=ys.get(h.branch).pos;zs.set(h.id,{x:v,y:g})}),e.forEach(h=>{let p=t.get(h);if(p.parents.length){let g=ese(p.parents);s=zs.get(g).y-n,s<=o&&(o=s);let v=ys.get(p.branch).pos,x=s-i;zs.set(p.id,{x:v,y:x})}})},"setParallelBTPos"),Qae=a((e,t,r)=>{let n=we().gitGraph,i=e.append("g").attr("class","commit-bullets"),s=e.append("g").attr("class","commit-labels"),o=0;(bn==="TB"||bn==="BT")&&(o=tT);let u=[...t.keys()],h=n.parallelCommits,p=10,g=40,v=bn!=="BT"||bn==="BT"&&h?u.sort((x,k)=>t.get(x).seq-t.get(k).seq):u.sort((x,k)=>t.get(x).seq-t.get(k).seq).reverse();bn==="BT"&&h&&(Mze(v,t,o,g,p),v=v.reverse()),v.forEach(x=>{let k=t.get(x);if(h)if(k.parents.length){let M=bn==="BT"?ese(k.parents):Jae(k.parents);bn==="TB"?o=zs.get(M).y+g:bn==="BT"?o=zs.get(x).y-g:o=zs.get(M).x+g}else bn==="TB"?o=tT:bn==="BT"?o=zs.get(x).y-g:o=0;let E=bn==="BT"&&h?o:o+p,_=bn==="TB"||bn==="BT"?E:ys.get(k.branch).pos,N=bn==="TB"||bn==="BT"?ys.get(k.branch).pos:E;if(r){let M,P=k.customType!==void 0&&k.customType!==""?k.customType:k.type;switch(P){case Ia.NORMAL:M="commit-normal";break;case Ia.REVERSE:M="commit-reverse";break;case Ia.HIGHLIGHT:M="commit-highlight";break;case Ia.MERGE:M="commit-merge";break;case Ia.CHERRY_PICK:M="commit-cherry-pick";break;default:M="commit-normal"}if(P===Ia.HIGHLIGHT){let V=i.append("rect");V.attr("x",N-10),V.attr("y",_-10),V.attr("height",20),V.attr("width",20),V.attr("class",`commit ${k.id} commit-highlight${ys.get(k.branch).index%xp} ${M}-outer`),i.append("rect").attr("x",N-6).attr("y",_-6).attr("height",12).attr("width",12).attr("class",`commit ${k.id} commit${ys.get(k.branch).index%xp} ${M}-inner`)}else if(P===Ia.CHERRY_PICK)i.append("circle").attr("cx",N).attr("cy",_).attr("r",10).attr("class",`commit ${k.id} ${M}`),i.append("circle").attr("cx",N-3).attr("cy",_+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${k.id} ${M}`),i.append("circle").attr("cx",N+3).attr("cy",_+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${k.id} ${M}`),i.append("line").attr("x1",N+3).attr("y1",_+1).attr("x2",N).attr("y2",_-5).attr("stroke","#fff").attr("class",`commit ${k.id} ${M}`),i.append("line").attr("x1",N-3).attr("y1",_+1).attr("x2",N).attr("y2",_-5).attr("stroke","#fff").attr("class",`commit ${k.id} ${M}`);else{let V=i.append("circle");if(V.attr("cx",N),V.attr("cy",_),V.attr("r",k.type===Ia.MERGE?9:10),V.attr("class",`commit ${k.id} commit${ys.get(k.branch).index%xp}`),P===Ia.MERGE){let H=i.append("circle");H.attr("cx",N),H.attr("cy",_),H.attr("r",6),H.attr("class",`commit ${M} ${k.id} commit${ys.get(k.branch).index%xp}`)}P===Ia.REVERSE&&i.append("path").attr("d",`M ${N-5},${_-5}L${N+5},${_+5}M${N-5},${_+5}L${N+5},${_-5}`).attr("class",`commit ${M} ${k.id} commit${ys.get(k.branch).index%xp}`)}}if(bn==="TB"||bn==="BT"?zs.set(k.id,{x:N,y:E}):zs.set(k.id,{x:E,y:_}),r){if(k.type!==Ia.CHERRY_PICK&&(k.customId&&k.type===Ia.MERGE||k.type!==Ia.MERGE)&&n.showCommitLabel){let V=s.append("g"),H=V.insert("rect").attr("class","commit-label-bkg"),O=V.append("text").attr("x",o).attr("y",_+25).attr("class","commit-label").text(k.id),I=O.node().getBBox();if(H.attr("x",E-I.width/2-2).attr("y",_+13.5).attr("width",I.width+2*2).attr("height",I.height+2*2),bn==="TB"||bn==="BT"?(H.attr("x",N-(I.width+4*4+5)).attr("y",_-12),O.attr("x",N-(I.width+4*4)).attr("y",_+I.height-12)):O.attr("x",E-I.width/2),n.rotateCommitLabel)if(bn==="TB"||bn==="BT")O.attr("transform","rotate(-45, "+N+", "+_+")"),H.attr("transform","rotate(-45, "+N+", "+_+")");else{let z=-7.5-(I.width+10)/25*9.5,G=10+I.width/25*8.5;V.attr("transform","translate("+z+", "+G+") rotate(-45, "+o+", "+_+")")}}if(k.tag){let V=s.insert("polygon"),H=s.append("circle"),O=s.append("text").attr("y",_-16).attr("class","tag-label").text(k.tag),I=O.node().getBBox();O.attr("x",E-I.width/2);let z=I.height/2,G=_-19.2;V.attr("class","tag-label-bkg").attr("points",`
          ${o-I.width/2-4/2},${G+2}
          ${o-I.width/2-4/2},${G-2}
          ${E-I.width/2-4},${G-z-2}
          ${E+I.width/2+4},${G-z-2}
          ${E+I.width/2+4},${G+z+2}
          ${E-I.width/2-4},${G+z+2}`),H.attr("cx",o-I.width/2+4/2).attr("cy",G).attr("r",1.5).attr("class","tag-hole"),(bn==="TB"||bn==="BT")&&(V.attr("class","tag-label-bkg").attr("points",`
            ${N},${o+2}
            ${N},${o-2}
            ${N+p},${o-z-2}
            ${N+p+I.width+4},${o-z-2}
            ${N+p+I.width+4},${o+z+2}
            ${N+p},${o+z+2}`).attr("transform","translate(12,12) rotate(45, "+N+","+o+")"),H.attr("cx",N+4/2).attr("cy",o).attr("transform","translate(12,12) rotate(45, "+N+","+o+")"),O.attr("x",N+5).attr("y",o+3).attr("transform","translate(14,14) rotate(45, "+N+","+o+")"))}}o=bn==="BT"&&h?o+g:o+g+p,o>Vd&&(Vd=o)})},"drawCommits"),Nze=a((e,t,r,n,i)=>{let o=(bn==="TB"||bn==="BT"?r.x<n.x:r.y<n.y)?t.branch:e.branch,u=a(p=>p.branch===o,"isOnBranchToGetCurve"),h=a(p=>p.seq>e.seq&&p.seq<t.seq,"isBetweenCommits");return[...i.values()].some(p=>h(p)&&u(p))},"shouldRerouteArrow"),sx=a((e,t,r=0)=>{let n=e+Math.abs(e-t)/2;if(r>5)return n;if(eT.every(o=>Math.abs(o-n)>=10))return eT.push(n),n;let s=Math.abs(e-t);return sx(e,t-s/5,r+1)},"findLane"),Oze=a((e,t,r,n)=>{let i=zs.get(t.id),s=zs.get(r.id),o=Nze(t,r,i,s,n),u="",h="",p=0,g=0,v=ys.get(r.branch).index;r.type===Ia.MERGE&&t.id!==r.parents[0]&&(v=ys.get(t.branch).index);let x;if(o){u="A 10 10, 0, 0, 0,",h="A 10 10, 0, 0, 1,",p=10,g=10;let k=i.y<s.y?sx(i.y,s.y):sx(s.y,i.y),E=i.x<s.x?sx(i.x,s.x):sx(s.x,i.x);bn==="TB"?i.x<s.x?x=`M ${i.x} ${i.y} L ${E-p} ${i.y} ${h} ${E} ${i.y+g} L ${E} ${s.y-p} ${u} ${E+g} ${s.y} L ${s.x} ${s.y}`:(v=ys.get(t.branch).index,x=`M ${i.x} ${i.y} L ${E+p} ${i.y} ${u} ${E} ${i.y+g} L ${E} ${s.y-p} ${h} ${E-g} ${s.y} L ${s.x} ${s.y}`):bn==="BT"?i.x<s.x?x=`M ${i.x} ${i.y} L ${E-p} ${i.y} ${u} ${E} ${i.y-g} L ${E} ${s.y+p} ${h} ${E+g} ${s.y} L ${s.x} ${s.y}`:(v=ys.get(t.branch).index,x=`M ${i.x} ${i.y} L ${E+p} ${i.y} ${h} ${E} ${i.y-g} L ${E} ${s.y+p} ${u} ${E-g} ${s.y} L ${s.x} ${s.y}`):i.y<s.y?x=`M ${i.x} ${i.y} L ${i.x} ${k-p} ${u} ${i.x+g} ${k} L ${s.x-p} ${k} ${h} ${s.x} ${k+g} L ${s.x} ${s.y}`:(v=ys.get(t.branch).index,x=`M ${i.x} ${i.y} L ${i.x} ${k+p} ${h} ${i.x+g} ${k} L ${s.x-p} ${k} ${u} ${s.x} ${k-g} L ${s.x} ${s.y}`)}else u="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",p=20,g=20,bn==="TB"?(i.x<s.x&&(r.type===Ia.MERGE&&t.id!==r.parents[0]?x=`M ${i.x} ${i.y} L ${i.x} ${s.y-p} ${u} ${i.x+g} ${s.y} L ${s.x} ${s.y}`:x=`M ${i.x} ${i.y} L ${s.x-p} ${i.y} ${h} ${s.x} ${i.y+g} L ${s.x} ${s.y}`),i.x>s.x&&(u="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",p=20,g=20,r.type===Ia.MERGE&&t.id!==r.parents[0]?x=`M ${i.x} ${i.y} L ${i.x} ${s.y-p} ${h} ${i.x-g} ${s.y} L ${s.x} ${s.y}`:x=`M ${i.x} ${i.y} L ${s.x+p} ${i.y} ${u} ${s.x} ${i.y+g} L ${s.x} ${s.y}`),i.x===s.x&&(x=`M ${i.x} ${i.y} L ${s.x} ${s.y}`)):bn==="BT"?(i.x<s.x&&(r.type===Ia.MERGE&&t.id!==r.parents[0]?x=`M ${i.x} ${i.y} L ${i.x} ${s.y+p} ${h} ${i.x+g} ${s.y} L ${s.x} ${s.y}`:x=`M ${i.x} ${i.y} L ${s.x-p} ${i.y} ${u} ${s.x} ${i.y-g} L ${s.x} ${s.y}`),i.x>s.x&&(u="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",p=20,g=20,r.type===Ia.MERGE&&t.id!==r.parents[0]?x=`M ${i.x} ${i.y} L ${i.x} ${s.y+p} ${u} ${i.x-g} ${s.y} L ${s.x} ${s.y}`:x=`M ${i.x} ${i.y} L ${s.x-p} ${i.y} ${u} ${s.x} ${i.y-g} L ${s.x} ${s.y}`),i.x===s.x&&(x=`M ${i.x} ${i.y} L ${s.x} ${s.y}`)):(i.y<s.y&&(r.type===Ia.MERGE&&t.id!==r.parents[0]?x=`M ${i.x} ${i.y} L ${s.x-p} ${i.y} ${h} ${s.x} ${i.y+g} L ${s.x} ${s.y}`:x=`M ${i.x} ${i.y} L ${i.x} ${s.y-p} ${u} ${i.x+g} ${s.y} L ${s.x} ${s.y}`),i.y>s.y&&(r.type===Ia.MERGE&&t.id!==r.parents[0]?x=`M ${i.x} ${i.y} L ${s.x-p} ${i.y} ${u} ${s.x} ${i.y-g} L ${s.x} ${s.y}`:x=`M ${i.x} ${i.y} L ${i.x} ${s.y+p} ${h} ${i.x+g} ${s.y} L ${s.x} ${s.y}`),i.y===s.y&&(x=`M ${i.x} ${i.y} L ${s.x} ${s.y}`));e.append("path").attr("d",x).attr("class","arrow arrow"+v%xp)},"drawArrow"),Pze=a((e,t)=>{let r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(n=>{let i=t.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(s=>{Oze(r,t.get(s),i,t)})})},"drawArrows"),Bze=a((e,t)=>{let r=we().gitGraph,n=e.append("g");t.forEach((i,s)=>{let o=s%xp,u=ys.get(i.name).pos,h=n.append("line");h.attr("x1",0),h.attr("y1",u),h.attr("x2",Vd),h.attr("y2",u),h.attr("class","branch branch"+o),bn==="TB"?(h.attr("y1",tT),h.attr("x1",u),h.attr("y2",Vd),h.attr("x2",u)):bn==="BT"&&(h.attr("y1",Vd),h.attr("x1",u),h.attr("y2",tT),h.attr("x2",u)),eT.push(u);let p=i.name,g=Zae(p),v=n.insert("rect"),k=n.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+o);k.node().appendChild(g);let E=g.getBBox();v.attr("class","branchLabelBkg label"+o).attr("rx",4).attr("ry",4).attr("x",-E.width-4-(r.rotateCommitLabel===!0?30:0)).attr("y",-E.height/2+8).attr("width",E.width+18).attr("height",E.height+4),k.attr("transform","translate("+(-E.width-14-(r.rotateCommitLabel===!0?30:0))+", "+(u-E.height/2-1)+")"),bn==="TB"?(v.attr("x",u-E.width/2-10).attr("y",0),k.attr("transform","translate("+(u-E.width/2-5)+", 0)")):bn==="BT"?(v.attr("x",u-E.width/2-10).attr("y",Vd),k.attr("transform","translate("+(u-E.width/2-5)+", "+Vd+")")):v.attr("transform","translate(-19, "+(u-E.height/2)+")")})},"drawBranches"),Fze=a(function(e,t,r,n){Ize();let i=we(),s=i.gitGraph;ce.debug("in gitgraph renderer",e+`
`,"id:",t,r),ax=n.db.getCommits();let o=n.db.getBranchesAsObjArray();bn=n.db.getDirection();let u=ut(`[id="${t}"]`),h=0;o.forEach((p,g)=>{let v=Zae(p.name),x=u.append("g"),k=x.insert("g").attr("class","branchLabel"),E=k.insert("g").attr("class","label branch-label");E.node().appendChild(v);let _=v.getBBox();ys.set(p.name,{pos:h,index:g}),h+=50+(s.rotateCommitLabel?40:0)+(bn==="TB"||bn==="BT"?_.width/2:0),E.remove(),k.remove(),x.remove()}),Qae(u,ax,!1),s.showBranches&&Bze(u,o),Pze(u,ax),Qae(u,ax,!0),wr.insertTitle(u,"gitTitleText",s.titleTopMargin,n.db.getDiagramTitle()),aL(void 0,u,s.diagramPadding,s.useMaxWidth??i.useMaxWidth)},"draw"),tse={draw:Fze}});var zze,nse,ise=L(()=>{"use strict";zze=a(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),nse=zze});var ase={};Hr(ase,{diagram:()=>$ze});var $ze,sse=L(()=>{"use strict";Vae();Kae();rse();ise();$ze={parser:Gae,db:jae,renderer:tse,styles:nse}});var OR,use,cse=L(()=>{"use strict";OR=function(){var e=a(function(B,Q,le,J){for(le=le||{},J=B.length;J--;le[B[J]]=Q);return le},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],s=[1,29],o=[1,30],u=[1,31],h=[1,32],p=[1,33],g=[1,34],v=[1,9],x=[1,10],k=[1,11],E=[1,12],_=[1,13],N=[1,14],M=[1,15],P=[1,16],V=[1,19],H=[1,20],O=[1,21],I=[1,22],z=[1,23],G=[1,25],F=[1,35],j={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:a(function(Q,le,J,ie,re,Z,Y){var ue=Z.length-1;switch(re){case 1:return Z[ue-1];case 2:this.$=[];break;case 3:Z[ue-1].push(Z[ue]),this.$=Z[ue-1];break;case 4:case 5:this.$=Z[ue];break;case 6:case 7:this.$=[];break;case 8:ie.setWeekday("monday");break;case 9:ie.setWeekday("tuesday");break;case 10:ie.setWeekday("wednesday");break;case 11:ie.setWeekday("thursday");break;case 12:ie.setWeekday("friday");break;case 13:ie.setWeekday("saturday");break;case 14:ie.setWeekday("sunday");break;case 15:ie.setWeekend("friday");break;case 16:ie.setWeekend("saturday");break;case 17:ie.setDateFormat(Z[ue].substr(11)),this.$=Z[ue].substr(11);break;case 18:ie.enableInclusiveEndDates(),this.$=Z[ue].substr(18);break;case 19:ie.TopAxis(),this.$=Z[ue].substr(8);break;case 20:ie.setAxisFormat(Z[ue].substr(11)),this.$=Z[ue].substr(11);break;case 21:ie.setTickInterval(Z[ue].substr(13)),this.$=Z[ue].substr(13);break;case 22:ie.setExcludes(Z[ue].substr(9)),this.$=Z[ue].substr(9);break;case 23:ie.setIncludes(Z[ue].substr(9)),this.$=Z[ue].substr(9);break;case 24:ie.setTodayMarker(Z[ue].substr(12)),this.$=Z[ue].substr(12);break;case 27:ie.setDiagramTitle(Z[ue].substr(6)),this.$=Z[ue].substr(6);break;case 28:this.$=Z[ue].trim(),ie.setAccTitle(this.$);break;case 29:case 30:this.$=Z[ue].trim(),ie.setAccDescription(this.$);break;case 31:ie.addSection(Z[ue].substr(8)),this.$=Z[ue].substr(8);break;case 33:ie.addTask(Z[ue-1],Z[ue]),this.$="task";break;case 34:this.$=Z[ue-1],ie.setClickEvent(Z[ue-1],Z[ue],null);break;case 35:this.$=Z[ue-2],ie.setClickEvent(Z[ue-2],Z[ue-1],Z[ue]);break;case 36:this.$=Z[ue-2],ie.setClickEvent(Z[ue-2],Z[ue-1],null),ie.setLink(Z[ue-2],Z[ue]);break;case 37:this.$=Z[ue-3],ie.setClickEvent(Z[ue-3],Z[ue-2],Z[ue-1]),ie.setLink(Z[ue-3],Z[ue]);break;case 38:this.$=Z[ue-2],ie.setClickEvent(Z[ue-2],Z[ue],null),ie.setLink(Z[ue-2],Z[ue-1]);break;case 39:this.$=Z[ue-3],ie.setClickEvent(Z[ue-3],Z[ue-1],Z[ue]),ie.setLink(Z[ue-3],Z[ue-2]);break;case 40:this.$=Z[ue-1],ie.setLink(Z[ue-1],Z[ue]);break;case 41:case 47:this.$=Z[ue-1]+" "+Z[ue];break;case 42:case 43:case 45:this.$=Z[ue-2]+" "+Z[ue-1]+" "+Z[ue];break;case 44:case 46:this.$=Z[ue-3]+" "+Z[ue-2]+" "+Z[ue-1]+" "+Z[ue];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:s,16:o,17:u,18:h,19:18,20:p,21:g,22:v,23:x,24:k,25:E,26:_,27:N,28:M,29:P,30:V,31:H,33:O,35:I,36:z,37:24,38:G,40:F},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:s,16:o,17:u,18:h,19:18,20:p,21:g,22:v,23:x,24:k,25:E,26:_,27:N,28:M,29:P,30:V,31:H,33:O,35:I,36:z,37:24,38:G,40:F},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:a(function(Q,le){if(le.recoverable)this.trace(Q);else{var J=new Error(Q);throw J.hash=le,J}},"parseError"),parse:a(function(Q){var le=this,J=[0],ie=[],re=[null],Z=[],Y=this.table,ue="",Ae=0,ae=0,Ke=0,Ie=2,$e=1,Xe=Z.slice.call(arguments,1),He=Object.create(this.lexer),Ne={yy:{}};for(var _e in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_e)&&(Ne.yy[_e]=this.yy[_e]);He.setInput(Q,Ne.yy),Ne.yy.lexer=He,Ne.yy.parser=this,typeof He.yylloc>"u"&&(He.yylloc={});var Me=He.yylloc;Z.push(Me);var Ee=He.options&&He.options.ranges;typeof Ne.yy.parseError=="function"?this.parseError=Ne.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Oe(Ye){J.length=J.length-2*Ye,re.length=re.length-Ye,Z.length=Z.length-Ye}a(Oe,"popStack");function at(){var Ye;return Ye=ie.pop()||He.lex()||$e,typeof Ye!="number"&&(Ye instanceof Array&&(ie=Ye,Ye=ie.pop()),Ye=le.symbols_[Ye]||Ye),Ye}a(at,"lex");for(var pe,Bt,Pe,gt,mt,Nt,Ut={},Gt,Lt,st,De;;){if(Pe=J[J.length-1],this.defaultActions[Pe]?gt=this.defaultActions[Pe]:((pe===null||typeof pe>"u")&&(pe=at()),gt=Y[Pe]&&Y[Pe][pe]),typeof gt>"u"||!gt.length||!gt[0]){var Ge="";De=[];for(Gt in Y[Pe])this.terminals_[Gt]&&Gt>Ie&&De.push("'"+this.terminals_[Gt]+"'");He.showPosition?Ge="Parse error on line "+(Ae+1)+`:
`+He.showPosition()+`
Expecting `+De.join(", ")+", got '"+(this.terminals_[pe]||pe)+"'":Ge="Parse error on line "+(Ae+1)+": Unexpected "+(pe==$e?"end of input":"'"+(this.terminals_[pe]||pe)+"'"),this.parseError(Ge,{text:He.match,token:this.terminals_[pe]||pe,line:He.yylineno,loc:Me,expected:De})}if(gt[0]instanceof Array&&gt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pe+", token: "+pe);switch(gt[0]){case 1:J.push(pe),re.push(He.yytext),Z.push(He.yylloc),J.push(gt[1]),pe=null,Bt?(pe=Bt,Bt=null):(ae=He.yyleng,ue=He.yytext,Ae=He.yylineno,Me=He.yylloc,Ke>0&&Ke--);break;case 2:if(Lt=this.productions_[gt[1]][1],Ut.$=re[re.length-Lt],Ut._$={first_line:Z[Z.length-(Lt||1)].first_line,last_line:Z[Z.length-1].last_line,first_column:Z[Z.length-(Lt||1)].first_column,last_column:Z[Z.length-1].last_column},Ee&&(Ut._$.range=[Z[Z.length-(Lt||1)].range[0],Z[Z.length-1].range[1]]),Nt=this.performAction.apply(Ut,[ue,ae,Ae,Ne.yy,gt[1],re,Z].concat(Xe)),typeof Nt<"u")return Nt;Lt&&(J=J.slice(0,-1*Lt*2),re=re.slice(0,-1*Lt),Z=Z.slice(0,-1*Lt)),J.push(this.productions_[gt[1]][0]),re.push(Ut.$),Z.push(Ut._$),st=Y[J[J.length-2]][J[J.length-1]],J.push(st);break;case 3:return!0}}return!0},"parse")},D=function(){var B={EOF:1,parseError:a(function(le,J){if(this.yy.parser)this.yy.parser.parseError(le,J);else throw new Error(le)},"parseError"),setInput:function(Q,le){return this.yy=le||this.yy||{},this._input=Q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Q=this._input[0];this.yytext+=Q,this.yyleng++,this.offset++,this.match+=Q,this.matched+=Q;var le=Q.match(/(?:\r\n?|\n).*/g);return le?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Q},unput:function(Q){var le=Q.length,J=Q.split(/(?:\r\n?|\n)/g);this._input=Q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-le),this.offset-=le;var ie=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var re=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===ie.length?this.yylloc.first_column:0)+ie[ie.length-J.length].length-J[0].length:this.yylloc.first_column-le},this.options.ranges&&(this.yylloc.range=[re[0],re[0]+this.yyleng-le]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Q){this.unput(this.match.slice(Q))},pastInput:function(){var Q=this.matched.substr(0,this.matched.length-this.match.length);return(Q.length>20?"...":"")+Q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Q=this.match;return Q.length<20&&(Q+=this._input.substr(0,20-Q.length)),(Q.substr(0,20)+(Q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Q=this.pastInput(),le=new Array(Q.length+1).join("-");return Q+this.upcomingInput()+`
`+le+"^"},test_match:function(Q,le){var J,ie,re;if(this.options.backtrack_lexer&&(re={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(re.yylloc.range=this.yylloc.range.slice(0))),ie=Q[0].match(/(?:\r\n?|\n).*/g),ie&&(this.yylineno+=ie.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ie?ie[ie.length-1].length-ie[ie.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Q[0].length},this.yytext+=Q[0],this.match+=Q[0],this.matches=Q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Q[0].length),this.matched+=Q[0],J=this.performAction.call(this,this.yy,this,le,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var Z in re)this[Z]=re[Z];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Q,le,J,ie;this._more||(this.yytext="",this.match="");for(var re=this._currentRules(),Z=0;Z<re.length;Z++)if(J=this._input.match(this.rules[re[Z]]),J&&(!le||J[0].length>le[0].length)){if(le=J,ie=Z,this.options.backtrack_lexer){if(Q=this.test_match(J,re[Z]),Q!==!1)return Q;if(this._backtrack){le=!1;continue}else return!1}else if(!this.options.flex)break}return le?(Q=this.test_match(le,re[ie]),Q!==!1?Q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var le=this.next();return le||this.lex()},"lex"),begin:a(function(le){this.conditionStack.push(le)},"begin"),popState:a(function(){var le=this.conditionStack.length-1;return le>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(le){return le=this.conditionStack.length-1-Math.abs(le||0),le>=0?this.conditionStack[le]:"INITIAL"},"topState"),pushState:a(function(le){this.begin(le)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(le,J,ie,re){var Z=re;switch(ie){case 0:return this.begin("open_directive"),"open_directive";break;case 1:return this.begin("acc_title"),31;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),33;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return B}();j.lexer=D;function X(){this.yy={}}return a(X,"Parser"),X.prototype=j,j.Parser=X,new X}();OR.parser=OR;use=OR});var hse=mo((PR,BR)=>{"use strict";(function(e,t){typeof PR=="object"&&typeof BR<"u"?BR.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_isoWeek=t()})(PR,function(){"use strict";var e="day";return function(t,r,n){var i=a(function(u){return u.add(4-u.isoWeekday(),e)},"a"),s=r.prototype;s.isoWeekYear=function(){return i(this).year()},s.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),e);var h,p,g,v,x=i(this),k=(h=this.isoWeekYear(),p=this.$u,g=(p?n.utc:n)().year(h).startOf("year"),v=4-g.isoWeekday(),g.isoWeekday()>4&&(v+=7),g.add(v,e));return x.diff(k,"week")+1},s.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var o=s.startOf;s.startOf=function(u,h){var p=this.$utils(),g=!!p.u(h)||h;return p.p(u)==="isoweek"?g?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(u,h)}}})});var fse=mo((FR,zR)=>{"use strict";(function(e,t){typeof FR=="object"&&typeof zR<"u"?zR.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_customParseFormat=t()})(FR,function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,n=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,s={},o=a(function(k){return(k=+k)+(k>68?1900:2e3)},"s"),u=a(function(k){return function(E){this[k]=+E}},"a"),h=[/[+-]\d\d:?(\d\d)?|Z/,function(k){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var _=E.match(/([+-]|\d\d)/g),N=60*_[1]+(+_[2]||0);return N===0?0:_[0]==="+"?-N:N}(k)}],p=a(function(k){var E=s[k];return E&&(E.indexOf?E:E.s.concat(E.f))},"h"),g=a(function(k,E){var _,N=s.meridiem;if(N){for(var M=1;M<=24;M+=1)if(k.indexOf(N(M,0,E))>-1){_=M>12;break}}else _=k===(E?"pm":"PM");return _},"u"),v={A:[i,function(k){this.afternoon=g(k,!1)}],a:[i,function(k){this.afternoon=g(k,!0)}],S:[/\d/,function(k){this.milliseconds=100*+k}],SS:[r,function(k){this.milliseconds=10*+k}],SSS:[/\d{3}/,function(k){this.milliseconds=+k}],s:[n,u("seconds")],ss:[n,u("seconds")],m:[n,u("minutes")],mm:[n,u("minutes")],H:[n,u("hours")],h:[n,u("hours")],HH:[n,u("hours")],hh:[n,u("hours")],D:[n,u("day")],DD:[r,u("day")],Do:[i,function(k){var E=s.ordinal,_=k.match(/\d+/);if(this.day=_[0],E)for(var N=1;N<=31;N+=1)E(N).replace(/\[|\]/g,"")===k&&(this.day=N)}],M:[n,u("month")],MM:[r,u("month")],MMM:[i,function(k){var E=p("months"),_=(p("monthsShort")||E.map(function(N){return N.slice(0,3)})).indexOf(k)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[i,function(k){var E=p("months").indexOf(k)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(k){this.year=o(k)}],YYYY:[/\d{4}/,u("year")],Z:h,ZZ:h};function x(k){var E,_;E=k,_=s&&s.formats;for(var N=(k=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(z,G,F){var j=F&&F.toUpperCase();return G||_[F]||e[F]||_[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(D,X,B){return X||B.slice(1)})})).match(t),M=N.length,P=0;P<M;P+=1){var V=N[P],H=v[V],O=H&&H[0],I=H&&H[1];N[P]=I?{regex:O,parser:I}:V.replace(/^\[|\]$/g,"")}return function(z){for(var G={},F=0,j=0;F<M;F+=1){var D=N[F];if(typeof D=="string")j+=D.length;else{var X=D.regex,B=D.parser,Q=z.slice(j),le=X.exec(Q)[0];B.call(G,le),z=z.replace(le,"")}}return function(J){var ie=J.afternoon;if(ie!==void 0){var re=J.hours;ie?re<12&&(J.hours+=12):re===12&&(J.hours=0),delete J.afternoon}}(G),G}}return a(x,"c"),function(k,E,_){_.p.customParseFormat=!0,k&&k.parseTwoDigitYear&&(o=k.parseTwoDigitYear);var N=E.prototype,M=N.parse;N.parse=function(P){var V=P.date,H=P.utc,O=P.args;this.$u=H;var I=O[1];if(typeof I=="string"){var z=O[2]===!0,G=O[3]===!0,F=z||G,j=O[2];G&&(j=O[2]),s=this.$locale(),!z&&j&&(s=_.Ls[j]),this.$d=function(Q,le,J){try{if(["x","X"].indexOf(le)>-1)return new Date((le==="X"?1e3:1)*Q);var ie=x(le)(Q),re=ie.year,Z=ie.month,Y=ie.day,ue=ie.hours,Ae=ie.minutes,ae=ie.seconds,Ke=ie.milliseconds,Ie=ie.zone,$e=new Date,Xe=Y||(re||Z?1:$e.getDate()),He=re||$e.getFullYear(),Ne=0;re&&!Z||(Ne=Z>0?Z-1:$e.getMonth());var _e=ue||0,Me=Ae||0,Ee=ae||0,Oe=Ke||0;return Ie?new Date(Date.UTC(He,Ne,Xe,_e,Me,Ee,Oe+60*Ie.offset*1e3)):J?new Date(Date.UTC(He,Ne,Xe,_e,Me,Ee,Oe)):new Date(He,Ne,Xe,_e,Me,Ee,Oe)}catch{return new Date("")}}(V,I,H),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),F&&V!=this.format(I)&&(this.$d=new Date("")),s={}}else if(I instanceof Array)for(var D=I.length,X=1;X<=D;X+=1){O[1]=I[X-1];var B=_.apply(this,O);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}X===D&&(this.$d=new Date(""))}else M.call(this,P)}}})});var dse=mo(($R,GR)=>{"use strict";(function(e,t){typeof $R=="object"&&typeof GR<"u"?GR.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_advancedFormat=t()})($R,function(){"use strict";return function(e,t){var r=t.prototype,n=r.format;r.format=function(i){var s=this,o=this.$locale();if(!this.isValid())return n.bind(this)(i);var u=this.$utils(),h=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return o.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return o.ordinal(s.week(),"W");case"w":case"ww":return u.s(s.week(),p==="w"?1:2,"0");case"W":case"WW":return u.s(s.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return u.s(String(s.$H===0?24:s.$H),p==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return p}});return n.bind(this)(h)}}})});function Lse(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){let s="^\\s*"+i+"\\s*$",o=new RegExp(s);e[0].match(o)&&(t[i]=!0,e.shift(1),n=!0)})}var gse,Pl,yse,vse,xse,pse,sh,HR,WR,YR,ox,lx,XR,jR,iT,b1,KR,bse,QR,ux,ZR,JR,aT,VR,Uze,Hze,Wze,Yze,Xze,jze,Kze,Qze,Zze,Jze,e$e,t$e,r$e,n$e,i$e,a$e,s$e,o$e,l$e,u$e,c$e,h$e,f$e,kse,d$e,p$e,m$e,wse,g$e,qR,Tse,Ese,rT,x1,y$e,v$e,UR,nT,Wa,Cse,x$e,bp,b$e,mse,k$e,Sse,w$e,_se,T$e,E$e,Ase,Dse=L(()=>{"use strict";gse=_s($m(),1),Pl=_s(l3(),1),yse=_s(hse(),1),vse=_s(fse(),1),xse=_s(dse(),1);ar();Vr();kn();$i();Pl.default.extend(yse.default);Pl.default.extend(vse.default);Pl.default.extend(xse.default);pse={friday:5,saturday:6},sh="",HR="",YR="",ox=[],lx=[],XR=new Map,jR=[],iT=[],b1="",KR="",bse=["active","done","crit","milestone"],QR=[],ux=!1,ZR=!1,JR="sunday",aT="saturday",VR=0,Uze=a(function(){jR=[],iT=[],b1="",QR=[],rT=0,UR=void 0,nT=void 0,Wa=[],sh="",HR="",KR="",WR=void 0,YR="",ox=[],lx=[],ux=!1,ZR=!1,VR=0,XR=new Map,nn(),JR="sunday",aT="saturday"},"clear"),Hze=a(function(e){HR=e},"setAxisFormat"),Wze=a(function(){return HR},"getAxisFormat"),Yze=a(function(e){WR=e},"setTickInterval"),Xze=a(function(){return WR},"getTickInterval"),jze=a(function(e){YR=e},"setTodayMarker"),Kze=a(function(){return YR},"getTodayMarker"),Qze=a(function(e){sh=e},"setDateFormat"),Zze=a(function(){ux=!0},"enableInclusiveEndDates"),Jze=a(function(){return ux},"endDatesAreInclusive"),e$e=a(function(){ZR=!0},"enableTopAxis"),t$e=a(function(){return ZR},"topAxisEnabled"),r$e=a(function(e){KR=e},"setDisplayMode"),n$e=a(function(){return KR},"getDisplayMode"),i$e=a(function(){return sh},"getDateFormat"),a$e=a(function(e){ox=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),s$e=a(function(){return ox},"getIncludes"),o$e=a(function(e){lx=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),l$e=a(function(){return lx},"getExcludes"),u$e=a(function(){return XR},"getLinks"),c$e=a(function(e){b1=e,jR.push(e)},"addSection"),h$e=a(function(){return jR},"getSections"),f$e=a(function(){let e=mse(),t=10,r=0;for(;!e&&r<t;)e=mse(),r++;return iT=Wa,iT},"getTasks"),kse=a(function(e,t,r,n){return n.includes(e.format(t.trim()))?!1:r.includes("weekends")&&(e.isoWeekday()===pse[aT]||e.isoWeekday()===pse[aT]+1)||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(e.format(t.trim()))},"isInvalidDate"),d$e=a(function(e){JR=e},"setWeekday"),p$e=a(function(){return JR},"getWeekday"),m$e=a(function(e){aT=e},"setWeekend"),wse=a(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let i;e.startTime instanceof Date?i=(0,Pl.default)(e.startTime):i=(0,Pl.default)(e.startTime,t,!0),i=i.add(1,"d");let s;e.endTime instanceof Date?s=(0,Pl.default)(e.endTime):s=(0,Pl.default)(e.endTime,t,!0);let[o,u]=g$e(i,s,t,r,n);e.endTime=o.toDate(),e.renderEndTime=u},"checkTaskDates"),g$e=a(function(e,t,r,n,i){let s=!1,o=null;for(;e<=t;)s||(o=t.toDate()),s=kse(e,r,n,i),s&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,o]},"fixTaskDates"),qR=a(function(e,t,r){r=r.trim();let i=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let o=null;for(let h of i.groups.ids.split(" ")){let p=bp(h);p!==void 0&&(!o||p.endTime>o.endTime)&&(o=p)}if(o)return o.endTime;let u=new Date;return u.setHours(0,0,0,0),u}let s=(0,Pl.default)(r,t.trim(),!0);if(s.isValid())return s.toDate();{ce.debug("Invalid date:"+r),ce.debug("With date format:"+t.trim());let o=new Date(r);if(o===void 0||isNaN(o.getTime())||o.getFullYear()<-1e4||o.getFullYear()>1e4)throw new Error("Invalid date:"+r);return o}},"getStartDate"),Tse=a(function(e){let t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),Ese=a(function(e,t,r,n=!1){r=r.trim();let s=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(s!==null){let g=null;for(let x of s.groups.ids.split(" ")){let k=bp(x);k!==void 0&&(!g||k.startTime<g.startTime)&&(g=k)}if(g)return g.startTime;let v=new Date;return v.setHours(0,0,0,0),v}let o=(0,Pl.default)(r,t.trim(),!0);if(o.isValid())return n&&(o=o.add(1,"d")),o.toDate();let u=(0,Pl.default)(e),[h,p]=Tse(r);if(!Number.isNaN(h)){let g=u.add(h,p);g.isValid()&&(u=g)}return u.toDate()},"getEndDate"),rT=0,x1=a(function(e){return e===void 0?(rT=rT+1,"task"+rT):e},"parseId"),y$e=a(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};Lse(n,i,bse);for(let o=0;o<n.length;o++)n[o]=n[o].trim();let s="";switch(n.length){case 1:i.id=x1(),i.startTime=e.endTime,s=n[0];break;case 2:i.id=x1(),i.startTime=qR(void 0,sh,n[0]),s=n[1];break;case 3:i.id=x1(n[0]),i.startTime=qR(void 0,sh,n[1]),s=n[2];break;default:}return s&&(i.endTime=Ese(i.startTime,sh,s,ux),i.manualEndTime=(0,Pl.default)(s,"YYYY-MM-DD",!0).isValid(),wse(i,sh,lx,ox)),i},"compileData"),v$e=a(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};Lse(n,i,bse);for(let s=0;s<n.length;s++)n[s]=n[s].trim();switch(n.length){case 1:i.id=x1(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=x1(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=x1(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break;default:}return i},"parseData"),Wa=[],Cse={},x$e=a(function(e,t){let r={section:b1,type:b1,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=v$e(nT,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=nT,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=VR,VR++;let i=Wa.push(r);nT=r.id,Cse[r.id]=i-1},"addTask"),bp=a(function(e){let t=Cse[e];return Wa[t]},"findTaskById"),b$e=a(function(e,t){let r={section:b1,type:b1,description:e,task:e,classes:[]},n=y$e(UR,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,UR=r,iT.push(r)},"addTaskOrg"),mse=a(function(){let e=a(function(r){let n=Wa[r],i="";switch(Wa[r].raw.startTime.type){case"prevTaskEnd":{let s=bp(n.prevTaskId);n.startTime=s.endTime;break}case"getStartDate":i=qR(void 0,sh,Wa[r].raw.startTime.startData),i&&(Wa[r].startTime=i);break}return Wa[r].startTime&&(Wa[r].endTime=Ese(Wa[r].startTime,sh,Wa[r].raw.endTime.data,ux),Wa[r].endTime&&(Wa[r].processed=!0,Wa[r].manualEndTime=(0,Pl.default)(Wa[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),wse(Wa[r],sh,lx,ox))),Wa[r].processed},"compileTask"),t=!0;for(let[r,n]of Wa.entries())e(r),t=t&&n.processed;return t},"compileTasks"),k$e=a(function(e,t){let r=t;we().securityLevel!=="loose"&&(r=(0,gse.sanitizeUrl)(t)),e.split(",").forEach(function(n){bp(n)!==void 0&&(_se(n,()=>{window.open(r,"_self")}),XR.set(n,r))}),Sse(e,"clickable")},"setLink"),Sse=a(function(e,t){e.split(",").forEach(function(r){let n=bp(r);n!==void 0&&n.classes.push(t)})},"setClass"),w$e=a(function(e,t,r){if(we().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<n.length;s++){let o=n[s].trim();o.charAt(0)==='"'&&o.charAt(o.length-1)==='"'&&(o=o.substr(1,o.length-2)),n[s]=o}}n.length===0&&n.push(e),bp(e)!==void 0&&_se(e,()=>{wr.runFunc(t,...n)})},"setClickFun"),_se=a(function(e,t){QR.push(function(){let r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){let r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),T$e=a(function(e,t,r){e.split(",").forEach(function(n){w$e(n,t,r)}),Sse(e,"clickable")},"setClickEvent"),E$e=a(function(e){QR.forEach(function(t){t(e)})},"bindFunctions"),Ase={getConfig:()=>we().gantt,clear:Uze,setDateFormat:Qze,getDateFormat:i$e,enableInclusiveEndDates:Zze,endDatesAreInclusive:Jze,enableTopAxis:e$e,topAxisEnabled:t$e,setAxisFormat:Hze,getAxisFormat:Wze,setTickInterval:Yze,getTickInterval:Xze,setTodayMarker:jze,getTodayMarker:Kze,setAccTitle:hn,getAccTitle:pn,setDiagramTitle:Dn,getDiagramTitle:wn,setDisplayMode:r$e,getDisplayMode:n$e,setAccDescription:mn,getAccDescription:gn,addSection:c$e,getSections:h$e,getTasks:f$e,addTask:x$e,findTaskById:bp,addTaskOrg:b$e,setIncludes:a$e,getIncludes:s$e,setExcludes:o$e,getExcludes:l$e,setClickEvent:T$e,setLink:k$e,getLinks:u$e,bindFunctions:E$e,parseDuration:Tse,isInvalidDate:kse,setWeekday:d$e,getWeekday:p$e,setWeekend:m$e};a(Lse,"getTaskTags")});var sT,C$e,Rse,S$e,lf,_$e,Ise,Mse=L(()=>{"use strict";sT=_s(l3(),1);ar();Wr();Ln();Vr();si();C$e=a(function(){ce.debug("Something is calling, setConf, remove the call")},"setConf"),Rse={monday:Qf,tuesday:r5,wednesday:n5,thursday:Oc,friday:i5,saturday:a5,sunday:Wu},S$e=a((e,t)=>{let r=[...e].map(()=>-1/0),n=[...e].sort((s,o)=>s.startTime-o.startTime||s.order-o.order),i=0;for(let s of n)for(let o=0;o<r.length;o++)if(s.startTime>=r[o]){r[o]=s.endTime,s.order=o+t,o>i&&(i=o);break}return i},"getMaxIntersections"),_$e=a(function(e,t,r,n){let i=we().gantt,s=we().securityLevel,o;s==="sandbox"&&(o=ut("#i"+t));let u=s==="sandbox"?ut(o.nodes()[0].contentDocument.body):ut("body"),h=s==="sandbox"?o.nodes()[0].contentDocument:document,p=h.getElementById(t);lf=p.parentElement.offsetWidth,lf===void 0&&(lf=1200),i.useWidth!==void 0&&(lf=i.useWidth);let g=n.db.getTasks(),v=[];for(let G of g)v.push(G.type);v=z(v);let x={},k=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){let G={};for(let j of g)G[j.section]===void 0?G[j.section]=[j]:G[j.section].push(j);let F=0;for(let j of Object.keys(G)){let D=S$e(G[j],F)+1;F+=D,k+=D*(i.barHeight+i.barGap),x[j]=D}}else{k+=g.length*(i.barHeight+i.barGap);for(let G of v)x[G]=g.filter(F=>F.type===G).length}p.setAttribute("viewBox","0 0 "+lf+" "+k);let E=u.select(`[id="${t}"]`),_=l5().domain([d3(g,function(G){return G.startTime}),f3(g,function(G){return G.endTime})]).rangeRound([0,lf-i.leftPadding-i.rightPadding]);function N(G,F){let j=G.startTime,D=F.startTime,X=0;return j>D?X=1:j<D&&(X=-1),X}a(N,"taskCompare"),g.sort(N),M(g,lf,k),rn(E,k,lf,i.useMaxWidth),E.append("text").text(n.db.getDiagramTitle()).attr("x",lf/2).attr("y",i.titleTopMargin).attr("class","titleText");function M(G,F,j){let D=i.barHeight,X=D+i.barGap,B=i.topPadding,Q=i.leftPadding,le=Hu().domain([0,v.length]).range(["#00B9FA","#F95002"]).interpolate(g8);V(X,B,Q,F,j,G,n.db.getExcludes(),n.db.getIncludes()),H(Q,B,F,j),P(G,X,B,Q,D,le,F,j),O(X,B,Q,D,le),I(Q,B,F,j)}a(M,"makeGantt");function P(G,F,j,D,X,B,Q){let J=[...new Set(G.map(Y=>Y.order))].map(Y=>G.find(ue=>ue.order===Y));E.append("g").selectAll("rect").data(J).enter().append("rect").attr("x",0).attr("y",function(Y,ue){return ue=Y.order,ue*F+j-2}).attr("width",function(){return Q-i.rightPadding/2}).attr("height",F).attr("class",function(Y){for(let[ue,Ae]of v.entries())if(Y.type===Ae)return"section section"+ue%i.numberSectionStyles;return"section section0"});let ie=E.append("g").selectAll("rect").data(G).enter(),re=n.db.getLinks();if(ie.append("rect").attr("id",function(Y){return Y.id}).attr("rx",3).attr("ry",3).attr("x",function(Y){return Y.milestone?_(Y.startTime)+D+.5*(_(Y.endTime)-_(Y.startTime))-.5*X:_(Y.startTime)+D}).attr("y",function(Y,ue){return ue=Y.order,ue*F+j}).attr("width",function(Y){return Y.milestone?X:_(Y.renderEndTime||Y.endTime)-_(Y.startTime)}).attr("height",X).attr("transform-origin",function(Y,ue){return ue=Y.order,(_(Y.startTime)+D+.5*(_(Y.endTime)-_(Y.startTime))).toString()+"px "+(ue*F+j+.5*X).toString()+"px"}).attr("class",function(Y){let ue="task",Ae="";Y.classes.length>0&&(Ae=Y.classes.join(" "));let ae=0;for(let[Ie,$e]of v.entries())Y.type===$e&&(ae=Ie%i.numberSectionStyles);let Ke="";return Y.active?Y.crit?Ke+=" activeCrit":Ke=" active":Y.done?Y.crit?Ke=" doneCrit":Ke=" done":Y.crit&&(Ke+=" crit"),Ke.length===0&&(Ke=" task"),Y.milestone&&(Ke=" milestone "+Ke),Ke+=ae,Ke+=" "+Ae,ue+Ke}),ie.append("text").attr("id",function(Y){return Y.id+"-text"}).text(function(Y){return Y.task}).attr("font-size",i.fontSize).attr("x",function(Y){let ue=_(Y.startTime),Ae=_(Y.renderEndTime||Y.endTime);Y.milestone&&(ue+=.5*(_(Y.endTime)-_(Y.startTime))-.5*X),Y.milestone&&(Ae=ue+X);let ae=this.getBBox().width;return ae>Ae-ue?Ae+ae+1.5*i.leftPadding>Q?ue+D-5:Ae+D+5:(Ae-ue)/2+ue+D}).attr("y",function(Y,ue){return ue=Y.order,ue*F+i.barHeight/2+(i.fontSize/2-2)+j}).attr("text-height",X).attr("class",function(Y){let ue=_(Y.startTime),Ae=_(Y.endTime);Y.milestone&&(Ae=ue+X);let ae=this.getBBox().width,Ke="";Y.classes.length>0&&(Ke=Y.classes.join(" "));let Ie=0;for(let[Xe,He]of v.entries())Y.type===He&&(Ie=Xe%i.numberSectionStyles);let $e="";return Y.active&&(Y.crit?$e="activeCritText"+Ie:$e="activeText"+Ie),Y.done?Y.crit?$e=$e+" doneCritText"+Ie:$e=$e+" doneText"+Ie:Y.crit&&($e=$e+" critText"+Ie),Y.milestone&&($e+=" milestoneText"),ae>Ae-ue?Ae+ae+1.5*i.leftPadding>Q?Ke+" taskTextOutsideLeft taskTextOutside"+Ie+" "+$e:Ke+" taskTextOutsideRight taskTextOutside"+Ie+" "+$e+" width-"+ae:Ke+" taskText taskText"+Ie+" "+$e+" width-"+ae}),we().securityLevel==="sandbox"){let Y;Y=ut("#i"+t);let ue=Y.nodes()[0].contentDocument;ie.filter(function(Ae){return re.has(Ae.id)}).each(function(Ae){var ae=ue.querySelector("#"+Ae.id),Ke=ue.querySelector("#"+Ae.id+"-text");let Ie=ae.parentNode;var $e=ue.createElement("a");$e.setAttribute("xlink:href",re.get(Ae.id)),$e.setAttribute("target","_top"),Ie.appendChild($e),$e.appendChild(ae),$e.appendChild(Ke)})}}a(P,"drawRects");function V(G,F,j,D,X,B,Q,le){if(Q.length===0&&le.length===0)return;let J,ie;for(let{startTime:ae,endTime:Ke}of B)(J===void 0||ae<J)&&(J=ae),(ie===void 0||Ke>ie)&&(ie=Ke);if(!J||!ie)return;if((0,sT.default)(ie).diff((0,sT.default)(J),"year")>5){ce.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let re=n.db.getDateFormat(),Z=[],Y=null,ue=(0,sT.default)(J);for(;ue.valueOf()<=ie;)n.db.isInvalidDate(ue,re,Q,le)?Y?Y.end=ue:Y={start:ue,end:ue}:Y&&(Z.push(Y),Y=null),ue=ue.add(1,"d");E.append("g").selectAll("rect").data(Z).enter().append("rect").attr("id",function(ae){return"exclude-"+ae.start.format("YYYY-MM-DD")}).attr("x",function(ae){return _(ae.start)+j}).attr("y",i.gridLineStartPadding).attr("width",function(ae){let Ke=ae.end.add(1,"day");return _(Ke)-_(ae.start)}).attr("height",X-F-i.gridLineStartPadding).attr("transform-origin",function(ae,Ke){return(_(ae.start)+j+.5*(_(ae.end)-_(ae.start))).toString()+"px "+(Ke*G+.5*X).toString()+"px"}).attr("class","exclude-range")}a(V,"drawExcludeDays");function H(G,F,j,D){let X=ZC(_).tickSize(-D+F+i.gridLineStartPadding).tickFormat(N0(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d")),Q=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(Q!==null){let le=Q[1],J=Q[2],ie=n.db.getWeekday()||i.weekday;switch(J){case"millisecond":X.ticks(Mc.every(le));break;case"second":X.ticks(wl.every(le));break;case"minute":X.ticks(Oh.every(le));break;case"hour":X.ticks(Ph.every(le));break;case"day":X.ticks(Zl.every(le));break;case"week":X.ticks(Rse[ie].every(le));break;case"month":X.ticks(Bh.every(le));break}}if(E.append("g").attr("class","grid").attr("transform","translate("+G+", "+(D-50)+")").call(X).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let le=QC(_).tickSize(-D+F+i.gridLineStartPadding).tickFormat(N0(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(Q!==null){let J=Q[1],ie=Q[2],re=n.db.getWeekday()||i.weekday;switch(ie){case"millisecond":le.ticks(Mc.every(J));break;case"second":le.ticks(wl.every(J));break;case"minute":le.ticks(Oh.every(J));break;case"hour":le.ticks(Ph.every(J));break;case"day":le.ticks(Zl.every(J));break;case"week":le.ticks(Rse[re].every(J));break;case"month":le.ticks(Bh.every(J));break}}E.append("g").attr("class","grid").attr("transform","translate("+G+", "+F+")").call(le).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}a(H,"makeGrid");function O(G,F){let j=0,D=Object.keys(x).map(X=>[X,x[X]]);E.append("g").selectAll("text").data(D).enter().append(function(X){let B=X[0].split(Ct.lineBreakRegex),Q=-(B.length-1)/2,le=h.createElementNS("http://www.w3.org/2000/svg","text");le.setAttribute("dy",Q+"em");for(let[J,ie]of B.entries()){let re=h.createElementNS("http://www.w3.org/2000/svg","tspan");re.setAttribute("alignment-baseline","central"),re.setAttribute("x","10"),J>0&&re.setAttribute("dy","1em"),re.textContent=ie,le.appendChild(re)}return le}).attr("x",10).attr("y",function(X,B){if(B>0)for(let Q=0;Q<B;Q++)return j+=D[B-1][1],X[1]*G/2+j*G+F;else return X[1]*G/2+F}).attr("font-size",i.sectionFontSize).attr("class",function(X){for(let[B,Q]of v.entries())if(X[0]===Q)return"sectionTitle sectionTitle"+B%i.numberSectionStyles;return"sectionTitle"})}a(O,"vertLabels");function I(G,F,j,D){let X=n.db.getTodayMarker();if(X==="off")return;let B=E.append("g").attr("class","today"),Q=new Date,le=B.append("line");le.attr("x1",_(Q)+G).attr("x2",_(Q)+G).attr("y1",i.titleTopMargin).attr("y2",D-i.titleTopMargin).attr("class","today"),X!==""&&le.attr("style",X.replace(/,/g,";"))}a(I,"drawToday");function z(G){let F={},j=[];for(let D=0,X=G.length;D<X;++D)Object.prototype.hasOwnProperty.call(F,G[D])||(F[G[D]]=!0,j.push(G[D]));return j}a(z,"checkUnique")},"draw"),Ise={setConf:C$e,draw:_$e}});var A$e,Nse,Ose=L(()=>{"use strict";A$e=a(e=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),Nse=A$e});var Pse={};Hr(Pse,{diagram:()=>L$e});var L$e,Bse=L(()=>{"use strict";cse();Dse();Mse();Ose();L$e={parser:use,db:Ase,renderer:Ise,styles:Nse}});function Ki(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function $s(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function eI(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function wp(e){return typeof e=="object"&&e!==null&&Ki(e.container)&&$s(e.reference)&&typeof e.message=="string"}function Bl(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function qd(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function cx(e){return Bl(e)&&typeof e.fullText=="string"}var kp,xu=L(()=>{"use strict";a(Ki,"isAstNode");a($s,"isReference");a(eI,"isAstNodeDescription");a(wp,"isLinkingError");kp=class{static{a(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}isInstance(t,r){return Ki(t)&&this.isSubtype(t.$type,r)}isSubtype(t,r){if(t===r)return!0;let n=this.subtypes[t];n||(n=this.subtypes[t]={});let i=n[r];if(i!==void 0)return i;{let s=this.computeIsSubtype(t,r);return n[r]=s,s}}getAllSubTypes(t){let r=this.allSubtypes[t];if(r)return r;{let n=this.getAllTypes(),i=[];for(let s of n)this.isSubtype(s,t)&&i.push(s);return this.allSubtypes[t]=i,i}}};a(Bl,"isCompositeCstNode");a(qd,"isLeafCstNode");a(cx,"isRootCstNode")});function M$e(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function oT(e){return!!e&&typeof e[Symbol.iterator]=="function"}function Zn(...e){if(e.length===1){let t=e[0];if(t instanceof Fl)return t;if(oT(t))return new Fl(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new Fl(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:So)}return e.length>1?new Fl(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];oT(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return So}):hx}var Fl,hx,So,oh,k1,ul=L(()=>{"use strict";Fl=class e{static{a(this,"StreamImpl")}constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){let t={state:this.startFn(),next:()=>this.nextFn(t.state),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let t=this.iterator(),r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){let t=[],r=this.iterator(),n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){let n=this.map(i=>[t?t(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(t){let r=t[Symbol.iterator]();return new e(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return So})}join(t=","){let r=this.iterator(),n="",i,s=!1;do i=r.next(),i.done||(s&&(n+=t),n+=M$e(i.value)),s=!0;while(!i.done);return n}indexOf(t,r=0){let n=this.iterator(),i=0,s=n.next();for(;!s.done;){if(i>=r&&s.value===t)return i;s=n.next(),i++}return-1}every(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;)t(i.value,n),i=r.next(),n++}map(t){return new e(this.startFn,r=>{let{done:n,value:i}=this.nextFn(r);return n?So:{done:!1,value:t(i)}})}filter(t){return new e(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return So})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){let n=this.iterator(),i=r,s=n.next();for(;!s.done;)i===void 0?i=s.value:i=t(i,s.value),s=n.next();return i}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){let i=t.next();if(i.done)return n;let s=this.recursiveReduce(t,r,n);return s===void 0?i.value:r(s,i.value)}find(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;){if(t(i.value))return n;i=r.next(),n++}return-1}includes(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new e(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let s=r.iterator.next();if(s.done)r.iterator=void 0;else return s}let{done:n,value:i}=this.nextFn(r.this);if(!n){let s=t(i);if(oT(s))r.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}}while(r.iterator);return So})}flat(t){if(t===void 0&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new e(()=>({this:r.startFn()}),n=>{do{if(n.iterator){let o=n.iterator.next();if(o.done)n.iterator=void 0;else return o}let{done:i,value:s}=r.nextFn(n.this);if(!i)if(oT(s))n.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}while(n.iterator);return So})}head(){let r=this.iterator().next();if(!r.done)return r.value}tail(t=1){return new e(()=>{let r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new e(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?So:this.nextFn(r.state)))}distinct(t){let r=new Set;return this.filter(n=>{let i=t?t(n):n;return r.has(i)?!1:(r.add(i),!0)})}exclude(t,r){let n=new Set;for(let i of t){let s=r?r(i):i;n.add(s)}return this.filter(i=>{let s=r?r(i):i;return!n.has(s)})}};a(M$e,"toString");a(oT,"isIterable");hx=new Fl(()=>{},()=>So),So=Object.freeze({done:!0,value:void 0});a(Zn,"stream");oh=class extends Fl{static{a(this,"TreeStreamImpl")}constructor(t,r,n){super(()=>({iterators:n?.includeRoot?[[t][Symbol.iterator]()]:[r(t)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){let o=i.iterators[i.iterators.length-1].next();if(o.done)i.iterators.pop();else return i.iterators.push(r(o.value)[Symbol.iterator]()),o}return So})}iterator(){let t={state:this.startFn(),next:()=>this.nextFn(t.state),prune:()=>{t.state.pruned=!0},[Symbol.iterator]:()=>t};return t}};(function(e){function t(s){return s.reduce((o,u)=>o+u,0)}a(t,"sum"),e.sum=t;function r(s){return s.reduce((o,u)=>o*u,0)}a(r,"product"),e.product=r;function n(s){return s.reduce((o,u)=>Math.min(o,u))}a(n,"min"),e.min=n;function i(s){return s.reduce((o,u)=>Math.max(o,u))}a(i,"max"),e.max=i})(k1||(k1={}))});var uT={};Hr(uT,{DefaultNameRegexp:()=>lT,RangeComparison:()=>uf,compareRange:()=>Gse,findCommentNode:()=>iI,findDeclarationNodeAtOffset:()=>O$e,findLeafNodeAtOffset:()=>aI,findLeafNodeBeforeOffset:()=>Vse,flattenCst:()=>N$e,getInteriorNodes:()=>F$e,getNextNode:()=>P$e,getPreviousNode:()=>Use,getStartlineNode:()=>B$e,inRange:()=>nI,isChildNode:()=>rI,isCommentNode:()=>tI,streamCst:()=>Tp,toDocumentSegment:()=>Ep,tokenToRange:()=>w1});function Tp(e){return new oh(e,t=>Bl(t)?t.content:[],{includeRoot:!0})}function N$e(e){return Tp(e).filter(qd)}function rI(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function w1(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function Ep(e){if(!e)return;let{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}function Gse(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<e.start.character)return uf.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>t.end.character)return uf.After;let r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?uf.Inside:r?uf.OverlapBack:uf.OverlapFront}function nI(e,t){return Gse(e,t)>uf.After}function O$e(e,t,r=lT){if(e){if(t>0){let n=t-e.offset,i=e.text.charAt(n);r.test(i)||t--}return aI(e,t)}}function iI(e,t){if(e){let r=Use(e,!0);if(r&&tI(r,t))return r;if(cx(e)){let n=e.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){let s=e.content[i];if(tI(s,t))return s}}}}function tI(e,t){return qd(e)&&t.includes(e.tokenType.name)}function aI(e,t){if(qd(e))return e;if(Bl(e)){let r=qse(e,t,!1);if(r)return aI(r,t)}}function Vse(e,t){if(qd(e))return e;if(Bl(e)){let r=qse(e,t,!0);if(r)return Vse(r,t)}}function qse(e,t,r){let n=0,i=e.content.length-1,s;for(;n<=i;){let o=Math.floor((n+i)/2),u=e.content[o];if(u.offset<=t&&u.end>t)return u;u.end<=t?(s=r?u:void 0,n=o+1):i=o-1}return s}function Use(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e);for(;n>0;){n--;let i=r.content[n];if(t||!i.hidden)return i}e=r}}function P$e(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e),i=r.content.length-1;for(;n<i;){n++;let s=r.content[n];if(t||!s.hidden)return s}e=r}}function B$e(e){if(e.range.start.character===0)return e;let t=e.range.start.line,r=e,n;for(;e.container;){let i=e.container,s=n??i.content.indexOf(e);if(s===0?(e=i,n=void 0):(n=s-1,e=i.content[n]),e.range.start.line!==t)break;r=e}return r}function F$e(e,t){let r=z$e(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function z$e(e,t){let r=$se(e),n=$se(t),i;for(let s=0;s<r.length&&s<n.length;s++){let o=r[s],u=n[s];if(o.parent===u.parent)i={parent:o.parent,a:o.index,b:u.index};else break}return i}function $se(e){let t=[];for(;e.container;){let r=e.container,n=r.content.indexOf(e);t.push({parent:r,index:n}),e=r}return t.reverse()}var uf,lT,gc=L(()=>{"use strict";xu();ul();a(Tp,"streamCst");a(N$e,"flattenCst");a(rI,"isChildNode");a(w1,"tokenToRange");a(Ep,"toDocumentSegment");(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside"})(uf||(uf={}));a(Gse,"compareRange");a(nI,"inRange");lT=/^[\w\p{L}]$/u;a(O$e,"findDeclarationNodeAtOffset");a(iI,"findCommentNode");a(tI,"isCommentNode");a(aI,"findLeafNodeAtOffset");a(Vse,"findLeafNodeBeforeOffset");a(qse,"binarySearch");a(Use,"getPreviousNode");a(P$e,"getNextNode");a(B$e,"getStartlineNode");a(F$e,"getInteriorNodes");a(z$e,"getCommonParent");a($se,"getParentChain")});function Ud(e){throw new Error("Error! The input value was not handled.")}var Cp,cT=L(()=>{"use strict";Cp=class extends Error{static{a(this,"ErrorWithLocation")}constructor(t,r){super(t?`${r} at ${t.range.start.line}:${t.range.start.character}`:r)}};a(Ud,"assertUnreachable")});var gx={};Hr(gx,{AbstractElement:()=>oI,AbstractRule:()=>fx,AbstractType:()=>dx,Action:()=>OI,Alternatives:()=>PI,ArrayLiteral:()=>lI,ArrayType:()=>uI,Assignment:()=>BI,BooleanLiteral:()=>hI,CharacterRange:()=>FI,Condition:()=>hT,Conjunction:()=>dI,CrossReference:()=>$I,Disjunction:()=>mI,EndOfFile:()=>GI,Grammar:()=>yI,GrammarImport:()=>Wse,Group:()=>qI,InferredType:()=>vI,Interface:()=>xI,Keyword:()=>UI,LangiumGrammarAstReflection:()=>T1,LangiumGrammarTerminals:()=>$$e,NamedArgument:()=>Yse,NegatedToken:()=>HI,Negation:()=>bI,NumberLiteral:()=>wI,Parameter:()=>TI,ParameterReference:()=>EI,ParserRule:()=>SI,ReferenceType:()=>_I,RegexToken:()=>YI,ReturnType:()=>Xse,RuleCall:()=>jI,SimpleType:()=>DI,StringLiteral:()=>RI,TerminalAlternatives:()=>KI,TerminalGroup:()=>ZI,TerminalRule:()=>dT,TerminalRuleCall:()=>eM,Type:()=>II,TypeAttribute:()=>jse,TypeDefinition:()=>sI,UnionType:()=>MI,UnorderedGroup:()=>tM,UntilToken:()=>rM,ValueLiteral:()=>fT,Wildcard:()=>iM,isAbstractElement:()=>px,isAbstractRule:()=>G$e,isAbstractType:()=>V$e,isAction:()=>cf,isAlternatives:()=>yT,isArrayLiteral:()=>Y$e,isArrayType:()=>cI,isAssignment:()=>yc,isBooleanLiteral:()=>fI,isCharacterRange:()=>zI,isCondition:()=>q$e,isConjunction:()=>pI,isCrossReference:()=>Sp,isDisjunction:()=>gI,isEndOfFile:()=>VI,isFeatureName:()=>U$e,isGrammar:()=>X$e,isGrammarImport:()=>j$e,isGroup:()=>Hd,isInferredType:()=>pT,isInterface:()=>mT,isKeyword:()=>ku,isNamedArgument:()=>K$e,isNegatedToken:()=>WI,isNegation:()=>kI,isNumberLiteral:()=>Q$e,isParameter:()=>Z$e,isParameterReference:()=>CI,isParserRule:()=>ao,isPrimitiveType:()=>Hse,isReferenceType:()=>AI,isRegexToken:()=>XI,isReturnType:()=>LI,isRuleCall:()=>vc,isSimpleType:()=>gT,isStringLiteral:()=>J$e,isTerminalAlternatives:()=>QI,isTerminalGroup:()=>JI,isTerminalRule:()=>bu,isTerminalRuleCall:()=>vT,isType:()=>mx,isTypeAttribute:()=>eGe,isTypeDefinition:()=>H$e,isUnionType:()=>NI,isUnorderedGroup:()=>xT,isUntilToken:()=>nM,isValueLiteral:()=>W$e,isWildcard:()=>aM,reflection:()=>Yr});function G$e(e){return Yr.isInstance(e,fx)}function V$e(e){return Yr.isInstance(e,dx)}function q$e(e){return Yr.isInstance(e,hT)}function U$e(e){return Hse(e)||e==="current"||e==="entry"||e==="extends"||e==="false"||e==="fragment"||e==="grammar"||e==="hidden"||e==="import"||e==="interface"||e==="returns"||e==="terminal"||e==="true"||e==="type"||e==="infer"||e==="infers"||e==="with"||typeof e=="string"&&/\^?[_a-zA-Z][\w_]*/.test(e)}function Hse(e){return e==="string"||e==="number"||e==="boolean"||e==="Date"||e==="bigint"}function H$e(e){return Yr.isInstance(e,sI)}function W$e(e){return Yr.isInstance(e,fT)}function px(e){return Yr.isInstance(e,oI)}function Y$e(e){return Yr.isInstance(e,lI)}function cI(e){return Yr.isInstance(e,uI)}function fI(e){return Yr.isInstance(e,hI)}function pI(e){return Yr.isInstance(e,dI)}function gI(e){return Yr.isInstance(e,mI)}function X$e(e){return Yr.isInstance(e,yI)}function j$e(e){return Yr.isInstance(e,Wse)}function pT(e){return Yr.isInstance(e,vI)}function mT(e){return Yr.isInstance(e,xI)}function K$e(e){return Yr.isInstance(e,Yse)}function kI(e){return Yr.isInstance(e,bI)}function Q$e(e){return Yr.isInstance(e,wI)}function Z$e(e){return Yr.isInstance(e,TI)}function CI(e){return Yr.isInstance(e,EI)}function ao(e){return Yr.isInstance(e,SI)}function AI(e){return Yr.isInstance(e,_I)}function LI(e){return Yr.isInstance(e,Xse)}function gT(e){return Yr.isInstance(e,DI)}function J$e(e){return Yr.isInstance(e,RI)}function bu(e){return Yr.isInstance(e,dT)}function mx(e){return Yr.isInstance(e,II)}function eGe(e){return Yr.isInstance(e,jse)}function NI(e){return Yr.isInstance(e,MI)}function cf(e){return Yr.isInstance(e,OI)}function yT(e){return Yr.isInstance(e,PI)}function yc(e){return Yr.isInstance(e,BI)}function zI(e){return Yr.isInstance(e,FI)}function Sp(e){return Yr.isInstance(e,$I)}function VI(e){return Yr.isInstance(e,GI)}function Hd(e){return Yr.isInstance(e,qI)}function ku(e){return Yr.isInstance(e,UI)}function WI(e){return Yr.isInstance(e,HI)}function XI(e){return Yr.isInstance(e,YI)}function vc(e){return Yr.isInstance(e,jI)}function QI(e){return Yr.isInstance(e,KI)}function JI(e){return Yr.isInstance(e,ZI)}function vT(e){return Yr.isInstance(e,eM)}function xT(e){return Yr.isInstance(e,tM)}function nM(e){return Yr.isInstance(e,rM)}function aM(e){return Yr.isInstance(e,iM)}var $$e,fx,dx,hT,sI,fT,oI,lI,uI,hI,dI,mI,yI,Wse,vI,xI,Yse,bI,wI,TI,EI,SI,_I,Xse,DI,RI,dT,II,jse,MI,OI,PI,BI,FI,$I,GI,qI,UI,HI,YI,jI,KI,ZI,eM,tM,rM,iM,T1,Yr,lh=L(()=>{"use strict";xu();$$e={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},fx="AbstractRule";a(G$e,"isAbstractRule");dx="AbstractType";a(V$e,"isAbstractType");hT="Condition";a(q$e,"isCondition");a(U$e,"isFeatureName");a(Hse,"isPrimitiveType");sI="TypeDefinition";a(H$e,"isTypeDefinition");fT="ValueLiteral";a(W$e,"isValueLiteral");oI="AbstractElement";a(px,"isAbstractElement");lI="ArrayLiteral";a(Y$e,"isArrayLiteral");uI="ArrayType";a(cI,"isArrayType");hI="BooleanLiteral";a(fI,"isBooleanLiteral");dI="Conjunction";a(pI,"isConjunction");mI="Disjunction";a(gI,"isDisjunction");yI="Grammar";a(X$e,"isGrammar");Wse="GrammarImport";a(j$e,"isGrammarImport");vI="InferredType";a(pT,"isInferredType");xI="Interface";a(mT,"isInterface");Yse="NamedArgument";a(K$e,"isNamedArgument");bI="Negation";a(kI,"isNegation");wI="NumberLiteral";a(Q$e,"isNumberLiteral");TI="Parameter";a(Z$e,"isParameter");EI="ParameterReference";a(CI,"isParameterReference");SI="ParserRule";a(ao,"isParserRule");_I="ReferenceType";a(AI,"isReferenceType");Xse="ReturnType";a(LI,"isReturnType");DI="SimpleType";a(gT,"isSimpleType");RI="StringLiteral";a(J$e,"isStringLiteral");dT="TerminalRule";a(bu,"isTerminalRule");II="Type";a(mx,"isType");jse="TypeAttribute";a(eGe,"isTypeAttribute");MI="UnionType";a(NI,"isUnionType");OI="Action";a(cf,"isAction");PI="Alternatives";a(yT,"isAlternatives");BI="Assignment";a(yc,"isAssignment");FI="CharacterRange";a(zI,"isCharacterRange");$I="CrossReference";a(Sp,"isCrossReference");GI="EndOfFile";a(VI,"isEndOfFile");qI="Group";a(Hd,"isGroup");UI="Keyword";a(ku,"isKeyword");HI="NegatedToken";a(WI,"isNegatedToken");YI="RegexToken";a(XI,"isRegexToken");jI="RuleCall";a(vc,"isRuleCall");KI="TerminalAlternatives";a(QI,"isTerminalAlternatives");ZI="TerminalGroup";a(JI,"isTerminalGroup");eM="TerminalRuleCall";a(vT,"isTerminalRuleCall");tM="UnorderedGroup";a(xT,"isUnorderedGroup");rM="UntilToken";a(nM,"isUntilToken");iM="Wildcard";a(aM,"isWildcard");T1=class extends kp{static{a(this,"LangiumGrammarAstReflection")}getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(t,r){switch(t){case OI:case PI:case BI:case FI:case $I:case GI:case qI:case UI:case HI:case YI:case jI:case KI:case ZI:case eM:case tM:case rM:case iM:return this.isSubtype(oI,r);case lI:case wI:case RI:return this.isSubtype(fT,r);case uI:case _I:case DI:case MI:return this.isSubtype(sI,r);case hI:return this.isSubtype(hT,r)||this.isSubtype(fT,r);case dI:case mI:case bI:case EI:return this.isSubtype(hT,r);case vI:case xI:case II:return this.isSubtype(dx,r);case SI:return this.isSubtype(fx,r)||this.isSubtype(dx,r);case dT:return this.isSubtype(fx,r);default:return!1}}getReferenceType(t){let r=`${t.container.$type}:${t.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return dx;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return fx;case"Grammar:usedGrammars":return yI;case"NamedArgument:parameter":case"ParameterReference:parameter":return TI;case"TerminalRuleCall:rule":return dT;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:t,properties:[]}}}},Yr=new T1});var kT={};Hr(kT,{assignMandatoryProperties:()=>lM,copyAstNode:()=>oM,findLocalReferences:()=>rGe,findRootNode:()=>Kse,getContainerOfType:()=>_p,getDocument:()=>Ya,hasContainerOfType:()=>tGe,linkContentToContainer:()=>bT,streamAllContents:()=>uh,streamAst:()=>wu,streamContents:()=>yx,streamReferences:()=>E1});function bT(e){for(let[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{Ki(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=i)}):Ki(r)&&(r.$container=e,r.$containerProperty=t))}function _p(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function tGe(e,t){let r=e;for(;r;){if(t(r))return!0;r=r.$container}return!1}function Ya(e){let r=Kse(e).$document;if(!r)throw new Error("AST node has no document.");return r}function Kse(e){for(;e.$container;)e=e.$container;return e}function yx(e,t){if(!e)throw new Error("Node must be an AstNode.");let r=t?.range;return new Fl(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){let i=n.keys[n.keyIndex];if(!i.startsWith("$")){let s=e[i];if(Ki(s)){if(n.keyIndex++,sM(s,r))return{done:!1,value:s}}else if(Array.isArray(s)){for(;n.arrayIndex<s.length;){let o=n.arrayIndex++,u=s[o];if(Ki(u)&&sM(u,r))return{done:!1,value:u}}n.arrayIndex=0}}n.keyIndex++}return So})}function uh(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new oh(e,r=>yx(r,t))}function wu(e,t){if(e){if(t?.range&&!sM(e,t.range))return new oh(e,()=>[])}else throw new Error("Root node must be an AstNode.");return new oh(e,r=>yx(r,t),{includeRoot:!0})}function sM(e,t){var r;if(!t)return!0;let n=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return n?nI(n,t):!1}function E1(e){return new Fl(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){let r=t.keys[t.keyIndex];if(!r.startsWith("$")){let n=e[r];if($s(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){let i=t.arrayIndex++,s=n[i];if($s(s))return{done:!1,value:{reference:s,container:e,property:r,index:i}}}t.arrayIndex=0}}t.keyIndex++}return So})}function rGe(e,t=Ya(e).parseResult.value){let r=[];return wu(t).forEach(n=>{E1(n).forEach(i=>{i.reference.ref===e&&r.push(i.reference)})}),Zn(r)}function lM(e,t){let r=e.getTypeMetaData(t.$type),n=t;for(let i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=Qse(i.defaultValue))}function Qse(e){return Array.isArray(e)?[...e.map(Qse)]:e}function oM(e,t){let r={$type:e.$type};for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Ki(i))r[n]=oM(i,t);else if($s(i))r[n]=t(r,n,i.$refNode,i.$refText);else if(Array.isArray(i)){let s=[];for(let o of i)Ki(o)?s.push(oM(o,t)):$s(o)?s.push(t(r,n,o.$refNode,o.$refText)):s.push(o);r[n]=s}else r[n]=i;return bT(r),r}var _o=L(()=>{"use strict";xu();ul();gc();a(bT,"linkContentToContainer");a(_p,"getContainerOfType");a(tGe,"hasContainerOfType");a(Ya,"getDocument");a(Kse,"findRootNode");a(yx,"streamContents");a(uh,"streamAllContents");a(wu,"streamAst");a(sM,"isAstNodeInRange");a(E1,"streamReferences");a(rGe,"findLocalReferences");a(lM,"assignMandatoryProperties");a(Qse,"copyDefaultValue");a(oM,"copyAstNode")});function $r(e){return e.charCodeAt(0)}function wT(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function C1(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function Ap(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function vx(){throw Error("Internal Error - Should never get here!")}function uM(e){return e.type==="Character"}var cM=L(()=>{"use strict";a($r,"cc");a(wT,"insertToSet");a(C1,"addFlag");a(Ap,"ASSERT_EXISTS");a(vx,"ASSERT_NEVER_REACH_HERE");a(uM,"isCharacter")});var xx,bx,hM,Zse=L(()=>{"use strict";cM();xx=[];for(let e=$r("0");e<=$r("9");e++)xx.push(e);bx=[$r("_")].concat(xx);for(let e=$r("a");e<=$r("z");e++)bx.push(e);for(let e=$r("A");e<=$r("Z");e++)bx.push(e);hM=[$r(" "),$r("\f"),$r(`
`),$r("\r"),$r("	"),$r("\v"),$r("	"),$r("\xA0"),$r("\u1680"),$r("\u2000"),$r("\u2001"),$r("\u2002"),$r("\u2003"),$r("\u2004"),$r("\u2005"),$r("\u2006"),$r("\u2007"),$r("\u2008"),$r("\u2009"),$r("\u200A"),$r("\u2028"),$r("\u2029"),$r("\u202F"),$r("\u205F"),$r("\u3000"),$r("\uFEFF")]});var nGe,TT,iGe,Lp,Jse=L(()=>{"use strict";cM();Zse();nGe=/[0-9a-fA-F]/,TT=/[0-9]/,iGe=/[1-9]/,Lp=class{static{a(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");let r=this.disjunction();this.consumeChar("/");let n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":C1(n,"global");break;case"i":C1(n,"ignoreCase");break;case"m":C1(n,"multiLine");break;case"u":C1(n,"unicode");break;case"y":C1(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){let t=[],r=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(r)}}alternative(){let t=[],r=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}Ap(r);let n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(t)}}return vx()}quantifier(t=!1){let r,n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":let i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),r={atLeast:i,atMost:s}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(t===!0&&r===void 0)return;Ap(r);break}if(!(t===!0&&r===void 0)&&Ap(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let t,r=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}return t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),Ap(t)?(t.loc=this.loc(r),this.isQuantifier()&&(t.quantifier=this.quantifier()),t):vx()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[$r(`
`),$r("\r"),$r("\u2028"),$r("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,r=!1;switch(this.popChar()){case"d":t=xx;break;case"D":t=xx,r=!0;break;case"s":t=hM;break;case"S":t=hM,r=!0;break;case"w":t=bx;break;case"W":t=bx,r=!0;break}return Ap(t)?{type:"Set",value:t,complement:r}:vx()}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=$r("\f");break;case"n":t=$r(`
`);break;case"r":t=$r("\r");break;case"t":t=$r("	");break;case"v":t=$r("\v");break}return Ap(t)?{type:"Character",value:t}:vx()}controlLetterEscapeAtom(){this.consumeChar("c");let t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:$r("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let t=this.popChar();return{type:"Character",value:$r(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let t=this.popChar();return{type:"Character",value:$r(t)}}}characterClass(){let t=[],r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){let n=this.classAtom(),i=n.type==="Character";if(uM(n)&&this.isRangeDash()){this.consumeChar("-");let s=this.classAtom(),o=s.type==="Character";if(uM(s)){if(s.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:s.value})}else wT(n.value,t),t.push($r("-")),wT(s.value,t)}else wT(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:r,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:$r("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}let r=this.disjunction();this.consumeChar(")");let n={type:"Group",capturing:t,value:r};return t&&(n.idx=this.groupIdx),n}positiveInteger(){let t=this.popChar();if(iGe.test(t)===!1)throw Error("Expecting a positive integer");for(;TT.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(TT.test(t)===!1)throw Error("Expecting an integer");for(;TT.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){let t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:$r(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return TT.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let r="";for(let i=0;i<t;i++){let s=this.popChar();if(nGe.test(s)===!1)throw Error("Expecting a HexDecimal digits");r+=s}return{type:"Character",value:parseInt(r,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){let t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}}});var ch,eoe=L(()=>{"use strict";ch=class{static{a(this,"BaseRegExpVisitor")}visitChildren(t){for(let r in t){let n=t[r];t.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}}});var kx=L(()=>{"use strict";Jse();eoe()});var CT={};Hr(CT,{NEWLINE_REGEXP:()=>dM,escapeRegExp:()=>Rp,getCaseInsensitivePattern:()=>mM,getTerminalParts:()=>aGe,isMultilineComment:()=>pM,isWhitespace:()=>ET,partialMatches:()=>gM,partialRegExp:()=>roe});function aGe(e){try{typeof e!="string"&&(e=e.source),e=`/${e}/`;let t=toe.pattern(e),r=[];for(let n of t.value.value)Dp.reset(e),Dp.visit(n),r.push({start:Dp.startRegexp,end:Dp.endRegex});return r}catch{return[]}}function pM(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),Dp.reset(e),Dp.visit(toe.pattern(e)),Dp.multiline}catch{return!1}}function ET(e){return(typeof e=="string"?new RegExp(e):e).test(" ")}function Rp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mM(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:Rp(t)).join("")}function gM(e,t){let r=roe(e),n=t.match(r);return!!n&&n[0].length>0}function roe(e){typeof e=="string"&&(e=new RegExp(e));let t=e,r=e.source,n=0;function i(){let s="",o;function u(p){s+=r.substr(n,p),n+=p}a(u,"appendRaw");function h(p){s+="(?:"+r.substr(n,p)+"|$)",n+=p}for(a(h,"appendOptional");n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":h(3);break;case"x":h(4);break;case"u":t.unicode?r[n+2]==="{"?h(r.indexOf("}",n)-n+1):h(6):h(2);break;case"p":case"P":t.unicode?h(r.indexOf("}",n)-n+1):h(2);break;case"k":h(r.indexOf(">",n)-n+1);break;default:h(2);break}break;case"[":o=/\[(?:\\.|.)*?\]/g,o.lastIndex=n,o=o.exec(r)||[],h(o[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":u(1);break;case"{":o=/\{\d+,?\d*\}/g,o.lastIndex=n,o=o.exec(r),o?u(o[0].length):h(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":s+="(?:",n+=3,s+=i()+"|$)";break;case"=":s+="(?=",n+=3,s+=i()+")";break;case"!":o=n,n+=3,i(),s+=r.substr(o,n-o);break;case"<":switch(r[n+3]){case"=":case"!":o=n,n+=4,i(),s+=r.substr(o,n-o);break;default:u(r.indexOf(">",n)-n+1),s+=i()+"|$)";break}break}else u(1),s+=i()+"|$)";break;case")":return++n,s;default:h(1);break}return s}return a(i,"process"),new RegExp(i(),e.flags)}var dM,toe,fM,Dp,S1=L(()=>{"use strict";kx();dM=/\r?\n/gm,toe=new Lp,fM=class extends ch{static{a(this,"TerminalRegExpVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(t){let r=String.fromCharCode(t.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let n=Rp(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(t){if(!this.multiline){let r=this.regex.substring(t.loc.begin,t.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let r=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}},Dp=new fM;a(aGe,"getTerminalParts");a(pM,"isMultilineComment");a(ET,"isWhitespace");a(Rp,"escapeRegExp");a(mM,"getCaseInsensitivePattern");a(gM,"partialMatches");a(roe,"partialRegExp")});var _T={};Hr(_T,{findAssignment:()=>CM,findNameAssignment:()=>ST,findNodeForKeyword:()=>TM,findNodeForProperty:()=>Tx,findNodesForKeyword:()=>sGe,findNodesForKeywordInternal:()=>EM,findNodesForProperty:()=>kM,getActionAtElement:()=>ooe,getActionType:()=>uoe,getAllReachableRules:()=>wx,getCrossReferenceTerminal:()=>xM,getEntryRule:()=>noe,getExplicitRuleType:()=>SM,getHiddenRules:()=>ioe,getRuleType:()=>_M,getTypeName:()=>Ip,isArrayCardinality:()=>lGe,isArrayOperator:()=>uGe,isCommentTerminal:()=>bM,isDataType:()=>cGe,isDataTypeRule:()=>Ex,isOptionalCardinality:()=>oGe,terminalRegex:()=>_1});function noe(e){return e.rules.find(t=>ao(t)&&t.entry)}function ioe(e){return e.rules.filter(t=>bu(t)&&t.hidden)}function wx(e,t){let r=new Set,n=noe(e);if(!n)return new Set(e.rules);let i=[n].concat(ioe(e));for(let o of i)aoe(o,r,t);let s=new Set;for(let o of e.rules)(r.has(o.name)||bu(o)&&o.hidden)&&s.add(o);return s}function aoe(e,t,r){t.add(e.name),uh(e).forEach(n=>{if(vc(n)||r&&vT(n)){let i=n.rule.ref;i&&!t.has(i.name)&&aoe(i,t,r)}})}function xM(e){if(e.terminal)return e.terminal;if(e.type.ref){let t=ST(e.type.ref);return t?.terminal}}function bM(e){return e.hidden&&!_1(e).test(" ")}function kM(e,t){return!e||!t?[]:wM(e,t,e.astNode,!0)}function Tx(e,t,r){if(!e||!t)return;let n=wM(e,t,e.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function wM(e,t,r,n){if(!n){let i=_p(e.grammarSource,yc);if(i&&i.feature===t)return[e]}return Bl(e)&&e.astNode===r?e.content.flatMap(i=>wM(i,t,r,!1)):[]}function sGe(e,t){return e?EM(e,t,e?.astNode):[]}function TM(e,t,r){if(!e)return;let n=EM(e,t,e?.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function EM(e,t,r){if(e.astNode!==r)return[];if(ku(e.grammarSource)&&e.grammarSource.value===t)return[e];let n=Tp(e).iterator(),i,s=[];do if(i=n.next(),!i.done){let o=i.value;o.astNode===r?ku(o.grammarSource)&&o.grammarSource.value===t&&s.push(o):n.prune()}while(!i.done);return s}function CM(e){var t;let r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){let n=_p(e.grammarSource,yc);if(n)return n;e=e.container}}function ST(e){let t=e;return pT(t)&&(cf(t.$container)?t=t.$container.$container:ao(t.$container)?t=t.$container:Ud(t.$container)),soe(e,t,new Map)}function soe(e,t,r){var n;function i(s,o){let u;return _p(s,yc)||(u=soe(o,o,r)),r.set(e,u),u}if(a(i,"go"),r.has(e))return r.get(e);r.set(e,void 0);for(let s of uh(t)){if(yc(s)&&s.feature.toLowerCase()==="name")return r.set(e,s),s;if(vc(s)&&ao(s.rule.ref))return i(s,s.rule.ref);if(gT(s)&&(!((n=s.typeRef)===null||n===void 0)&&n.ref))return i(s,s.typeRef.ref)}}function ooe(e){let t=e.$container;if(Hd(t)){let r=t.elements,n=r.indexOf(e);for(let i=n-1;i>=0;i--){let s=r[i];if(cf(s))return s;{let o=uh(r[i]).find(cf);if(o)return o}}}if(px(t))return ooe(t)}function oGe(e,t){return e==="?"||e==="*"||Hd(t)&&!!t.guardCondition}function lGe(e){return e==="*"||e==="+"}function uGe(e){return e==="+="}function Ex(e){return loe(e,new Set)}function loe(e,t){if(t.has(e))return!0;t.add(e);for(let r of uh(e))if(vc(r)){if(!r.rule.ref||ao(r.rule.ref)&&!loe(r.rule.ref,t))return!1}else{if(yc(r))return!1;if(cf(r))return!1}return!!e.definition}function cGe(e){return vM(e.type,new Set)}function vM(e,t){if(t.has(e))return!0;if(t.add(e),cI(e))return!1;if(AI(e))return!1;if(NI(e))return e.types.every(r=>vM(r,t));if(gT(e)){if(e.primitiveType!==void 0)return!0;if(e.stringType!==void 0)return!0;if(e.typeRef!==void 0){let r=e.typeRef.ref;return mx(r)?vM(r.type,t):!1}else return!1}else return!1}function SM(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t){if(ao(t))return t.name;if(mT(t)||mx(t))return t.name}}}function Ip(e){var t;if(ao(e))return Ex(e)?e.name:(t=SM(e))!==null&&t!==void 0?t:e.name;if(mT(e)||mx(e)||LI(e))return e.name;if(cf(e)){let r=uoe(e);if(r)return r}else if(pT(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function uoe(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return Ip(e.type.ref)}function _M(e){var t,r,n;return bu(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":Ex(e)?e.name:(n=SM(e))!==null&&n!==void 0?n:e.name}function _1(e){let t={s:!1,i:!1,u:!1},r=A1(e.definition,t),n=Object.entries(t).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}function A1(e,t){if(QI(e))return hGe(e);if(JI(e))return fGe(e);if(zI(e))return mGe(e);if(vT(e)){let r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return hf(A1(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(WI(e))return pGe(e);if(nM(e))return dGe(e);if(XI(e)){let r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),i=e.regex.substring(r+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),hf(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(aM(e))return hf(AM,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e?.$type}`)}}}function hGe(e){return hf(e.elements.map(t=>A1(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function fGe(e){return hf(e.elements.map(t=>A1(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function dGe(e){return hf(`${AM}*?${A1(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function pGe(e){return hf(`(?!${A1(e.terminal)})${AM}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function mGe(e){return e.right?hf(`[${yM(e.left)}-${yM(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):hf(yM(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function yM(e){return Rp(e.value)}function hf(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}var AM,xc=L(()=>{"use strict";cT();lh();xu();_o();gc();S1();a(noe,"getEntryRule");a(ioe,"getHiddenRules");a(wx,"getAllReachableRules");a(aoe,"ruleDfs");a(xM,"getCrossReferenceTerminal");a(bM,"isCommentTerminal");a(kM,"findNodesForProperty");a(Tx,"findNodeForProperty");a(wM,"findNodesForPropertyInternal");a(sGe,"findNodesForKeyword");a(TM,"findNodeForKeyword");a(EM,"findNodesForKeywordInternal");a(CM,"findAssignment");a(ST,"findNameAssignment");a(soe,"findNameAssignmentInternal");a(ooe,"getActionAtElement");a(oGe,"isOptionalCardinality");a(lGe,"isArrayCardinality");a(uGe,"isArrayOperator");a(Ex,"isDataTypeRule");a(loe,"isDataTypeRuleInternal");a(cGe,"isDataType");a(vM,"isDataTypeInternal");a(SM,"getExplicitRuleType");a(Ip,"getTypeName");a(uoe,"getActionType");a(_M,"getRuleType");a(_1,"terminalRegex");AM=/[\s\S]/.source;a(A1,"abstractElementToRegex");a(hGe,"terminalAlternativesToRegex");a(fGe,"terminalGroupToRegex");a(dGe,"untilTokenToRegex");a(pGe,"negateTokenToRegex");a(mGe,"characterRangeToRegex");a(yM,"keywordToRegex");a(hf,"withCardinality")});function LM(e){let t=[],r=e.Grammar;for(let n of r.rules)bu(n)&&bM(n)&&pM(_1(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:lT}}var DM=L(()=>{"use strict";gc();xc();S1();lh();a(LM,"createGrammarConfig")});var RM=L(()=>{"use strict"});function L1(e){console&&console.error&&console.error(`Error: ${e}`)}function Cx(e){console&&console.warn&&console.warn(`Warning: ${e}`)}var coe=L(()=>{"use strict";a(L1,"PRINT_ERROR");a(Cx,"PRINT_WARNING")});function Sx(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}var hoe=L(()=>{"use strict";a(Sx,"timer")});function _x(e){function t(){}a(t,"FakeConstructor"),t.prototype=e;let r=new t;function n(){return typeof r.bar}return a(n,"fakeAccess"),n(),n(),e;(0,eval)(e)}var foe=L(()=>{"use strict";a(_x,"toFastProperties")});var D1=L(()=>{"use strict";coe();hoe();foe()});function gGe(e){return yGe(e)?e.LABEL:e.name}function yGe(e){return ba(e.LABEL)&&e.LABEL!==""}function AT(e){return It(e,R1)}function R1(e){function t(r){return It(r,R1)}if(a(t,"convertDefinition"),e instanceof ti){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return ba(e.label)&&(r.label=e.label),r}else{if(e instanceof Di)return{type:"Alternative",definition:t(e.definition)};if(e instanceof ri)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Ri)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Ii)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:R1(new Tn({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof xi)return{type:"RepetitionWithSeparator",idx:e.idx,separator:R1(new Tn({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof On)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof bi)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Tn){let r={type:"Terminal",name:e.terminalType.name,label:gGe(e.terminalType),idx:e.idx};ba(e.label)&&(r.terminalLabel=e.label);let n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=gu(n)?n.source:n),r}else{if(e instanceof Ao)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}var zl,ti,Ao,Di,ri,Ri,Ii,On,xi,bi,Tn,LT=L(()=>{"use strict";hr();a(gGe,"tokenLabel");a(yGe,"hasTokenLabel");zl=class{static{a(this,"AbstractProduction")}get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),Ue(this.definition,r=>{r.accept(t)})}},ti=class extends zl{static{a(this,"NonTerminal")}constructor(t){super([]),this.idx=1,Ms(this,ol(t,r=>r!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}},Ao=class extends zl{static{a(this,"Rule")}constructor(t){super(t.definition),this.orgText="",Ms(this,ol(t,r=>r!==void 0))}},Di=class extends zl{static{a(this,"Alternative")}constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Ms(this,ol(t,r=>r!==void 0))}},ri=class extends zl{static{a(this,"Option")}constructor(t){super(t.definition),this.idx=1,Ms(this,ol(t,r=>r!==void 0))}},Ri=class extends zl{static{a(this,"RepetitionMandatory")}constructor(t){super(t.definition),this.idx=1,Ms(this,ol(t,r=>r!==void 0))}},Ii=class extends zl{static{a(this,"RepetitionMandatoryWithSeparator")}constructor(t){super(t.definition),this.idx=1,Ms(this,ol(t,r=>r!==void 0))}},On=class extends zl{static{a(this,"Repetition")}constructor(t){super(t.definition),this.idx=1,Ms(this,ol(t,r=>r!==void 0))}},xi=class extends zl{static{a(this,"RepetitionWithSeparator")}constructor(t){super(t.definition),this.idx=1,Ms(this,ol(t,r=>r!==void 0))}},bi=class extends zl{static{a(this,"Alternation")}get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Ms(this,ol(t,r=>r!==void 0))}},Tn=class{static{a(this,"Terminal")}constructor(t){this.idx=1,Ms(this,ol(t,r=>r!==void 0))}accept(t){t.visit(this)}};a(AT,"serializeGrammar");a(R1,"serializeProduction")});var Lo,doe=L(()=>{"use strict";LT();Lo=class{static{a(this,"GAstVisitor")}visit(t){let r=t;switch(r.constructor){case ti:return this.visitNonTerminal(r);case Di:return this.visitAlternative(r);case ri:return this.visitOption(r);case Ri:return this.visitRepetitionMandatory(r);case Ii:return this.visitRepetitionMandatoryWithSeparator(r);case xi:return this.visitRepetitionWithSeparator(r);case On:return this.visitRepetition(r);case bi:return this.visitAlternation(r);case Tn:return this.visitTerminal(r);case Ao:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}});function IM(e){return e instanceof Di||e instanceof ri||e instanceof On||e instanceof Ri||e instanceof Ii||e instanceof xi||e instanceof Tn||e instanceof Ao}function Mp(e,t=[]){return e instanceof ri||e instanceof On||e instanceof xi?!0:e instanceof bi?V2(e.definition,n=>Mp(n,t)):e instanceof ti&&Gi(t,e)?!1:e instanceof zl?(e instanceof ti&&t.push(e),no(e.definition,n=>Mp(n,t))):!1}function MM(e){return e instanceof bi}function cl(e){if(e instanceof ti)return"SUBRULE";if(e instanceof ri)return"OPTION";if(e instanceof bi)return"OR";if(e instanceof Ri)return"AT_LEAST_ONE";if(e instanceof Ii)return"AT_LEAST_ONE_SEP";if(e instanceof xi)return"MANY_SEP";if(e instanceof On)return"MANY";if(e instanceof Tn)return"CONSUME";throw Error("non exhaustive match")}var poe=L(()=>{"use strict";hr();LT();a(IM,"isSequenceProd");a(Mp,"isOptionalProd");a(MM,"isBranchingProd");a(cl,"getProductionDslName")});var Do=L(()=>{"use strict";LT();doe();poe()});function moe(e,t,r){return[new ri({definition:[new Tn({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}var ff,DT=L(()=>{"use strict";hr();Do();ff=class{static{a(this,"RestWalker")}walk(t,r=[]){Ue(t.definition,(n,i)=>{let s=xa(t.definition,i+1);if(n instanceof ti)this.walkProdRef(n,s,r);else if(n instanceof Tn)this.walkTerminal(n,s,r);else if(n instanceof Di)this.walkFlat(n,s,r);else if(n instanceof ri)this.walkOption(n,s,r);else if(n instanceof Ri)this.walkAtLeastOne(n,s,r);else if(n instanceof Ii)this.walkAtLeastOneSep(n,s,r);else if(n instanceof xi)this.walkManySep(n,s,r);else if(n instanceof On)this.walkMany(n,s,r);else if(n instanceof bi)this.walkOr(n,s,r);else throw Error("non exhaustive match")})}walkTerminal(t,r,n){}walkProdRef(t,r,n){}walkFlat(t,r,n){let i=r.concat(n);this.walk(t,i)}walkOption(t,r,n){let i=r.concat(n);this.walk(t,i)}walkAtLeastOne(t,r,n){let i=[new ri({definition:t.definition})].concat(r,n);this.walk(t,i)}walkAtLeastOneSep(t,r,n){let i=moe(t,r,n);this.walk(t,i)}walkMany(t,r,n){let i=[new ri({definition:t.definition})].concat(r,n);this.walk(t,i)}walkManySep(t,r,n){let i=moe(t,r,n);this.walk(t,i)}walkOr(t,r,n){let i=r.concat(n);Ue(t.definition,s=>{let o=new Di({definition:[s]});this.walk(o,i)})}};a(moe,"restForRepetitionWithSeparator")});function Np(e){if(e instanceof ti)return Np(e.referencedRule);if(e instanceof Tn)return bGe(e);if(IM(e))return vGe(e);if(MM(e))return xGe(e);throw Error("non exhaustive match")}function vGe(e){let t=[],r=e.definition,n=0,i=r.length>n,s,o=!0;for(;i&&o;)s=r[n],o=Mp(s),t=t.concat(Np(s)),n=n+1,i=r.length>n;return l1(t)}function xGe(e){let t=It(e.definition,r=>Np(r));return l1(Xn(t))}function bGe(e){return[e.terminalType]}var NM=L(()=>{"use strict";hr();Do();a(Np,"first");a(vGe,"firstForSequence");a(xGe,"firstForBranching");a(bGe,"firstForTerminal")});var RT,OM=L(()=>{"use strict";RT="_~IN~_"});function goe(e){let t={};return Ue(e,r=>{let n=new PM(r).startWalking();Ms(t,n)}),t}function kGe(e,t){return e.name+t+RT}var PM,yoe=L(()=>{"use strict";DT();NM();hr();OM();Do();PM=class extends ff{static{a(this,"ResyncFollowsWalker")}constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,n){}walkProdRef(t,r,n){let i=kGe(t.referencedRule,t.idx)+this.topProd.name,s=r.concat(n),o=new Di({definition:s}),u=Np(o);this.follows[i]=u}};a(goe,"computeAllProdsFollows");a(kGe,"buildBetweenProdsFollowPrefix")});function I1(e){let t=e.toString();if(IT.hasOwnProperty(t))return IT[t];{let r=wGe.pattern(t);return IT[t]=r,r}}function voe(){IT={}}var IT,wGe,MT=L(()=>{"use strict";kx();IT={},wGe=new Lp;a(I1,"getRegExpAst");a(voe,"clearRegExpParserCache")});function koe(e,t=!1){try{let r=I1(e);return BM(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===boe)t&&Cx(`${Ax}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),L1(`${Ax}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function BM(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)BM(e.value[i],t,r);break;case"Alternative":let n=e.value;for(let i=0;i<n.length;i++){let s=n[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let o=s;switch(o.type){case"Character":NT(o.value,t,r);break;case"Set":if(o.complement===!0)throw Error(boe);Ue(o.value,h=>{if(typeof h=="number")NT(h,t,r);else{let p=h;if(r===!0)for(let g=p.from;g<=p.to;g++)NT(g,t,r);else{for(let g=p.from;g<=p.to&&g<M1;g++)NT(g,t,r);if(p.to>=M1){let g=p.from>=M1?p.from:M1,v=p.to,x=hh(g),k=hh(v);for(let E=x;E<=k;E++)t[E]=E}}}});break;case"Group":BM(o.value,t,r);break;default:throw Error("Non Exhaustive Match")}let u=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&FM(o)===!1||o.type!=="Group"&&u===!1)break}break;default:throw Error("non exhaustive match!")}return xn(t)}function NT(e,t,r){let n=hh(e);t[n]=n,r===!0&&TGe(e,t)}function TGe(e,t){let r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){let i=hh(n.charCodeAt(0));t[i]=i}else{let i=r.toLowerCase();if(i!==r){let s=hh(i.charCodeAt(0));t[s]=s}}}function xoe(e,t){return wo(e.value,r=>{if(typeof r=="number")return Gi(t,r);{let n=r;return wo(t,i=>n.from<=i&&i<=n.to)!==void 0}})}function FM(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?or(e.value)?no(e.value,FM):FM(e.value):!1}function OT(e,t){if(t instanceof RegExp){let r=I1(t),n=new zM(e);return n.visit(r),n.found}else return wo(t,r=>Gi(e,r.charCodeAt(0)))!==void 0}var boe,Ax,zM,woe=L(()=>{"use strict";kx();hr();D1();MT();$M();boe="Complement Sets are not supported for first char optimization",Ax=`Unable to use "first char" lexer optimizations:
`;a(koe,"getOptimizedStartCodesIndices");a(BM,"firstCharOptimizedIndices");a(NT,"addOptimizedIdxToResult");a(TGe,"handleIgnoreCase");a(xoe,"findCode");a(FM,"isWholeOptional");zM=class extends ch{static{a(this,"CharCodeFinder")}constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){Gi(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?xoe(t,this.targetCharCodes)===void 0&&(this.found=!0):xoe(t,this.targetCharCodes)!==void 0&&(this.found=!0)}};a(OT,"canMatchCharCode")});function Coe(e,t){t=al(t,{useSticky:VM,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(P,V)=>V()});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{GGe()});let n;r("Reject Lexer.NA",()=>{n=Dd(e,P=>P[Op]===la.NA)});let i=!1,s;r("Transform Patterns",()=>{i=!1,s=It(n,P=>{let V=P[Op];if(gu(V)){let H=V.source;return H.length===1&&H!=="^"&&H!=="$"&&H!=="."&&!V.ignoreCase?H:H.length===2&&H[0]==="\\"&&!Gi(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],H[1])?H[1]:t.useSticky?Eoe(V):Toe(V)}else{if(aa(V))return i=!0,{exec:V};if(typeof V=="object")return i=!0,V;if(typeof V=="string"){if(V.length===1)return V;{let H=V.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),O=new RegExp(H);return t.useSticky?Eoe(O):Toe(O)}}else throw Error("non exhaustive match")}})});let o,u,h,p,g;r("misc mapping",()=>{o=It(n,P=>P.tokenTypeIdx),u=It(n,P=>{let V=P.GROUP;if(V!==la.SKIPPED){if(ba(V))return V;if(an(V))return!1;throw Error("non exhaustive match")}}),h=It(n,P=>{let V=P.LONGER_ALT;if(V)return or(V)?It(V,O=>X6(n,O)):[X6(n,V)]}),p=It(n,P=>P.PUSH_MODE),g=It(n,P=>kt(P,"POP_MODE"))});let v;r("Line Terminator Handling",()=>{let P=Moe(t.lineTerminatorCharacters);v=It(n,V=>!1),t.positionTracking!=="onlyOffset"&&(v=It(n,V=>kt(V,"LINE_BREAKS")?!!V.LINE_BREAKS:Ioe(V,P)===!1&&OT(P,V.PATTERN)))});let x,k,E,_;r("Misc Mapping #2",()=>{x=It(n,Doe),k=It(s,zGe),E=Kn(n,(P,V)=>{let H=V.GROUP;return ba(H)&&H!==la.SKIPPED&&(P[H]=[]),P},{}),_=It(s,(P,V)=>({pattern:s[V],longerAlt:h[V],canLineTerminator:v[V],isCustom:x[V],short:k[V],group:u[V],push:p[V],pop:g[V],tokenTypeIdx:o[V],tokenType:n[V]}))});let N=!0,M=[];return t.safeMode||r("First Char Optimization",()=>{M=Kn(n,(P,V,H)=>{if(typeof V.PATTERN=="string"){let O=V.PATTERN.charCodeAt(0),I=hh(O);GM(P,I,_[H])}else if(or(V.START_CHARS_HINT)){let O;Ue(V.START_CHARS_HINT,I=>{let z=typeof I=="string"?I.charCodeAt(0):I,G=hh(z);O!==G&&(O=G,GM(P,G,_[H]))})}else if(gu(V.PATTERN))if(V.PATTERN.unicode)N=!1,t.ensureOptimizations&&L1(`${Ax}	Unable to analyze < ${V.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let O=koe(V.PATTERN,t.ensureOptimizations);jr(O)&&(N=!1),Ue(O,I=>{GM(P,I,_[H])})}else t.ensureOptimizations&&L1(`${Ax}	TokenType: <${V.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),N=!1;return P},[])}),{emptyGroups:E,patternIdxToConfig:_,charCodeToPatternIdxToConfig:M,hasCustom:i,canBeOptimized:N}}function Soe(e,t){let r=[],n=CGe(e);r=r.concat(n.errors);let i=SGe(n.valid),s=i.valid;return r=r.concat(i.errors),r=r.concat(EGe(s)),r=r.concat(NGe(s)),r=r.concat(OGe(s,t)),r=r.concat(PGe(s)),r}function EGe(e){let t=[],r=jn(e,n=>gu(n[Op]));return t=t.concat(AGe(r)),t=t.concat(RGe(r)),t=t.concat(IGe(r)),t=t.concat(MGe(r)),t=t.concat(LGe(r)),t}function CGe(e){let t=jn(e,i=>!kt(i,Op)),r=It(t,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Vi.MISSING_PATTERN,tokenTypes:[i]})),n=Ld(e,t);return{errors:r,valid:n}}function SGe(e){let t=jn(e,i=>{let s=i[Op];return!gu(s)&&!aa(s)&&!kt(s,"exec")&&!ba(s)}),r=It(t,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Vi.INVALID_PATTERN,tokenTypes:[i]})),n=Ld(e,t);return{errors:r,valid:n}}function AGe(e){class t extends ch{static{a(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}let r=jn(e,i=>{let s=i.PATTERN;try{let o=I1(s),u=new t;return u.visit(o),u.found}catch{return _Ge.test(s.source)}});return It(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Vi.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function LGe(e){let t=jn(e,n=>n.PATTERN.test(""));return It(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:Vi.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}function RGe(e){class t extends ch{static{a(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}let r=jn(e,i=>{let s=i.PATTERN;try{let o=I1(s),u=new t;return u.visit(o),u.found}catch{return DGe.test(s.source)}});return It(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Vi.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function IGe(e){let t=jn(e,n=>{let i=n[Op];return i instanceof RegExp&&(i.multiline||i.global)});return It(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Vi.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function MGe(e){let t=[],r=It(e,s=>Kn(e,(o,u)=>(s.PATTERN.source===u.PATTERN.source&&!Gi(t,u)&&u.PATTERN!==la.NA&&(t.push(u),o.push(u)),o),[]));r=rh(r);let n=jn(r,s=>s.length>1);return It(n,s=>{let o=It(s,h=>h.name);return{message:`The same RegExp pattern ->${cs(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:Vi.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function NGe(e){let t=jn(e,n=>{if(!kt(n,"GROUP"))return!1;let i=n.GROUP;return i!==la.SKIPPED&&i!==la.NA&&!ba(i)});return It(t,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Vi.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function OGe(e,t){let r=jn(e,i=>i.PUSH_MODE!==void 0&&!Gi(t,i.PUSH_MODE));return It(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Vi.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function PGe(e){let t=[],r=Kn(e,(n,i,s)=>{let o=i.PATTERN;return o===la.NA||(ba(o)?n.push({str:o,idx:s,tokenType:i}):gu(o)&&FGe(o)&&n.push({str:o.source,idx:s,tokenType:i})),n},[]);return Ue(e,(n,i)=>{Ue(r,({str:s,idx:o,tokenType:u})=>{if(i<o&&BGe(s,n.PATTERN)){let h=`Token: ->${u.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:h,type:Vi.UNREACHABLE_PATTERN,tokenTypes:[n,u]})}})}),t}function BGe(e,t){if(gu(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(aa(t))return t(e,0,[],{});if(kt(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function FGe(e){return wo([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>e.source.indexOf(r)!==-1)===void 0}function Toe(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function Eoe(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function _oe(e,t,r){let n=[];return kt(e,N1)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+N1+`> property in its definition
`,type:Vi.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),kt(e,PT)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+PT+`> property in its definition
`,type:Vi.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),kt(e,PT)&&kt(e,N1)&&!kt(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${N1}: <${e.defaultMode}>which does not exist
`,type:Vi.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),kt(e,PT)&&Ue(e.modes,(i,s)=>{Ue(i,(o,u)=>{if(an(o))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${u}>
`,type:Vi.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(kt(o,"LONGER_ALT")){let h=or(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];Ue(h,p=>{!an(p)&&!Gi(i,p)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${p.name}> on token <${o.name}> outside of mode <${s}>
`,type:Vi.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function Aoe(e,t,r){let n=[],i=!1,s=rh(Xn(xn(e.modes))),o=Dd(s,h=>h[Op]===la.NA),u=Moe(r);return t&&Ue(o,h=>{let p=Ioe(h,u);if(p!==!1){let v={message:$Ge(h,p),type:p.issue,tokenType:h};n.push(v)}else kt(h,"LINE_BREAKS")?h.LINE_BREAKS===!0&&(i=!0):OT(u,h.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Vi.NO_LINE_BREAKS_FLAGS}),n}function Loe(e){let t={},r=Vn(e);return Ue(r,n=>{let i=e[n];if(or(i))t[n]=[];else throw Error("non exhaustive match")}),t}function Doe(e){let t=e.PATTERN;if(gu(t))return!1;if(aa(t))return!0;if(kt(t,"exec"))return!0;if(ba(t))return!1;throw Error("non exhaustive match")}function zGe(e){return ba(e)&&e.length===1?e.charCodeAt(0):!1}function Ioe(e,t){if(kt(e,"LINE_BREAKS"))return!1;if(gu(e.PATTERN)){try{OT(t,e.PATTERN)}catch(r){return{issue:Vi.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(ba(e.PATTERN))return!1;if(Doe(e))return{issue:Vi.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function $Ge(e,t){if(t.issue===Vi.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Vi.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Moe(e){return It(e,r=>ba(r)?r.charCodeAt(0):r)}function GM(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function hh(e){return e<M1?e:BT[e]}function GGe(){if(jr(BT)){BT=new Array(65536);for(let e=0;e<65536;e++)BT[e]=e>255?255+~~(e/255):e}}var Op,N1,PT,VM,_Ge,DGe,Roe,M1,BT,$M=L(()=>{"use strict";kx();Lx();hr();D1();woe();MT();Op="PATTERN",N1="defaultMode",PT="modes",VM=typeof new RegExp("(?:)").sticky=="boolean";a(Coe,"analyzeTokenTypes");a(Soe,"validatePatterns");a(EGe,"validateRegExpPattern");a(CGe,"findMissingPatterns");a(SGe,"findInvalidPatterns");_Ge=/[^\\][$]/;a(AGe,"findEndOfInputAnchor");a(LGe,"findEmptyMatchRegExps");DGe=/[^\\[][\^]|^\^/;a(RGe,"findStartOfInputAnchor");a(IGe,"findUnsupportedFlags");a(MGe,"findDuplicatePatterns");a(NGe,"findInvalidGroupType");a(OGe,"findModesThatDoNotExist");a(PGe,"findUnreachablePatterns");a(BGe,"testTokenType");a(FGe,"noMetaChar");a(Toe,"addStartOfInput");a(Eoe,"addStickyFlag");a(_oe,"performRuntimeChecks");a(Aoe,"performWarningRuntimeChecks");a(Loe,"cloneEmptyGroups");a(Doe,"isCustomPattern");a(zGe,"isShortPattern");Roe={test:function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};a(Ioe,"checkLineBreaksIssues");a($Ge,"buildLineBreakIssueMessage");a(Moe,"getCharCodes");a(GM,"addToMapOfArrays");M1=256,BT=[];a(hh,"charCodeToOptimizedIndex");a(GGe,"initCharCodeToOptimizedIndexMap")});function df(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function O1(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}function pf(e){let t=VGe(e);qGe(t),HGe(t),UGe(t),Ue(t,r=>{r.isParent=r.categoryMatches.length>0})}function VGe(e){let t=ei(e),r=e,n=!0;for(;n;){r=rh(Xn(It(r,s=>s.CATEGORIES)));let i=Ld(r,t);t=t.concat(i),jr(i)?n=!1:r=i}return t}function qGe(e){Ue(e,t=>{qM(t)||(Poe[Noe]=t,t.tokenTypeIdx=Noe++),Ooe(t)&&!or(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),Ooe(t)||(t.CATEGORIES=[]),WGe(t)||(t.categoryMatches=[]),YGe(t)||(t.categoryMatchesMap={})})}function UGe(e){Ue(e,t=>{t.categoryMatches=[],Ue(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(Poe[n].tokenTypeIdx)})})}function HGe(e){Ue(e,t=>{Boe([],t)})}function Boe(e,t){Ue(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),Ue(t.CATEGORIES,r=>{let n=e.concat(t);Gi(n,r)||Boe(n,r)})}function qM(e){return kt(e,"tokenTypeIdx")}function Ooe(e){return kt(e,"CATEGORIES")}function WGe(e){return kt(e,"categoryMatches")}function YGe(e){return kt(e,"categoryMatchesMap")}function Foe(e){return kt(e,"tokenTypeIdx")}var Noe,Poe,Pp=L(()=>{"use strict";hr();a(df,"tokenStructuredMatcher");a(O1,"tokenStructuredMatcherNoCategories");Noe=1,Poe={};a(pf,"augmentTokenTypes");a(VGe,"expandCategories");a(qGe,"assignTokenDefaultProps");a(UGe,"assignCategoriesTokensProp");a(HGe,"assignCategoriesMapProp");a(Boe,"singleAssignCategoriesToksMap");a(qM,"hasShortKeyProperty");a(Ooe,"hasCategoriesProperty");a(WGe,"hasExtendingTokensTypesProperty");a(YGe,"hasExtendingTokensTypesMapProperty");a(Foe,"isTokenType")});var UM,HM=L(()=>{"use strict";UM={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}}});var Vi,Dx,la,Lx=L(()=>{"use strict";$M();hr();D1();Pp();HM();MT();(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Vi||(Vi={}));Dx={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:UM,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Dx);la=class{static{a(this,"Lexer")}constructor(t,r=Dx){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${i}>`);let{time:u,value:h}=Sx(s),p=u>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&p(`${o}<-- <${i}> time: ${u}ms`),this.traceInitIndent--,h}else return s()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Ms({},Dx,r);let n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Dx.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Roe;else if(this.config.lineTerminatorCharacters===Dx.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),or(t)?i={modes:{defaultMode:ei(t)},defaultMode:N1}:(s=!1,i=ei(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(_oe(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Aoe(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},Ue(i.modes,(u,h)=>{i.modes[h]=Dd(u,p=>an(p))});let o=Vn(i.modes);if(Ue(i.modes,(u,h)=>{this.TRACE_INIT(`Mode: <${h}> processing`,()=>{if(this.modes.push(h),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Soe(u,o))}),jr(this.lexerDefinitionErrors)){pf(u);let p;this.TRACE_INIT("analyzeTokenTypes",()=>{p=Coe(u,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[h]=p.patternIdxToConfig,this.charCodeToPatternIdxToConfig[h]=p.charCodeToPatternIdxToConfig,this.emptyGroups=Ms({},this.emptyGroups,p.emptyGroups),this.hasCustom=p.hasCustom||this.hasCustom,this.canModeBeOptimized[h]=p.canBeOptimized}})}),this.defaultMode=i.defaultMode,!jr(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let h=It(this.lexerDefinitionErrors,p=>p.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+h)}Ue(this.lexerDefinitionWarning,u=>{Cx(u.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(VM?(this.chopInput=us,this.match=this.matchWithTest):(this.updateLastIndex=ji,this.match=this.matchWithExec),s&&(this.handleModes=ji),this.trackStartLines===!1&&(this.computeNewColumn=us),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=ji),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let u=Kn(this.canModeBeOptimized,(h,p,g)=>(p===!1&&h.push(g),h),[]);if(r.ensureOptimizations&&!jr(u))throw Error(`Lexer Modes: < ${u.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{voe()}),this.TRACE_INIT("toFastProperties",()=>{_x(this)})})}tokenize(t,r=this.defaultMode){if(!jr(this.lexerDefinitionErrors)){let i=It(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(t,r)}tokenizeInternal(t,r){let n,i,s,o,u,h,p,g,v,x,k,E,_,N,M,P,V=t,H=V.length,O=0,I=0,z=this.hasCustom?0:Math.floor(t.length/10),G=new Array(z),F=[],j=this.trackStartLines?1:void 0,D=this.trackStartLines?1:void 0,X=Loe(this.emptyGroups),B=this.trackStartLines,Q=this.config.lineTerminatorsPattern,le=0,J=[],ie=[],re=[],Z=[];Object.freeze(Z);let Y;function ue(){return J}a(ue,"getPossiblePatternsSlow");function Ae(Xe){let He=hh(Xe),Ne=ie[He];return Ne===void 0?Z:Ne}a(Ae,"getPossiblePatternsOptimized");let ae=a(Xe=>{if(re.length===1&&Xe.tokenType.PUSH_MODE===void 0){let He=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Xe);F.push({offset:Xe.startOffset,line:Xe.startLine,column:Xe.startColumn,length:Xe.image.length,message:He})}else{re.pop();let He=Ns(re);J=this.patternIdxToConfig[He],ie=this.charCodeToPatternIdxToConfig[He],le=J.length;let Ne=this.canModeBeOptimized[He]&&this.config.safeMode===!1;ie&&Ne?Y=Ae:Y=ue}},"pop_mode");function Ke(Xe){re.push(Xe),ie=this.charCodeToPatternIdxToConfig[Xe],J=this.patternIdxToConfig[Xe],le=J.length,le=J.length;let He=this.canModeBeOptimized[Xe]&&this.config.safeMode===!1;ie&&He?Y=Ae:Y=ue}a(Ke,"push_mode"),Ke.call(this,r);let Ie,$e=this.config.recoveryEnabled;for(;O<H;){h=null;let Xe=V.charCodeAt(O),He=Y(Xe),Ne=He.length;for(n=0;n<Ne;n++){Ie=He[n];let _e=Ie.pattern;p=null;let Me=Ie.short;if(Me!==!1?Xe===Me&&(h=_e):Ie.isCustom===!0?(P=_e.exec(V,O,G,X),P!==null?(h=P[0],P.payload!==void 0&&(p=P.payload)):h=null):(this.updateLastIndex(_e,O),h=this.match(_e,t,O)),h!==null){if(u=Ie.longerAlt,u!==void 0){let Ee=u.length;for(s=0;s<Ee;s++){let Oe=J[u[s]],at=Oe.pattern;if(g=null,Oe.isCustom===!0?(P=at.exec(V,O,G,X),P!==null?(o=P[0],P.payload!==void 0&&(g=P.payload)):o=null):(this.updateLastIndex(at,O),o=this.match(at,t,O)),o&&o.length>h.length){h=o,p=g,Ie=Oe;break}}}break}}if(h!==null){if(v=h.length,x=Ie.group,x!==void 0&&(k=Ie.tokenTypeIdx,E=this.createTokenInstance(h,O,k,Ie.tokenType,j,D,v),this.handlePayload(E,p),x===!1?I=this.addToken(G,I,E):X[x].push(E)),t=this.chopInput(t,v),O=O+v,D=this.computeNewColumn(D,v),B===!0&&Ie.canLineTerminator===!0){let _e=0,Me,Ee;Q.lastIndex=0;do Me=Q.test(h),Me===!0&&(Ee=Q.lastIndex-1,_e++);while(Me===!0);_e!==0&&(j=j+_e,D=v-Ee,this.updateTokenEndLineColumnLocation(E,x,Ee,_e,j,D,v))}this.handleModes(Ie,ae,Ke,E)}else{let _e=O,Me=j,Ee=D,Oe=$e===!1;for(;Oe===!1&&O<H;)for(t=this.chopInput(t,1),O++,i=0;i<le;i++){let at=J[i],pe=at.pattern,Bt=at.short;if(Bt!==!1?V.charCodeAt(O)===Bt&&(Oe=!0):at.isCustom===!0?Oe=pe.exec(V,O,G,X)!==null:(this.updateLastIndex(pe,O),Oe=pe.exec(t)!==null),Oe===!0)break}if(_=O-_e,D=this.computeNewColumn(D,_),M=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(V,_e,_,Me,Ee),F.push({offset:_e,line:Me,column:Ee,length:_,message:M}),$e===!1)break}}return this.hasCustom||(G.length=I),{tokens:G,groups:X,errors:F}}handleModes(t,r,n,i){if(t.pop===!0){let s=t.push;r(i),s!==void 0&&n.call(this,s)}else t.push!==void 0&&n.call(this,t.push)}chopInput(t,r){return t.substring(r)}updateLastIndex(t,r){t.lastIndex=r}updateTokenEndLineColumnLocation(t,r,n,i,s,o,u){let h,p;r!==void 0&&(h=n===u-1,p=h?-1:0,i===1&&h===!0||(t.endLine=s+p,t.endColumn=o-1+-p))}computeNewColumn(t,r){return t+r}createOffsetOnlyToken(t,r,n,i){return{image:t,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(t,r,n,i,s,o){return{image:t,startOffset:r,startLine:s,startColumn:o,tokenTypeIdx:n,tokenType:i}}createFullToken(t,r,n,i,s,o,u){return{image:t,startOffset:r,endOffset:r+u-1,startLine:s,endLine:s,startColumn:o,endColumn:o+u-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(t,r,n){return t.push(n),r}addTokenUsingMemberAccess(t,r,n){return t[r]=n,r++,r}handlePayloadNoCustom(t,r){}handlePayloadWithCustom(t,r){r!==null&&(t.payload=r)}matchWithTest(t,r,n){return t.test(r)===!0?r.substring(n,t.lastIndex):null}matchWithExec(t,r){let n=t.exec(r);return n!==null?n[0]:null}};la.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";la.NA=/NOT_APPLICABLE/});function mf(e){return WM(e)?e.LABEL:e.name}function WM(e){return ba(e.LABEL)&&e.LABEL!==""}function FT(e){return jGe(e)}function jGe(e){let t=e.pattern,r={};if(r.name=e.name,an(t)||(r.PATTERN=t),kt(e,XGe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return kt(e,zoe)&&(r.CATEGORIES=e[zoe]),pf([r]),kt(e,$oe)&&(r.LABEL=e[$oe]),kt(e,Goe)&&(r.GROUP=e[Goe]),kt(e,qoe)&&(r.POP_MODE=e[qoe]),kt(e,Voe)&&(r.PUSH_MODE=e[Voe]),kt(e,Uoe)&&(r.LONGER_ALT=e[Uoe]),kt(e,Hoe)&&(r.LINE_BREAKS=e[Hoe]),kt(e,Woe)&&(r.START_CHARS_HINT=e[Woe]),r}function Bp(e,t,r,n,i,s,o,u){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:s,startColumn:o,endColumn:u,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Rx(e,t){return df(e,t)}var XGe,zoe,$oe,Goe,Voe,qoe,Uoe,Hoe,Woe,$l,Fp=L(()=>{"use strict";hr();Lx();Pp();a(mf,"tokenLabel");a(WM,"hasTokenLabel");XGe="parent",zoe="categories",$oe="label",Goe="group",Voe="push_mode",qoe="pop_mode",Uoe="longer_alt",Hoe="line_breaks",Woe="start_chars_hint";a(FT,"createToken");a(jGe,"createTokenInternal");$l=FT({name:"EOF",pattern:la.NA});pf([$l]);a(Bp,"createTokenInstance");a(Rx,"tokenMatcher")});var gf,Yoe,bc,P1=L(()=>{"use strict";Fp();hr();Do();gf={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${WM(e)?`--> ${mf(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){let s="Expecting: ",u=`
but found: '`+cs(t).image+"'";if(n)return s+n+u;{let h=Kn(e,(x,k)=>x.concat(k),[]),p=It(h,x=>`[${It(x,k=>mf(k)).join(", ")}]`),v=`one of these possible Token sequences:
${It(p,(x,k)=>`  ${k+1}. ${x}`).join(`
`)}`;return s+v+u}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){let i="Expecting: ",o=`
but found: '`+cs(t).image+"'";if(r)return i+r+o;{let h=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${It(e,p=>`[${It(p,g=>mf(g)).join(",")}]`).join(" ,")}>`;return i+h+o}}};Object.freeze(gf);Yoe={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},bc={buildDuplicateFoundError(e,t){function r(g){return g instanceof Tn?g.terminalType.name:g instanceof ti?g.nonTerminalName:""}a(r,"getExtraProductionArgument");let n=e.name,i=cs(t),s=i.idx,o=cl(i),u=r(i),h=s>0,p=`->${o}${h?s:""}<- ${u?`with argument: ->${u}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return p=p.replace(/[ \t]+/g," "),p=p.replace(/\s\s+/g,`
`),p},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=It(e.prefixPath,i=>mf(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=It(e.prefixPath,i=>mf(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=cl(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=It(e.leftRecursionPath,s=>s.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof Ao?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}}});function Xoe(e,t){let r=new YM(e,t);return r.resolveRefs(),r.errors}var YM,joe=L(()=>{"use strict";hl();hr();Do();a(Xoe,"resolveGrammar");YM=class extends Lo{static{a(this,"GastRefResolverVisitor")}constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){Ue(xn(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){let r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{let n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:Xa.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}});function VT(e,t,r=[]){r=ei(r);let n=[],i=0;function s(u){return u.concat(xa(e,i+1))}a(s,"remainingPathWith");function o(u){let h=VT(s(u),t,r);return n.concat(h)}for(a(o,"getAlternativesForProd");r.length<t&&i<e.length;){let u=e[i];if(u instanceof Di)return o(u.definition);if(u instanceof ti)return o(u.definition);if(u instanceof ri)n=o(u.definition);else if(u instanceof Ri){let h=u.definition.concat([new On({definition:u.definition})]);return o(h)}else if(u instanceof Ii){let h=[new Di({definition:u.definition}),new On({definition:[new Tn({terminalType:u.separator})].concat(u.definition)})];return o(h)}else if(u instanceof xi){let h=u.definition.concat([new On({definition:[new Tn({terminalType:u.separator})].concat(u.definition)})]);n=o(h)}else if(u instanceof On){let h=u.definition.concat([new On({definition:u.definition})]);n=o(h)}else{if(u instanceof bi)return Ue(u.definition,h=>{jr(h.definition)===!1&&(n=o(h.definition))}),n;if(u instanceof Tn)r.push(u.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:xa(e,i)}),n}function qT(e,t,r,n){let i="EXIT_NONE_TERMINAL",s=[i],o="EXIT_ALTERNATIVE",u=!1,h=t.length,p=h-n-1,g=[],v=[];for(v.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!jr(v);){let x=v.pop();if(x===o){u&&Ns(v).idx<=p&&v.pop();continue}let k=x.def,E=x.idx,_=x.ruleStack,N=x.occurrenceStack;if(jr(k))continue;let M=k[0];if(M===i){let P={idx:E,def:xa(k),ruleStack:rf(_),occurrenceStack:rf(N)};v.push(P)}else if(M instanceof Tn)if(E<h-1){let P=E+1,V=t[P];if(r(V,M.terminalType)){let H={idx:P,def:xa(k),ruleStack:_,occurrenceStack:N};v.push(H)}}else if(E===h-1)g.push({nextTokenType:M.terminalType,nextTokenOccurrence:M.idx,ruleStack:_,occurrenceStack:N}),u=!0;else throw Error("non exhaustive match");else if(M instanceof ti){let P=ei(_);P.push(M.nonTerminalName);let V=ei(N);V.push(M.idx);let H={idx:E,def:M.definition.concat(s,xa(k)),ruleStack:P,occurrenceStack:V};v.push(H)}else if(M instanceof ri){let P={idx:E,def:xa(k),ruleStack:_,occurrenceStack:N};v.push(P),v.push(o);let V={idx:E,def:M.definition.concat(xa(k)),ruleStack:_,occurrenceStack:N};v.push(V)}else if(M instanceof Ri){let P=new On({definition:M.definition,idx:M.idx}),V=M.definition.concat([P],xa(k)),H={idx:E,def:V,ruleStack:_,occurrenceStack:N};v.push(H)}else if(M instanceof Ii){let P=new Tn({terminalType:M.separator}),V=new On({definition:[P].concat(M.definition),idx:M.idx}),H=M.definition.concat([V],xa(k)),O={idx:E,def:H,ruleStack:_,occurrenceStack:N};v.push(O)}else if(M instanceof xi){let P={idx:E,def:xa(k),ruleStack:_,occurrenceStack:N};v.push(P),v.push(o);let V=new Tn({terminalType:M.separator}),H=new On({definition:[V].concat(M.definition),idx:M.idx}),O=M.definition.concat([H],xa(k)),I={idx:E,def:O,ruleStack:_,occurrenceStack:N};v.push(I)}else if(M instanceof On){let P={idx:E,def:xa(k),ruleStack:_,occurrenceStack:N};v.push(P),v.push(o);let V=new On({definition:M.definition,idx:M.idx}),H=M.definition.concat([V],xa(k)),O={idx:E,def:H,ruleStack:_,occurrenceStack:N};v.push(O)}else if(M instanceof bi)for(let P=M.definition.length-1;P>=0;P--){let V=M.definition[P],H={idx:E,def:V.definition.concat(xa(k)),ruleStack:_,occurrenceStack:N};v.push(H),v.push(o)}else if(M instanceof Di)v.push({idx:E,def:M.definition.concat(xa(k)),ruleStack:_,occurrenceStack:N});else if(M instanceof Ao)v.push(KGe(M,E,_,N));else throw Error("non exhaustive match")}return g}function KGe(e,t,r,n){let i=ei(r);i.push(e.name);let s=ei(n);return s.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:s}}var XM,zT,B1,$T,Ix,GT,Mx,Nx=L(()=>{"use strict";hr();NM();DT();Do();XM=class extends ff{static{a(this,"AbstractNextPossibleTokensWalker")}constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=ei(this.path.ruleStack).reverse(),this.occurrenceStack=ei(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){let i=r.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}}updateExpectedNext(){jr(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},zT=class extends XM{static{a(this,"NextAfterTokenWalker")}constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){let i=r.concat(n),s=new Di({definition:i});this.possibleTokTypes=Np(s),this.found=!0}}},B1=class extends ff{static{a(this,"AbstractNextTerminalAfterProductionWalker")}constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},$T=class extends B1{static{a(this,"NextTerminalAfterManyWalker")}walkMany(t,r,n){if(t.idx===this.occurrence){let i=cs(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Tn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(t,r,n)}},Ix=class extends B1{static{a(this,"NextTerminalAfterManySepWalker")}walkManySep(t,r,n){if(t.idx===this.occurrence){let i=cs(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Tn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(t,r,n)}},GT=class extends B1{static{a(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(t,r,n){if(t.idx===this.occurrence){let i=cs(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Tn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(t,r,n)}},Mx=class extends B1{static{a(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(t,r,n){if(t.idx===this.occurrence){let i=cs(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Tn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(t,r,n)}};a(VT,"possiblePathsFrom");a(qT,"nextPossibleTokensAfter");a(KGe,"expandTopLevelRule")});function Ox(e){if(e instanceof ri||e==="Option")return qi.OPTION;if(e instanceof On||e==="Repetition")return qi.REPETITION;if(e instanceof Ri||e==="RepetitionMandatory")return qi.REPETITION_MANDATORY;if(e instanceof Ii||e==="RepetitionMandatoryWithSeparator")return qi.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof xi||e==="RepetitionWithSeparator")return qi.REPETITION_WITH_SEPARATOR;if(e instanceof bi||e==="Alternation")return qi.ALTERNATION;throw Error("non exhaustive match")}function HT(e){let{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,s=Ox(n);return s===qi.ALTERNATION?F1(t,r,i):z1(t,r,s,i)}function Qoe(e,t,r,n,i,s){let o=F1(e,t,r),u=nle(o)?O1:df;return s(o,n,u,i)}function Zoe(e,t,r,n,i,s){let o=z1(e,t,i,r),u=nle(o)?O1:df;return s(o[0],u,n)}function Joe(e,t,r,n){let i=e.length,s=no(e,o=>no(o,u=>u.length===1));if(t)return function(o){let u=It(o,h=>h.GATE);for(let h=0;h<i;h++){let p=e[h],g=p.length,v=u[h];if(!(v!==void 0&&v.call(this)===!1))e:for(let x=0;x<g;x++){let k=p[x],E=k.length;for(let _=0;_<E;_++){let N=this.LA(_+1);if(r(N,k[_])===!1)continue e}return h}}};if(s&&!n){let o=It(e,h=>Xn(h)),u=Kn(o,(h,p,g)=>(Ue(p,v=>{kt(h,v.tokenTypeIdx)||(h[v.tokenTypeIdx]=g),Ue(v.categoryMatches,x=>{kt(h,x)||(h[x]=g)})}),h),{});return function(){let h=this.LA(1);return u[h.tokenTypeIdx]}}else return function(){for(let o=0;o<i;o++){let u=e[o],h=u.length;e:for(let p=0;p<h;p++){let g=u[p],v=g.length;for(let x=0;x<v;x++){let k=this.LA(x+1);if(r(k,g[x])===!1)continue e}return o}}}}function ele(e,t,r){let n=no(e,s=>s.length===1),i=e.length;if(n&&!r){let s=Xn(e);if(s.length===1&&jr(s[0].categoryMatches)){let u=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===u}}else{let o=Kn(s,(u,h,p)=>(u[h.tokenTypeIdx]=!0,Ue(h.categoryMatches,g=>{u[g]=!0}),u),[]);return function(){let u=this.LA(1);return o[u.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){let o=e[s],u=o.length;for(let h=0;h<u;h++){let p=this.LA(h+1);if(t(p,o[h])===!1)continue e}return!0}return!1}}function Koe(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function jM(e){let t=[""];for(let r=0;r<e.length;r++){let n=e[r],i=[];for(let s=0;s<t.length;s++){let o=t[s];i.push(o+"_"+n.tokenTypeIdx);for(let u=0;u<n.categoryMatches.length;u++){let h="_"+n.categoryMatches[u];i.push(o+h)}}t=i}return t}function QGe(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;let i=e[n];for(let s=0;s<t.length;s++){let o=t[s];if(i[o]===!0)return!1}}return!0}function tle(e,t){let r=It(e,o=>VT([o],1)),n=Koe(r.length),i=It(r,o=>{let u={};return Ue(o,h=>{let p=jM(h.partialPath);Ue(p,g=>{u[g]=!0})}),u}),s=r;for(let o=1;o<=t;o++){let u=s;s=Koe(u.length);for(let h=0;h<u.length;h++){let p=u[h];for(let g=0;g<p.length;g++){let v=p[g].partialPath,x=p[g].suffixDef,k=jM(v);if(QGe(i,k,h)||jr(x)||v.length===t){let _=n[h];if(WT(_,v)===!1){_.push(v);for(let N=0;N<k.length;N++){let M=k[N];i[h][M]=!0}}}else{let _=VT(x,o+1,v);s[h]=s[h].concat(_),Ue(_,N=>{let M=jM(N.partialPath);Ue(M,P=>{i[h][P]=!0})})}}}}return n}function F1(e,t,r,n){let i=new UT(e,qi.ALTERNATION,n);return t.accept(i),tle(i.result,r)}function z1(e,t,r,n){let i=new UT(e,r);t.accept(i);let s=i.result,u=new KM(t,e,r).startWalking(),h=new Di({definition:s}),p=new Di({definition:u});return tle([h,p],n)}function WT(e,t){e:for(let r=0;r<e.length;r++){let n=e[r];if(n.length===t.length){for(let i=0;i<n.length;i++){let s=t[i],o=n[i];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function rle(e,t){return e.length<t.length&&no(e,(r,n)=>{let i=t[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function nle(e){return no(e,t=>no(t,r=>no(r,n=>jr(n.categoryMatches))))}var qi,KM,UT,$1=L(()=>{"use strict";hr();Nx();DT();Pp();Do();(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(qi||(qi={}));a(Ox,"getProdType");a(HT,"getLookaheadPaths");a(Qoe,"buildLookaheadFuncForOr");a(Zoe,"buildLookaheadFuncForOptionalProd");a(Joe,"buildAlternativesLookAheadFunc");a(ele,"buildSingleAlternativeLookaheadFunction");KM=class extends ff{static{a(this,"RestDefinitionFinderWalker")}constructor(t,r,n){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(t,r,n){this.checkIsTarget(t,qi.OPTION,r,n)||super.walkOption(t,r,n)}walkAtLeastOne(t,r,n){this.checkIsTarget(t,qi.REPETITION_MANDATORY,r,n)||super.walkOption(t,r,n)}walkAtLeastOneSep(t,r,n){this.checkIsTarget(t,qi.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}walkMany(t,r,n){this.checkIsTarget(t,qi.REPETITION,r,n)||super.walkOption(t,r,n)}walkManySep(t,r,n){this.checkIsTarget(t,qi.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}},UT=class extends Lo{static{a(this,"InsideDefinitionFinderVisitor")}constructor(t,r,n){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,qi.OPTION)}visitRepetition(t){this.checkIsTarget(t,qi.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,qi.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,qi.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,qi.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,qi.ALTERNATION)}};a(Koe,"initializeArrayOfArrays");a(jM,"pathToHashKeys");a(QGe,"isUniquePrefixHash");a(tle,"lookAheadSequenceFromAlternatives");a(F1,"getLookaheadPathsForOr");a(z1,"getLookaheadPathsForOptionalProd");a(WT,"containsPath");a(rle,"isStrictPrefixOfPath");a(nle,"areTokenCategoriesNotUsed")});function ile(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return It(t,r=>Object.assign({type:Xa.CUSTOM_LOOKAHEAD_VALIDATION},r))}function ale(e,t,r,n){let i=Os(e,h=>ZGe(h,r)),s=iVe(e,t,r),o=Os(e,h=>tVe(h,r)),u=Os(e,h=>eVe(h,e,n,r));return i.concat(s,o,u)}function ZGe(e,t){let r=new QM;e.accept(r);let n=r.allProductions,i=JL(n,JGe),s=ol(i,u=>u.length>1);return It(xn(s),u=>{let h=cs(u),p=t.buildDuplicateFoundError(e,u),g=cl(h),v={message:p,type:Xa.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:g,occurrence:h.idx},x=sle(h);return x&&(v.parameter=x),v})}function JGe(e){return`${cl(e)}_#_${e.idx}_#_${sle(e)}`}function sle(e){return e instanceof Tn?e.terminalType.name:e instanceof ti?e.nonTerminalName:""}function eVe(e,t,r,n){let i=[];if(Kn(t,(o,u)=>u.name===e.name?o+1:o,0)>1){let o=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:o,type:Xa.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function ole(e,t,r){let n=[],i;return Gi(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:Xa.INVALID_RULE_OVERRIDE,ruleName:e})),n}function JM(e,t,r,n=[]){let i=[],s=YT(t.definition);if(jr(s))return[];{let o=e.name;Gi(s,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:Xa.LEFT_RECURSION,ruleName:o});let h=Ld(s,n.concat([e])),p=Os(h,g=>{let v=ei(n);return v.push(g),JM(e,g,r,v)});return i.concat(p)}}function YT(e){let t=[];if(jr(e))return t;let r=cs(e);if(r instanceof ti)t.push(r.referencedRule);else if(r instanceof Di||r instanceof ri||r instanceof Ri||r instanceof Ii||r instanceof xi||r instanceof On)t=t.concat(YT(r.definition));else if(r instanceof bi)t=Xn(It(r.definition,s=>YT(s.definition)));else if(!(r instanceof Tn))throw Error("non exhaustive match");let n=Mp(r),i=e.length>1;if(n&&i){let s=xa(e);return t.concat(YT(s))}else return t}function lle(e,t){let r=new Px;e.accept(r);let n=r.alternations;return Os(n,s=>{let o=rf(s.definition);return Os(o,(u,h)=>{let p=qT([u],[],df,1);return jr(p)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:s,emptyChoiceIdx:h}),type:Xa.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:s.idx,alternative:h+1}]:[]})})}function ule(e,t,r){let n=new Px;e.accept(n);let i=n.alternations;return i=Dd(i,o=>o.ignoreAmbiguities===!0),Os(i,o=>{let u=o.idx,h=o.maxLookahead||t,p=F1(u,e,h,o),g=rVe(p,o,e,r),v=nVe(p,o,e,r);return g.concat(v)})}function tVe(e,t){let r=new Px;e.accept(r);let n=r.alternations;return Os(n,s=>s.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:s}),type:Xa.TOO_MANY_ALTS,ruleName:e.name,occurrence:s.idx}]:[])}function cle(e,t,r){let n=[];return Ue(e,i=>{let s=new ZM;i.accept(s);let o=s.allProductions;Ue(o,u=>{let h=Ox(u),p=u.maxLookahead||t,g=u.idx,x=z1(g,i,h,p)[0];if(jr(Xn(x))){let k=r.buildEmptyRepetitionError({topLevelRule:i,repetition:u});n.push({message:k,type:Xa.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function rVe(e,t,r,n){let i=[],s=Kn(e,(u,h,p)=>(t.definition[p].ignoreAmbiguities===!0||Ue(h,g=>{let v=[p];Ue(e,(x,k)=>{p!==k&&WT(x,g)&&t.definition[k].ignoreAmbiguities!==!0&&v.push(k)}),v.length>1&&!WT(i,g)&&(i.push(g),u.push({alts:v,path:g}))}),u),[]);return It(s,u=>{let h=It(u.alts,g=>g+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:h,prefixPath:u.path}),type:Xa.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:u.alts}})}function nVe(e,t,r,n){let i=Kn(e,(o,u,h)=>{let p=It(u,g=>({idx:h,path:g}));return o.concat(p)},[]);return rh(Os(i,o=>{if(t.definition[o.idx].ignoreAmbiguities===!0)return[];let h=o.idx,p=o.path,g=jn(i,x=>t.definition[x.idx].ignoreAmbiguities!==!0&&x.idx<h&&rle(x.path,p));return It(g,x=>{let k=[x.idx+1,h+1],E=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:k,prefixPath:x.path}),type:Xa.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:E,alternatives:k}})}))}function iVe(e,t,r){let n=[],i=It(t,s=>s.name);return Ue(e,s=>{let o=s.name;if(Gi(i,o)){let u=r.buildNamespaceConflictError(s);n.push({message:u,type:Xa.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),n}var QM,Px,ZM,Bx=L(()=>{"use strict";hr();hl();Do();$1();Nx();Pp();a(ile,"validateLookahead");a(ale,"validateGrammar");a(ZGe,"validateDuplicateProductions");a(JGe,"identifyProductionForDuplicates");a(sle,"getExtraProductionArgument");QM=class extends Lo{static{a(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}};a(eVe,"validateRuleDoesNotAlreadyExist");a(ole,"validateRuleIsOverridden");a(JM,"validateNoLeftRecursion");a(YT,"getFirstNoneTerminal");Px=class extends Lo{static{a(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}};a(lle,"validateEmptyOrAlternative");a(ule,"validateAmbiguousAlternationAlternatives");ZM=class extends Lo{static{a(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}};a(tVe,"validateTooManyAlts");a(cle,"validateSomeNonEmptyLookaheadPath");a(rVe,"checkAlternativesAmbiguities");a(nVe,"checkPrefixAlternativesAmbiguities");a(iVe,"checkTerminalAndNoneTerminalsNameSpace")});function hle(e){let t=al(e,{errMsgProvider:Yoe}),r={};return Ue(e.rules,n=>{r[n.name]=n}),Xoe(r,t.errMsgProvider)}function fle(e){return e=al(e,{errMsgProvider:bc}),ale(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}var dle=L(()=>{"use strict";hr();joe();Bx();P1();a(hle,"resolveGrammar");a(fle,"validateGrammar")});function Wd(e){return Gi(vle,e.name)}var ple,mle,gle,yle,vle,G1,zp,Fx,zx,$x,V1=L(()=>{"use strict";hr();ple="MismatchedTokenException",mle="NoViableAltException",gle="EarlyExitException",yle="NotAllInputParsedException",vle=[ple,mle,gle,yle];Object.freeze(vle);a(Wd,"isRecognitionException");G1=class extends Error{static{a(this,"RecognitionException")}constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},zp=class extends G1{static{a(this,"MismatchedTokenException")}constructor(t,r,n){super(t,r),this.previousToken=n,this.name=ple}},Fx=class extends G1{static{a(this,"NoViableAltException")}constructor(t,r,n){super(t,r),this.previousToken=n,this.name=mle}},zx=class extends G1{static{a(this,"NotAllInputParsedException")}constructor(t,r){super(t,r),this.name=yle}},$x=class extends G1{static{a(this,"EarlyExitException")}constructor(t,r,n){super(t,r),this.previousToken=n,this.name=gle}}});function aVe(e,t,r,n,i,s,o){let u=this.getKeyForAutomaticLookahead(n,i),h=this.firstAfterRepMap[u];if(h===void 0){let x=this.getCurrRuleFullName(),k=this.getGAstProductions()[x];h=new s(k,i).startWalking(),this.firstAfterRepMap[u]=h}let p=h.token,g=h.occurrence,v=h.isEndOfRule;this.RULE_STACK.length===1&&v&&p===void 0&&(p=$l,g=1),!(p===void 0||g===void 0)&&this.shouldInRepetitionRecoveryBeTried(p,g,o)&&this.tryInRepetitionRecovery(e,t,r,p)}var eN,rN,tN,XT,nN=L(()=>{"use strict";Fp();hr();V1();OM();hl();eN={},rN="InRuleRecoveryException",tN=class extends Error{static{a(this,"InRuleRecoveryException")}constructor(t){super(t),this.name=rN}},XT=class{static{a(this,"Recoverable")}initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=kt(t,"recoveryEnabled")?t.recoveryEnabled:Ro.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=aVe)}getTokenToInsert(t){let r=Bp(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,n,i){let s=this.findReSyncTokenType(),o=this.exportLexerState(),u=[],h=!1,p=this.LA(1),g=this.LA(1),v=a(()=>{let x=this.LA(0),k=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:p,previous:x,ruleName:this.getCurrRuleFullName()}),E=new zp(k,p,this.LA(0));E.resyncedTokens=rf(u),this.SAVE_ERROR(E)},"generateErrorMessage");for(;!h;)if(this.tokenMatcher(g,i)){v();return}else if(n.call(this)){v(),t.apply(this,r);return}else this.tokenMatcher(g,s)?h=!0:(g=this.SKIP_TOKEN(),this.addToResyncTokens(g,u));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(t,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){let n=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){let n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new tN("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||jr(r))return!1;let n=this.LA(1);return wo(r,s=>this.tokenMatcher(n,s))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){let r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return Gi(n,t)}findReSyncTokenType(){let t=this.flattenFollowSet(),r=this.LA(1),n=2;for(;;){let i=wo(t,s=>Rx(r,s));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return eN;let t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){let t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return It(t,(n,i)=>i===0?eN:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(t[i-1])})}flattenFollowSet(){let t=It(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Xn(t)}getFollowSetFromFollowKey(t){if(t===eN)return[$l];let r=t.ruleName+t.idxInCallingRule+RT+t.inRule;return this.resyncFollows[r]}addToResyncTokens(t,r){return this.tokenMatcher(t,$l)||r.push(t),r}reSyncTo(t){let r=[],n=this.LA(1);for(;this.tokenMatcher(n,t)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return rf(r)}attemptInRepetitionRecovery(t,r,n,i,s,o,u){}getCurrentGrammarPath(t,r){let n=this.getHumanReadableRuleStack(),i=ei(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return It(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}};a(aVe,"attemptInRepetitionRecovery")});function jT(e,t,r){return r|t|e}var KT=L(()=>{"use strict";a(jT,"getKeyForAutomaticLookahead")});var yf,iN=L(()=>{"use strict";hr();P1();hl();Bx();$1();yf=class{static{a(this,"LLkLookaheadStrategy")}constructor(t){var r;this.maxLookahead=(r=t?.maxLookahead)!==null&&r!==void 0?r:Ro.maxLookahead}validate(t){let r=this.validateNoLeftRecursion(t.rules);if(jr(r)){let n=this.validateEmptyOrAlternatives(t.rules),i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...n,...i,...s]}return r}validateNoLeftRecursion(t){return Os(t,r=>JM(r,r,bc))}validateEmptyOrAlternatives(t){return Os(t,r=>lle(r,bc))}validateAmbiguousAlternationAlternatives(t,r){return Os(t,n=>ule(n,r,bc))}validateSomeNonEmptyLookaheadPath(t,r){return cle(t,r,bc)}buildLookaheadForAlternation(t){return Qoe(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,Joe)}buildLookaheadForOptional(t){return Zoe(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,Ox(t.prodType),ele)}}});function sVe(e){QT.reset(),e.accept(QT);let t=QT.dslMethods;return QT.reset(),t}var ZT,aN,QT,xle=L(()=>{"use strict";hr();hl();KT();Do();iN();ZT=class{static{a(this,"LooksAhead")}initLooksAhead(t){this.dynamicTokensEnabled=kt(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Ro.dynamicTokensEnabled,this.maxLookahead=kt(t,"maxLookahead")?t.maxLookahead:Ro.maxLookahead,this.lookaheadStrategy=kt(t,"lookaheadStrategy")?t.lookaheadStrategy:new yf({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){Ue(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{let{alternation:n,repetition:i,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:u,repetitionWithSeparator:h}=sVe(r);Ue(n,p=>{let g=p.idx===0?"":p.idx;this.TRACE_INIT(`${cl(p)}${g}`,()=>{let v=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:p.idx,rule:r,maxLookahead:p.maxLookahead||this.maxLookahead,hasPredicates:p.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),x=jT(this.fullRuleNameToShort[r.name],256,p.idx);this.setLaFuncCache(x,v)})}),Ue(i,p=>{this.computeLookaheadFunc(r,p.idx,768,"Repetition",p.maxLookahead,cl(p))}),Ue(s,p=>{this.computeLookaheadFunc(r,p.idx,512,"Option",p.maxLookahead,cl(p))}),Ue(o,p=>{this.computeLookaheadFunc(r,p.idx,1024,"RepetitionMandatory",p.maxLookahead,cl(p))}),Ue(u,p=>{this.computeLookaheadFunc(r,p.idx,1536,"RepetitionMandatoryWithSeparator",p.maxLookahead,cl(p))}),Ue(h,p=>{this.computeLookaheadFunc(r,p.idx,1280,"RepetitionWithSeparator",p.maxLookahead,cl(p))})})})}computeLookaheadFunc(t,r,n,i,s,o){this.TRACE_INIT(`${o}${r===0?"":r}`,()=>{let u=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),h=jT(this.fullRuleNameToShort[t.name],n,r);this.setLaFuncCache(h,u)})}getKeyForAutomaticLookahead(t,r){let n=this.getLastExplicitRuleShortName();return jT(n,t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}},aN=class extends Lo{static{a(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}},QT=new aN;a(sVe,"collectMethods")});function lN(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function uN(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function ble(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function kle(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}var wle=L(()=>{"use strict";a(lN,"setNodeLocationOnlyOffset");a(uN,"setNodeLocationFull");a(ble,"addTerminalToCst");a(kle,"addNoneTerminalToCst")});function cN(e,t){Object.defineProperty(e,oVe,{enumerable:!1,configurable:!0,writable:!1,value:t})}var oVe,Tle=L(()=>{"use strict";oVe="name";a(cN,"defineNameProp")});function lVe(e,t){let r=Vn(e),n=r.length;for(let i=0;i<n;i++){let s=r[i],o=e[s],u=o.length;for(let h=0;h<u;h++){let p=o[h];p.tokenTypeIdx===void 0&&this[p.name](p.children,t)}}}function Ele(e,t){let r=a(function(){},"derivedConstructor");cN(r,e+"BaseSemantics");let n={visit:function(i,s){if(or(i)&&(i=i[0]),!an(i))return this[i.name](i.children,s)},validateVisitor:function(){let i=uVe(this,t);if(!jr(i)){let s=It(i,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function Cle(e,t,r){let n=a(function(){},"derivedConstructor");cN(n,e+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return Ue(t,s=>{i[s]=lVe}),n.prototype=i,n.prototype.constructor=n,n}function uVe(e,t){return cVe(e,t)}function cVe(e,t){let r=jn(t,i=>aa(e[i])===!1),n=It(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:hN.MISSING_METHOD,methodName:i}));return rh(n)}var hN,Sle=L(()=>{"use strict";hr();Tle();a(lVe,"defaultVisit");a(Ele,"createBaseSemanticVisitorConstructor");a(Cle,"createBaseVisitorConstructorWithDefaults");(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(hN||(hN={}));a(uVe,"validateVisitor");a(cVe,"validateMissingCstMethods")});var rE,_le=L(()=>{"use strict";wle();hr();Sle();hl();rE=class{static{a(this,"TreeBuilder")}initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=kt(t,"nodeLocationTracking")?t.nodeLocationTracking:Ro.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=ji,this.cstFinallyStateUpdate=ji,this.cstPostTerminal=ji,this.cstPostNonTerminal=ji,this.cstPostRule=ji;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=uN,this.setNodeLocationFromNode=uN,this.cstPostRule=ji,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ji,this.setNodeLocationFromNode=ji,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=lN,this.setNodeLocationFromNode=lN,this.cstPostRule=ji,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ji,this.setNodeLocationFromNode=ji,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=ji,this.setNodeLocationFromNode=ji,this.cstPostRule=ji,this.setInitialNodeLocation=ji;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){let r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){let r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){let r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){let r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(t,r){let n=this.CST_STACK[this.CST_STACK.length-1];ble(n,r,t),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(t,r){let n=this.CST_STACK[this.CST_STACK.length-1];kle(n,r,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if(an(this.baseCstVisitorConstructor)){let t=Ele(this.className,Vn(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(an(this.baseCstVisitorWithDefaultsConstructor)){let t=Cle(this.className,Vn(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){let t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}});var nE,Ale=L(()=>{"use strict";hl();nE=class{static{a(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):q1}LA(t){let r=this.currIdx+t;return r<0||this.tokVectorLength<=r?q1:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}});var iE,Lle=L(()=>{"use strict";hr();V1();hl();P1();Bx();Do();iE=class{static{a(this,"RecognizerApi")}ACTION(t){return t.call(this)}consume(t,r,n){return this.consumeInternal(r,t,n)}subrule(t,r,n){return this.subruleInternal(r,t,n)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,n=U1){if(Gi(this.definedRulesNames,t)){let o={message:bc.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:Xa.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(o)}this.definedRulesNames.push(t);let i=this.defineRule(t,r,n);return this[t]=i,i}OVERRIDE_RULE(t,r,n=U1){let i=ole(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);let s=this.defineRule(t,r,n);return this[t]=s,s}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);let n=this.saveRecogState();try{return t.apply(this,r),!0}catch(i){if(Wd(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return AT(xn(this.gastProductionsCache))}}});var aE,Dle=L(()=>{"use strict";hr();KT();V1();$1();Nx();hl();nN();Fp();Pp();aE=class{static{a(this,"RecognizerEngine")}initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=O1,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},kt(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(or(t)){if(jr(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(or(t))this.tokensMap=Kn(t,(s,o)=>(s[o.name]=o,s),{});else if(kt(t,"modes")&&no(Xn(xn(t.modes)),Foe)){let s=Xn(xn(t.modes)),o=l1(s);this.tokensMap=Kn(o,(u,h)=>(u[h.name]=h,u),{})}else if(vi(t))this.tokensMap=ei(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=$l;let n=kt(t,"modes")?Xn(xn(t.modes)):xn(t),i=no(n,s=>jr(s.categoryMatches));this.tokenMatcher=i?O1:df,pf(xn(this.tokensMap))}defineRule(t,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let i=kt(n,"resyncEnabled")?n.resyncEnabled:U1.resyncEnabled,s=kt(n,"recoveryValueFunc")?n.recoveryValueFunc:U1.recoveryValueFunc,o=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=t,this.fullRuleNameToShort[t]=o;let u;return this.outputCst===!0?u=a(function(...g){try{this.ruleInvocationStateUpdate(o,t,this.subruleIdx),r.apply(this,g);let v=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(v),v}catch(v){return this.invokeRuleCatch(v,i,s)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):u=a(function(...g){try{return this.ruleInvocationStateUpdate(o,t,this.subruleIdx),r.apply(this,g)}catch(v){return this.invokeRuleCatch(v,i,s)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(u,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,n){let i=this.RULE_STACK.length===1,s=r&&!this.isBackTracking()&&this.recoveryEnabled;if(Wd(t)){let o=t;if(s){let u=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(u))if(o.resyncedTokens=this.reSyncTo(u),this.outputCst){let h=this.CST_STACK[this.CST_STACK.length-1];return h.recoveredNode=!0,h}else return n(t);else{if(this.outputCst){let h=this.CST_STACK[this.CST_STACK.length-1];h.recoveredNode=!0,o.partialCstResult=h}throw o}}else{if(i)return this.moveToTerminatedState(),n(t);throw o}}else throw t}optionInternal(t,r){let n=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(t,r,n)}optionInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof t!="function"){s=t.DEF;let o=t.GATE;if(o!==void 0){let u=i;i=a(()=>o.call(this)&&u.call(this),"lookAheadFunc")}}else s=t;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(t,r){let n=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,r,n)}atLeastOneInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof r!="function"){s=r.DEF;let o=r.GATE;if(o!==void 0){let u=i;i=a(()=>o.call(this)&&u.call(this),"lookAheadFunc")}}else s=r;if(i.call(this)===!0){let o=this.doSingleRepetition(s);for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(t,qi.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],i,1024,t,GT)}atLeastOneSepFirstInternal(t,r){let n=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,r,n)}atLeastOneSepFirstInternalLogic(t,r,n){let i=r.DEF,s=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);let u=a(()=>this.tokenMatcher(this.LA(1),s),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,s,u,i,Mx],u,1536,t,Mx)}else throw this.raiseEarlyExitException(t,qi.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(t,r){let n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,r,n)}manyInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof r!="function"){s=r.DEF;let u=r.GATE;if(u!==void 0){let h=i;i=a(()=>u.call(this)&&h.call(this),"lookaheadFunction")}}else s=r;let o=!0;for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],i,768,t,$T,o)}manySepFirstInternal(t,r){let n=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,r,n)}manySepFirstInternalLogic(t,r,n){let i=r.DEF,s=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);let u=a(()=>this.tokenMatcher(this.LA(1),s),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,s,u,i,Ix],u,1280,t,Ix)}}repetitionSepSecondInternal(t,r,n,i,s){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,n,i,s],n,1536,t,s)}doSingleRepetition(t){let r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){let n=this.getKeyForAutomaticLookahead(256,r),i=or(t)?t:t.DEF,o=this.getLaFuncFromCache(n).call(this,i);if(o!==void 0)return i[o].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new zx(r,t))}}subruleInternal(t,r,n){let i;try{let s=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=t.apply(this,s),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:t.ruleName),i}catch(s){throw this.subruleInternalError(s,n,t.ruleName)}}subruleInternalError(t,r,n){throw Wd(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,r,n){let i;try{let s=this.LA(1);this.tokenMatcher(s,t)===!0?(this.consumeToken(),i=s):this.consumeInternalError(t,s,n)}catch(s){i=this.consumeInternalRecovery(t,r,s)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:t.name,i),i}consumeInternalError(t,r,n){let i,s=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new zp(i,r,s))}consumeInternalRecovery(t,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){let i=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,i)}catch(s){throw s.name===rN?n:s}}else throw n}saveRecogState(){let t=this.errors,r=ei(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),$l)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}});var sE,Rle=L(()=>{"use strict";V1();hr();$1();hl();sE=class{static{a(this,"ErrorHandler")}initErrorHandler(t){this._errors=[],this.errorMessageProvider=kt(t,"errorMessageProvider")?t.errorMessageProvider:Ro.errorMessageProvider}SAVE_ERROR(t){if(Wd(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:ei(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return ei(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,n){let i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],u=z1(t,s,r,this.maxLookahead)[0],h=[];for(let g=1;g<=this.maxLookahead;g++)h.push(this.LA(g));let p=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:u,actual:h,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new $x(p,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){let n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],s=F1(t,i,this.maxLookahead),o=[];for(let p=1;p<=this.maxLookahead;p++)o.push(this.LA(p));let u=this.LA(0),h=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:u,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Fx(h,this.LA(1),u))}}});var oE,Ile=L(()=>{"use strict";Nx();hr();oE=class{static{a(this,"ContentAssist")}initContentAssist(){}computeContentAssist(t,r){let n=this.gastProductionsCache[t];if(an(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return qT([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){let r=cs(t.ruleStack),i=this.getGAstProductions()[r];return new zT(i,t).startWalking()}}});function Vx(e,t,r,n=!1){uE(r);let i=Ns(this.recordingProdStack),s=aa(t)?t:t.DEF,o=new e({definition:[],idx:r});return n&&(o.separator=t.SEP),kt(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),i.definition.push(o),this.recordingProdStack.pop(),cE}function dVe(e,t){uE(t);let r=Ns(this.recordingProdStack),n=or(e)===!1,i=n===!1?e:e.DEF,s=new bi({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});kt(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);let o=V2(i,u=>aa(u.GATE));return s.hasPredicates=o,r.definition.push(s),Ue(i,u=>{let h=new Di({definition:[]});s.definition.push(h),kt(u,"IGNORE_AMBIGUITIES")?h.ignoreAmbiguities=u.IGNORE_AMBIGUITIES:kt(u,"GATE")&&(h.ignoreAmbiguities=!0),this.recordingProdStack.push(h),u.ALT.call(this),this.recordingProdStack.pop()}),cE}function Ole(e){return e===0?"":`${e}`}function uE(e){if(e<0||e>Nle){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${Nle+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}var cE,Mle,Nle,Ple,Ble,fVe,lE,Fle=L(()=>{"use strict";hr();Do();Lx();Pp();Fp();hl();KT();cE={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(cE);Mle=!0,Nle=Math.pow(2,8)-1,Ple=FT({name:"RECORDING_PHASE_TOKEN",pattern:la.NA});pf([Ple]);Ble=Bp(Ple,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Ble);fVe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},lE=class{static{a(this,"GastRecorder")}initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){let r=t>0?t:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,t,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,t,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,t)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,t)},this[`MANY${r}`]=function(n){this.manyInternalRecord(t,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(t,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(t,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(t,n)}}this.consume=function(t,r,n){return this.consumeInternalRecord(r,t,n)},this.subrule=function(t,r,n){return this.subruleInternalRecord(r,t,n)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let t=this;for(let r=0;r<10;r++){let n=r>0?r:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return q1}topLevelRuleRecord(t,r){try{let n=new Ao({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(t,r){return Vx.call(this,ri,t,r)}atLeastOneInternalRecord(t,r){Vx.call(this,Ri,r,t)}atLeastOneSepFirstInternalRecord(t,r){Vx.call(this,Ii,r,t,Mle)}manyInternalRecord(t,r){Vx.call(this,On,r,t)}manySepFirstInternalRecord(t,r){Vx.call(this,xi,r,t,Mle)}orInternalRecord(t,r){return dVe.call(this,t,r)}subruleInternalRecord(t,r,n){if(uE(r),!t||kt(t,"ruleName")===!1){let u=new Error(`<SUBRULE${Ole(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw u.KNOWN_RECORDER_ERROR=!0,u}let i=Ns(this.recordingProdStack),s=t.ruleName,o=new ti({idx:r,nonTerminalName:s,label:n?.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?fVe:cE}consumeInternalRecord(t,r,n){if(uE(r),!qM(t)){let o=new Error(`<CONSUME${Ole(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}let i=Ns(this.recordingProdStack),s=new Tn({idx:r,terminalType:t,label:n?.LABEL});return i.definition.push(s),Ble}};a(Vx,"recordProd");a(dVe,"recordOrProd");a(Ole,"getIdxSuffix");a(uE,"assertMethodIdxIsValid")});var hE,zle=L(()=>{"use strict";hr();D1();hl();hE=class{static{a(this,"PerformanceTracer")}initPerformanceTracer(t){if(kt(t,"traceInitPerf")){let r=t.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=Ro.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(this.traceInitPerf===!0){this.traceInitIndent++;let n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${t}>`);let{time:i,value:s}=Sx(r),o=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${n}<-- <${t}> time: ${i}ms`),this.traceInitIndent--,s}else return r()}}});function $le(e,t){t.forEach(r=>{let n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;let s=Object.getOwnPropertyDescriptor(n,i);s&&(s.get||s.set)?Object.defineProperty(e.prototype,i,s):e.prototype[i]=r.prototype[i]})})}var Gle=L(()=>{"use strict";a($le,"applyMixins")});function fE(e=void 0){return function(){return e}}var q1,Ro,U1,Xa,qx,Ux,hl=L(()=>{"use strict";hr();D1();yoe();Fp();P1();dle();nN();xle();_le();Ale();Lle();Dle();Rle();Ile();Fle();zle();Gle();Bx();q1=Bp($l,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(q1);Ro=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:gf,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),U1=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Xa||(Xa={}));a(fE,"EMPTY_ALT");qx=class e{static{a(this,"Parser")}static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{_x(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Ue(this.definedRulesNames,i=>{let o=this[i].originalGrammarAction,u;this.TRACE_INIT(`${i} Rule`,()=>{u=this.topLevelRuleRecord(i,o)}),this.gastProductionsCache[i]=u})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=hle({rules:xn(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(jr(n)&&this.skipValidations===!1){let i=fle({rules:xn(this.gastProductionsCache),tokenTypes:xn(this.tokensMap),errMsgProvider:bc,grammarName:r}),s=ile({lookaheadStrategy:this.lookaheadStrategy,rules:xn(this.gastProductionsCache),tokenTypes:xn(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,s)}}),jr(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let i=goe(xn(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:xn(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(xn(this.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!jr(this.definitionErrors))throw t=It(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),kt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=kt(r,"skipValidations")?r.skipValidations:Ro.skipValidations}};qx.DEFER_DEFINITION_ERRORS_HANDLING=!1;$le(qx,[XT,ZT,rE,nE,aE,iE,sE,oE,lE,hE]);Ux=class extends qx{static{a(this,"EmbeddedActionsParser")}constructor(t,r=Ro){let n=ei(r);n.outputCst=!1,super(t,n)}}});var Vle=L(()=>{"use strict";Do()});var qle=L(()=>{"use strict"});var Ule=L(()=>{"use strict";Vle();qle()});var Hle=L(()=>{"use strict";RM()});var $p=L(()=>{"use strict";RM();hl();Lx();Fp();$1();iN();P1();V1();HM();Do();Do();Ule();Hle()});function Gp(e,t,r){return`${e.name}_${t}_${r}`}function jle(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};bVe(t,e);let r=e.length;for(let n=0;n<r;n++){let i=e[n],s=Vp(t,i,i);s!==void 0&&RVe(t,i,s)}return t}function bVe(e,t){let r=t.length;for(let n=0;n<r;n++){let i=t[n],s=vs(e,i,void 0,{type:mVe}),o=vs(e,i,void 0,{type:Y1});s.stop=o,e.ruleToStartState.set(i,s),e.ruleToStopState.set(i,o)}}function Kle(e,t,r){return r instanceof Tn?dN(e,t,r.terminalType,r):r instanceof ti?DVe(e,t,r):r instanceof bi?CVe(e,t,r):r instanceof ri?SVe(e,t,r):r instanceof On?kVe(e,t,r):r instanceof xi?wVe(e,t,r):r instanceof Ri?TVe(e,t,r):r instanceof Ii?EVe(e,t,r):Vp(e,t,r)}function kVe(e,t,r){let n=vs(e,t,r,{type:Yle});Xd(e,n);let i=X1(e,t,n,r,Vp(e,t,r));return Zle(e,t,r,i)}function wVe(e,t,r){let n=vs(e,t,r,{type:Yle});Xd(e,n);let i=X1(e,t,n,r,Vp(e,t,r)),s=dN(e,t,r.separator,r);return Zle(e,t,r,i,s)}function TVe(e,t,r){let n=vs(e,t,r,{type:Wle});Xd(e,n);let i=X1(e,t,n,r,Vp(e,t,r));return Qle(e,t,r,i)}function EVe(e,t,r){let n=vs(e,t,r,{type:Wle});Xd(e,n);let i=X1(e,t,n,r,Vp(e,t,r)),s=dN(e,t,r.separator,r);return Qle(e,t,r,i,s)}function CVe(e,t,r){let n=vs(e,t,r,{type:Yd});Xd(e,n);let i=It(r.definition,o=>Kle(e,t,o));return X1(e,t,n,r,...i)}function SVe(e,t,r){let n=vs(e,t,r,{type:Yd});Xd(e,n);let i=X1(e,t,n,r,Vp(e,t,r));return _Ve(e,t,r,i)}function Vp(e,t,r){let n=jn(It(r.definition,i=>Kle(e,t,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:LVe(e,n)}function Qle(e,t,r,n,i){let s=n.left,o=n.right,u=vs(e,t,r,{type:xVe});Xd(e,u);let h=vs(e,t,r,{type:Xle});return s.loopback=u,h.loopback=u,e.decisionMap[Gp(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=u,Ma(o,u),i===void 0?(Ma(u,s),Ma(u,h)):(Ma(u,h),Ma(u,i.left),Ma(i.right,s)),{left:s,right:h}}function Zle(e,t,r,n,i){let s=n.left,o=n.right,u=vs(e,t,r,{type:vVe});Xd(e,u);let h=vs(e,t,r,{type:Xle}),p=vs(e,t,r,{type:yVe});return u.loopback=p,h.loopback=p,Ma(u,s),Ma(u,h),Ma(o,p),i!==void 0?(Ma(p,h),Ma(p,i.left),Ma(i.right,s)):Ma(p,u),e.decisionMap[Gp(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=u,{left:u,right:h}}function _Ve(e,t,r,n){let i=n.left,s=n.right;return Ma(i,s),e.decisionMap[Gp(t,"Option",r.idx)]=i,n}function Xd(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function X1(e,t,r,n,...i){let s=vs(e,t,n,{type:gVe,start:r});r.end=s;for(let u of i)u!==void 0?(Ma(r,u.left),Ma(u.right,s)):Ma(r,s);let o={left:r,right:s};return e.decisionMap[Gp(t,AVe(n),n.idx)]=r,o}function AVe(e){if(e instanceof bi)return"Alternation";if(e instanceof ri)return"Option";if(e instanceof On)return"Repetition";if(e instanceof xi)return"RepetitionWithSeparator";if(e instanceof Ri)return"RepetitionMandatory";if(e instanceof Ii)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function LVe(e,t){let r=t.length;for(let s=0;s<r-1;s++){let o=t[s],u;o.left.transitions.length===1&&(u=o.left.transitions[0]);let h=u instanceof W1,p=u,g=t[s+1].left;o.left.type===Yd&&o.right.type===Yd&&u!==void 0&&(h&&p.followState===o.right||u.target===o.right)?(h?p.followState=g:u.target=g,IVe(e,o.right)):Ma(o.right,g)}let n=t[0],i=t[r-1];return{left:n.left,right:i.right}}function dN(e,t,r,n){let i=vs(e,t,n,{type:Yd}),s=vs(e,t,n,{type:Yd});return pN(i,new H1(s,r)),{left:i,right:s}}function DVe(e,t,r){let n=r.referencedRule,i=e.ruleToStartState.get(n),s=vs(e,t,r,{type:Yd}),o=vs(e,t,r,{type:Yd}),u=new W1(i,n,o);return pN(s,u),{left:s,right:o}}function RVe(e,t,r){let n=e.ruleToStartState.get(t);Ma(n,r.left);let i=e.ruleToStopState.get(t);return Ma(r.right,i),{left:n,right:i}}function Ma(e,t){let r=new Wx(t);pN(e,r)}function vs(e,t,r,n){let i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function pN(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function IVe(e,t){e.states.splice(e.states.indexOf(t),1)}var Yd,mVe,Wle,Yle,Y1,gVe,yVe,vVe,xVe,Xle,Hx,H1,Wx,W1,Jle=L(()=>{"use strict";a1();XL();$p();a(Gp,"buildATNKey");Yd=1,mVe=2,Wle=4,Yle=5,Y1=7,gVe=8,yVe=9,vVe=10,xVe=11,Xle=12,Hx=class{static{a(this,"AbstractTransition")}constructor(t){this.target=t}isEpsilon(){return!1}},H1=class extends Hx{static{a(this,"AtomTransition")}constructor(t,r){super(t),this.tokenType=r}},Wx=class extends Hx{static{a(this,"EpsilonTransition")}constructor(t){super(t)}isEpsilon(){return!0}},W1=class extends Hx{static{a(this,"RuleTransition")}constructor(t,r,n){super(t),this.rule=r,this.followState=n}isEpsilon(){return!0}};a(jle,"createATN");a(bVe,"createRuleStartAndStopATNStates");a(Kle,"atom");a(kVe,"repetition");a(wVe,"repetitionSep");a(TVe,"repetitionMandatory");a(EVe,"repetitionMandatorySep");a(CVe,"alternation");a(SVe,"option");a(Vp,"block");a(Qle,"plus");a(Zle,"star");a(_Ve,"optional");a(Xd,"defineDecisionState");a(X1,"makeAlts");a(AVe,"getProdType");a(LVe,"makeBlock");a(dN,"tokenRef");a(DVe,"ruleRef");a(RVe,"buildRuleHandle");a(Ma,"epsilon");a(vs,"newState");a(pN,"addTransition");a(IVe,"removeState")});function mN(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}var Yx,j1,eue=L(()=>{"use strict";a1();Yx={},j1=class{static{a(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(t){let r=mN(t);r in this.map||(this.map[r]=this.configs.length,this.configs.push(t))}get elements(){return this.configs}get alts(){return It(this.configs,t=>t.alt)}get key(){let t="";for(let r in this.map)t+=r+":";return t}};a(mN,"getATNConfigKey")});function MVe(e,t){let r={};return n=>{let i=n.toString(),s=r[i];return s!==void 0||(s={atnStartState:e,decision:t,states:{}},r[i]=s),s}}function rue(e,t=!0){let r=new Set;for(let n of e){let i=new Set;for(let s of n){if(s===void 0){if(t)break;return!1}let o=[s.tokenTypeIdx].concat(s.categoryMatches);for(let u of o)if(r.has(u)){if(!i.has(u))return!1}else r.add(u),i.add(u)}}return!0}function NVe(e){let t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=MVe(e.decisionStates[n],n);return r}function gN(e,t,r,n){let i=e[t](r),s=i.start;if(s===void 0){let u=HVe(i.atnStartState);s=aue(i,iue(u)),i.start=s}return OVe.apply(this,[i,s,r,n])}function OVe(e,t,r,n){let i=t,s=1,o=[],u=this.LA(s++);for(;;){let h=GVe(i,u);if(h===void 0&&(h=PVe.apply(this,[e,i,u,s,r,n])),h===Yx)return $Ve(o,i,u);if(h.isAcceptState===!0)return h.prediction;i=h,o.push(u),u=this.LA(s++)}}function PVe(e,t,r,n,i,s){let o=VVe(t.configs,r,i);if(o.size===0)return nue(e,t,r,Yx),Yx;let u=iue(o),h=UVe(o,i);if(h!==void 0)u.isAcceptState=!0,u.prediction=h,u.configs.uniqueAlt=h;else if(jVe(o)){let p=uc(o.alts);u.isAcceptState=!0,u.prediction=p,u.configs.uniqueAlt=p,BVe.apply(this,[e,n,o.alts,s])}return u=nue(e,t,r,u),u}function BVe(e,t,r,n){let i=[];for(let p=1;p<=t;p++)i.push(this.LA(p).tokenType);let s=e.atnStartState,o=s.rule,u=s.production,h=FVe({topLevelRule:o,ambiguityIndices:r,production:u,prefixPath:i});n(h)}function FVe(e){let t=It(e.prefixPath,i=>mf(i)).join(", "),r=e.production.idx===0?"":e.production.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${zVe(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function zVe(e){if(e instanceof ti)return"SUBRULE";if(e instanceof ri)return"OPTION";if(e instanceof bi)return"OR";if(e instanceof Ri)return"AT_LEAST_ONE";if(e instanceof Ii)return"AT_LEAST_ONE_SEP";if(e instanceof xi)return"MANY_SEP";if(e instanceof On)return"MANY";if(e instanceof Tn)return"CONSUME";throw Error("non exhaustive match")}function $Ve(e,t,r){let n=Os(t.configs.elements,s=>s.state.transitions),i=Cee(n.filter(s=>s instanceof H1).map(s=>s.tokenType),s=>s.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:e}}function GVe(e,t){return e.edges[t.tokenTypeIdx]}function VVe(e,t,r){let n=new j1,i=[];for(let o of e.elements){if(r.is(o.alt)===!1)continue;if(o.state.type===Y1){i.push(o);continue}let u=o.state.transitions.length;for(let h=0;h<u;h++){let p=o.state.transitions[h],g=qVe(p,t);g!==void 0&&n.add({state:g,alt:o.alt,stack:o.stack})}}let s;if(i.length===0&&n.size===1&&(s=n),s===void 0){s=new j1;for(let o of n.elements)pE(o,s)}if(i.length>0&&!YVe(s))for(let o of i)s.add(o);return s}function qVe(e,t){if(e instanceof H1&&Rx(t,e.tokenType))return e.target}function UVe(e,t){let r;for(let n of e.elements)if(t.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function iue(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function nue(e,t,r,n){return n=aue(e,n),t.edges[r.tokenTypeIdx]=n,n}function aue(e,t){if(t===Yx)return t;let r=t.configs.key,n=e.states[r];return n!==void 0?n:(t.configs.finalize(),e.states[r]=t,t)}function HVe(e){let t=new j1,r=e.transitions.length;for(let n=0;n<r;n++){let s={state:e.transitions[n].target,alt:n,stack:[]};pE(s,t)}return t}function pE(e,t){let r=e.state;if(r.type===Y1){if(e.stack.length>0){let i=[...e.stack],o={state:i.pop(),alt:e.alt,stack:i};pE(o,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);let n=r.transitions.length;for(let i=0;i<n;i++){let s=r.transitions[i],o=WVe(e,s);o!==void 0&&pE(o,t)}}function WVe(e,t){if(t instanceof Wx)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof W1){let r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function YVe(e){for(let t of e.elements)if(t.state.type===Y1)return!0;return!1}function XVe(e){for(let t of e.elements)if(t.state.type!==Y1)return!1;return!0}function jVe(e){if(XVe(e))return!0;let t=KVe(e.elements);return QVe(t)&&!ZVe(t)}function KVe(e){let t=new Map;for(let r of e){let n=mN(r,!1),i=t.get(n);i===void 0&&(i={},t.set(n,i)),i[r.alt]=!0}return t}function QVe(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function ZVe(e){for(let t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var dE,tue,Xx,sue=L(()=>{"use strict";$p();Jle();eue();rD();KL();See();a1();m6();U6();j6();sD();a(MVe,"createDFACache");dE=class{static{a(this,"PredicateSet")}constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,r){this.predicates[t]=r}toString(){let t="",r=this.predicates.length;for(let n=0;n<r;n++)t+=this.predicates[n]===!0?"1":"0";return t}},tue=new dE,Xx=class extends yf{static{a(this,"LLStarLookaheadStrategy")}constructor(t){var r;super(),this.logging=(r=t?.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(t){this.atn=jle(t.rules),this.dfas=NVe(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(t){let{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:s}=t,o=this.dfas,u=this.logging,h=Gp(n,"Alternation",r),g=this.atn.decisionMap[h].decision,v=It(HT({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),x=>It(x,k=>k[0]));if(rue(v,!1)&&!s){let x=Kn(v,(k,E,_)=>(Ue(E,N=>{N&&(k[N.tokenTypeIdx]=_,Ue(N.categoryMatches,M=>{k[M]=_}))}),k),{});return i?function(k){var E;let _=this.LA(1),N=x[_.tokenTypeIdx];if(k!==void 0&&N!==void 0){let M=(E=k[N])===null||E===void 0?void 0:E.GATE;if(M!==void 0&&M.call(this)===!1)return}return N}:function(){let k=this.LA(1);return x[k.tokenTypeIdx]}}else return i?function(x){let k=new dE,E=x===void 0?0:x.length;for(let N=0;N<E;N++){let M=x?.[N].GATE;k.set(N,M===void 0||M.call(this))}let _=gN.call(this,o,g,k,u);return typeof _=="number"?_:void 0}:function(){let x=gN.call(this,o,g,tue,u);return typeof x=="number"?x:void 0}}buildLookaheadForOptional(t){let{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:s}=t,o=this.dfas,u=this.logging,h=Gp(n,i,r),g=this.atn.decisionMap[h].decision,v=It(HT({maxLookahead:1,occurrence:r,prodType:i,rule:n}),x=>It(x,k=>k[0]));if(rue(v)&&v[0][0]&&!s){let x=v[0],k=Xn(x);if(k.length===1&&jr(k[0].categoryMatches)){let _=k[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===_}}else{let E=Kn(k,(_,N)=>(N!==void 0&&(_[N.tokenTypeIdx]=!0,Ue(N.categoryMatches,M=>{_[M]=!0})),_),{});return function(){let _=this.LA(1);return E[_.tokenTypeIdx]===!0}}}return function(){let x=gN.call(this,o,g,tue,u);return typeof x=="object"?!1:x===0}}};a(rue,"isLL1Sequence");a(NVe,"initATNSimulator");a(gN,"adaptivePredict");a(OVe,"performLookahead");a(PVe,"computeLookaheadTarget");a(BVe,"reportLookaheadAmbiguity");a(FVe,"buildAmbiguityError");a(zVe,"getProductionDslName");a($Ve,"buildAdaptivePredictError");a(GVe,"getExistingTargetState");a(VVe,"computeReachSet");a(qVe,"getReachableTarget");a(UVe,"getUniqueAlt");a(iue,"newDFAState");a(nue,"addDFAEdge");a(aue,"addDFAState");a(HVe,"computeStartState");a(pE,"closure");a(WVe,"getEpsilonTarget");a(YVe,"hasConfigInRuleStopState");a(XVe,"allConfigsInRuleStopStates");a(jVe,"hasConflictTerminatingPrediction");a(KVe,"getConflictingAltSets");a(QVe,"hasConflictingAltSet");a(ZVe,"hasStateAssociatedWithOneAlt")});var oue=L(()=>{"use strict";sue()});var lue,yN,uue,gE,Qn,Pn,yE,cue,vN,hue,fue,due,pue,xN,mue,gue,yue,vE,Q1,vf,K1,so,jd,xE,jx,Kx,Qx,bN,mE,vue,yKt,xue,bue,bE,kue,kN,Zx,wue,Tue,Eue,Cue,Sue,_ue,Aue,Lue,kE,Due,Rue,Iue,Mue,Nue,Oue,Pue,Bue,Fue,zue,$ue,wE,Gue,Vue,que,Uue,Hue,Wue,Yue,Xue,jue,Kue,Que,Zue,Jue,wN,TN,ece,tce,rce,JVe,lt,EN=L(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}a(t,"is"),e.is=t})(lue||(lue={}));(function(e){function t(r){return typeof r=="string"}a(t,"is"),e.is=t})(yN||(yN={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}a(t,"is"),e.is=t})(uue||(uue={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}a(t,"is"),e.is=t})(gE||(gE={}));(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=gE.MAX_VALUE),i===Number.MAX_VALUE&&(i=gE.MAX_VALUE),{line:n,character:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&lt.uinteger(i.line)&&lt.uinteger(i.character)}a(r,"is"),e.is=r})(Qn||(Qn={}));(function(e){function t(n,i,s,o){if(lt.uinteger(n)&&lt.uinteger(i)&&lt.uinteger(s)&&lt.uinteger(o))return{start:Qn.create(n,i),end:Qn.create(s,o)};if(Qn.is(n)&&Qn.is(i))return{start:n,end:i};throw new Error("Range#create called with invalid arguments[".concat(n,", ").concat(i,", ").concat(s,", ").concat(o,"]"))}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&Qn.is(i.start)&&Qn.is(i.end)}a(r,"is"),e.is=r})(Pn||(Pn={}));(function(e){function t(n,i){return{uri:n,range:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&Pn.is(i.range)&&(lt.string(i.uri)||lt.undefined(i.uri))}a(r,"is"),e.is=r})(yE||(yE={}));(function(e){function t(n,i,s,o){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:o}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&Pn.is(i.targetRange)&&lt.string(i.targetUri)&&Pn.is(i.targetSelectionRange)&&(Pn.is(i.originSelectionRange)||lt.undefined(i.originSelectionRange))}a(r,"is"),e.is=r})(cue||(cue={}));(function(e){function t(n,i,s,o){return{red:n,green:i,blue:s,alpha:o}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&lt.numberRange(i.red,0,1)&&lt.numberRange(i.green,0,1)&&lt.numberRange(i.blue,0,1)&&lt.numberRange(i.alpha,0,1)}a(r,"is"),e.is=r})(vN||(vN={}));(function(e){function t(n,i){return{range:n,color:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&Pn.is(i.range)&&vN.is(i.color)}a(r,"is"),e.is=r})(hue||(hue={}));(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&lt.string(i.label)&&(lt.undefined(i.textEdit)||vf.is(i))&&(lt.undefined(i.additionalTextEdits)||lt.typedArray(i.additionalTextEdits,vf.is))}a(r,"is"),e.is=r})(fue||(fue={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(due||(due={}));(function(e){function t(n,i,s,o,u,h){var p={startLine:n,endLine:i};return lt.defined(s)&&(p.startCharacter=s),lt.defined(o)&&(p.endCharacter=o),lt.defined(u)&&(p.kind=u),lt.defined(h)&&(p.collapsedText=h),p}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&lt.uinteger(i.startLine)&&lt.uinteger(i.startLine)&&(lt.undefined(i.startCharacter)||lt.uinteger(i.startCharacter))&&(lt.undefined(i.endCharacter)||lt.uinteger(i.endCharacter))&&(lt.undefined(i.kind)||lt.string(i.kind))}a(r,"is"),e.is=r})(pue||(pue={}));(function(e){function t(n,i){return{location:n,message:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&yE.is(i.location)&&lt.string(i.message)}a(r,"is"),e.is=r})(xN||(xN={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(mue||(mue={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(gue||(gue={}));(function(e){function t(r){var n=r;return lt.objectLiteral(n)&&lt.string(n.href)}a(t,"is"),e.is=t})(yue||(yue={}));(function(e){function t(n,i,s,o,u,h){var p={range:n,message:i};return lt.defined(s)&&(p.severity=s),lt.defined(o)&&(p.code=o),lt.defined(u)&&(p.source=u),lt.defined(h)&&(p.relatedInformation=h),p}a(t,"create"),e.create=t;function r(n){var i,s=n;return lt.defined(s)&&Pn.is(s.range)&&lt.string(s.message)&&(lt.number(s.severity)||lt.undefined(s.severity))&&(lt.integer(s.code)||lt.string(s.code)||lt.undefined(s.code))&&(lt.undefined(s.codeDescription)||lt.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(lt.string(s.source)||lt.undefined(s.source))&&(lt.undefined(s.relatedInformation)||lt.typedArray(s.relatedInformation,xN.is))}a(r,"is"),e.is=r})(vE||(vE={}));(function(e){function t(n,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var u={title:n,command:i};return lt.defined(s)&&s.length>0&&(u.arguments=s),u}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&lt.string(i.title)&&lt.string(i.command)}a(r,"is"),e.is=r})(Q1||(Q1={}));(function(e){function t(s,o){return{range:s,newText:o}}a(t,"replace"),e.replace=t;function r(s,o){return{range:{start:s,end:s},newText:o}}a(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}a(n,"del"),e.del=n;function i(s){var o=s;return lt.objectLiteral(o)&&lt.string(o.newText)&&Pn.is(o.range)}a(i,"is"),e.is=i})(vf||(vf={}));(function(e){function t(n,i,s){var o={label:n};return i!==void 0&&(o.needsConfirmation=i),s!==void 0&&(o.description=s),o}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&lt.string(i.label)&&(lt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(lt.string(i.description)||i.description===void 0)}a(r,"is"),e.is=r})(K1||(K1={}));(function(e){function t(r){var n=r;return lt.string(n)}a(t,"is"),e.is=t})(so||(so={}));(function(e){function t(s,o,u){return{range:s,newText:o,annotationId:u}}a(t,"replace"),e.replace=t;function r(s,o,u){return{range:{start:s,end:s},newText:o,annotationId:u}}a(r,"insert"),e.insert=r;function n(s,o){return{range:s,newText:"",annotationId:o}}a(n,"del"),e.del=n;function i(s){var o=s;return vf.is(o)&&(K1.is(o.annotationId)||so.is(o.annotationId))}a(i,"is"),e.is=i})(jd||(jd={}));(function(e){function t(n,i){return{textDocument:n,edits:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&bE.is(i.textDocument)&&Array.isArray(i.edits)}a(r,"is"),e.is=r})(xE||(xE={}));(function(e){function t(n,i,s){var o={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}a(t,"create"),e.create=t;function r(n){var i=n;return i&&i.kind==="create"&&lt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||lt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||lt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||so.is(i.annotationId))}a(r,"is"),e.is=r})(jx||(jx={}));(function(e){function t(n,i,s,o){var u={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(u.options=s),o!==void 0&&(u.annotationId=o),u}a(t,"create"),e.create=t;function r(n){var i=n;return i&&i.kind==="rename"&&lt.string(i.oldUri)&&lt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||lt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||lt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||so.is(i.annotationId))}a(r,"is"),e.is=r})(Kx||(Kx={}));(function(e){function t(n,i,s){var o={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}a(t,"create"),e.create=t;function r(n){var i=n;return i&&i.kind==="delete"&&lt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||lt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||lt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||so.is(i.annotationId))}a(r,"is"),e.is=r})(Qx||(Qx={}));(function(e){function t(r){var n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(function(i){return lt.string(i.kind)?jx.is(i)||Kx.is(i)||Qx.is(i):xE.is(i)}))}a(t,"is"),e.is=t})(bN||(bN={}));mE=function(){function e(t,r){this.edits=t,this.changeAnnotations=r}return a(e,"TextEditChangeImpl"),e.prototype.insert=function(t,r,n){var i,s;if(n===void 0?i=vf.insert(t,r):so.is(n)?(s=n,i=jd.insert(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=jd.insert(t,r,s)),this.edits.push(i),s!==void 0)return s},e.prototype.replace=function(t,r,n){var i,s;if(n===void 0?i=vf.replace(t,r):so.is(n)?(s=n,i=jd.replace(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=jd.replace(t,r,s)),this.edits.push(i),s!==void 0)return s},e.prototype.delete=function(t,r){var n,i;if(r===void 0?n=vf.del(t):so.is(r)?(i=r,n=jd.del(t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=jd.del(t,i)),this.edits.push(n),i!==void 0)return i},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),vue=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return a(e,"ChangeAnnotations"),e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,r){var n;if(so.is(t)?n=t:(n=this.nextId(),r=t),this._annotations[n]!==void 0)throw new Error("Id ".concat(n," is already in use."));if(r===void 0)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=r,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),yKt=function(){function e(t){var r=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new vue(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(n){if(xE.is(n)){var i=new mE(n.edits,r._changeAnnotations);r._textEditChanges[n.textDocument.uri]=i}})):t.changes&&Object.keys(t.changes).forEach(function(n){var i=new mE(t.changes[n]);r._textEditChanges[n]=i})):this._workspaceEdit={}}return a(e,"WorkspaceChange"),Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(bE.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r={uri:t.uri,version:t.version},n=this._textEditChanges[r.uri];if(!n){var i=[],s={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(s),n=new mE(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[t];if(!n){var i=[];this._workspaceEdit.changes[t]=i,n=new mE(i),this._textEditChanges[t]=n}return n}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new vue,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;K1.is(r)||so.is(r)?i=r:n=r;var s,o;if(i===void 0?s=jx.create(t,n):(o=so.is(i)?i:this._changeAnnotations.manage(i),s=jx.create(t,n,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},e.prototype.renameFile=function(t,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;K1.is(n)||so.is(n)?s=n:i=n;var o,u;if(s===void 0?o=Kx.create(t,r,i):(u=so.is(s)?s:this._changeAnnotations.manage(s),o=Kx.create(t,r,i,u)),this._workspaceEdit.documentChanges.push(o),u!==void 0)return u},e.prototype.deleteFile=function(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;K1.is(r)||so.is(r)?i=r:n=r;var s,o;if(i===void 0?s=Qx.create(t,n):(o=so.is(i)?i:this._changeAnnotations.manage(i),s=Qx.create(t,n,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},e}();(function(e){function t(n){return{uri:n}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&lt.string(i.uri)}a(r,"is"),e.is=r})(xue||(xue={}));(function(e){function t(n,i){return{uri:n,version:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&lt.string(i.uri)&&lt.integer(i.version)}a(r,"is"),e.is=r})(bue||(bue={}));(function(e){function t(n,i){return{uri:n,version:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&lt.string(i.uri)&&(i.version===null||lt.integer(i.version))}a(r,"is"),e.is=r})(bE||(bE={}));(function(e){function t(n,i,s,o){return{uri:n,languageId:i,version:s,text:o}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&lt.string(i.uri)&&lt.string(i.languageId)&&lt.integer(i.version)&&lt.string(i.text)}a(r,"is"),e.is=r})(kue||(kue={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){var n=r;return n===e.PlainText||n===e.Markdown}a(t,"is"),e.is=t})(kN||(kN={}));(function(e){function t(r){var n=r;return lt.objectLiteral(r)&&kN.is(n.kind)&&lt.string(n.value)}a(t,"is"),e.is=t})(Zx||(Zx={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(wue||(wue={}));(function(e){e.PlainText=1,e.Snippet=2})(Tue||(Tue={}));(function(e){e.Deprecated=1})(Eue||(Eue={}));(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}a(t,"create"),e.create=t;function r(n){var i=n;return i&&lt.string(i.newText)&&Pn.is(i.insert)&&Pn.is(i.replace)}a(r,"is"),e.is=r})(Cue||(Cue={}));(function(e){e.asIs=1,e.adjustIndentation=2})(Sue||(Sue={}));(function(e){function t(r){var n=r;return n&&(lt.string(n.detail)||n.detail===void 0)&&(lt.string(n.description)||n.description===void 0)}a(t,"is"),e.is=t})(_ue||(_ue={}));(function(e){function t(r){return{label:r}}a(t,"create"),e.create=t})(Aue||(Aue={}));(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}a(t,"create"),e.create=t})(Lue||(Lue={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}a(t,"fromPlainText"),e.fromPlainText=t;function r(n){var i=n;return lt.string(i)||lt.objectLiteral(i)&&lt.string(i.language)&&lt.string(i.value)}a(r,"is"),e.is=r})(kE||(kE={}));(function(e){function t(r){var n=r;return!!n&&lt.objectLiteral(n)&&(Zx.is(n.contents)||kE.is(n.contents)||lt.typedArray(n.contents,kE.is))&&(r.range===void 0||Pn.is(r.range))}a(t,"is"),e.is=t})(Due||(Due={}));(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}a(t,"create"),e.create=t})(Rue||(Rue={}));(function(e){function t(r,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o={label:r};return lt.defined(n)&&(o.documentation=n),lt.defined(i)?o.parameters=i:o.parameters=[],o}a(t,"create"),e.create=t})(Iue||(Iue={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(Mue||(Mue={}));(function(e){function t(r,n){var i={range:r};return lt.number(n)&&(i.kind=n),i}a(t,"create"),e.create=t})(Nue||(Nue={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Oue||(Oue={}));(function(e){e.Deprecated=1})(Pue||(Pue={}));(function(e){function t(r,n,i,s,o){var u={name:r,kind:n,location:{uri:s,range:i}};return o&&(u.containerName=o),u}a(t,"create"),e.create=t})(Bue||(Bue={}));(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}a(t,"create"),e.create=t})(Fue||(Fue={}));(function(e){function t(n,i,s,o,u,h){var p={name:n,detail:i,kind:s,range:o,selectionRange:u};return h!==void 0&&(p.children=h),p}a(t,"create"),e.create=t;function r(n){var i=n;return i&&lt.string(i.name)&&lt.number(i.kind)&&Pn.is(i.range)&&Pn.is(i.selectionRange)&&(i.detail===void 0||lt.string(i.detail))&&(i.deprecated===void 0||lt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}a(r,"is"),e.is=r})(zue||(zue={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})($ue||($ue={}));(function(e){e.Invoked=1,e.Automatic=2})(wE||(wE={}));(function(e){function t(n,i,s){var o={diagnostics:n};return i!=null&&(o.only=i),s!=null&&(o.triggerKind=s),o}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&lt.typedArray(i.diagnostics,vE.is)&&(i.only===void 0||lt.typedArray(i.only,lt.string))&&(i.triggerKind===void 0||i.triggerKind===wE.Invoked||i.triggerKind===wE.Automatic)}a(r,"is"),e.is=r})(Gue||(Gue={}));(function(e){function t(n,i,s){var o={title:n},u=!0;return typeof i=="string"?(u=!1,o.kind=i):Q1.is(i)?o.command=i:o.edit=i,u&&s!==void 0&&(o.kind=s),o}a(t,"create"),e.create=t;function r(n){var i=n;return i&&lt.string(i.title)&&(i.diagnostics===void 0||lt.typedArray(i.diagnostics,vE.is))&&(i.kind===void 0||lt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Q1.is(i.command))&&(i.isPreferred===void 0||lt.boolean(i.isPreferred))&&(i.edit===void 0||bN.is(i.edit))}a(r,"is"),e.is=r})(Vue||(Vue={}));(function(e){function t(n,i){var s={range:n};return lt.defined(i)&&(s.data=i),s}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&Pn.is(i.range)&&(lt.undefined(i.command)||Q1.is(i.command))}a(r,"is"),e.is=r})(que||(que={}));(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&lt.uinteger(i.tabSize)&&lt.boolean(i.insertSpaces)}a(r,"is"),e.is=r})(Uue||(Uue={}));(function(e){function t(n,i,s){return{range:n,target:i,data:s}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&Pn.is(i.range)&&(lt.undefined(i.target)||lt.string(i.target))}a(r,"is"),e.is=r})(Hue||(Hue={}));(function(e){function t(n,i){return{range:n,parent:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&Pn.is(i.range)&&(i.parent===void 0||e.is(i.parent))}a(r,"is"),e.is=r})(Wue||(Wue={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Yue||(Yue={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Xue||(Xue={}));(function(e){function t(r){var n=r;return lt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}a(t,"is"),e.is=t})(jue||(jue={}));(function(e){function t(n,i){return{range:n,text:i}}a(t,"create"),e.create=t;function r(n){var i=n;return i!=null&&Pn.is(i.range)&&lt.string(i.text)}a(r,"is"),e.is=r})(Kue||(Kue={}));(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}a(t,"create"),e.create=t;function r(n){var i=n;return i!=null&&Pn.is(i.range)&&lt.boolean(i.caseSensitiveLookup)&&(lt.string(i.variableName)||i.variableName===void 0)}a(r,"is"),e.is=r})(Que||(Que={}));(function(e){function t(n,i){return{range:n,expression:i}}a(t,"create"),e.create=t;function r(n){var i=n;return i!=null&&Pn.is(i.range)&&(lt.string(i.expression)||i.expression===void 0)}a(r,"is"),e.is=r})(Zue||(Zue={}));(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.defined(i)&&Pn.is(n.stoppedLocation)}a(r,"is"),e.is=r})(Jue||(Jue={}));(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}a(t,"is"),e.is=t})(wN||(wN={}));(function(e){function t(n){return{value:n}}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&(i.tooltip===void 0||lt.string(i.tooltip)||Zx.is(i.tooltip))&&(i.location===void 0||yE.is(i.location))&&(i.command===void 0||Q1.is(i.command))}a(r,"is"),e.is=r})(TN||(TN={}));(function(e){function t(n,i,s){var o={position:n,label:i};return s!==void 0&&(o.kind=s),o}a(t,"create"),e.create=t;function r(n){var i=n;return lt.objectLiteral(i)&&Qn.is(i.position)&&(lt.string(i.label)||lt.typedArray(i.label,TN.is))&&(i.kind===void 0||wN.is(i.kind))&&i.textEdits===void 0||lt.typedArray(i.textEdits,vf.is)&&(i.tooltip===void 0||lt.string(i.tooltip)||Zx.is(i.tooltip))&&(i.paddingLeft===void 0||lt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||lt.boolean(i.paddingRight))}a(r,"is"),e.is=r})(ece||(ece={}));(function(e){function t(r){var n=r;return lt.objectLiteral(n)&&yN.is(n.uri)&&lt.string(n.name)}a(t,"is"),e.is=t})(tce||(tce={}));(function(e){function t(s,o,u,h){return new JVe(s,o,u,h)}a(t,"create"),e.create=t;function r(s){var o=s;return!!(lt.defined(o)&&lt.string(o.uri)&&(lt.undefined(o.languageId)||lt.string(o.languageId))&&lt.uinteger(o.lineCount)&&lt.func(o.getText)&&lt.func(o.positionAt)&&lt.func(o.offsetAt))}a(r,"is"),e.is=r;function n(s,o){for(var u=s.getText(),h=i(o,function(E,_){var N=E.range.start.line-_.range.start.line;return N===0?E.range.start.character-_.range.start.character:N}),p=u.length,g=h.length-1;g>=0;g--){var v=h[g],x=s.offsetAt(v.range.start),k=s.offsetAt(v.range.end);if(k<=p)u=u.substring(0,x)+v.newText+u.substring(k,u.length);else throw new Error("Overlapping edit");p=x}return u}a(n,"applyEdits"),e.applyEdits=n;function i(s,o){if(s.length<=1)return s;var u=s.length/2|0,h=s.slice(0,u),p=s.slice(u);i(h,o),i(p,o);for(var g=0,v=0,x=0;g<h.length&&v<p.length;){var k=o(h[g],p[v]);k<=0?s[x++]=h[g++]:s[x++]=p[v++]}for(;g<h.length;)s[x++]=h[g++];for(;v<p.length;)s[x++]=p[v++];return s}a(i,"mergeSort")})(rce||(rce={}));JVe=function(){function e(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}return a(e,"FullTextDocument"),Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content},e.prototype.update=function(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],r=this._content,n=!0,i=0;i<r.length;i++){n&&(t.push(i),n=!1);var s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Qn.create(0,t);for(;n<i;){var s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}var o=n-1;return Qn.create(o,t-r[o])},e.prototype.offsetAt=function(t){var r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;var n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();(function(e){var t=Object.prototype.toString;function r(k){return typeof k<"u"}a(r,"defined"),e.defined=r;function n(k){return typeof k>"u"}a(n,"undefined"),e.undefined=n;function i(k){return k===!0||k===!1}a(i,"boolean"),e.boolean=i;function s(k){return t.call(k)==="[object String]"}a(s,"string"),e.string=s;function o(k){return t.call(k)==="[object Number]"}a(o,"number"),e.number=o;function u(k,E,_){return t.call(k)==="[object Number]"&&E<=k&&k<=_}a(u,"numberRange"),e.numberRange=u;function h(k){return t.call(k)==="[object Number]"&&-2147483648<=k&&k<=2147483647}a(h,"integer"),e.integer=h;function p(k){return t.call(k)==="[object Number]"&&0<=k&&k<=2147483647}a(p,"uinteger"),e.uinteger=p;function g(k){return t.call(k)==="[object Function]"}a(g,"func"),e.func=g;function v(k){return k!==null&&typeof k=="object"}a(v,"objectLiteral"),e.objectLiteral=v;function x(k,E){return Array.isArray(k)&&k.every(E)}a(x,"typedArray"),e.typedArray=x})(lt||(lt={}))});var Jx,eb,qp,Up,CN,Z1,TE=L(()=>{"use strict";EN();xu();gc();Jx=class{static{a(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(t){return this.rootNode=new Z1(t),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(t){let r=new Up;return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(t,r){let n=new qp(t.startOffset,t.image.length,w1(t),t.tokenType,!1);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(t){let r=t.container;if(r){let n=r.content.indexOf(t);n>=0&&r.content.splice(n,1)}}construct(t){let r=this.current;typeof t.$type=="string"&&(this.current.astNode=t),t.$cstNode=r;let n=this.nodeStack.pop();n?.content.length===0&&this.removeNode(n)}addHiddenTokens(t){for(let r of t){let n=new qp(r.startOffset,r.image.length,w1(r),r.tokenType,!0);n.root=this.rootNode,this.addHiddenToken(this.rootNode,n)}}addHiddenToken(t,r){let{offset:n,end:i}=r;for(let s=0;s<t.content.length;s++){let o=t.content[s],{offset:u,end:h}=o;if(Bl(o)&&n>u&&i<h){this.addHiddenToken(o,r);return}else if(i<=u){t.content.splice(s,0,r);return}}t.content.push(r)}},eb=class{static{a(this,"AbstractCstNode")}get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var t,r;let n=typeof((t=this._astNode)===null||t===void 0?void 0:t.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(t){this._astNode=t}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},qp=class extends eb{static{a(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(t,r,n,i,s=!1){super(),this._hidden=s,this._offset=t,this._tokenType=i,this._length=r,this._range=n}},Up=class extends eb{static{a(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new CN(this)}get children(){return this.content}get offset(){var t,r;return(r=(t=this.firstNonHiddenNode)===null||t===void 0?void 0:t.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var t,r;return(r=(t=this.lastNonHiddenNode)===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:0}get range(){let t=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(t&&r){if(this._rangeCache===void 0){let{range:n}=t,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}else return{start:Qn.create(0,0),end:Qn.create(0,0)}}get firstNonHiddenNode(){for(let t of this.content)if(!t.hidden)return t;return this.content[0]}get lastNonHiddenNode(){for(let t=this.content.length-1;t>=0;t--){let r=this.content[t];if(!r.hidden)return r}return this.content[this.content.length-1]}},CN=class e extends Array{static{a(this,"CstNodeContainer")}constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,e.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...n){return this.addParents(n),super.splice(t,r,...n)}addParents(t){for(let r of t)r.container=this.parent}},Z1=class extends Up{static{a(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(t){super(),this._text="",this._text=t??""}}});function SN(e){return e.$type===EE}var EE,nce,ice,tb,rb,CE,J1,nb,eqe,_N,ib=L(()=>{"use strict";$p();oue();lh();xc();_o();TE();EE=Symbol("Datatype");a(SN,"isDataTypeNode");nce="\u200B",ice=a(e=>e.endsWith(nce)?e:e+nce,"withRuleSuffix"),tb=class{static{a(this,"AbstractLangiumParser")}constructor(t){this._unorderedGroups=new Map,this.lexer=t.parser.Lexer;let r=this.lexer.definition;this.wrapper=new _N(r,Object.assign(Object.assign({},t.parser.ParserConfig),{errorMessageProvider:t.parser.ParserErrorMessageProvider}))}alternatives(t,r){this.wrapper.wrapOr(t,r)}optional(t,r){this.wrapper.wrapOption(t,r)}many(t,r){this.wrapper.wrapMany(t,r)}atLeastOne(t,r){this.wrapper.wrapAtLeastOne(t,r)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},rb=class extends tb{static{a(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(t){super(t),this.nodeBuilder=new Jx,this.stack=[],this.assignmentMap=new Map,this.linker=t.references.Linker,this.converter=t.parser.ValueConverter,this.astReflection=t.shared.AstReflection}rule(t,r){let n=t.fragment?void 0:Ex(t)?EE:Ip(t),i=this.wrapper.DEFINE_RULE(ice(t.name),this.startImplementation(n,r).bind(this));return t.entry&&(this.mainRule=i),i}parse(t){this.nodeBuilder.buildRootNode(t);let r=this.lexer.tokenize(t);this.wrapper.input=r.tokens;let n=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(r.hidden),this.unorderedGroups.clear(),{value:n,lexerErrors:r.errors,parserErrors:this.wrapper.errors}}startImplementation(t,r){return n=>{if(!this.isRecording()){let s={$type:t};this.stack.push(s),t===EE&&(s.value="")}let i;try{i=r(n)}catch{i=void 0}return!this.isRecording()&&i===void 0&&(i=this.construct()),i}}consume(t,r,n){let i=this.wrapper.wrapConsume(t,r);if(!this.isRecording()&&this.isValidToken(i)){let s=this.nodeBuilder.buildLeafNode(i,n),{assignment:o,isCrossRef:u}=this.getAssignment(n),h=this.current;if(o){let p=ku(n)?i.image:this.converter.convert(i.image,s);this.assign(o.operator,o.feature,p,s,u)}else if(SN(h)){let p=i.image;ku(n)||(p=this.converter.convert(p,s).toString()),h.value+=p}}}isValidToken(t){return!t.isInsertedInRecovery&&!isNaN(t.startOffset)&&typeof t.endOffset=="number"&&!isNaN(t.endOffset)}subrule(t,r,n,i){let s;this.isRecording()||(s=this.nodeBuilder.buildCompositeNode(n));let o=this.wrapper.wrapSubrule(t,r,i);!this.isRecording()&&s&&s.length>0&&this.performSubruleAssignment(o,n,s)}performSubruleAssignment(t,r,n){let{assignment:i,isCrossRef:s}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,t,n,s);else if(!i){let o=this.current;if(SN(o))o.value+=t.toString();else if(typeof t=="object"&&t){let u=t.$type,h=this.assignWithoutOverride(t,o);u&&(h.$type=u);let p=h;this.stack.pop(),this.stack.push(p)}}}action(t,r){if(!this.isRecording()){let n=this.current;if(!n.$cstNode&&r.feature&&r.operator){n=this.construct(!1);let s=n.$cstNode.feature;this.nodeBuilder.buildCompositeNode(s)}let i={$type:t};this.stack.pop(),this.stack.push(i),r.feature&&r.operator&&this.assign(r.operator,r.feature,n,n.$cstNode,!1)}}construct(t=!0){if(this.isRecording())return;let r=this.current;return bT(r),this.nodeBuilder.construct(r),t&&this.stack.pop(),SN(r)?this.converter.convert(r.value,r.$cstNode):(lM(this.astReflection,r),r)}getAssignment(t){if(!this.assignmentMap.has(t)){let r=_p(t,yc);this.assignmentMap.set(t,{assignment:r,isCrossRef:r?Sp(r.terminal):!1})}return this.assignmentMap.get(t)}assign(t,r,n,i,s){let o=this.current,u;switch(s&&typeof n=="string"?u=this.linker.buildReference(o,r,i,n):u=n,t){case"=":{o[r]=u;break}case"?=":{o[r]=!0;break}case"+=":Array.isArray(o[r])||(o[r]=[]),o[r].push(u)}}assignWithoutOverride(t,r){for(let[n,i]of Object.entries(r)){let s=t[n];s===void 0?t[n]=i:Array.isArray(s)&&Array.isArray(i)&&(i.push(...s),t[n]=i)}return t}get definitionErrors(){return this.wrapper.definitionErrors}},CE=class{static{a(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(t){return gf.buildMismatchTokenMessage(t)}buildNotAllInputParsedMessage(t){return gf.buildNotAllInputParsedMessage(t)}buildNoViableAltMessage(t){return gf.buildNoViableAltMessage(t)}buildEarlyExitMessage(t){return gf.buildEarlyExitMessage(t)}},J1=class extends CE{static{a(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:t,actual:r}){return`Expecting ${t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?`keyword '${t.name.substring(0,t.name.length-3)}'`:`token of type '${t.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:t}){return`Expecting end of file but found \`${t.image}\`.`}},nb=class extends tb{static{a(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(t){this.resetState();let r=this.lexer.tokenize(t);return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(t,r){let n=this.wrapper.DEFINE_RULE(ice(t.name),this.startImplementation(r).bind(this));return t.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(t){return r=>{let n=this.keepStackSize();try{t(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let t=this.elementStack.length;return this.stackSize=t,t}resetStackSize(t){this.removeUnexpectedElements(),this.stackSize=t}consume(t,r,n){this.wrapper.wrapConsume(t,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(t,r,n,i){this.before(n),this.wrapper.wrapSubrule(t,r,i),this.after(n)}before(t){this.isRecording()||this.elementStack.push(t)}after(t){if(!this.isRecording()){let r=this.elementStack.lastIndexOf(t);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}},eqe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new J1},_N=class extends Ux{static{a(this,"ChevrotainWrapper")}constructor(t,r){let n=r&&"maxLookahead"in r;super(t,Object.assign(Object.assign(Object.assign({},eqe),{lookaheadStrategy:n?new yf({maxLookahead:r.maxLookahead}):new Xx}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(t,r){return this.RULE(t,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(t,r){return this.consume(t,r)}wrapSubrule(t,r,n){return this.subrule(t,r,{ARGS:[n]})}wrapOr(t,r){this.or(t,r)}wrapOption(t,r){this.option(t,r)}wrapMany(t,r){this.many(t,r)}wrapAtLeastOne(t,r){this.atLeastOne(t,r)}}});function _E(e,t,r){return tqe({parser:t,tokens:r,rules:new Map,ruleNames:new Map},e),t}function tqe(e,t){let r=wx(t,!1),n=Zn(t.rules).filter(ao).filter(i=>r.has(i));for(let i of n){let s=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});s.rules.set(i.name,e.parser.rule(i,Hp(s,i.definition)))}}function Hp(e,t,r=!1){let n;if(ku(t))n=lqe(e,t);else if(cf(t))n=rqe(e,t);else if(yc(t))n=Hp(e,t.terminal);else if(Sp(t))n=ace(e,t);else if(vc(t))n=nqe(e,t);else if(yT(t))n=aqe(e,t);else if(xT(t))n=sqe(e,t);else if(Hd(t))n=oqe(e,t);else if(VI(t)){let i=e.consume++;n=a(()=>e.parser.consume(i,$l,t),"method")}else throw new Cp(t.$cstNode,`Unexpected element type: ${t.$type}`);return sce(e,r?void 0:SE(t),n,t.cardinality)}function rqe(e,t){let r=Ip(t);return()=>e.parser.action(r,t)}function nqe(e,t){let r=t.rule.ref;if(ao(r)){let n=e.subrule++,i=t.arguments.length>0?iqe(r,t.arguments):()=>({});return s=>e.parser.subrule(n,oce(e,r),t,i(s))}else if(bu(r)){let n=e.consume++,i=AN(e,r.name);return()=>e.parser.consume(n,i,t)}else if(r)Ud(r);else throw new Cp(t.$cstNode,`Undefined rule type: ${t.$type}`)}function iqe(e,t){let r=t.map(n=>xf(n.value));return n=>{let i={};for(let s=0;s<r.length;s++){let o=e.parameters[s],u=r[s];i[o.name]=u(n)}return i}}function xf(e){if(gI(e)){let t=xf(e.left),r=xf(e.right);return n=>t(n)||r(n)}else if(pI(e)){let t=xf(e.left),r=xf(e.right);return n=>t(n)&&r(n)}else if(kI(e)){let t=xf(e.value);return r=>!t(r)}else if(CI(e)){let t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(fI(e)){let t=!!e.true;return()=>t}Ud(e)}function aqe(e,t){if(t.elements.length===1)return Hp(e,t.elements[0]);{let r=[];for(let i of t.elements){let s={ALT:Hp(e,i,!0)},o=SE(i);o&&(s.GATE=xf(o)),r.push(s)}let n=e.or++;return i=>e.parser.alternatives(n,r.map(s=>{let o={ALT:()=>s.ALT(i)},u=s.GATE;return u&&(o.GATE=()=>u(i)),o}))}}function sqe(e,t){if(t.elements.length===1)return Hp(e,t.elements[0]);let r=[];for(let u of t.elements){let h={ALT:Hp(e,u,!0)},p=SE(u);p&&(h.GATE=xf(p)),r.push(h)}let n=e.or++,i=a((u,h)=>{let p=h.getRuleStack().join("-");return`uGroup_${u}_${p}`},"idFunc"),s=a(u=>e.parser.alternatives(n,r.map((h,p)=>{let g={ALT:()=>!0},v=e.parser;g.ALT=()=>{if(h.ALT(u),!v.isRecording()){let k=i(n,v);v.unorderedGroups.get(k)||v.unorderedGroups.set(k,[]);let E=v.unorderedGroups.get(k);typeof E?.[p]>"u"&&(E[p]=!0)}};let x=h.GATE;return x?g.GATE=()=>x(u):g.GATE=()=>{let k=v.unorderedGroups.get(i(n,v));return!k?.[p]},g})),"alternatives"),o=sce(e,SE(t),s,"*");return u=>{o(u),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(n,e.parser))}}function oqe(e,t){let r=t.elements.map(n=>Hp(e,n));return n=>r.forEach(i=>i(n))}function SE(e){if(Hd(e))return e.guardCondition}function ace(e,t,r=t.terminal){if(r)if(vc(r)&&ao(r.rule.ref)){let n=e.subrule++;return i=>e.parser.subrule(n,oce(e,r.rule.ref),t,i)}else if(vc(r)&&bu(r.rule.ref)){let n=e.consume++,i=AN(e,r.rule.ref.name);return()=>e.parser.consume(n,i,t)}else if(ku(r)){let n=e.consume++,i=AN(e,r.value);return()=>e.parser.consume(n,i,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let n=ST(t.type.ref),i=n?.terminal;if(!i)throw new Error("Could not find name assignment for type: "+Ip(t.type.ref));return ace(e,t,i)}}function lqe(e,t){let r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function sce(e,t,r,n){let i=t&&xf(t);if(!n)if(i){let s=e.or++;return o=>e.parser.alternatives(s,[{ALT:()=>r(o),GATE:()=>i(o)},{ALT:fE(),GATE:()=>!i(o)}])}else return r;if(n==="*"){let s=e.many++;return o=>e.parser.many(s,{DEF:()=>r(o),GATE:i?()=>i(o):void 0})}else if(n==="+"){let s=e.many++;if(i){let o=e.or++;return u=>e.parser.alternatives(o,[{ALT:()=>e.parser.atLeastOne(s,{DEF:()=>r(u)}),GATE:()=>i(u)},{ALT:fE(),GATE:()=>!i(u)}])}else return o=>e.parser.atLeastOne(s,{DEF:()=>r(o)})}else if(n==="?"){let s=e.optional++;return o=>e.parser.optional(s,{DEF:()=>r(o),GATE:i?()=>i(o):void 0})}else Ud(n)}function oce(e,t){let r=uqe(e,t),n=e.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function uqe(e,t){if(ao(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!ao(n);)(Hd(n)||yT(n)||xT(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}}function AN(e,t){let r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}var LN=L(()=>{"use strict";$p();lh();cT();ul();xc();a(_E,"createParser");a(tqe,"buildRules");a(Hp,"buildElement");a(rqe,"buildAction");a(nqe,"buildRuleCall");a(iqe,"buildRuleCallPredicate");a(xf,"buildPredicate");a(aqe,"buildAlternatives");a(sqe,"buildUnorderedGroup");a(oqe,"buildGroup");a(SE,"getGuardCondition");a(ace,"buildCrossReference");a(lqe,"buildKeyword");a(sce,"wrap");a(oce,"getRule");a(uqe,"getRuleName");a(AN,"getToken")});function DN(e){let t=e.Grammar,r=e.parser.Lexer,n=new nb(e);return _E(t,n,r.definition),n.finalize(),n}var RN=L(()=>{"use strict";ib();LN();a(DN,"createCompletionParser")});function IN(e){let t=lce(e);return t.finalize(),t}function lce(e){let t=e.Grammar,r=e.parser.Lexer,n=new rb(e);return _E(t,n,r.definition)}var MN=L(()=>{"use strict";ib();LN();a(IN,"createLangiumParser");a(lce,"prepareLangiumParser")});var Wp,NN=L(()=>{"use strict";$p();lh();_o();xc();S1();ul();Wp=class{static{a(this,"DefaultTokenBuilder")}buildTokens(t,r){let n=Zn(wx(t,!1)),i=this.buildTerminalTokens(n),s=this.buildKeywordTokens(n,i,r);return i.forEach(o=>{let u=o.PATTERN;typeof u=="object"&&u&&"test"in u&&ET(u)?s.unshift(o):s.push(o)}),s}buildTerminalTokens(t){return t.filter(bu).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(t){let r=_1(t),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:t.name,PATTERN:n,LINE_BREAKS:!0};return t.hidden&&(i.GROUP=ET(r)?la.SKIPPED:"hidden"),i}requiresCustomPattern(t){return t.flags.includes("u")?!0:!!(t.source.includes("?<=")||t.source.includes("?<!"))}regexPatternFunction(t){let r=new RegExp(t,t.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(t,r,n){return t.filter(ao).flatMap(i=>uh(i).filter(ku)).distinct(i=>i.value).toArray().sort((i,s)=>s.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!n?.caseInsensitive))}buildKeywordToken(t,r,n){return{name:t.value,PATTERN:this.buildKeywordPattern(t,n),LONGER_ALT:this.findLongerAlt(t,r)}}buildKeywordPattern(t,r){return r?new RegExp(mM(t.value)):t.value}findLongerAlt(t,r){return r.reduce((n,i)=>{let s=i?.PATTERN;return s?.source&&gM("^"+s.source+"$",t.value)&&n.push(i),n},[])}}});var Yp,fh,ON=L(()=>{"use strict";lh();xc();Yp=class{static{a(this,"DefaultValueConverter")}convert(t,r){let n=r.grammarSource;if(Sp(n)&&(n=xM(n)),vc(n)){let i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,t,r)}return t}runConverter(t,r,n){var i;switch(t.name.toUpperCase()){case"INT":return fh.convertInt(r);case"STRING":return fh.convertString(r);case"ID":return fh.convertID(r)}switch((i=_M(t))===null||i===void 0?void 0:i.toLowerCase()){case"number":return fh.convertNumber(r);case"boolean":return fh.convertBoolean(r);case"bigint":return fh.convertBigint(r);case"date":return fh.convertDate(r);default:return r}}};(function(e){function t(p){let g="";for(let v=1;v<p.length-1;v++){let x=p.charAt(v);if(x==="\\"){let k=p.charAt(++v);g+=r(k)}else g+=x}return g}a(t,"convertString"),e.convertString=t;function r(p){switch(p){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return p}}a(r,"convertEscapeCharacter");function n(p){return p.charAt(0)==="^"?p.substring(1):p}a(n,"convertID"),e.convertID=n;function i(p){return parseInt(p)}a(i,"convertInt"),e.convertInt=i;function s(p){return BigInt(p)}a(s,"convertBigint"),e.convertBigint=s;function o(p){return new Date(p)}a(o,"convertDate"),e.convertDate=o;function u(p){return Number(p)}a(u,"convertNumber"),e.convertNumber=u;function h(p){return p.toLowerCase()==="true"}a(h,"convertBoolean"),e.convertBoolean=h})(fh||(fh={}))});var zN=mo(FN=>{"use strict";Object.defineProperty(FN,"__esModule",{value:!0});var PN;function BN(){if(PN===void 0)throw new Error("No runtime abstraction layer installed");return PN}a(BN,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");PN=r}a(t,"install"),e.install=t})(BN||(BN={}));FN.default=BN});var hce=mo(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.stringArray=oo.array=oo.func=oo.error=oo.number=oo.string=oo.boolean=void 0;function cqe(e){return e===!0||e===!1}a(cqe,"boolean");oo.boolean=cqe;function uce(e){return typeof e=="string"||e instanceof String}a(uce,"string");oo.string=uce;function hqe(e){return typeof e=="number"||e instanceof Number}a(hqe,"number");oo.number=hqe;function fqe(e){return e instanceof Error}a(fqe,"error");oo.error=fqe;function dqe(e){return typeof e=="function"}a(dqe,"func");oo.func=dqe;function cce(e){return Array.isArray(e)}a(cce,"array");oo.array=cce;function pqe(e){return cce(e)&&e.every(t=>uce(t))}a(pqe,"stringArray");oo.stringArray=pqe});var GN=mo(ey=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0});ey.Emitter=ey.Event=void 0;var mqe=zN(),fce;(function(e){let t={dispose(){}};e.None=function(){return t}})(fce||(ey.Event=fce={}));var $N=class{static{a(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],t))}catch(u){(0,mqe.default)().console.error(u)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},AE=class e{static{a(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new $N),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ey.Emitter=AE;AE._noop=function(){}});var dce=mo(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});ty.CancellationTokenSource=ty.CancellationToken=void 0;var gqe=zN(),yqe=hce(),VN=GN(),LE;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:VN.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:VN.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||yqe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}a(t,"is"),e.is=t})(LE||(ty.CancellationToken=LE={}));var vqe=Object.freeze(function(e,t){let r=(0,gqe.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),DE=class{static{a(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?vqe:(this._emitter||(this._emitter=new VN.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},qN=class{static{a(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new DE),this._token}cancel(){this._token?this._token.cancel():this._token=LE.Cancelled}dispose(){this._token?this._token instanceof DE&&this._token.dispose():this._token=LE.None}};ty.CancellationTokenSource=qN});var Sn={};var Tu=L(()=>{"use strict";En(Sn,_s(dce(),1))});function HN(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}function mce(){return UN=Date.now(),new Sn.CancellationTokenSource}function gce(e){pce=e}function Kd(e){return e===dh}async function ja(e){if(e===Sn.CancellationToken.None)return;let t=Date.now();if(t-UN>=pce&&(UN=t,await HN()),e.isCancellationRequested)throw dh}var UN,pce,dh,Io,Eu=L(()=>{"use strict";Tu();a(HN,"delayNextTick");UN=0,pce=10;a(mce,"startCancelableOperation");a(gce,"setInterruptionPeriod");dh=Symbol("OperationCancelled");a(Kd,"isOperationCancelled");a(ja,"interruptAndCheck");Io=class{static{a(this,"Deferred")}constructor(){this.promise=new Promise((t,r)=>{this.resolve=n=>(t(n),this),this.reject=n=>(r(n),this)})}}});function WN(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);WN(n,t),WN(i,t);let s=0,o=0,u=0;for(;s<n.length&&o<i.length;)t(n[s],i[o])<=0?e[u++]=n[s++]:e[u++]=i[o++];for(;s<n.length;)e[u++]=n[s++];for(;o<i.length;)e[u++]=i[o++];return e}function yce(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);(s===13||s===10)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function vce(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function xqe(e){let t=vce(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var RE,ry,xce=L(()=>{"use strict";RE=class e{static{a(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=vce(n.range),s=this.offsetAt(i.start),o=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(o,this._content.length);let u=Math.max(i.start.line,0),h=Math.max(i.end.line,0),p=this._lineOffsets,g=yce(n.text,!1,s);if(h-u===g.length)for(let x=0,k=g.length;x<k;x++)p[x+u+1]=g[x];else g.length<1e4?p.splice(u+1,h-u,...g):this._lineOffsets=p=p.slice(0,u+1).concat(g,p.slice(h+1));let v=n.text.length-(o-s);if(v!==0)for(let x=u+1+g.length,k=p.length;x<k;x++)p[x]=p[x]+v}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=yce(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let o=Math.floor((n+i)/2);r[o]>t?i=o:n=o+1}let s=n-1;return{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};(function(e){function t(i,s,o,u){return new RE(i,s,o,u)}a(t,"create"),e.create=t;function r(i,s,o){if(i instanceof RE)return i.update(s,o),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}a(r,"update"),e.update=r;function n(i,s){let o=i.getText(),u=WN(s.map(xqe),(g,v)=>{let x=g.range.start.line-v.range.start.line;return x===0?g.range.start.character-v.range.start.character:x}),h=0,p=[];for(let g of u){let v=i.offsetAt(g.range.start);if(v<h)throw new Error("Overlapping edit");v>h&&p.push(o.substring(h,v)),g.newText.length&&p.push(g.newText),h=i.offsetAt(g.range.end)}return p.push(o.substr(h)),p.join("")}a(n,"applyEdits"),e.applyEdits=n})(ry||(ry={}));a(WN,"mergeSort");a(yce,"computeLineOffsets");a(vce,"getWellformedRange");a(xqe,"getWellformedEdit")});var bce,fl,ny,YN=L(()=>{"use strict";(()=>{"use strict";var e={470:i=>{function s(h){if(typeof h!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(h))}a(s,"e");function o(h,p){for(var g,v="",x=0,k=-1,E=0,_=0;_<=h.length;++_){if(_<h.length)g=h.charCodeAt(_);else{if(g===47)break;g=47}if(g===47){if(!(k===_-1||E===1))if(k!==_-1&&E===2){if(v.length<2||x!==2||v.charCodeAt(v.length-1)!==46||v.charCodeAt(v.length-2)!==46){if(v.length>2){var N=v.lastIndexOf("/");if(N!==v.length-1){N===-1?(v="",x=0):x=(v=v.slice(0,N)).length-1-v.lastIndexOf("/"),k=_,E=0;continue}}else if(v.length===2||v.length===1){v="",x=0,k=_,E=0;continue}}p&&(v.length>0?v+="/..":v="..",x=2)}else v.length>0?v+="/"+h.slice(k+1,_):v=h.slice(k+1,_),x=_-k-1;k=_,E=0}else g===46&&E!==-1?++E:E=-1}return v}a(o,"r");var u={resolve:function(){for(var h,p="",g=!1,v=arguments.length-1;v>=-1&&!g;v--){var x;v>=0?x=arguments[v]:(h===void 0&&(h=process.cwd()),x=h),s(x),x.length!==0&&(p=x+"/"+p,g=x.charCodeAt(0)===47)}return p=o(p,!g),g?p.length>0?"/"+p:"/":p.length>0?p:"."},normalize:function(h){if(s(h),h.length===0)return".";var p=h.charCodeAt(0)===47,g=h.charCodeAt(h.length-1)===47;return(h=o(h,!p)).length!==0||p||(h="."),h.length>0&&g&&(h+="/"),p?"/"+h:h},isAbsolute:function(h){return s(h),h.length>0&&h.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var h,p=0;p<arguments.length;++p){var g=arguments[p];s(g),g.length>0&&(h===void 0?h=g:h+="/"+g)}return h===void 0?".":u.normalize(h)},relative:function(h,p){if(s(h),s(p),h===p||(h=u.resolve(h))===(p=u.resolve(p)))return"";for(var g=1;g<h.length&&h.charCodeAt(g)===47;++g);for(var v=h.length,x=v-g,k=1;k<p.length&&p.charCodeAt(k)===47;++k);for(var E=p.length-k,_=x<E?x:E,N=-1,M=0;M<=_;++M){if(M===_){if(E>_){if(p.charCodeAt(k+M)===47)return p.slice(k+M+1);if(M===0)return p.slice(k+M)}else x>_&&(h.charCodeAt(g+M)===47?N=M:M===0&&(N=0));break}var P=h.charCodeAt(g+M);if(P!==p.charCodeAt(k+M))break;P===47&&(N=M)}var V="";for(M=g+N+1;M<=v;++M)M!==v&&h.charCodeAt(M)!==47||(V.length===0?V+="..":V+="/..");return V.length>0?V+p.slice(k+N):(k+=N,p.charCodeAt(k)===47&&++k,p.slice(k))},_makeLong:function(h){return h},dirname:function(h){if(s(h),h.length===0)return".";for(var p=h.charCodeAt(0),g=p===47,v=-1,x=!0,k=h.length-1;k>=1;--k)if((p=h.charCodeAt(k))===47){if(!x){v=k;break}}else x=!1;return v===-1?g?"/":".":g&&v===1?"//":h.slice(0,v)},basename:function(h,p){if(p!==void 0&&typeof p!="string")throw new TypeError('"ext" argument must be a string');s(h);var g,v=0,x=-1,k=!0;if(p!==void 0&&p.length>0&&p.length<=h.length){if(p.length===h.length&&p===h)return"";var E=p.length-1,_=-1;for(g=h.length-1;g>=0;--g){var N=h.charCodeAt(g);if(N===47){if(!k){v=g+1;break}}else _===-1&&(k=!1,_=g+1),E>=0&&(N===p.charCodeAt(E)?--E==-1&&(x=g):(E=-1,x=_))}return v===x?x=_:x===-1&&(x=h.length),h.slice(v,x)}for(g=h.length-1;g>=0;--g)if(h.charCodeAt(g)===47){if(!k){v=g+1;break}}else x===-1&&(k=!1,x=g+1);return x===-1?"":h.slice(v,x)},extname:function(h){s(h);for(var p=-1,g=0,v=-1,x=!0,k=0,E=h.length-1;E>=0;--E){var _=h.charCodeAt(E);if(_!==47)v===-1&&(x=!1,v=E+1),_===46?p===-1?p=E:k!==1&&(k=1):p!==-1&&(k=-1);else if(!x){g=E+1;break}}return p===-1||v===-1||k===0||k===1&&p===v-1&&p===g+1?"":h.slice(p,v)},format:function(h){if(h===null||typeof h!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return function(p,g){var v=g.dir||g.root,x=g.base||(g.name||"")+(g.ext||"");return v?v===g.root?v+x:v+"/"+x:x}(0,h)},parse:function(h){s(h);var p={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return p;var g,v=h.charCodeAt(0),x=v===47;x?(p.root="/",g=1):g=0;for(var k=-1,E=0,_=-1,N=!0,M=h.length-1,P=0;M>=g;--M)if((v=h.charCodeAt(M))!==47)_===-1&&(N=!1,_=M+1),v===46?k===-1?k=M:P!==1&&(P=1):k!==-1&&(P=-1);else if(!N){E=M+1;break}return k===-1||_===-1||P===0||P===1&&k===_-1&&k===E+1?_!==-1&&(p.base=p.name=E===0&&x?h.slice(1,_):h.slice(E,_)):(E===0&&x?(p.name=h.slice(1,k),p.base=h.slice(1,_)):(p.name=h.slice(E,k),p.base=h.slice(E,_)),p.ext=h.slice(k,_)),E>0?p.dir=h.slice(0,E-1):x&&(p.dir="/"),p},sep:"/",delimiter:":",win32:null,posix:null};u.posix=u,i.exports=u}},t={};function r(i){var s=t[i];if(s!==void 0)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}a(r,"r"),r.d=(i,s)=>{for(var o in s)r.o(s,o)&&!r.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},r.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>x,Utils:()=>j}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,o=/^\//,u=/^\/\//;function h(D,X){if(!D.scheme&&X)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${D.authority}", path: "${D.path}", query: "${D.query}", fragment: "${D.fragment}"}`);if(D.scheme&&!s.test(D.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(D.path){if(D.authority){if(!o.test(D.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(D.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}a(h,"s");let p="",g="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class x{static{a(this,"f")}static isUri(X){return X instanceof x||!!X&&typeof X.authority=="string"&&typeof X.fragment=="string"&&typeof X.path=="string"&&typeof X.query=="string"&&typeof X.scheme=="string"&&typeof X.fsPath=="string"&&typeof X.with=="function"&&typeof X.toString=="function"}scheme;authority;path;query;fragment;constructor(X,B,Q,le,J,ie=!1){typeof X=="object"?(this.scheme=X.scheme||p,this.authority=X.authority||p,this.path=X.path||p,this.query=X.query||p,this.fragment=X.fragment||p):(this.scheme=function(re,Z){return re||Z?re:"file"}(X,ie),this.authority=B||p,this.path=function(re,Z){switch(re){case"https":case"http":case"file":Z?Z[0]!==g&&(Z=g+Z):Z=g}return Z}(this.scheme,Q||p),this.query=le||p,this.fragment=J||p,h(this,ie))}get fsPath(){return P(this,!1)}with(X){if(!X)return this;let{scheme:B,authority:Q,path:le,query:J,fragment:ie}=X;return B===void 0?B=this.scheme:B===null&&(B=p),Q===void 0?Q=this.authority:Q===null&&(Q=p),le===void 0?le=this.path:le===null&&(le=p),J===void 0?J=this.query:J===null&&(J=p),ie===void 0?ie=this.fragment:ie===null&&(ie=p),B===this.scheme&&Q===this.authority&&le===this.path&&J===this.query&&ie===this.fragment?this:new E(B,Q,le,J,ie)}static parse(X,B=!1){let Q=v.exec(X);return Q?new E(Q[2]||p,I(Q[4]||p),I(Q[5]||p),I(Q[7]||p),I(Q[9]||p),B):new E(p,p,p,p,p)}static file(X){let B=p;if(i&&(X=X.replace(/\\/g,g)),X[0]===g&&X[1]===g){let Q=X.indexOf(g,2);Q===-1?(B=X.substring(2),X=g):(B=X.substring(2,Q),X=X.substring(Q)||g)}return new E("file",B,X,p,p)}static from(X){let B=new E(X.scheme,X.authority,X.path,X.query,X.fragment);return h(B,!0),B}toString(X=!1){return V(this,X)}toJSON(){return this}static revive(X){if(X){if(X instanceof x)return X;{let B=new E(X);return B._formatted=X.external,B._fsPath=X._sep===k?X.fsPath:null,B}}return X}}let k=i?1:void 0;class E extends x{static{a(this,"l")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=P(this,!1)),this._fsPath}toString(X=!1){return X?V(this,!0):(this._formatted||(this._formatted=V(this,!1)),this._formatted)}toJSON(){let X={$mid:1};return this._fsPath&&(X.fsPath=this._fsPath,X._sep=k),this._formatted&&(X.external=this._formatted),this.path&&(X.path=this.path),this.scheme&&(X.scheme=this.scheme),this.authority&&(X.authority=this.authority),this.query&&(X.query=this.query),this.fragment&&(X.fragment=this.fragment),X}}let _={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function N(D,X,B){let Q,le=-1;for(let J=0;J<D.length;J++){let ie=D.charCodeAt(J);if(ie>=97&&ie<=122||ie>=65&&ie<=90||ie>=48&&ie<=57||ie===45||ie===46||ie===95||ie===126||X&&ie===47||B&&ie===91||B&&ie===93||B&&ie===58)le!==-1&&(Q+=encodeURIComponent(D.substring(le,J)),le=-1),Q!==void 0&&(Q+=D.charAt(J));else{Q===void 0&&(Q=D.substr(0,J));let re=_[ie];re!==void 0?(le!==-1&&(Q+=encodeURIComponent(D.substring(le,J)),le=-1),Q+=re):le===-1&&(le=J)}}return le!==-1&&(Q+=encodeURIComponent(D.substring(le))),Q!==void 0?Q:D}a(N,"d");function M(D){let X;for(let B=0;B<D.length;B++){let Q=D.charCodeAt(B);Q===35||Q===63?(X===void 0&&(X=D.substr(0,B)),X+=_[Q]):X!==void 0&&(X+=D[B])}return X!==void 0?X:D}a(M,"p");function P(D,X){let B;return B=D.authority&&D.path.length>1&&D.scheme==="file"?`//${D.authority}${D.path}`:D.path.charCodeAt(0)===47&&(D.path.charCodeAt(1)>=65&&D.path.charCodeAt(1)<=90||D.path.charCodeAt(1)>=97&&D.path.charCodeAt(1)<=122)&&D.path.charCodeAt(2)===58?X?D.path.substr(1):D.path[1].toLowerCase()+D.path.substr(2):D.path,i&&(B=B.replace(/\//g,"\\")),B}a(P,"m");function V(D,X){let B=X?M:N,Q="",{scheme:le,authority:J,path:ie,query:re,fragment:Z}=D;if(le&&(Q+=le,Q+=":"),(J||le==="file")&&(Q+=g,Q+=g),J){let Y=J.indexOf("@");if(Y!==-1){let ue=J.substr(0,Y);J=J.substr(Y+1),Y=ue.lastIndexOf(":"),Y===-1?Q+=B(ue,!1,!1):(Q+=B(ue.substr(0,Y),!1,!1),Q+=":",Q+=B(ue.substr(Y+1),!1,!0)),Q+="@"}J=J.toLowerCase(),Y=J.lastIndexOf(":"),Y===-1?Q+=B(J,!1,!0):(Q+=B(J.substr(0,Y),!1,!0),Q+=J.substr(Y))}if(ie){if(ie.length>=3&&ie.charCodeAt(0)===47&&ie.charCodeAt(2)===58){let Y=ie.charCodeAt(1);Y>=65&&Y<=90&&(ie=`/${String.fromCharCode(Y+32)}:${ie.substr(3)}`)}else if(ie.length>=2&&ie.charCodeAt(1)===58){let Y=ie.charCodeAt(0);Y>=65&&Y<=90&&(ie=`${String.fromCharCode(Y+32)}:${ie.substr(2)}`)}Q+=B(ie,!0,!1)}return re&&(Q+="?",Q+=B(re,!1,!1)),Z&&(Q+="#",Q+=X?Z:N(Z,!1,!1)),Q}a(V,"y");function H(D){try{return decodeURIComponent(D)}catch{return D.length>3?D.substr(0,3)+H(D.substr(3)):D}}a(H,"v");let O=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function I(D){return D.match(O)?D.replace(O,X=>H(X)):D}a(I,"C");var z=r(470);let G=z.posix||z,F="/";var j;(function(D){D.joinPath=function(X,...B){return X.with({path:G.join(X.path,...B)})},D.resolvePath=function(X,...B){let Q=X.path,le=!1;Q[0]!==F&&(Q=F+Q,le=!0);let J=G.resolve(Q,...B);return le&&J[0]===F&&!X.authority&&(J=J.substring(1)),X.with({path:J})},D.dirname=function(X){if(X.path.length===0||X.path===F)return X;let B=G.dirname(X.path);return B.length===1&&B.charCodeAt(0)===46&&(B=""),X.with({path:B})},D.basename=function(X){return G.basename(X.path)},D.extname=function(X){return G.extname(X.path)}})(j||(j={}))})(),bce=n})();({URI:fl,Utils:ny}=bce)});var Mo,ph=L(()=>{"use strict";YN();(function(e){e.basename=ny.basename,e.dirname=ny.dirname,e.extname=ny.extname,e.joinPath=ny.joinPath,e.resolvePath=ny.resolvePath;function t(n,i){return n?.toString()===i?.toString()}a(t,"equals"),e.equals=t;function r(n,i){let s=typeof n=="string"?n:n.path,o=typeof i=="string"?i:i.path,u=s.split("/").filter(x=>x.length>0),h=o.split("/").filter(x=>x.length>0),p=0;for(;p<u.length&&u[p]===h[p];p++);let g="../".repeat(u.length-p),v=h.slice(p).join("/");return g+v}a(r,"relative"),e.relative=r})(Mo||(Mo={}))});var ki,ab,sb,iy=L(()=>{"use strict";xce();iy();Tu();ul();ph();(function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"})(ki||(ki={}));ab=class{static{a(this,"DefaultLangiumDocumentFactory")}constructor(t){this.serviceRegistry=t.ServiceRegistry,this.textDocuments=t.workspace.TextDocuments,this.fileSystemProvider=t.workspace.FileSystemProvider}async fromUri(t,r=Sn.CancellationToken.None){let n=await this.fileSystemProvider.readFile(t);return this.createAsync(t,n,r)}fromTextDocument(t,r,n){return r=r??fl.parse(t.uri),n?this.createAsync(r,t,n):this.create(r,t)}fromString(t,r,n){return n?this.createAsync(r,t,n):this.create(r,t)}fromModel(t,r){return this.create(r,{$model:t})}create(t,r){if(typeof r=="string"){let n=this.parse(t,r);return this.createLangiumDocument(n,t,void 0,r)}else if("$model"in r){let n={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,t)}else{let n=this.parse(t,r.getText());return this.createLangiumDocument(n,t,r)}}async createAsync(t,r,n){if(typeof r=="string"){let i=await this.parseAsync(t,r,n);return this.createLangiumDocument(i,t,void 0,r)}else{let i=await this.parseAsync(t,r.getText(),n);return this.createLangiumDocument(i,t,r)}}createLangiumDocument(t,r,n,i){let s;if(n)s={parseResult:t,uri:r,state:ki.Parsed,references:[],textDocument:n};else{let o=this.createTextDocumentGetter(r,i);s={parseResult:t,uri:r,state:ki.Parsed,references:[],get textDocument(){return o()}}}return t.value.$document=s,s}async update(t,r){var n,i;let s=(n=t.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,o=(i=this.textDocuments)===null||i===void 0?void 0:i.get(t.uri.toString()),u=o?o.getText():await this.fileSystemProvider.readFile(t.uri);if(o)Object.defineProperty(t,"textDocument",{value:o});else{let h=this.createTextDocumentGetter(t.uri,u);Object.defineProperty(t,"textDocument",{get:h})}return s!==u&&(t.parseResult=await this.parseAsync(t.uri,u,r),t.parseResult.value.$document=t),t.state=ki.Parsed,t}parse(t,r){return this.serviceRegistry.getServices(t).parser.LangiumParser.parse(r)}parseAsync(t,r,n){return this.serviceRegistry.getServices(t).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(t,r){let n=this.serviceRegistry,i;return()=>i??(i=ry.create(t.toString(),n.getServices(t).LanguageMetaData.languageId,0,r??""))}},sb=class{static{a(this,"DefaultLangiumDocuments")}constructor(t){this.documentMap=new Map,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory}get all(){return Zn(this.documentMap.values())}addDocument(t){let r=t.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,t)}getDocument(t){let r=t.toString();return this.documentMap.get(r)}async getOrCreateDocument(t,r){let n=this.getDocument(t);return n||(n=await this.langiumDocumentFactory.fromUri(t,r),this.addDocument(n),n)}createDocument(t,r,n){if(n)return this.langiumDocumentFactory.fromString(r,t,n).then(i=>(this.addDocument(i),i));{let i=this.langiumDocumentFactory.fromString(r,t);return this.addDocument(i),i}}hasDocument(t){return this.documentMap.has(t.toString())}invalidateDocument(t){let r=t.toString(),n=this.documentMap.get(r);return n&&(n.state=ki.Changed,n.precomputedScopes=void 0,n.references=[],n.diagnostics=void 0),n}deleteDocument(t){let r=t.toString(),n=this.documentMap.get(r);return n&&(n.state=ki.Changed,this.documentMap.delete(r)),n}}});var ob,XN=L(()=>{"use strict";Tu();xu();_o();Eu();iy();ob=class{static{a(this,"DefaultLinker")}constructor(t){this.reflection=t.shared.AstReflection,this.langiumDocuments=()=>t.shared.workspace.LangiumDocuments,this.scopeProvider=t.references.ScopeProvider,this.astNodeLocator=t.workspace.AstNodeLocator}async link(t,r=Sn.CancellationToken.None){for(let n of wu(t.parseResult.value))await ja(r),E1(n).forEach(i=>this.doLink(i,t))}doLink(t,r){let n=t.reference;if(n._ref===void 0)try{let i=this.getCandidate(t);if(wp(i))n._ref=i;else if(n._nodeDescription=i,this.langiumDocuments().hasDocument(i.documentUri)){let s=this.loadAstNode(i);n._ref=s??this.createLinkingError(t,i)}}catch(i){n._ref=Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${n.$refText}': ${i}`})}r.references.push(n)}unlink(t){for(let r of t.references)delete r._ref,delete r._nodeDescription;t.references=[]}getCandidate(t){let n=this.scopeProvider.getScope(t).getElement(t.reference.$refText);return n??this.createLinkingError(t)}buildReference(t,r,n,i){let s=this,o={$refNode:n,$refText:i,get ref(){var u;if(Ki(this._ref))return this._ref;if(eI(this._nodeDescription)){let h=s.loadAstNode(this._nodeDescription);this._ref=h??s.createLinkingError({reference:o,container:t,property:r},this._nodeDescription)}else if(this._ref===void 0){let h=s.getLinkedNode({reference:o,container:t,property:r});if(h.error&&Ya(t).state<ki.ComputedScopes)return;this._ref=(u=h.node)!==null&&u!==void 0?u:h.error,this._nodeDescription=h.descr}return Ki(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return wp(this._ref)?this._ref:void 0}};return o}getLinkedNode(t){try{let r=this.getCandidate(t);if(wp(r))return{error:r};let n=this.loadAstNode(r);return n?{node:n,descr:r}:{descr:r,error:this.createLinkingError(t,r)}}catch(r){return{error:Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${t.reference.$refText}': ${r}`})}}}loadAstNode(t){if(t.node)return t.node;let r=this.langiumDocuments().getDocument(t.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,t.path)}createLinkingError(t,r){let n=Ya(t.container);n.state<ki.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);let i=this.reflection.getReferenceType(t);return Object.assign(Object.assign({},t),{message:`Could not resolve reference to ${i} named '${t.reference.$refText}'.`,targetDescription:r})}}});function kce(e){return typeof e.name=="string"}var lb,jN=L(()=>{"use strict";xc();a(kce,"isNamed");lb=class{static{a(this,"DefaultNameProvider")}getName(t){if(kce(t))return t.name}getNameNode(t){return Tx(t.$cstNode,"name")}}});var ub,KN=L(()=>{"use strict";xc();xu();_o();gc();ul();ph();ub=class{static{a(this,"DefaultReferences")}constructor(t){this.nameProvider=t.references.NameProvider,this.index=t.shared.workspace.IndexManager,this.nodeLocator=t.workspace.AstNodeLocator}findDeclaration(t){if(t){let r=CM(t),n=t.astNode;if(r&&n){let i=n[r.feature];if($s(i))return i.ref;if(Array.isArray(i)){for(let s of i)if($s(s)&&s.$refNode&&s.$refNode.offset<=t.offset&&s.$refNode.end>=t.end)return s.ref}}if(n){let i=this.nameProvider.getNameNode(n);if(i&&(i===t||rI(t,i)))return n}}}findDeclarationNode(t){let r=this.findDeclaration(t);if(r?.$cstNode){let n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(t,r){let n=[];if(r.includeDeclaration){let s=this.getReferenceToSelf(t);s&&n.push(s)}let i=this.index.findAllReferences(t,this.nodeLocator.getAstNodePath(t));return r.documentUri&&(i=i.filter(s=>Mo.equals(s.sourceUri,r.documentUri))),n.push(...i),Zn(n)}getReferenceToSelf(t){let r=this.nameProvider.getNameNode(t);if(r){let n=Ya(t),i=this.nodeLocator.getAstNodePath(t);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:Ep(r),local:!0}}}}});var mh,Xp,ay=L(()=>{"use strict";ul();mh=class{static{a(this,"MultiMap")}constructor(t){if(this.map=new Map,t)for(let[r,n]of t)this.add(r,n)}get size(){return k1.sum(Zn(this.map.values()).map(t=>t.length))}clear(){this.map.clear()}delete(t,r){if(r===void 0)return this.map.delete(t);{let n=this.map.get(t);if(n){let i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(t):n.splice(i,1),!0}return!1}}get(t){var r;return(r=this.map.get(t))!==null&&r!==void 0?r:[]}has(t,r){if(r===void 0)return this.map.has(t);{let n=this.map.get(t);return n?n.indexOf(r)>=0:!1}}add(t,r){return this.map.has(t)?this.map.get(t).push(r):this.map.set(t,[r]),this}addAll(t,r){return this.map.has(t)?this.map.get(t).push(...r):this.map.set(t,Array.from(r)),this}forEach(t){this.map.forEach((r,n)=>r.forEach(i=>t(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Zn(this.map.entries()).flatMap(([t,r])=>r.map(n=>[t,n]))}keys(){return Zn(this.map.keys())}values(){return Zn(this.map.values()).flat()}entriesGroupedByKey(){return Zn(this.map.entries())}},Xp=class{static{a(this,"BiMap")}get size(){return this.map.size}constructor(t){if(this.map=new Map,this.inverse=new Map,t)for(let[r,n]of t)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(t,r){return this.map.set(t,r),this.inverse.set(r,t),this}get(t){return this.map.get(t)}getKey(t){return this.inverse.get(t)}delete(t){let r=this.map.get(t);return r!==void 0?(this.map.delete(t),this.inverse.delete(r),!0):!1}}});var cb,QN=L(()=>{"use strict";Tu();_o();ay();Eu();cb=class{static{a(this,"DefaultScopeComputation")}constructor(t){this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider}async computeExports(t,r=Sn.CancellationToken.None){return this.computeExportsForNode(t.parseResult.value,t,void 0,r)}async computeExportsForNode(t,r,n=yx,i=Sn.CancellationToken.None){let s=[];this.exportNode(t,s,r);for(let o of n(t))await ja(i),this.exportNode(o,s,r);return s}exportNode(t,r,n){let i=this.nameProvider.getName(t);i&&r.push(this.descriptions.createDescription(t,i,n))}async computeLocalScopes(t,r=Sn.CancellationToken.None){let n=t.parseResult.value,i=new mh;for(let s of uh(n))await ja(r),this.processNode(s,t,i);return i}processNode(t,r,n){let i=t.$container;if(i){let s=this.nameProvider.getName(t);s&&n.add(i,this.descriptions.createDescription(t,s,r))}}}});var sy,hb,bqe,ZN=L(()=>{"use strict";ul();sy=class{static{a(this,"StreamScope")}constructor(t,r,n){var i;this.elements=t,this.outerScope=r,this.caseInsensitive=(i=n?.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(t){let r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===t.toLowerCase()):this.elements.find(n=>n.name===t);if(r)return r;if(this.outerScope)return this.outerScope.getElement(t)}},hb=class{static{a(this,"MapScope")}constructor(t,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n?.caseInsensitive)!==null&&i!==void 0?i:!1;for(let s of t){let o=this.caseInsensitive?s.name.toLowerCase():s.name;this.elements.set(o,s)}this.outerScope=r}getElement(t){let r=this.caseInsensitive?t.toLowerCase():t,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(t)}getAllElements(){let t=Zn(this.elements.values());return this.outerScope&&(t=t.concat(this.outerScope.getAllElements())),t}},bqe={getElement(){},getAllElements(){return hx}}});var oy,fb,jp,IE,ly,ME=L(()=>{"use strict";oy=class{static{a(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(t){this.toDispose.push(t)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(t=>t.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},fb=class extends oy{static{a(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(t){return this.throwIfDisposed(),this.cache.has(t)}set(t,r){this.throwIfDisposed(),this.cache.set(t,r)}get(t,r){if(this.throwIfDisposed(),this.cache.has(t))return this.cache.get(t);if(r){let n=r();return this.cache.set(t,n),n}else return}delete(t){return this.throwIfDisposed(),this.cache.delete(t)}clear(){this.throwIfDisposed(),this.cache.clear()}},jp=class extends oy{static{a(this,"ContextCache")}constructor(t){super(),this.cache=new Map,this.converter=t??(r=>r)}has(t,r){return this.throwIfDisposed(),this.cacheForContext(t).has(r)}set(t,r,n){this.throwIfDisposed(),this.cacheForContext(t).set(r,n)}get(t,r,n){this.throwIfDisposed();let i=this.cacheForContext(t);if(i.has(r))return i.get(r);if(n){let s=n();return i.set(r,s),s}else return}delete(t,r){return this.throwIfDisposed(),this.cacheForContext(t).delete(r)}clear(t){if(this.throwIfDisposed(),t){let r=this.converter(t);this.cache.delete(r)}else this.cache.clear()}cacheForContext(t){let r=this.converter(t),n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}},IE=class extends jp{static{a(this,"DocumentCache")}constructor(t){super(r=>r.toString()),this.onDispose(t.workspace.DocumentBuilder.onUpdate((r,n)=>{let i=r.concat(n);for(let s of i)this.clear(s)}))}},ly=class extends fb{static{a(this,"WorkspaceCache")}constructor(t){super(),this.onDispose(t.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}});var db,JN=L(()=>{"use strict";ZN();_o();ul();ME();db=class{static{a(this,"DefaultScopeProvider")}constructor(t){this.reflection=t.shared.AstReflection,this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider,this.indexManager=t.shared.workspace.IndexManager,this.globalScopeCache=new ly(t.shared)}getScope(t){let r=[],n=this.reflection.getReferenceType(t),i=Ya(t.container).precomputedScopes;if(i){let o=t.container;do{let u=i.get(o);u.length>0&&r.push(Zn(u).filter(h=>this.reflection.isSubtype(h.type,n))),o=o.$container}while(o)}let s=this.getGlobalScope(n,t);for(let o=r.length-1;o>=0;o--)s=this.createScope(r[o],s);return s}createScope(t,r,n){return new sy(Zn(t),r,n)}createScopeForNodes(t,r,n){let i=Zn(t).map(s=>{let o=this.nameProvider.getName(s);if(o)return this.descriptions.createDescription(s,o)}).nonNullable();return new sy(i,r,n)}getGlobalScope(t,r){return this.globalScopeCache.get(t,()=>new hb(this.indexManager.allElements(t)))}}});function eO(e){return typeof e.$comment=="string"}function wce(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}var pb,NE=L(()=>{"use strict";YN();xu();_o();xc();a(eO,"isAstNodeWithComment");a(wce,"isIntermediateReference");pb=class{static{a(this,"DefaultJsonSerializer")}constructor(t){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=t.shared.workspace.LangiumDocuments,this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider,this.commentProvider=t.documentation.CommentProvider}serialize(t,r={}){let n=r?.replacer,i=a((o,u)=>this.replacer(o,u,r),"defaultReplacer"),s=n?(o,u)=>n(o,u,i):i;try{return this.currentDocument=Ya(t),JSON.stringify(t,s,r?.space)}finally{this.currentDocument=void 0}}deserialize(t,r={}){let n=JSON.parse(t);return this.linkNode(n,n,r),n}replacer(t,r,{refText:n,sourceText:i,textRegions:s,comments:o,uriConverter:u}){var h,p,g,v;if(!this.ignoreProperties.has(t))if($s(r)){let x=r.ref,k=n?r.$refText:void 0;if(x){let E=Ya(x),_="";this.currentDocument&&this.currentDocument!==E&&(u?_=u(E.uri,r):_=E.uri.toString());let N=this.astNodeLocator.getAstNodePath(x);return{$ref:`${_}#${N}`,$refText:k}}else return{$error:(p=(h=r.error)===null||h===void 0?void 0:h.message)!==null&&p!==void 0?p:"Could not resolve reference",$refText:k}}else if(Ki(r)){let x;if(s&&(x=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!t||r.$document)&&x?.$textRegion&&(x.$textRegion.documentURI=(g=this.currentDocument)===null||g===void 0?void 0:g.uri.toString())),i&&!t&&(x??(x=Object.assign({},r)),x.$sourceText=(v=r.$cstNode)===null||v===void 0?void 0:v.text),o){x??(x=Object.assign({},r));let k=this.commentProvider.getComment(r);k&&(x.$comment=k.replace(/\r/g,""))}return x??r}else return r}addAstNodeRegionWithAssignmentsTo(t){let r=a(n=>({offset:n.offset,end:n.end,length:n.length,range:n.range}),"createDocumentSegment");if(t.$cstNode){let n=t.$textRegion=r(t.$cstNode),i=n.assignments={};return Object.keys(t).filter(s=>!s.startsWith("$")).forEach(s=>{let o=kM(t.$cstNode,s).map(r);o.length!==0&&(i[s]=o)}),t}}linkNode(t,r,n,i,s,o){for(let[h,p]of Object.entries(t))if(Array.isArray(p))for(let g=0;g<p.length;g++){let v=p[g];wce(v)?p[g]=this.reviveReference(t,h,r,v,n):Ki(v)&&this.linkNode(v,r,n,t,h,g)}else wce(p)?t[h]=this.reviveReference(t,h,r,p,n):Ki(p)&&this.linkNode(p,r,n,t,h);let u=t;u.$container=i,u.$containerProperty=s,u.$containerIndex=o}reviveReference(t,r,n,i,s){let o=i.$refText,u=i.$error;if(i.$ref){let h=this.getRefNode(n,i.$ref,s.uriConverter);if(Ki(h))return o||(o=this.nameProvider.getName(h)),{$refText:o??"",ref:h};u=h}if(u){let h={$refText:o??""};return h.error={container:t,property:r,message:u,reference:h},h}else return}getRefNode(t,r,n){try{let i=r.indexOf("#");if(i===0){let h=this.astNodeLocator.getAstNode(t,r.substring(1));return h||"Could not resolve path: "+r}if(i<0){let h=n?n(r):fl.parse(r),p=this.langiumDocuments.getDocument(h);return p?p.parseResult.value:"Could not find document for URI: "+r}let s=n?n(r.substring(0,i)):fl.parse(r.substring(0,i)),o=this.langiumDocuments.getDocument(s);if(!o)return"Could not find document for URI: "+r;if(i===r.length-1)return o.parseResult.value;let u=this.astNodeLocator.getAstNode(o.parseResult.value,r.substring(i+1));return u||"Could not resolve URI: "+r}catch(i){return String(i)}}}});var mb,tO=L(()=>{"use strict";ph();mb=class{static{a(this,"DefaultServiceRegistry")}register(t){if(!this.singleton&&!this.map){this.singleton=t;return}if(!this.map&&(this.map={},this.singleton)){for(let r of this.singleton.LanguageMetaData.fileExtensions)this.map[r]=this.singleton;this.singleton=void 0}for(let r of t.LanguageMetaData.fileExtensions)this.map[r]!==void 0&&this.map[r]!==t&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${t.LanguageMetaData.languageId}'.`),this.map[r]=t}getServices(t){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let r=Mo.extname(t),n=this.map[r];if(!n)throw new Error(`The service registry contains no services for the extension '${r}'.`);return n}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}}});function OE(e){return{code:e}}var uy,gb,yb=L(()=>{"use strict";ay();Eu();ul();a(OE,"diagnosticData");(function(e){e.all=["fast","slow","built-in"]})(uy||(uy={}));gb=class{static{a(this,"ValidationRegistry")}constructor(t){this.entries=new mh,this.reflection=t.shared.AstReflection}register(t,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[i,s]of Object.entries(t)){let o=s;if(Array.isArray(o))for(let u of o){let h={check:this.wrapValidationException(u,r),category:n};this.addEntry(i,h)}else if(typeof o=="function"){let u={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,u)}}}wrapValidationException(t,r){return async(n,i,s)=>{try{await t.call(r,n,i,s)}catch(o){if(Kd(o))throw o;console.error("An error occurred during validation:",o);let u=o instanceof Error?o.message:String(o);o instanceof Error&&o.stack&&console.error(o.stack),i("error","An error occurred during validation: "+u,{node:n})}}}addEntry(t,r){if(t==="AstNode"){this.entries.add("AstNode",r);return}for(let n of this.reflection.getAllSubTypes(t))this.entries.add(n,r)}getChecks(t,r){let n=Zn(this.entries.get(t)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}}});function Tce(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=Tx(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=TM(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function PE(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}var vb,bf,rO=L(()=>{"use strict";Tu();xc();_o();gc();Eu();yb();vb=class{static{a(this,"DefaultDocumentValidator")}constructor(t){this.validationRegistry=t.validation.ValidationRegistry,this.metadata=t.LanguageMetaData}async validateDocument(t,r={},n=Sn.CancellationToken.None){let i=t.parseResult,s=[];if(await ja(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,s,r),r.stopAfterLexingErrors&&s.some(o=>{var u;return((u=o.data)===null||u===void 0?void 0:u.code)===bf.LexingError})||(this.processParsingErrors(i,s,r),r.stopAfterParsingErrors&&s.some(o=>{var u;return((u=o.data)===null||u===void 0?void 0:u.code)===bf.ParsingError}))||(this.processLinkingErrors(t,s,r),r.stopAfterLinkingErrors&&s.some(o=>{var u;return((u=o.data)===null||u===void 0?void 0:u.code)===bf.LinkingError}))))return s;try{s.push(...await this.validateAst(i.value,r,n))}catch(o){if(Kd(o))throw o;console.error("An error occurred during validation:",o)}return await ja(n),s}processLexingErrors(t,r,n){for(let i of t.lexerErrors){let s={severity:PE("error"),range:{start:{line:i.line-1,character:i.column-1},end:{line:i.line-1,character:i.column+i.length-1}},message:i.message,data:OE(bf.LexingError),source:this.getSource()};r.push(s)}}processParsingErrors(t,r,n){for(let i of t.parserErrors){let s;if(isNaN(i.token.startOffset)){if("previousToken"in i){let o=i.previousToken;if(isNaN(o.startOffset)){let u={line:0,character:0};s={start:u,end:u}}else{let u={line:o.endLine-1,character:o.endColumn};s={start:u,end:u}}}}else s=w1(i.token);if(s){let o={severity:PE("error"),range:s,message:i.message,data:OE(bf.ParsingError),source:this.getSource()};r.push(o)}}}processLinkingErrors(t,r,n){for(let i of t.references){let s=i.error;if(s){let o={node:s.container,property:s.property,index:s.index,data:{code:bf.LinkingError,containerType:s.container.$type,property:s.property,refText:s.reference.$refText}};r.push(this.toDiagnostic("error",s.message,o))}}}async validateAst(t,r,n=Sn.CancellationToken.None){let i=[],s=a((o,u,h)=>{i.push(this.toDiagnostic(o,u,h))},"acceptor");return await Promise.all(wu(t).map(async o=>{await ja(n);let u=this.validationRegistry.getChecks(o.$type,r.categories);for(let h of u)await h(o,s,n)})),i}toDiagnostic(t,r,n){return{message:r,range:Tce(n),severity:PE(t),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}};a(Tce,"getDiagnosticRange");a(PE,"toDiagnosticSeverity");(function(e){e.LexingError="lexing-error",e.ParsingError="parsing-error",e.LinkingError="linking-error"})(bf||(bf={}))});var xb,bb,nO=L(()=>{"use strict";Tu();xu();_o();gc();Eu();ph();xb=class{static{a(this,"DefaultAstNodeDescriptionProvider")}constructor(t){this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider}createDescription(t,r,n=Ya(t)){r??(r=this.nameProvider.getName(t));let i=this.astNodeLocator.getAstNodePath(t);if(!r)throw new Error(`Node at path ${i} has no name.`);let s,o=a(()=>{var u;return s??(s=Ep((u=this.nameProvider.getNameNode(t))!==null&&u!==void 0?u:t.$cstNode))},"nameSegmentGetter");return{node:t,name:r,get nameSegment(){return o()},selectionSegment:Ep(t.$cstNode),type:t.$type,documentUri:n.uri,path:i}}},bb=class{static{a(this,"DefaultReferenceDescriptionProvider")}constructor(t){this.nodeLocator=t.workspace.AstNodeLocator}async createDescriptions(t,r=Sn.CancellationToken.None){let n=[],i=t.parseResult.value;for(let s of wu(i))await ja(r),E1(s).filter(o=>!wp(o)).forEach(o=>{let u=this.createDescription(o);u&&n.push(u)});return n}createDescription(t){let r=t.reference.$nodeDescription,n=t.reference.$refNode;if(!r||!n)return;let i=Ya(t.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(t.container),targetUri:r.documentUri,targetPath:r.path,segment:Ep(n),local:Mo.equals(r.documentUri,i)}}}});var kb,iO=L(()=>{"use strict";kb=class{static{a(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(t){if(t.$container){let r=this.getAstNodePath(t.$container),n=this.getPathSegment(t);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:t,$containerIndex:r}){if(!t)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?t+this.indexSeparator+r:t}getAstNode(t,r){return r.split(this.segmentSeparator).reduce((i,s)=>{if(!i||s.length===0)return i;let o=s.indexOf(this.indexSeparator);if(o>0){let u=s.substring(0,o),h=parseInt(s.substring(o+1)),p=i[u];return p?.[h]}return i[s]},t)}}});var wb,aO=L(()=>{"use strict";Eu();wb=class{static{a(this,"DefaultConfigurationProvider")}constructor(t){this._ready=new Io,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=t.ServiceRegistry}get ready(){return this._ready.promise}initialize(t){var r,n;this.workspaceConfig=(n=(r=t.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(t){if(this.workspaceConfig){if(t.register){let r=this.serviceRegistry.all;t.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(t.fetchConfiguration){let r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await t.fetchConfiguration(r);r.forEach((i,s)=>{this.updateSectionConfiguration(i.section,n[s])})}}this._ready.resolve()}updateConfiguration(t){t.settings&&Object.keys(t.settings).forEach(r=>{this.updateSectionConfiguration(r,t.settings[r])})}updateSectionConfiguration(t,r){this.settings[t]=r}async getConfiguration(t,r){await this.ready;let n=this.toSectionName(t);if(this.settings[n])return this.settings[n][r]}toSectionName(t){return`${t}`}}});var Kp,sO=L(()=>{"use strict";(function(e){function t(r){return{dispose:async()=>await r()}}a(t,"create"),e.create=t})(Kp||(Kp={}))});var Tb,oO=L(()=>{"use strict";Tu();sO();ay();Eu();ul();yb();iy();Tb=class{static{a(this,"DefaultDocumentBuilder")}constructor(t){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new mh,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=ki.Changed,this.langiumDocuments=t.workspace.LangiumDocuments,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.indexManager=t.workspace.IndexManager,this.serviceRegistry=t.ServiceRegistry}async build(t,r={},n=Sn.CancellationToken.None){var i,s;for(let o of t){let u=o.uri.toString();if(o.state===ki.Validated){if(typeof r.validation=="boolean"&&r.validation)o.state=ki.IndexedReferences,o.diagnostics=void 0,this.buildState.delete(u);else if(typeof r.validation=="object"){let h=this.buildState.get(u),p=(i=h?.result)===null||i===void 0?void 0:i.validationChecks;if(p){let v=((s=r.validation.categories)!==null&&s!==void 0?s:uy.all).filter(x=>!p.includes(x));v.length>0&&(this.buildState.set(u,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:v})},result:h.result}),o.state=ki.IndexedReferences)}}}else this.buildState.delete(u)}this.currentState=ki.Changed,await this.emitUpdate(t.map(o=>o.uri),[]),await this.buildDocuments(t,r,n)}async update(t,r,n=Sn.CancellationToken.None){this.currentState=ki.Changed;for(let o of r)this.langiumDocuments.deleteDocument(o),this.buildState.delete(o.toString()),this.indexManager.remove(o);for(let o of t){if(!this.langiumDocuments.invalidateDocument(o)){let h=this.langiumDocumentFactory.fromModel({$type:"INVALID"},o);h.state=ki.Changed,this.langiumDocuments.addDocument(h)}this.buildState.delete(o.toString())}let i=Zn(t).concat(r).map(o=>o.toString()).toSet();this.langiumDocuments.all.filter(o=>!i.has(o.uri.toString())&&this.shouldRelink(o,i)).forEach(o=>{this.serviceRegistry.getServices(o.uri).references.Linker.unlink(o),o.state=Math.min(o.state,ki.ComputedScopes),o.diagnostics=void 0}),await this.emitUpdate(t,r),await ja(n);let s=this.langiumDocuments.all.filter(o=>{var u;return o.state<ki.Linked||!(!((u=this.buildState.get(o.uri.toString()))===null||u===void 0)&&u.completed)}).toArray();await this.buildDocuments(s,this.updateBuildOptions,n)}async emitUpdate(t,r){await Promise.all(this.updateListeners.map(n=>n(t,r)))}shouldRelink(t,r){return t.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(t,r)}onUpdate(t){return this.updateListeners.push(t),Kp.create(()=>{let r=this.updateListeners.indexOf(t);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(t,r,n){this.prepareBuild(t,r),await this.runCancelable(t,ki.Parsed,n,s=>this.langiumDocumentFactory.update(s,n)),await this.runCancelable(t,ki.IndexedContent,n,s=>this.indexManager.updateContent(s,n)),await this.runCancelable(t,ki.ComputedScopes,n,async s=>{let o=this.serviceRegistry.getServices(s.uri).references.ScopeComputation;s.precomputedScopes=await o.computeLocalScopes(s,n)}),await this.runCancelable(t,ki.Linked,n,s=>this.serviceRegistry.getServices(s.uri).references.Linker.link(s,n)),await this.runCancelable(t,ki.IndexedReferences,n,s=>this.indexManager.updateReferences(s,n));let i=t.filter(s=>this.shouldValidate(s));await this.runCancelable(i,ki.Validated,n,s=>this.validate(s,n));for(let s of t){let o=this.buildState.get(s.uri.toString());o&&(o.completed=!0)}}prepareBuild(t,r){for(let n of t){let i=n.uri.toString(),s=this.buildState.get(i);(!s||s.completed)&&this.buildState.set(i,{completed:!1,options:r,result:s?.result})}}async runCancelable(t,r,n,i){let s=t.filter(o=>o.state<r);for(let o of s)await ja(n),await i(o),o.state=r;await this.notifyBuildPhase(s,r,n),this.currentState=r}onBuildPhase(t,r){return this.buildPhaseListeners.add(t,r),Kp.create(()=>{this.buildPhaseListeners.delete(t,r)})}waitUntil(t,r,n){let i;if(r&&"path"in r?i=r:n=r,n??(n=Sn.CancellationToken.None),i){let s=this.langiumDocuments.getDocument(i);if(s&&s.state>t)return Promise.resolve(i)}return this.currentState>=t?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(dh):new Promise((s,o)=>{let u=this.onBuildPhase(t,()=>{if(u.dispose(),h.dispose(),i){let p=this.langiumDocuments.getDocument(i);s(p?.uri)}else s(void 0)}),h=n.onCancellationRequested(()=>{u.dispose(),h.dispose(),o(dh)})})}async notifyBuildPhase(t,r,n){if(t.length===0)return;let i=this.buildPhaseListeners.get(r);for(let s of i)await ja(n),await s(t,n)}shouldValidate(t){return!!this.getBuildOptions(t).validation}async validate(t,r){var n,i;let s=this.serviceRegistry.getServices(t.uri).validation.DocumentValidator,o=this.getBuildOptions(t).validation,u=typeof o=="object"?o:void 0,h=await s.validateDocument(t,u,r);t.diagnostics?t.diagnostics.push(...h):t.diagnostics=h;let p=this.buildState.get(t.uri.toString());if(p){(n=p.result)!==null&&n!==void 0||(p.result={});let g=(i=u?.categories)!==null&&i!==void 0?i:uy.all;p.result.validationChecks?p.result.validationChecks.push(...g):p.result.validationChecks=[...g]}}getBuildOptions(t){var r,n;return(n=(r=this.buildState.get(t.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}});var Eb,lO=L(()=>{"use strict";_o();ME();Tu();ul();ph();Eb=class{static{a(this,"DefaultIndexManager")}constructor(t){this.symbolIndex=new Map,this.symbolByTypeIndex=new jp,this.referenceIndex=new Map,this.documents=t.workspace.LangiumDocuments,this.serviceRegistry=t.ServiceRegistry,this.astReflection=t.AstReflection}findAllReferences(t,r){let n=Ya(t).uri,i=[];return this.referenceIndex.forEach(s=>{s.forEach(o=>{Mo.equals(o.targetUri,n)&&o.targetPath===r&&i.push(o)})}),Zn(i)}allElements(t,r){let n=Zn(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,t)).flat()}getFileDescriptions(t,r){var n;return r?this.symbolByTypeIndex.get(t,r,()=>{var s;return((s=this.symbolIndex.get(t))!==null&&s!==void 0?s:[]).filter(u=>this.astReflection.isSubtype(u.type,r))}):(n=this.symbolIndex.get(t))!==null&&n!==void 0?n:[]}remove(t){let r=t.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(t,r=Sn.CancellationToken.None){let i=await this.serviceRegistry.getServices(t.uri).references.ScopeComputation.computeExports(t,r),s=t.uri.toString();this.symbolIndex.set(s,i),this.symbolByTypeIndex.clear(s)}async updateReferences(t,r=Sn.CancellationToken.None){let i=await this.serviceRegistry.getServices(t.uri).workspace.ReferenceDescriptionProvider.createDescriptions(t,r);this.referenceIndex.set(t.uri.toString(),i)}isAffected(t,r){let n=this.referenceIndex.get(t.uri.toString());return n?n.some(i=>!i.local&&r.has(i.targetUri.toString())):!1}}});var Cb,uO=L(()=>{"use strict";Tu();Eu();ph();Cb=class{static{a(this,"DefaultWorkspaceManager")}constructor(t){this.initialBuildOptions={},this._ready=new Io,this.serviceRegistry=t.ServiceRegistry,this.langiumDocuments=t.workspace.LangiumDocuments,this.documentBuilder=t.workspace.DocumentBuilder,this.fileSystemProvider=t.workspace.FileSystemProvider,this.mutex=t.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(t){var r;this.folders=(r=t.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(t){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(t,r=Sn.CancellationToken.None){let n=await this.performStartup(t);await ja(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(t){let r=this.serviceRegistry.all.flatMap(s=>s.LanguageMetaData.fileExtensions),n=[],i=a(s=>{n.push(s),this.langiumDocuments.hasDocument(s.uri)||this.langiumDocuments.addDocument(s)},"collector");return await this.loadAdditionalDocuments(t,i),await Promise.all(t.map(s=>[s,this.getRootFolder(s)]).map(async s=>this.traverseFolder(...s,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(t,r){return Promise.resolve()}getRootFolder(t){return fl.parse(t.uri)}async traverseFolder(t,r,n,i){let s=await this.fileSystemProvider.readDirectory(r);await Promise.all(s.map(async o=>{if(this.includeEntry(t,o,n)){if(o.isDirectory)await this.traverseFolder(t,o.uri,n,i);else if(o.isFile){let u=await this.langiumDocuments.getOrCreateDocument(o.uri);i(u)}}}))}includeEntry(t,r,n){let i=Mo.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){let s=Mo.extname(r.uri);return n.includes(s)}return!1}}});function Ece(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function hO(e){return e&&"modes"in e&&"defaultMode"in e}function cO(e){return!Ece(e)&&!hO(e)}var Sb,fO=L(()=>{"use strict";$p();Sb=class{static{a(this,"DefaultLexer")}constructor(t){let r=t.parser.TokenBuilder.buildTokens(t.Grammar,{caseInsensitive:t.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);let n=cO(r)?Object.values(r):r;this.chevrotainLexer=new la(n,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(t){var r;let n=this.chevrotainLexer.tokenize(t);return{tokens:n.tokens,errors:n.errors,hidden:(r=n.groups.hidden)!==null&&r!==void 0?r:[]}}toTokenTypeDictionary(t){if(cO(t))return t;let r=hO(t)?Object.values(t.modes).flat():t,n={};return r.forEach(i=>n[i.name]=i),n}};a(Ece,"isTokenTypeArray");a(hO,"isIMultiModeLexerDefinition");a(cO,"isTokenTypeDictionary")});function mO(e,t,r){let n,i;typeof e=="string"?(i=t,n=r):(i=e.range.start,n=t),i||(i=Qn.create(0,0));let s=_ce(e),o=yO(n),u=wqe({lines:s,position:i,options:o});return _qe({index:0,tokens:u,position:i})}function gO(e,t){let r=yO(t),n=_ce(e);if(n.length===0)return!1;let i=n[0],s=n[n.length-1],o=r.start,u=r.end;return!!o?.exec(i)&&!!u?.exec(s)}function _ce(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(dM)}function wqe(e){var t,r,n;let i=[],s=e.position.line,o=e.position.character;for(let u=0;u<e.lines.length;u++){let h=u===0,p=u===e.lines.length-1,g=e.lines[u],v=0;if(h&&e.options.start){let k=(t=e.options.start)===null||t===void 0?void 0:t.exec(g);k&&(v=k.index+k[0].length)}else{let k=(r=e.options.line)===null||r===void 0?void 0:r.exec(g);k&&(v=k.index+k[0].length)}if(p){let k=(n=e.options.end)===null||n===void 0?void 0:n.exec(g);k&&(g=g.substring(0,k.index))}if(g=g.substring(0,Sqe(g)),pO(g,v)>=g.length){if(i.length>0){let k=Qn.create(s,o);i.push({type:"break",content:"",range:Pn.create(k,k)})}}else{Cce.lastIndex=v;let k=Cce.exec(g);if(k){let E=k[0],_=k[1],N=Qn.create(s,o+v),M=Qn.create(s,o+v+E.length);i.push({type:"tag",content:_,range:Pn.create(N,M)}),v+=E.length,v=pO(g,v)}if(v<g.length){let E=g.substring(v),_=Array.from(E.matchAll(kqe));i.push(...Tqe(_,E,s,o+v))}}s++,o=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function Tqe(e,t,r,n){let i=[];if(e.length===0){let s=Qn.create(r,n),o=Qn.create(r,n+t.length);i.push({type:"text",content:t,range:Pn.create(s,o)})}else{let s=0;for(let u of e){let h=u.index,p=t.substring(s,h);p.length>0&&i.push({type:"text",content:t.substring(s,h),range:Pn.create(Qn.create(r,s+n),Qn.create(r,h+n))});let g=p.length+1,v=u[1];if(i.push({type:"inline-tag",content:v,range:Pn.create(Qn.create(r,s+g+n),Qn.create(r,s+g+v.length+n))}),g+=v.length,u.length===4){g+=u[2].length;let x=u[3];i.push({type:"text",content:x,range:Pn.create(Qn.create(r,s+g+n),Qn.create(r,s+g+x.length+n))})}else i.push({type:"text",content:"",range:Pn.create(Qn.create(r,s+g+n),Qn.create(r,s+g+n))});s=h+u[0].length}let o=t.substring(s);o.length>0&&i.push({type:"text",content:o,range:Pn.create(Qn.create(r,s+n),Qn.create(r,s+n+o.length))})}return i}function pO(e,t){let r=e.substring(t).match(Eqe);return r?t+r.index:e.length}function Sqe(e){let t=e.match(Cqe);if(t&&typeof t.index=="number")return t.index}function _qe(e){var t,r,n,i;let s=Qn.create(e.position.line,e.position.character);if(e.tokens.length===0)return new BE([],Pn.create(s,s));let o=[];for(;e.index<e.tokens.length;){let p=Aqe(e,o[o.length-1]);p&&o.push(p)}let u=(r=(t=o[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:s,h=(i=(n=o[o.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:s;return new BE(o,Pn.create(u,h))}function Aqe(e,t){let r=e.tokens[e.index];if(r.type==="tag")return Lce(e,!1);if(r.type==="text"||r.type==="inline-tag")return Ace(e);Lqe(r,t),e.index++}function Lqe(e,t){if(t){let r=new FE("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function Ace(e){let t=e.tokens[e.index],r=t,n=t,i=[];for(;t&&t.type!=="break"&&t.type!=="tag";)i.push(Dqe(e)),n=t,t=e.tokens[e.index];return new Ab(i,Pn.create(r.range.start,n.range.end))}function Dqe(e){return e.tokens[e.index].type==="inline-tag"?Lce(e,!0):Dce(e)}function Lce(e,t){let r=e.tokens[e.index++],n=r.content.substring(1),i=e.tokens[e.index];if(i?.type==="text")if(t){let s=Dce(e);return new _b(n,new Ab([s],s.range),t,Pn.create(r.range.start,s.range.end))}else{let s=Ace(e);return new _b(n,s,t,Pn.create(r.range.start,s.range.end))}else{let s=r.range;return new _b(n,new Ab([],s),t,s)}}function Dce(e){let t=e.tokens[e.index++];return new FE(t.content,t.range)}function yO(e){if(!e)return yO({start:"/**",end:"*/",line:"*"});let{start:t,end:r,line:n}=e;return{start:dO(t,!0),end:dO(r,!1),line:dO(n,!0)}}function dO(e,t){if(typeof e=="string"||typeof e=="object"){let r=typeof e=="string"?Rp(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}function Rqe(e,t,r){var n,i;if(e==="linkplain"||e==="linkcode"||e==="link"){let s=t.indexOf(" "),o=t;if(s>0){let h=pO(t,s);o=t.substring(h),t=t.substring(0,s)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(o=`\`${o}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,t,o))!==null&&i!==void 0?i:Iqe(t,o)}}function Iqe(e,t){try{return fl.parse(e,!0),`[${t}](${e})`}catch{return e}}function Sce(e){return e.endsWith(`
`)?`
`:`

`}var Cce,kqe,Eqe,Cqe,BE,_b,Ab,FE,vO=L(()=>{"use strict";EN();S1();ph();a(mO,"parseJSDoc");a(gO,"isJSDoc");a(_ce,"getLines");Cce=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,kqe=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;a(wqe,"tokenize");a(Tqe,"buildInlineTokens");Eqe=/\S/,Cqe=/\s*$/;a(pO,"skipWhitespace");a(Sqe,"lastCharacter");a(_qe,"parseJSDocComment");a(Aqe,"parseJSDocElement");a(Lqe,"appendEmptyLine");a(Ace,"parseJSDocText");a(Dqe,"parseJSDocInline");a(Lce,"parseJSDocTag");a(Dce,"parseJSDocLine");a(yO,"normalizeOptions");a(dO,"normalizeOption");BE=class{static{a(this,"JSDocCommentImpl")}constructor(t,r){this.elements=t,this.range=r}getTag(t){return this.getAllTags().find(r=>r.name===t)}getTags(t){return this.getAllTags().filter(r=>r.name===t)}getAllTags(){return this.elements.filter(t=>"name"in t)}toString(){let t="";for(let r of this.elements)if(t.length===0)t=r.toString();else{let n=r.toString();t+=Sce(t)+n}return t.trim()}toMarkdown(t){let r="";for(let n of this.elements)if(r.length===0)r=n.toMarkdown(t);else{let i=n.toMarkdown(t);r+=Sce(r)+i}return r.trim()}},_b=class{static{a(this,"JSDocTagImpl")}constructor(t,r,n,i){this.name=t,this.content=r,this.inline=n,this.range=i}toString(){let t=`@${this.name}`,r=this.content.toString();return this.content.inlines.length===1?t=`${t} ${r}`:this.content.inlines.length>1&&(t=`${t}
${r}`),this.inline?`{${t}}`:t}toMarkdown(t){var r,n;return(n=(r=t?.renderTag)===null||r===void 0?void 0:r.call(t,this))!==null&&n!==void 0?n:this.toMarkdownDefault(t)}toMarkdownDefault(t){let r=this.content.toMarkdown(t);if(this.inline){let s=Rqe(this.name,r,t??{});if(typeof s=="string")return s}let n="";t?.tag==="italic"||t?.tag===void 0?n="*":t?.tag==="bold"?n="**":t?.tag==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i} \u2014 ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}};a(Rqe,"renderInlineTag");a(Iqe,"renderLinkDefault");Ab=class{static{a(this,"JSDocTextImpl")}constructor(t,r){this.inlines=t,this.range=r}toString(){let t="";for(let r=0;r<this.inlines.length;r++){let n=this.inlines[r],i=this.inlines[r+1];t+=n.toString(),i&&i.range.start.line>n.range.start.line&&(t+=`
`)}return t}toMarkdown(t){let r="";for(let n=0;n<this.inlines.length;n++){let i=this.inlines[n],s=this.inlines[n+1];r+=i.toMarkdown(t),s&&s.range.start.line>i.range.start.line&&(r+=`
`)}return r}},FE=class{static{a(this,"JSDocLineImpl")}constructor(t,r){this.text=t,this.range=r}toString(){return this.text}toMarkdown(){return this.text}};a(Sce,"fillNewlines")});var Lb,xO=L(()=>{"use strict";_o();vO();Lb=class{static{a(this,"JSDocDocumentationProvider")}constructor(t){this.indexManager=t.shared.workspace.IndexManager,this.commentProvider=t.documentation.CommentProvider}getDocumentation(t){let r=this.commentProvider.getComment(t);if(r&&gO(r))return mO(r).toMarkdown({renderLink:(i,s)=>this.documentationLinkRenderer(t,i,s),renderTag:i=>this.documentationTagRenderer(t,i)})}documentationLinkRenderer(t,r,n){var i;let s=(i=this.findNameInPrecomputedScopes(t,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(t,r);if(s&&s.nameSegment){let o=s.nameSegment.range.start.line+1,u=s.nameSegment.range.start.character+1,h=s.documentUri.with({fragment:`L${o},${u}`});return`[${n}](${h.toString()})`}else return}documentationTagRenderer(t,r){}findNameInPrecomputedScopes(t,r){let i=Ya(t).precomputedScopes;if(!i)return;let s=t;do{let u=i.get(s).find(h=>h.name===r);if(u)return u;s=s.$container}while(s)}findNameInGlobalScope(t,r){return this.indexManager.allElements().find(i=>i.name===r)}}});var Db,bO=L(()=>{"use strict";NE();gc();Db=class{static{a(this,"DefaultCommentProvider")}constructor(t){this.grammarConfig=()=>t.parser.GrammarConfig}getComment(t){var r;return eO(t)?t.$comment:(r=iI(t.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}});var ua={};var kO=L(()=>{"use strict";En(ua,_s(GN(),1))});var Rb,wO,TO,EO=L(()=>{"use strict";Eu();kO();Rb=class{static{a(this,"DefaultAsyncParser")}constructor(t){this.syncParser=t.parser.LangiumParser}parse(t){return Promise.resolve(this.syncParser.parse(t))}},wO=class{static{a(this,"AbstractThreadedAsyncParser")}constructor(t){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=t.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let t=this.createWorker();t.onReady(()=>{if(this.queue.length>0){let r=this.queue.shift();r&&(t.lock(),r.resolve(t))}}),this.workerPool.push(t)}}async parse(t,r){let n=await this.acquireParserWorker(r),i=new Io,s,o=r.onCancellationRequested(()=>{s=setTimeout(()=>{this.terminateWorker(n)},this.terminationDelay)});return n.parse(t).then(u=>{let h=this.hydrator.hydrate(u);i.resolve(h)}).catch(u=>{i.reject(u)}).finally(()=>{o.dispose(),clearTimeout(s)}),i.promise}terminateWorker(t){t.terminate();let r=this.workerPool.indexOf(t);r>=0&&this.workerPool.splice(r,1)}async acquireParserWorker(t){this.initializeWorkers();for(let n of this.workerPool)if(n.ready)return n.lock(),n;let r=new Io;return t.onCancellationRequested(()=>{let n=this.queue.indexOf(r);n>=0&&this.queue.splice(n,1),r.reject(dh)}),this.queue.push(r),r.promise}},TO=class{static{a(this,"ParserWorker")}get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(t,r,n,i){this.onReadyEmitter=new ua.Emitter,this.deferred=new Io,this._ready=!0,this._parsing=!1,this.sendMessage=t,this._terminate=i,r(s=>{let o=s;this.deferred.resolve(o),this.unlock()}),n(s=>{this.deferred.reject(s),this.unlock()})}terminate(){this.deferred.reject(dh),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(t){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new Io,this.sendMessage(t),this.deferred.promise}}});var Ib,CO=L(()=>{"use strict";Tu();Eu();Ib=class{static{a(this,"DefaultWorkspaceLock")}constructor(){this.previousTokenSource=new Sn.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(t){this.cancelWrite();let r=new Sn.CancellationTokenSource;return this.previousTokenSource=r,this.enqueue(this.writeQueue,t,r.token)}read(t){return this.enqueue(this.readQueue,t)}enqueue(t,r,n){let i=new Io,s={action:r,deferred:i,cancellationToken:n??Sn.CancellationToken.None};return t.push(s),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;let t=[];if(this.writeQueue.length>0)t.push(this.writeQueue.shift());else if(this.readQueue.length>0)t.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(t.map(async({action:r,deferred:n,cancellationToken:i})=>{try{let s=await Promise.resolve().then(()=>r(i));n.resolve(s)}catch(s){Kd(s)?n.resolve(void 0):n.reject(s)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}});var Mb,SO=L(()=>{"use strict";TE();lh();xu();_o();ay();gc();Mb=class{static{a(this,"DefaultHydrator")}constructor(t){this.grammarElementIdMap=new Xp,this.tokenTypeIdMap=new Xp,this.grammar=t.Grammar,this.lexer=t.parser.Lexer,this.linker=t.references.Linker}dehydrate(t){return{lexerErrors:t.lexerErrors.map(r=>Object.assign({},r)),parserErrors:t.parserErrors.map(r=>Object.assign({},r)),value:this.dehydrateAstNode(t.value,this.createDehyrationContext(t.value))}}createDehyrationContext(t){let r=new Map,n=new Map;for(let i of wu(t))r.set(i,{});if(t.$cstNode)for(let i of Tp(t.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(t,r){let n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(t.$cstNode,r));for(let[i,s]of Object.entries(t))if(!i.startsWith("$"))if(Array.isArray(s)){let o=[];n[i]=o;for(let u of s)Ki(u)?o.push(this.dehydrateAstNode(u,r)):$s(u)?o.push(this.dehydrateReference(u,r)):o.push(u)}else Ki(s)?n[i]=this.dehydrateAstNode(s,r):$s(s)?n[i]=this.dehydrateReference(s,r):s!==void 0&&(n[i]=s);return n}dehydrateReference(t,r){let n={};return n.$refText=t.$refText,t.$refNode&&(n.$refNode=r.cstNodes.get(t.$refNode)),n}dehydrateCstNode(t,r){let n=r.cstNodes.get(t);return cx(t)?n.fullText=t.fullText:n.grammarSource=this.getGrammarElementId(t.grammarSource),n.hidden=t.hidden,n.astNode=r.astNodes.get(t.astNode),Bl(t)?n.content=t.content.map(i=>this.dehydrateCstNode(i,r)):qd(t)&&(n.tokenType=t.tokenType.name,n.offset=t.offset,n.length=t.length,n.startLine=t.range.start.line,n.startColumn=t.range.start.character,n.endLine=t.range.end.line,n.endColumn=t.range.end.character),n}hydrate(t){let r=t.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:t.lexerErrors,parserErrors:t.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(t){let r=new Map,n=new Map;for(let s of wu(t))r.set(s,{});let i;if(t.$cstNode)for(let s of Tp(t.$cstNode)){let o;"fullText"in s?(o=new Z1(s.fullText),i=o):"content"in s?o=new Up:"tokenType"in s&&(o=this.hydrateCstLeafNode(s)),o&&(n.set(s,o),o.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(t,r){let n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode&&(n.$cstNode=r.cstNodes.get(t.$cstNode));for(let[i,s]of Object.entries(t))if(!i.startsWith("$"))if(Array.isArray(s)){let o=[];n[i]=o;for(let u of s)Ki(u)?o.push(this.setParent(this.hydrateAstNode(u,r),n)):$s(u)?o.push(this.hydrateReference(u,n,i,r)):o.push(u)}else Ki(s)?n[i]=this.setParent(this.hydrateAstNode(s,r),n):$s(s)?n[i]=this.hydrateReference(s,n,i,r):s!==void 0&&(n[i]=s);return n}setParent(t,r){return t.$container=r,t}hydrateReference(t,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(t.$refNode),t.$refText)}hydrateCstNode(t,r,n=0){let i=r.cstNodes.get(t);if(typeof t.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(t.grammarSource)),i.astNode=r.astNodes.get(t.astNode),Bl(i))for(let s of t.content){let o=this.hydrateCstNode(s,r,n++);i.content.push(o)}return i}hydrateCstLeafNode(t){let r=this.getTokenType(t.tokenType),n=t.offset,i=t.length,s=t.startLine,o=t.startColumn,u=t.endLine,h=t.endColumn,p=t.hidden;return new qp(n,i,{start:{line:s,character:o},end:{line:u,character:h}},r,p)}getTokenType(t){return this.lexer.definition[t]}getGrammarElementId(t){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(t)}getGrammarElement(t){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();let r=this.grammarElementIdMap.getKey(t);if(r)return r;throw new Error("Invalid grammar element id: "+t)}createGrammarElementIdMap(){let t=0;for(let r of wu(this.grammar))px(r)&&this.grammarElementIdMap.set(r,t++)}}});function Ka(e){return{documentation:{CommentProvider:t=>new Db(t),DocumentationProvider:t=>new Lb(t)},parser:{AsyncParser:t=>new Rb(t),GrammarConfig:t=>LM(t),LangiumParser:t=>IN(t),CompletionParser:t=>DN(t),ValueConverter:()=>new Yp,TokenBuilder:()=>new Wp,Lexer:t=>new Sb(t),ParserErrorMessageProvider:()=>new J1},workspace:{AstNodeLocator:()=>new kb,AstNodeDescriptionProvider:t=>new xb(t),ReferenceDescriptionProvider:t=>new bb(t)},references:{Linker:t=>new ob(t),NameProvider:()=>new lb,ScopeProvider:t=>new db(t),ScopeComputation:t=>new cb(t),References:t=>new ub(t)},serializer:{Hydrator:t=>new Mb(t),JsonSerializer:t=>new pb(t)},validation:{DocumentValidator:t=>new vb(t),ValidationRegistry:t=>new gb(t)},shared:()=>e.shared}}function Qa(e){return{ServiceRegistry:()=>new mb,workspace:{LangiumDocuments:t=>new sb(t),LangiumDocumentFactory:t=>new ab(t),DocumentBuilder:t=>new Tb(t),IndexManager:t=>new Eb(t),WorkspaceManager:t=>new Cb(t),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new Ib,ConfigurationProvider:t=>new wb(t)}}}var _O=L(()=>{"use strict";DM();RN();MN();NN();ON();XN();jN();KN();QN();JN();NE();tO();rO();yb();nO();iO();aO();oO();iy();lO();uO();fO();xO();bO();ib();EO();CO();SO();a(Ka,"createDefaultCoreModule");a(Qa,"createDefaultSharedCoreModule")});function di(e,t,r,n,i,s,o,u,h){let p=[e,t,r,n,i,s,o,u,h].reduce(zE,{});return Nce(p)}function Mce(e){if(e&&e[LO])for(let t of Object.values(e))Mce(t);return e}function Nce(e,t){let r=new Proxy({},{deleteProperty:()=>!1,get:(n,i)=>Ice(n,i,e,t||r),getOwnPropertyDescriptor:(n,i)=>(Ice(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in e,ownKeys:()=>[...Reflect.ownKeys(e),LO]});return r[LO]=!0,r}function Ice(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===Rce)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){let i=r[t];e[t]=Rce;try{e[t]=typeof i=="function"?i(n):Nce(i,n)}catch(s){throw e[t]=s instanceof Error?s:void 0,s}return e[t]}else return}function zE(e,t){if(t){for(let[r,n]of Object.entries(t))if(n!==void 0){let i=e[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?e[r]=zE(i,n):e[r]=n}}return e}var AO,LO,Rce,DO=L(()=>{"use strict";(function(e){e.merge=(t,r)=>zE(zE({},t),r)})(AO||(AO={}));a(di,"inject");LO=Symbol("isProxy");a(Mce,"eagerLoad");a(Nce,"_inject");Rce=Symbol();a(Ice,"_resolve");a(zE,"_merge")});var Oce=L(()=>{"use strict"});var Pce=L(()=>{"use strict";bO();xO();vO()});var Bce=L(()=>{"use strict"});var Fce=L(()=>{"use strict";DM();Bce()});var zce=L(()=>{"use strict"});var $ce=L(()=>{"use strict";EO();RN();TE();MN();ib();fO();zce();NN();ON()});var Gce=L(()=>{"use strict";XN();jN();KN();ZN();QN();JN()});var Vce=L(()=>{"use strict";SO();NE()});var $E,Za,RO=L(()=>{"use strict";$E=class{static{a(this,"EmptyFileSystemProvider")}readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},Za={fileSystemProvider:()=>new $E}});function Oqe(){let e=di(Qa(Za),Nqe),t=di(Ka({shared:e}),Mqe);return e.ServiceRegistry.register(t),t}function kc(e){var t;let r=Oqe(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,fl.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}var Mqe,Nqe,qce=L(()=>{"use strict";_O();DO();lh();RO();ph();Mqe={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},Nqe={AstReflection:()=>new T1};a(Oqe,"createMinimalGrammarServices");a(kc,"loadGrammarFromJson")});var qn={};Hr(qn,{AstUtils:()=>kT,BiMap:()=>Xp,Cancellation:()=>Sn,ContextCache:()=>jp,CstUtils:()=>uT,DONE_RESULT:()=>So,Deferred:()=>Io,Disposable:()=>Kp,DisposableCache:()=>oy,DocumentCache:()=>IE,EMPTY_STREAM:()=>hx,ErrorWithLocation:()=>Cp,GrammarUtils:()=>_T,MultiMap:()=>mh,OperationCancelled:()=>dh,Reduction:()=>k1,RegExpUtils:()=>CT,SimpleCache:()=>fb,StreamImpl:()=>Fl,TreeStreamImpl:()=>oh,URI:()=>fl,UriUtils:()=>Mo,WorkspaceCache:()=>ly,assertUnreachable:()=>Ud,delayNextTick:()=>HN,interruptAndCheck:()=>ja,isOperationCancelled:()=>Kd,loadGrammarFromJson:()=>kc,setInterruptionPeriod:()=>gce,startCancelableOperation:()=>mce,stream:()=>Zn});var Uce=L(()=>{"use strict";ME();kO();En(qn,ua);ay();sO();cT();qce();Eu();ul();ph();_o();Tu();gc();xc();S1()});var Hce=L(()=>{"use strict";rO();yb()});var Wce=L(()=>{"use strict";nO();iO();aO();oO();iy();RO();lO();CO();uO()});var Gs={};Hr(Gs,{AbstractAstReflection:()=>kp,AbstractCstNode:()=>eb,AbstractLangiumParser:()=>tb,AbstractParserErrorMessageProvider:()=>CE,AbstractThreadedAsyncParser:()=>wO,AstUtils:()=>kT,BiMap:()=>Xp,Cancellation:()=>Sn,CompositeCstNodeImpl:()=>Up,ContextCache:()=>jp,CstNodeBuilder:()=>Jx,CstUtils:()=>uT,DONE_RESULT:()=>So,DatatypeSymbol:()=>EE,DefaultAstNodeDescriptionProvider:()=>xb,DefaultAstNodeLocator:()=>kb,DefaultAsyncParser:()=>Rb,DefaultCommentProvider:()=>Db,DefaultConfigurationProvider:()=>wb,DefaultDocumentBuilder:()=>Tb,DefaultDocumentValidator:()=>vb,DefaultHydrator:()=>Mb,DefaultIndexManager:()=>Eb,DefaultJsonSerializer:()=>pb,DefaultLangiumDocumentFactory:()=>ab,DefaultLangiumDocuments:()=>sb,DefaultLexer:()=>Sb,DefaultLinker:()=>ob,DefaultNameProvider:()=>lb,DefaultReferenceDescriptionProvider:()=>bb,DefaultReferences:()=>ub,DefaultScopeComputation:()=>cb,DefaultScopeProvider:()=>db,DefaultServiceRegistry:()=>mb,DefaultTokenBuilder:()=>Wp,DefaultValueConverter:()=>Yp,DefaultWorkspaceLock:()=>Ib,DefaultWorkspaceManager:()=>Cb,Deferred:()=>Io,Disposable:()=>Kp,DisposableCache:()=>oy,DocumentCache:()=>IE,DocumentState:()=>ki,DocumentValidator:()=>bf,EMPTY_SCOPE:()=>bqe,EMPTY_STREAM:()=>hx,EmptyFileSystem:()=>Za,EmptyFileSystemProvider:()=>$E,ErrorWithLocation:()=>Cp,GrammarAST:()=>gx,GrammarUtils:()=>_T,JSDocDocumentationProvider:()=>Lb,LangiumCompletionParser:()=>nb,LangiumParser:()=>rb,LangiumParserErrorMessageProvider:()=>J1,LeafCstNodeImpl:()=>qp,MapScope:()=>hb,Module:()=>AO,MultiMap:()=>mh,OperationCancelled:()=>dh,ParserWorker:()=>TO,Reduction:()=>k1,RegExpUtils:()=>CT,RootCstNodeImpl:()=>Z1,SimpleCache:()=>fb,StreamImpl:()=>Fl,StreamScope:()=>sy,TextDocument:()=>ry,TreeStreamImpl:()=>oh,URI:()=>fl,UriUtils:()=>Mo,ValidationCategory:()=>uy,ValidationRegistry:()=>gb,ValueConverter:()=>fh,WorkspaceCache:()=>ly,assertUnreachable:()=>Ud,createCompletionParser:()=>DN,createDefaultCoreModule:()=>Ka,createDefaultSharedCoreModule:()=>Qa,createGrammarConfig:()=>LM,createLangiumParser:()=>IN,delayNextTick:()=>HN,diagnosticData:()=>OE,eagerLoad:()=>Mce,getDiagnosticRange:()=>Tce,inject:()=>di,interruptAndCheck:()=>ja,isAstNode:()=>Ki,isAstNodeDescription:()=>eI,isAstNodeWithComment:()=>eO,isCompositeCstNode:()=>Bl,isIMultiModeLexerDefinition:()=>hO,isJSDoc:()=>gO,isLeafCstNode:()=>qd,isLinkingError:()=>wp,isNamed:()=>kce,isOperationCancelled:()=>Kd,isReference:()=>$s,isRootCstNode:()=>cx,isTokenTypeArray:()=>Ece,isTokenTypeDictionary:()=>cO,loadGrammarFromJson:()=>kc,parseJSDoc:()=>mO,prepareLangiumParser:()=>lce,setInterruptionPeriod:()=>gce,startCancelableOperation:()=>mce,stream:()=>Zn,toDiagnosticSeverity:()=>PE});var Gl=L(()=>{"use strict";_O();DO();tO();Oce();xu();Pce();Fce();$ce();Gce();Vce();Uce();En(Gs,qn);Hce();Wce();lh()});function the(e){return Qp.isInstance(e,IO)}function rhe(e){return Qp.isInstance(e,zqe)}function ihe(e){return Qp.isInstance(e,nhe)}function ohe(e){return Qp.isInstance(e,she)}function uhe(e){return Qp.isInstance(e,lhe)}function hhe(e){return Qp.isInstance(e,che)}function dhe(e){return Qp.isInstance(e,fhe)}var Pqe,qr,Bqe,Fqe,IO,zqe,$qe,Gqe,nhe,Vqe,ahe,qqe,she,lhe,che,fhe,Uqe,Hqe,Wqe,phe,Qp,Yce,Yqe,Xce,Xqe,jce,jqe,Kce,Kqe,Qce,Qqe,Zce,Zqe,Jce,Jqe,ehe,eUe,tUe,rUe,nUe,iUe,aUe,sUe,oUe,lUe,Vs,MO,NO,OO,PO,mhe,ghe,yhe,vhe,xs,uUe,cUe,hUe,fUe,dUe,GE,No,Oo=L(()=>{"use strict";Gl();Gl();Gl();Gl();Pqe=Object.defineProperty,qr=a((e,t)=>Pqe(e,"name",{value:t,configurable:!0}),"__name"),Bqe="GraphElement",Fqe="SubDiagram",IO="ArrayDiagram";a(the,"isArrayDiagram");qr(the,"isArrayDiagram");zqe="Common";a(rhe,"isCommon");qr(rhe,"isCommon");$qe="EdgeDefinition",Gqe="GraphDiagram",nhe="Info";a(ihe,"isInfo");qr(ihe,"isInfo");Vqe="LinkedListDiagram",ahe="MatrixDiagram",qqe="NodeDefinition",she="Packet";a(ohe,"isPacket");qr(ohe,"isPacket");lhe="PacketBlock";a(uhe,"isPacketBlock");qr(uhe,"isPacketBlock");che="Pie";a(hhe,"isPie");qr(hhe,"isPie");fhe="PieSection";a(dhe,"isPieSection");qr(dhe,"isPieSection");Uqe="StackDiagram",Hqe="TextDiagram",Wqe="TreeDiagram",phe=class extends kp{static{a(this,"MermaidAstReflection")}static{qr(this,"MermaidAstReflection")}getAllTypes(){return["ArrayDiagram","ArrayElement","Common","EdgeAttributes","EdgeDefinition","GraphDiagram","GraphElement","Info","LayoutDefinition","LinkedListDiagram","LinkedListElement","MatrixAttributes","MatrixDiagram","MatrixElement","MatrixRow","NodeAttributes","NodeDefinition","Packet","PacketBlock","Pie","PieSection","PositionDefinition","PositionRange","SizeDefinition","StackAttribute","StackDiagram","StackElement","SubDiagram","TestSlide","TestSlidesDiagram","TextDiagram","TextElement","TextElementAttribute","TreeDiagram","TreeElement","VisSlidePage","VisSlidesDiagram","VisualDiagram","VisualPage"]}computeIsSubtype(e,t){switch(e){case IO:case Gqe:case Vqe:case ahe:case Uqe:case Hqe:case Wqe:return this.isSubtype(Fqe,t);case $qe:case qqe:return this.isSubtype(Bqe,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"ArrayDiagram":return{name:"ArrayDiagram",properties:[{name:"accDescr"},{name:"accTitle"},{name:"diagramTitle"},{name:"diagramType"},{name:"elements",defaultValue:[]},{name:"label"},{name:"orientation"},{name:"position"},{name:"showIndex"},{name:"title"}]};case"ArrayElement":return{name:"ArrayElement",properties:[{name:"arrow"},{name:"arrowLabel"},{name:"color"},{name:"context"},{name:"hidden"},{name:"value"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"EdgeAttributes":return{name:"EdgeAttributes",properties:[{name:"name"},{name:"value"}]};case"EdgeDefinition":return{name:"EdgeDefinition",properties:[{name:"arrowLabel"},{name:"color"},{name:"end"},{name:"hidden"},{name:"start"},{name:"type"},{name:"value"}]};case"GraphDiagram":return{name:"GraphDiagram",properties:[{name:"diagramTitle"},{name:"diagramType"},{name:"elements",defaultValue:[]},{name:"label"},{name:"position"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"LayoutDefinition":return{name:"LayoutDefinition",properties:[{name:"columns"},{name:"rows"}]};case"LinkedListDiagram":return{name:"LinkedListDiagram",properties:[{name:"diagramTitle"},{name:"diagramType"},{name:"double"},{name:"elements",defaultValue:[]},{name:"label"},{name:"position"},{name:"showIndex"}]};case"LinkedListElement":return{name:"LinkedListElement",properties:[{name:"arrowLabel"},{name:"color"},{name:"hidden"},{name:"nodeId"},{name:"value"}]};case"MatrixAttributes":return{name:"MatrixAttributes",properties:[{name:"name"},{name:"value"}]};case"MatrixDiagram":return{name:"MatrixDiagram",properties:[{name:"accDescr"},{name:"accTitle"},{name:"diagramTitle"},{name:"diagramType"},{name:"label"},{name:"position"},{name:"rows",defaultValue:[]},{name:"showIndex"},{name:"title"}]};case"MatrixElement":return{name:"MatrixElement",properties:[{name:"arrowLabel"},{name:"color"},{name:"hidden"},{name:"value"}]};case"MatrixRow":return{name:"MatrixRow",properties:[{name:"elements",defaultValue:[]}]};case"NodeAttributes":return{name:"NodeAttributes",properties:[{name:"name"},{name:"value"}]};case"NodeDefinition":return{name:"NodeDefinition",properties:[{name:"arrowLabel"},{name:"color"},{name:"hidden"},{name:"nodeId"},{name:"type"},{name:"value"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"PositionDefinition":return{name:"PositionDefinition",properties:[{name:"column"},{name:"row"}]};case"PositionRange":return{name:"PositionRange",properties:[{name:"end"},{name:"single"},{name:"start"}]};case"SizeDefinition":return{name:"SizeDefinition",properties:[{name:"height"},{name:"width"}]};case"StackAttribute":return{name:"StackAttribute",properties:[{name:"name"},{name:"value"}]};case"StackDiagram":return{name:"StackDiagram",properties:[{name:"diagramTitle"},{name:"diagramType"},{name:"elements",defaultValue:[]},{name:"label"},{name:"orientation"},{name:"position"},{name:"showIndex"},{name:"size"}]};case"StackElement":return{name:"StackElement",properties:[{name:"arrowLabel"},{name:"color"},{name:"hidden"},{name:"value"}]};case"TestSlide":return{name:"TestSlide",properties:[{name:"accDescr"},{name:"accTitle"},{name:"elements",defaultValue:[]},{name:"showIndex"},{name:"title"}]};case"TestSlidesDiagram":return{name:"TestSlidesDiagram",properties:[{name:"accDescr"},{name:"accTitle"},{name:"pages",defaultValue:[]},{name:"title"}]};case"TextDiagram":return{name:"TextDiagram",properties:[{name:"align"},{name:"color"},{name:"diagramTitle"},{name:"diagramType"},{name:"elements",defaultValue:[]},{name:"fontFamily"},{name:"fontSize"},{name:"fontWeight"},{name:"height"},{name:"label"},{name:"lineSpacing"},{name:"placement"},{name:"position"},{name:"width"}]};case"TextElement":return{name:"TextElement",properties:[{name:"attributes",defaultValue:[]},{name:"value"}]};case"TextElementAttribute":return{name:"TextElementAttribute",properties:[{name:"name"},{name:"value"}]};case"TreeDiagram":return{name:"TreeDiagram",properties:[{name:"diagramTitle"},{name:"diagramType"},{name:"elements",defaultValue:[]},{name:"label"},{name:"position"}]};case"TreeElement":return{name:"TreeElement",properties:[{name:"arrowLabel"},{name:"color"},{name:"hidden"},{name:"left"},{name:"nodeId"},{name:"right"},{name:"value"}]};case"VisSlidePage":return{name:"VisSlidePage",properties:[{name:"subDiagrams",defaultValue:[]}]};case"VisSlidesDiagram":return{name:"VisSlidesDiagram",properties:[{name:"accDescr"},{name:"accTitle"},{name:"pages",defaultValue:[]},{name:"title"}]};case"VisualDiagram":return{name:"VisualDiagram",properties:[{name:"pages",defaultValue:[]},{name:"size"}]};case"VisualPage":return{name:"VisualPage",properties:[{name:"layout"},{name:"subDiagrams",defaultValue:[]}]};default:return{name:e,properties:[]}}}},Qp=new phe,Yqe=qr(()=>Yce??(Yce=kc('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Xqe=qr(()=>Xce??(Xce=kc(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),jqe=qr(()=>jce??(jce=kc('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),Kqe=qr(()=>Kce??(Kce=kc('{"$type":"Grammar","isDeclared":true,"name":"ArrayDiagram","imports":[],"rules":[{"$type":"ParserRule","name":"ArrayDiagram","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"array"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"showIndex","operator":"=","terminal":{"$type":"Keyword","value":"showIndex"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayElement","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"@"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"arrow","operator":"=","terminal":{"$type":"Keyword","value":"arrow"}},{"$type":"Group","elements":[{"$type":"Keyword","value":"::"},{"$type":"Assignment","feature":"context","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"?"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Keyword","value":"&"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Value","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Color","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"blue"},{"$type":"Keyword","value":"red"},{"$type":"Keyword","value":"green"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArrayDiagramGrammar"),Qqe=qr(()=>Qce??(Qce=kc('{"$type":"Grammar","isDeclared":true,"name":"MatrixDiagram","imports":[],"rules":[{"$type":"ParserRule","name":"MatrixDiagram","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"matrix"},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"showIndex","operator":"=","terminal":{"$type":"Keyword","value":"showIndex"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},{"$type":"Assignment","feature":"rows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"rows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"}]},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"rows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"MatrixRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"MatrixElement","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Keyword","value":"}"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Value","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Color","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"blue"},{"$type":"Keyword","value":"green"},{"$type":"Keyword","value":"red"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"MatrixDiagramGrammar"),Zqe=qr(()=>Zce??(Zce=kc('{"$type":"Grammar","isDeclared":true,"name":"TestSlidesDiagram","imports":[],"rules":[{"$type":"ParserRule","name":"TestSlidesDiagram","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"testslides"},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"pages","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TestSlide","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"array"},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"showIndex","operator":"=","terminal":{"$type":"Keyword","value":"showIndex"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayElement","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"@"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"arrow","operator":"=","terminal":{"$type":"Keyword","value":"arrow"}},{"$type":"Group","elements":[{"$type":"Keyword","value":"::"},{"$type":"Assignment","feature":"context","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"?"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Keyword","value":"&"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Value","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Color","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"blue"},{"$type":"Keyword","value":"red"},{"$type":"Keyword","value":"green"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"TestSlidesDiagramGrammar"),Jqe=qr(()=>Jce??(Jce=kc('{"$type":"Grammar","isDeclared":true,"name":"VisSlidesDiagram","imports":[],"rules":[{"$type":"ParserRule","name":"VisSlidesDiagram","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"visslides"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"pages","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"VisSlidePage","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"page"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"subDiagrams","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},"cardinality":"+"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"SubDiagram","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayDiagram","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"array"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"showIndex","operator":"=","terminal":{"$type":"Keyword","value":"showIndex"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayElement","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"@"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"arrow","operator":"=","terminal":{"$type":"Keyword","value":"arrow"}},{"$type":"Group","elements":[{"$type":"Keyword","value":"::"},{"$type":"Assignment","feature":"context","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}],"cardinality":"?"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":"&"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"MatrixDiagram","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"matrix"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"Assignment","feature":"rows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},"cardinality":"+"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"MatrixRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"MatrixElement","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":"}"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Value","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Color","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"blue"},{"$type":"Keyword","value":"red"},{"$type":"Keyword","value":"green"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"VisSlidesDiagramGrammar"),eUe=qr(()=>ehe??(ehe=kc('{"$type":"Grammar","isDeclared":true,"name":"VisualDiagram","imports":[],"rules":[{"$type":"ParserRule","name":"VisualDiagram","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"visual"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"size:"},{"$type":"Assignment","feature":"size","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@26"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Assignment","feature":"pages","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"VisualPage","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"page"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"layout:"},{"$type":"Assignment","feature":"layout","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@27"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Assignment","feature":"subDiagrams","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},"cardinality":"+"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"SubDiagram","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayDiagram","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"diagramType","operator":"=","terminal":{"$type":"Keyword","value":"array"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"position:"},{"$type":"Assignment","feature":"position","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"orientation","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"title:"},{"$type":"Assignment","feature":"diagramTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"showIndex","operator":"=","terminal":{"$type":"Keyword","value":"showIndex"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"label:"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayElement","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Keyword","value":"color:"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"arrow:"},{"$type":"Assignment","feature":"arrowLabel","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"hidden:"},{"$type":"Assignment","feature":"hidden","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"}"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"MatrixDiagram","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"diagramType","operator":"=","terminal":{"$type":"Keyword","value":"matrix"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"position:"},{"$type":"Assignment","feature":"position","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"title:"},{"$type":"Assignment","feature":"diagramTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"showIndex","operator":"=","terminal":{"$type":"Keyword","value":"showIndex"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"Assignment","feature":"rows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},"cardinality":"+"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"label:"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"MatrixRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"MatrixElement","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Keyword","value":"color:"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"arrow:"},{"$type":"Assignment","feature":"arrowLabel","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"hidden:"},{"$type":"Assignment","feature":"hidden","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"}"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"MatrixAttributes","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"StackDiagram","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"diagramType","operator":"=","terminal":{"$type":"Keyword","value":"stack"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"position:"},{"$type":"Assignment","feature":"position","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"orientation","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"title:"},{"$type":"Assignment","feature":"diagramTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"showIndex","operator":"=","terminal":{"$type":"Keyword","value":"showIndex"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"size:"},{"$type":"Assignment","feature":"size","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"label:"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"StackElement","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Keyword","value":"color:"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"arrow:"},{"$type":"Assignment","feature":"arrowLabel","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"hidden:"},{"$type":"Assignment","feature":"hidden","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"}"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"StackAttribute","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"GraphDiagram","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"diagramType","operator":"=","terminal":{"$type":"Keyword","value":"graph"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"position:"},{"$type":"Assignment","feature":"position","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"title:"},{"$type":"Assignment","feature":"diagramTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"+"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"label:"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"GraphElement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NodeDefinition","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Keyword","value":"node:"}},{"$type":"Assignment","feature":"nodeId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Keyword","value":"value:"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"color:"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"arrow:"},{"$type":"Assignment","feature":"arrowLabel","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"hidden:"},{"$type":"Assignment","feature":"hidden","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"}"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NodeAttributes","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EdgeDefinition","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Keyword","value":"edge:"}},{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}},{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}},{"$type":"Keyword","value":")"},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Keyword","value":"value:"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"color:"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"arrow:"},{"$type":"Assignment","feature":"arrowLabel","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"hidden:"},{"$type":"Assignment","feature":"hidden","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"}"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EdgeAttributes","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TreeDiagram","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"diagramType","operator":"=","terminal":{"$type":"Keyword","value":"tree"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"position:"},{"$type":"Assignment","feature":"position","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"title:"},{"$type":"Assignment","feature":"diagramTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"+"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"label:"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TreeElement","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"nodeId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"left","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"Keyword","value":"None"}]}},{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"Keyword","value":"None"}]}},{"$type":"Keyword","value":"]"},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Keyword","value":"value:"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"color:"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"arrow:"},{"$type":"Assignment","feature":"arrowLabel","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"hidden:"},{"$type":"Assignment","feature":"hidden","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"}"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LinkedListDiagram","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"diagramType","operator":"=","terminal":{"$type":"Keyword","value":"linkedList"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"position:"},{"$type":"Assignment","feature":"position","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"double","operator":"=","terminal":{"$type":"Keyword","value":"double"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"title:"},{"$type":"Assignment","feature":"diagramTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"showIndex","operator":"=","terminal":{"$type":"Keyword","value":"showIndex"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"@"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"label:"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LinkedListElement","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"nodeId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Keyword","value":"value:"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"color:"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"arrow:"},{"$type":"Assignment","feature":"arrowLabel","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Keyword","value":"hidden:"},{"$type":"Assignment","feature":"hidden","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"}"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TextDiagram","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"diagramType","operator":"=","terminal":{"$type":"Keyword","value":"text"}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"position:"},{"$type":"Assignment","feature":"position","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"placement:"},{"$type":"Assignment","feature":"placement","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"above"},{"$type":"Keyword","value":"below"},{"$type":"Keyword","value":"left"},{"$type":"Keyword","value":"right"}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"title:"},{"$type":"Assignment","feature":"diagramTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"fontSize:"},{"$type":"Assignment","feature":"fontSize","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"color:"},{"$type":"Assignment","feature":"color","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"fontWeight:"},{"$type":"Assignment","feature":"fontWeight","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"fontFamily:"},{"$type":"Assignment","feature":"fontFamily","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"align:"},{"$type":"Assignment","feature":"align","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"lineSpacing:"},{"$type":"Assignment","feature":"lineSpacing","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"width:"},{"$type":"Assignment","feature":"width","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"height:"},{"$type":"Assignment","feature":"height","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"label:"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TextElement","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"{"},{"$type":"Assignment","feature":"attributes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"attributes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]}}],"cardinality":"*"},{"$type":"Keyword","value":"}"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TextElementAttribute","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"fontSize"}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"color"}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"fontWeight"}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"fontFamily"}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"align"}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Value","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]},{"$type":"Keyword","value":"null"},{"$type":"Keyword","value":"\\\\null"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"SizeDefinition","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"width","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"height","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LayoutDefinition","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"columns","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"rows","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PositionDefinition","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"column","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"row","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":")"}]},{"$type":"Keyword","value":"previous"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PositionRange","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"single","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"Keyword","value":".."},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(?:0|[1-9][0-9]*)(?:\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"Orientation","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"TD"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"LR"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@37"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@38"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@39"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"VisualDiagramGrammar"),tUe={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},rUe={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},nUe={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},iUe={languageId:"array",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},aUe={languageId:"matrix",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},sUe={languageId:"testslides",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},oUe={languageId:"visslides",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},lUe={languageId:"visual",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Vs={AstReflection:()=>new phe},MO={Grammar:()=>Yqe(),LanguageMetaData:()=>tUe,parser:{}},NO={Grammar:()=>Xqe(),LanguageMetaData:()=>rUe,parser:{}},OO={Grammar:()=>jqe(),LanguageMetaData:()=>nUe,parser:{}},PO={Grammar:()=>Kqe(),LanguageMetaData:()=>iUe,parser:{}},mhe={Grammar:()=>Qqe(),LanguageMetaData:()=>aUe,parser:{}},ghe={Grammar:()=>Zqe(),LanguageMetaData:()=>sUe,parser:{}},yhe={Grammar:()=>Jqe(),LanguageMetaData:()=>oUe,parser:{}},vhe={Grammar:()=>eUe(),LanguageMetaData:()=>lUe,parser:{}},xs=class extends Wp{static{a(this,"AbstractMermaidTokenBuilder")}static{qr(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,r){let n=super.buildKeywordTokens(e,t,r);return n.forEach(i=>{this.keywords.has(i.name)&&i.PATTERN!==void 0&&(i.PATTERN=new RegExp(i.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),n}},uUe=class extends xs{static{a(this,"CommonTokenBuilder")}static{qr(this,"CommonTokenBuilder")}},cUe=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,hUe=/accTitle[\t ]*:([^\n\r]*)/,fUe=/title([\t ][^\n\r]*|)/,dUe={ACC_DESCR:cUe,ACC_TITLE:hUe,TITLE:fUe},GE=class extends Yp{static{a(this,"AbstractMermaidValueConverter")}static{qr(this,"AbstractMermaidValueConverter")}runConverter(e,t,r){let n=this.runCommonConverter(e,t,r);return n===void 0&&(n=this.runCustomConverter(e,t,r)),n===void 0?super.runConverter(e,t,r):n}runCommonConverter(e,t,r){let n=dUe[e.name];if(n===void 0)return;let i=n.exec(t);if(i!==null){if(i[1]!==void 0)return i[1].trim().replace(/[\t ]{2,}/gm," ");if(i[2]!==void 0)return i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},No=class extends GE{static{a(this,"CommonValueConverter")}static{qr(this,"CommonValueConverter")}runCustomConverter(e,t,r){}}});function qE(e=Za){let t=di(Qa(e),Vs),r=di(Ka({shared:t}),MO,VE);return t.ServiceRegistry.register(r),{shared:t,Info:r}}var pUe,VE,BO=L(()=>{"use strict";Oo();Gl();pUe=class extends xs{static{a(this,"InfoTokenBuilder")}static{qr(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},VE={parser:{TokenBuilder:()=>new pUe,ValueConverter:()=>new No}};a(qE,"createInfoServices");qr(qE,"createInfoServices")});function HE(e=Za){let t=di(Qa(e),Vs),r=di(Ka({shared:t}),NO,UE);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}var mUe,UE,FO=L(()=>{"use strict";Oo();Gl();mUe=class extends xs{static{a(this,"PacketTokenBuilder")}static{qr(this,"PacketTokenBuilder")}constructor(){super(["packet-beta"])}},UE={parser:{TokenBuilder:()=>new mUe,ValueConverter:()=>new No}};a(HE,"createPacketServices");qr(HE,"createPacketServices")});function YE(e=Za){let t=di(Qa(e),Vs),r=di(Ka({shared:t}),OO,WE);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}var gUe,yUe,WE,zO=L(()=>{"use strict";Oo();Gl();gUe=class extends xs{static{a(this,"PieTokenBuilder")}static{qr(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},yUe=class extends GE{static{a(this,"PieValueConverter")}static{qr(this,"PieValueConverter")}runCustomConverter(e,t,r){if(e.name==="PIE_SECTION_LABEL")return t.replace(/"/g,"").trim()}},WE={parser:{TokenBuilder:()=>new gUe,ValueConverter:()=>new yUe}};a(YE,"createPieServices");qr(YE,"createPieServices")});function jE(e=Za){let t=di(Qa(e),Vs),r=di(Ka({shared:t}),PO,XE);return t.ServiceRegistry.register(r),{shared:t,Array:r}}var vUe,XE,$O=L(()=>{"use strict";Oo();Gl();vUe=class extends xs{static{a(this,"ArrayTokenBuilder")}static{qr(this,"ArrayTokenBuilder")}constructor(){super(["Array"])}},XE={parser:{TokenBuilder:()=>new vUe,ValueConverter:()=>new No}};a(jE,"createArrayServices");qr(jE,"createArrayServices")});function QE(e=Za){let t=di(Qa(e),Vs),r=di(Ka({shared:t}),vhe,KE);return t.ServiceRegistry.register(r),{shared:t,VisualDiagram:r}}var xUe,KE,GO=L(()=>{"use strict";Oo();Gl();xUe=class extends xs{static{a(this,"VisualDiagramTokenBuilder")}static{qr(this,"VisualDiagramTokenBuilder")}constructor(){super(["Visual"])}},KE={parser:{TokenBuilder:()=>new xUe,ValueConverter:()=>new No}};a(QE,"createVisualDiagramServices");qr(QE,"createVisualDiagramServices")});var xhe={};Hr(xhe,{InfoModule:()=>VE,createInfoServices:()=>qE});var bhe=L(()=>{"use strict";BO();Oo()});var khe={};Hr(khe,{PacketModule:()=>UE,createPacketServices:()=>HE});var whe=L(()=>{"use strict";FO();Oo()});var The={};Hr(The,{PieModule:()=>WE,createPieServices:()=>YE});var Ehe=L(()=>{"use strict";zO();Oo()});var Che={};Hr(Che,{ArrayModule:()=>XE,createArrayServices:()=>jE});var She=L(()=>{"use strict";$O();Oo()});var Lhe={};Hr(Lhe,{MatrixModule:()=>_he,createMatrixServices:()=>Ahe});function Ahe(e=Za){let t=di(Qa(e),Vs),r=di(Ka({shared:t}),mhe,_he);return t.ServiceRegistry.register(r),{shared:t,Matrix:r}}var bUe,_he,Dhe=L(()=>{"use strict";Oo();Gl();bUe=class extends xs{static{a(this,"MatrixTokenBuilder")}static{qr(this,"MatrixTokenBuilder")}constructor(){super(["Matrix"])}},_he={parser:{TokenBuilder:()=>new bUe,ValueConverter:()=>new No}};a(Ahe,"createMatrixServices");qr(Ahe,"createMatrixServices")});var Mhe={};Hr(Mhe,{TestSlidesModule:()=>Rhe,createTestSlidesServices:()=>Ihe});function Ihe(e=Za){let t=di(Qa(e),Vs),r=di(Ka({shared:t}),ghe,Rhe);return t.ServiceRegistry.register(r),{shared:t,TestSlides:r}}var kUe,Rhe,Nhe=L(()=>{"use strict";Oo();Gl();kUe=class extends xs{static{a(this,"TestSlidesTokenBuilder")}static{qr(this,"TestSlidesTokenBuilder")}constructor(){super(["TestSlides"])}},Rhe={parser:{TokenBuilder:()=>new kUe,ValueConverter:()=>new No}};a(Ihe,"createTestSlidesServices");qr(Ihe,"createTestSlidesServices")});var Bhe={};Hr(Bhe,{VisSlidesModule:()=>Ohe,createVisSlidesServices:()=>Phe});function Phe(e=Za){let t=di(Qa(e),Vs),r=di(Ka({shared:t}),yhe,Ohe);return t.ServiceRegistry.register(r),{shared:t,VisSlides:r}}var wUe,Ohe,Fhe=L(()=>{"use strict";Oo();Gl();wUe=class extends xs{static{a(this,"VisSlidesTokenBuilder")}static{qr(this,"VisSlidesTokenBuilder")}constructor(){super(["VisSlides"])}},Ohe={parser:{TokenBuilder:()=>new wUe,ValueConverter:()=>new No}};a(Phe,"createVisSlidesServices");qr(Phe,"createVisSlidesServices")});var zhe={};Hr(zhe,{VisualDiagramModule:()=>KE,createVisualDiagramServices:()=>QE});var $he=L(()=>{"use strict";GO();Oo()});async function qs(e,t){let r=TUe[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);gh[e]||await r();let i=gh[e].parse(t);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new EUe(i);return i.value}var gh,TUe,EUe,kf=L(()=>{"use strict";BO();FO();zO();$O();GO();Oo();gh={},TUe={info:async()=>{let{createInfoServices:e}=await Promise.resolve().then(()=>(bhe(),xhe)),t=e().Info.parser.LangiumParser;gh.info=t},packet:async()=>{let{createPacketServices:e}=await Promise.resolve().then(()=>(whe(),khe)),t=e().Packet.parser.LangiumParser;gh.packet=t},pie:async()=>{let{createPieServices:e}=await Promise.resolve().then(()=>(Ehe(),The)),t=e().Pie.parser.LangiumParser;gh.pie=t},array:async()=>{let{createArrayServices:e}=await Promise.resolve().then(()=>(She(),Che)),t=e().Array.parser.LangiumParser;gh.array=t},matrix:async()=>{let{createMatrixServices:e}=await Promise.resolve().then(()=>(Dhe(),Lhe)),t=e().Matrix.parser.LangiumParser;gh.matrix=t},testslides:async()=>{let{createTestSlidesServices:e}=await Promise.resolve().then(()=>(Nhe(),Mhe)),t=e().TestSlides.parser.LangiumParser;gh.testslides=t},visslides:async()=>{let{createVisSlidesServices:e}=await Promise.resolve().then(()=>(Fhe(),Bhe)),t=e().VisSlides.parser.LangiumParser;gh.visslides=t},visual:async()=>{let{createVisualDiagramServices:e}=await Promise.resolve().then(()=>($he(),zhe)),t=e().VisualDiagram.parser.LangiumParser;gh.visual=t}};a(qs,"parse");qr(qs,"parse");EUe=class extends Error{static{a(this,"MermaidParseError")}constructor(e){let t=e.lexerErrors.map(n=>n.message).join(`
`),r=e.parserErrors.map(n=>n.message).join(`
`);super(`Parsing failed: ${t} ${r}`),this.result=e}static{qr(this,"MermaidParseError")}}});var Ghe,Vhe=L(()=>{"use strict";kf();ar();Ghe={parse:async e=>{let t=await qs("info",e);ce.debug(t)}}});var CUe,SUe,qhe,Uhe=L(()=>{"use strict";j9();CUe={version:_2},SUe=a(()=>CUe.version,"getVersion"),qhe={getVersion:SUe}});var ca,Cu=L(()=>{"use strict";Wr();Vr();ca=a(e=>{let{securityLevel:t}=we(),r=ut("body");if(t==="sandbox"){let s=ut(`#i${e}`).node()?.contentDocument??document;r=ut(s.body)}return r.select(`#${e}`)},"selectSvgElement")});var _Ue,Hhe,Whe=L(()=>{"use strict";ar();si();Cu();_Ue=a((e,t,r)=>{ce.debug(`rendering info diagram
`+e);let n=ca(t);rn(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),Hhe={draw:_Ue}});var Yhe={};Hr(Yhe,{diagram:()=>AUe});var AUe,Xhe=L(()=>{"use strict";Vhe();Uhe();Whe();AUe={parser:Ghe,db:qhe,renderer:Hhe}});function Su(e,t){"accDescr"in e&&e.accDescr&&t.setAccDescription?.(e.accDescr),"accTitle"in e&&e.accTitle&&t.setAccTitle?.(e.accTitle),"title"in e&&e.title&&t.setDiagramTitle?.(e.title)}var Zp=L(()=>{"use strict";a(Su,"populateCommonDb")});var Qhe,VO,ZE,qO,RUe,IUe,MUe,NUe,OUe,PUe,BUe,JE,UO=L(()=>{"use strict";ar();$i();jo();Qhe=tn.pie,VO={sections:new Map,showData:!1,config:Qhe},ZE=VO.sections,qO=VO.showData,RUe=structuredClone(Qhe),IUe=a(()=>structuredClone(RUe),"getConfig"),MUe=a(()=>{ZE=new Map,qO=VO.showData,nn()},"clear"),NUe=a(({label:e,value:t})=>{ZE.has(e)||(ZE.set(e,t),ce.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),OUe=a(()=>ZE,"getSections"),PUe=a(e=>{qO=e},"setShowData"),BUe=a(()=>qO,"getShowData"),JE={getConfig:IUe,clear:MUe,setDiagramTitle:Dn,getDiagramTitle:wn,setAccTitle:hn,getAccTitle:pn,setAccDescription:mn,getAccDescription:gn,addSection:NUe,getSections:OUe,setShowData:PUe,getShowData:BUe}});var FUe,Zhe,Jhe=L(()=>{"use strict";kf();ar();Zp();UO();FUe=a((e,t)=>{Su(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),Zhe={parse:async e=>{let t=await qs("pie",e);ce.debug(t),FUe(t,JE)}}});var zUe,efe,tfe=L(()=>{"use strict";zUe=a(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),efe=zUe});var $Ue,GUe,rfe,nfe=L(()=>{"use strict";Wr();ar();si();Vr();kn();Cu();$Ue=a(e=>{let t=[...e.entries()].map(n=>({label:n[0],value:n[1]})).sort((n,i)=>i.value-n.value);return p5().value(n=>n.value)(t)},"createPieArcs"),GUe=a((e,t,r,n)=>{ce.debug(`rendering pie chart
`+e);let i=n.db,s=we(),o=oa(i.getConfig(),s.pie),u=40,h=18,p=4,g=450,v=g,x=ca(t),k=x.append("g");k.attr("transform","translate("+v/2+","+g/2+")");let{themeVariables:E}=s,[_]=Kc(E.pieOuterStrokeWidth);_??=2;let N=o.textPosition,M=Math.min(v,g)/2-u,P=ju().innerRadius(0).outerRadius(M),V=ju().innerRadius(M*N).outerRadius(M*N);k.append("circle").attr("cx",0).attr("cy",0).attr("r",M+_/2).attr("class","pieOuterCircle");let H=i.getSections(),O=$Ue(H),I=[E.pie1,E.pie2,E.pie3,E.pie4,E.pie5,E.pie6,E.pie7,E.pie8,E.pie9,E.pie10,E.pie11,E.pie12],z=Uu(I);k.selectAll("mySlices").data(O).enter().append("path").attr("d",P).attr("fill",X=>z(X.data.label)).attr("class","pieCircle");let G=0;H.forEach(X=>{G+=X}),k.selectAll("mySlices").data(O).enter().append("text").text(X=>(X.data.value/G*100).toFixed(0)+"%").attr("transform",X=>"translate("+V.centroid(X)+")").style("text-anchor","middle").attr("class","slice"),k.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-(g-50)/2).attr("class","pieTitleText");let F=k.selectAll(".legend").data(z.domain()).enter().append("g").attr("class","legend").attr("transform",(X,B)=>{let Q=h+p,le=Q*z.domain().length/2,J=12*h,ie=B*Q-le;return"translate("+J+","+ie+")"});F.append("rect").attr("width",h).attr("height",h).style("fill",z).style("stroke",z),F.data(O).append("text").attr("x",h+p).attr("y",h-p).text(X=>{let{label:B,value:Q}=X.data;return i.getShowData()?`${B} [${Q}]`:B});let j=Math.max(...F.selectAll("text").nodes().map(X=>X?.getBoundingClientRect().width??0)),D=v+u+h+p+j;x.attr("viewBox",`0 0 ${D} ${g}`),rn(x,g,D,o.useMaxWidth)},"draw"),rfe={draw:GUe}});var ife={};Hr(ife,{diagram:()=>VUe});var VUe,afe=L(()=>{"use strict";Jhe();UO();tfe();nfe();VUe={parser:Zhe,db:JE,renderer:rfe,styles:efe}});var HO,lfe,ufe=L(()=>{"use strict";HO=function(){var e=a(function(Br,qt,Yt,Jt){for(Yt=Yt||{},Jt=Br.length;Jt--;Yt[Br[Jt]]=qt);return Yt},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],s=[1,7],o=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],u=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],h=[55,56,57],p=[2,36],g=[1,37],v=[1,36],x=[1,38],k=[1,35],E=[1,43],_=[1,41],N=[1,14],M=[1,23],P=[1,18],V=[1,19],H=[1,20],O=[1,21],I=[1,22],z=[1,24],G=[1,25],F=[1,26],j=[1,27],D=[1,28],X=[1,29],B=[1,32],Q=[1,33],le=[1,34],J=[1,39],ie=[1,40],re=[1,42],Z=[1,44],Y=[1,62],ue=[1,61],Ae=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],ae=[1,65],Ke=[1,66],Ie=[1,67],$e=[1,68],Xe=[1,69],He=[1,70],Ne=[1,71],_e=[1,72],Me=[1,73],Ee=[1,74],Oe=[1,75],at=[1,76],pe=[4,5,6,7,8,9,10,11,12,13,14,15,18],Bt=[1,90],Pe=[1,91],gt=[1,92],mt=[1,99],Nt=[1,93],Ut=[1,96],Gt=[1,94],Lt=[1,95],st=[1,97],De=[1,98],Ge=[1,102],Ye=[10,55,56,57],Le=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],je={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:a(function(qt,Yt,Jt,rr,Ht,yt,Fr){var tr=yt.length-1;switch(Ht){case 23:this.$=yt[tr];break;case 24:this.$=yt[tr-1]+""+yt[tr];break;case 26:this.$=yt[tr-1]+yt[tr];break;case 27:this.$=[yt[tr].trim()];break;case 28:yt[tr-2].push(yt[tr].trim()),this.$=yt[tr-2];break;case 29:this.$=yt[tr-4],rr.addClass(yt[tr-2],yt[tr]);break;case 37:this.$=[];break;case 42:this.$=yt[tr].trim(),rr.setDiagramTitle(this.$);break;case 43:this.$=yt[tr].trim(),rr.setAccTitle(this.$);break;case 44:case 45:this.$=yt[tr].trim(),rr.setAccDescription(this.$);break;case 46:rr.addSection(yt[tr].substr(8)),this.$=yt[tr].substr(8);break;case 47:rr.addPoint(yt[tr-3],"",yt[tr-1],yt[tr],[]);break;case 48:rr.addPoint(yt[tr-4],yt[tr-3],yt[tr-1],yt[tr],[]);break;case 49:rr.addPoint(yt[tr-4],"",yt[tr-2],yt[tr-1],yt[tr]);break;case 50:rr.addPoint(yt[tr-5],yt[tr-4],yt[tr-2],yt[tr-1],yt[tr]);break;case 51:rr.setXAxisLeftText(yt[tr-2]),rr.setXAxisRightText(yt[tr]);break;case 52:yt[tr-1].text+=" \u27F6 ",rr.setXAxisLeftText(yt[tr-1]);break;case 53:rr.setXAxisLeftText(yt[tr]);break;case 54:rr.setYAxisBottomText(yt[tr-2]),rr.setYAxisTopText(yt[tr]);break;case 55:yt[tr-1].text+=" \u27F6 ",rr.setYAxisBottomText(yt[tr-1]);break;case 56:rr.setYAxisBottomText(yt[tr]);break;case 57:rr.setQuadrant1Text(yt[tr]);break;case 58:rr.setQuadrant2Text(yt[tr]);break;case 59:rr.setQuadrant3Text(yt[tr]);break;case 60:rr.setQuadrant4Text(yt[tr]);break;case 64:this.$={text:yt[tr],type:"text"};break;case 65:this.$={text:yt[tr-1].text+""+yt[tr],type:yt[tr-1].type};break;case 66:this.$={text:yt[tr],type:"text"};break;case 67:this.$={text:yt[tr],type:"markdown"};break;case 68:this.$=yt[tr];break;case 69:this.$=yt[tr-1]+""+yt[tr];break}},"anonymous"),table:[{18:t,26:1,27:2,28:r,55:n,56:i,57:s},{1:[3]},{18:t,26:8,27:2,28:r,55:n,56:i,57:s},{18:t,26:9,27:2,28:r,55:n,56:i,57:s},e(o,[2,33],{29:10}),e(u,[2,61]),e(u,[2,62]),e(u,[2,63]),{1:[2,30]},{1:[2,31]},e(h,p,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:g,5:v,10:x,12:k,13:E,14:_,18:N,25:M,35:P,37:V,39:H,41:O,42:I,48:z,50:G,51:F,52:j,53:D,54:X,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z}),e(o,[2,34]),{27:45,55:n,56:i,57:s},e(h,[2,37]),e(h,p,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:g,5:v,10:x,12:k,13:E,14:_,18:N,25:M,35:P,37:V,39:H,41:O,42:I,48:z,50:G,51:F,52:j,53:D,54:X,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z}),e(h,[2,39]),e(h,[2,40]),e(h,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(h,[2,45]),e(h,[2,46]),{18:[1,50]},{4:g,5:v,10:x,12:k,13:E,14:_,43:51,58:31,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z},{4:g,5:v,10:x,12:k,13:E,14:_,43:52,58:31,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z},{4:g,5:v,10:x,12:k,13:E,14:_,43:53,58:31,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z},{4:g,5:v,10:x,12:k,13:E,14:_,43:54,58:31,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z},{4:g,5:v,10:x,12:k,13:E,14:_,43:55,58:31,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z},{4:g,5:v,10:x,12:k,13:E,14:_,43:56,58:31,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z},{4:g,5:v,8:Y,10:x,12:k,13:E,14:_,18:ue,44:[1,57],47:[1,58],58:60,59:59,63:le,64:J,65:ie,66:re,67:Z},e(Ae,[2,64]),e(Ae,[2,66]),e(Ae,[2,67]),e(Ae,[2,70]),e(Ae,[2,71]),e(Ae,[2,72]),e(Ae,[2,73]),e(Ae,[2,74]),e(Ae,[2,75]),e(Ae,[2,76]),e(Ae,[2,77]),e(Ae,[2,78]),e(Ae,[2,79]),e(Ae,[2,80]),e(o,[2,35]),e(h,[2,38]),e(h,[2,42]),e(h,[2,43]),e(h,[2,44]),{3:64,4:ae,5:Ke,6:Ie,7:$e,8:Xe,9:He,10:Ne,11:_e,12:Me,13:Ee,14:Oe,15:at,21:63},e(h,[2,53],{59:59,58:60,4:g,5:v,8:Y,10:x,12:k,13:E,14:_,18:ue,49:[1,77],63:le,64:J,65:ie,66:re,67:Z}),e(h,[2,56],{59:59,58:60,4:g,5:v,8:Y,10:x,12:k,13:E,14:_,18:ue,49:[1,78],63:le,64:J,65:ie,66:re,67:Z}),e(h,[2,57],{59:59,58:60,4:g,5:v,8:Y,10:x,12:k,13:E,14:_,18:ue,63:le,64:J,65:ie,66:re,67:Z}),e(h,[2,58],{59:59,58:60,4:g,5:v,8:Y,10:x,12:k,13:E,14:_,18:ue,63:le,64:J,65:ie,66:re,67:Z}),e(h,[2,59],{59:59,58:60,4:g,5:v,8:Y,10:x,12:k,13:E,14:_,18:ue,63:le,64:J,65:ie,66:re,67:Z}),e(h,[2,60],{59:59,58:60,4:g,5:v,8:Y,10:x,12:k,13:E,14:_,18:ue,63:le,64:J,65:ie,66:re,67:Z}),{45:[1,79]},{44:[1,80]},e(Ae,[2,65]),e(Ae,[2,81]),e(Ae,[2,82]),e(Ae,[2,83]),{3:82,4:ae,5:Ke,6:Ie,7:$e,8:Xe,9:He,10:Ne,11:_e,12:Me,13:Ee,14:Oe,15:at,18:[1,81]},e(pe,[2,23]),e(pe,[2,1]),e(pe,[2,2]),e(pe,[2,3]),e(pe,[2,4]),e(pe,[2,5]),e(pe,[2,6]),e(pe,[2,7]),e(pe,[2,8]),e(pe,[2,9]),e(pe,[2,10]),e(pe,[2,11]),e(pe,[2,12]),e(h,[2,52],{58:31,43:83,4:g,5:v,10:x,12:k,13:E,14:_,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z}),e(h,[2,55],{58:31,43:84,4:g,5:v,10:x,12:k,13:E,14:_,60:B,61:Q,63:le,64:J,65:ie,66:re,67:Z}),{46:[1,85]},{45:[1,86]},{4:Bt,5:Pe,6:gt,8:mt,11:Nt,13:Ut,16:89,17:Gt,18:Lt,19:st,20:De,22:88,23:87},e(pe,[2,24]),e(h,[2,51],{59:59,58:60,4:g,5:v,8:Y,10:x,12:k,13:E,14:_,18:ue,63:le,64:J,65:ie,66:re,67:Z}),e(h,[2,54],{59:59,58:60,4:g,5:v,8:Y,10:x,12:k,13:E,14:_,18:ue,63:le,64:J,65:ie,66:re,67:Z}),e(h,[2,47],{22:88,16:89,23:100,4:Bt,5:Pe,6:gt,8:mt,11:Nt,13:Ut,17:Gt,18:Lt,19:st,20:De}),{46:[1,101]},e(h,[2,29],{10:Ge}),e(Ye,[2,27],{16:103,4:Bt,5:Pe,6:gt,8:mt,11:Nt,13:Ut,17:Gt,18:Lt,19:st,20:De}),e(Le,[2,25]),e(Le,[2,13]),e(Le,[2,14]),e(Le,[2,15]),e(Le,[2,16]),e(Le,[2,17]),e(Le,[2,18]),e(Le,[2,19]),e(Le,[2,20]),e(Le,[2,21]),e(Le,[2,22]),e(h,[2,49],{10:Ge}),e(h,[2,48],{22:88,16:89,23:104,4:Bt,5:Pe,6:gt,8:mt,11:Nt,13:Ut,17:Gt,18:Lt,19:st,20:De}),{4:Bt,5:Pe,6:gt,8:mt,11:Nt,13:Ut,16:89,17:Gt,18:Lt,19:st,20:De,22:105},e(Le,[2,26]),e(h,[2,50],{10:Ge}),e(Ye,[2,28],{16:103,4:Bt,5:Pe,6:gt,8:mt,11:Nt,13:Ut,17:Gt,18:Lt,19:st,20:De})],defaultActions:{8:[2,30],9:[2,31]},parseError:a(function(qt,Yt){if(Yt.recoverable)this.trace(qt);else{var Jt=new Error(qt);throw Jt.hash=Yt,Jt}},"parseError"),parse:a(function(qt){var Yt=this,Jt=[0],rr=[],Ht=[null],yt=[],Fr=this.table,tr="",Qi=0,pa=0,li=0,In=2,Rr=1,_n=yt.slice.call(arguments,1),er=Object.create(this.lexer),on={yy:{}};for(var ni in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ni)&&(on.yy[ni]=this.yy[ni]);er.setInput(qt,on.yy),on.yy.lexer=er,on.yy.parser=this,typeof er.yylloc>"u"&&(er.yylloc={});var Or=er.yylloc;yt.push(Or);var Pr=er.options&&er.options.ranges;typeof on.yy.parseError=="function"?this.parseError=on.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ir(ya){Jt.length=Jt.length-2*ya,Ht.length=Ht.length-ya,yt.length=yt.length-ya}a(Ir,"popStack");function wi(){var ya;return ya=rr.pop()||er.lex()||Rr,typeof ya!="number"&&(ya instanceof Array&&(rr=ya,ya=rr.pop()),ya=Yt.symbols_[ya]||ya),ya}a(wi,"lex");for(var ir,ma,Lr,ln,Bn,ga,Zi={},Oa,ii,rs,Pa;;){if(Lr=Jt[Jt.length-1],this.defaultActions[Lr]?ln=this.defaultActions[Lr]:((ir===null||typeof ir>"u")&&(ir=wi()),ln=Fr[Lr]&&Fr[Lr][ir]),typeof ln>"u"||!ln.length||!ln[0]){var Ba="";Pa=[];for(Oa in Fr[Lr])this.terminals_[Oa]&&Oa>In&&Pa.push("'"+this.terminals_[Oa]+"'");er.showPosition?Ba="Parse error on line "+(Qi+1)+`:
`+er.showPosition()+`
Expecting `+Pa.join(", ")+", got '"+(this.terminals_[ir]||ir)+"'":Ba="Parse error on line "+(Qi+1)+": Unexpected "+(ir==Rr?"end of input":"'"+(this.terminals_[ir]||ir)+"'"),this.parseError(Ba,{text:er.match,token:this.terminals_[ir]||ir,line:er.yylineno,loc:Or,expected:Pa})}if(ln[0]instanceof Array&&ln.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Lr+", token: "+ir);switch(ln[0]){case 1:Jt.push(ir),Ht.push(er.yytext),yt.push(er.yylloc),Jt.push(ln[1]),ir=null,ma?(ir=ma,ma=null):(pa=er.yyleng,tr=er.yytext,Qi=er.yylineno,Or=er.yylloc,li>0&&li--);break;case 2:if(ii=this.productions_[ln[1]][1],Zi.$=Ht[Ht.length-ii],Zi._$={first_line:yt[yt.length-(ii||1)].first_line,last_line:yt[yt.length-1].last_line,first_column:yt[yt.length-(ii||1)].first_column,last_column:yt[yt.length-1].last_column},Pr&&(Zi._$.range=[yt[yt.length-(ii||1)].range[0],yt[yt.length-1].range[1]]),ga=this.performAction.apply(Zi,[tr,pa,Qi,on.yy,ln[1],Ht,yt].concat(_n)),typeof ga<"u")return ga;ii&&(Jt=Jt.slice(0,-1*ii*2),Ht=Ht.slice(0,-1*ii),yt=yt.slice(0,-1*ii)),Jt.push(this.productions_[ln[1]][0]),Ht.push(Zi.$),yt.push(Zi._$),rs=Fr[Jt[Jt.length-2]][Jt[Jt.length-1]],Jt.push(rs);break;case 3:return!0}}return!0},"parse")},Je=function(){var Br={EOF:1,parseError:a(function(Yt,Jt){if(this.yy.parser)this.yy.parser.parseError(Yt,Jt);else throw new Error(Yt)},"parseError"),setInput:function(qt,Yt){return this.yy=Yt||this.yy||{},this._input=qt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var qt=this._input[0];this.yytext+=qt,this.yyleng++,this.offset++,this.match+=qt,this.matched+=qt;var Yt=qt.match(/(?:\r\n?|\n).*/g);return Yt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),qt},unput:function(qt){var Yt=qt.length,Jt=qt.split(/(?:\r\n?|\n)/g);this._input=qt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Yt),this.offset-=Yt;var rr=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Jt.length-1&&(this.yylineno-=Jt.length-1);var Ht=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Jt?(Jt.length===rr.length?this.yylloc.first_column:0)+rr[rr.length-Jt.length].length-Jt[0].length:this.yylloc.first_column-Yt},this.options.ranges&&(this.yylloc.range=[Ht[0],Ht[0]+this.yyleng-Yt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(qt){this.unput(this.match.slice(qt))},pastInput:function(){var qt=this.matched.substr(0,this.matched.length-this.match.length);return(qt.length>20?"...":"")+qt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var qt=this.match;return qt.length<20&&(qt+=this._input.substr(0,20-qt.length)),(qt.substr(0,20)+(qt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var qt=this.pastInput(),Yt=new Array(qt.length+1).join("-");return qt+this.upcomingInput()+`
`+Yt+"^"},test_match:function(qt,Yt){var Jt,rr,Ht;if(this.options.backtrack_lexer&&(Ht={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ht.yylloc.range=this.yylloc.range.slice(0))),rr=qt[0].match(/(?:\r\n?|\n).*/g),rr&&(this.yylineno+=rr.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:rr?rr[rr.length-1].length-rr[rr.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+qt[0].length},this.yytext+=qt[0],this.match+=qt[0],this.matches=qt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(qt[0].length),this.matched+=qt[0],Jt=this.performAction.call(this,this.yy,this,Yt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Jt)return Jt;if(this._backtrack){for(var yt in Ht)this[yt]=Ht[yt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var qt,Yt,Jt,rr;this._more||(this.yytext="",this.match="");for(var Ht=this._currentRules(),yt=0;yt<Ht.length;yt++)if(Jt=this._input.match(this.rules[Ht[yt]]),Jt&&(!Yt||Jt[0].length>Yt[0].length)){if(Yt=Jt,rr=yt,this.options.backtrack_lexer){if(qt=this.test_match(Jt,Ht[yt]),qt!==!1)return qt;if(this._backtrack){Yt=!1;continue}else return!1}else if(!this.options.flex)break}return Yt?(qt=this.test_match(Yt,Ht[rr]),qt!==!1?qt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var Yt=this.next();return Yt||this.lex()},"lex"),begin:a(function(Yt){this.conditionStack.push(Yt)},"begin"),popState:a(function(){var Yt=this.conditionStack.length-1;return Yt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(Yt){return Yt=this.conditionStack.length-1-Math.abs(Yt||0),Yt>=0?this.conditionStack[Yt]:"INITIAL"},"topState"),pushState:a(function(Yt){this.begin(Yt)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(Yt,Jt,rr,Ht){var yt=Ht;switch(rr){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;break;case 5:return this.popState(),"title_value";break;case 6:return this.begin("acc_title"),37;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),39;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;break;case 29:return this.begin("point_start"),44;break;case 30:return this.begin("point_x"),45;break;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;break;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return Br}();je.lexer=Je;function ct(){this.yy={}}return a(ct,"Parser"),ct.prototype=je,je.Parser=ct,new ct}();HO.parser=HO;lfe=HO});var Po,e7,cfe=L(()=>{"use strict";Wr();jo();ar();ak();Po=yg(),e7=class{constructor(){this.classes=new Map;this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{a(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:tn.quadrantChart?.chartWidth||500,chartWidth:tn.quadrantChart?.chartHeight||500,titlePadding:tn.quadrantChart?.titlePadding||10,titleFontSize:tn.quadrantChart?.titleFontSize||20,quadrantPadding:tn.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:tn.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:tn.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:tn.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:tn.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:tn.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:tn.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:tn.quadrantChart?.pointTextPadding||5,pointLabelFontSize:tn.quadrantChart?.pointLabelFontSize||12,pointRadius:tn.quadrantChart?.pointRadius||5,xAxisPosition:tn.quadrantChart?.xAxisPosition||"top",yAxisPosition:tn.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:tn.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:tn.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:Po.quadrant1Fill,quadrant2Fill:Po.quadrant2Fill,quadrant3Fill:Po.quadrant3Fill,quadrant4Fill:Po.quadrant4Fill,quadrant1TextFill:Po.quadrant1TextFill,quadrant2TextFill:Po.quadrant2TextFill,quadrant3TextFill:Po.quadrant3TextFill,quadrant4TextFill:Po.quadrant4TextFill,quadrantPointFill:Po.quadrantPointFill,quadrantPointTextFill:Po.quadrantPointTextFill,quadrantXAxisTextFill:Po.quadrantXAxisTextFill,quadrantYAxisTextFill:Po.quadrantYAxisTextFill,quadrantTitleFill:Po.quadrantTitleFill,quadrantInternalBorderStrokeFill:Po.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Po.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,ce.info("clear called")}setData(t){this.data={...this.data,...t}}addPoints(t){this.data.points=[...t,...this.data.points]}addClass(t,r){this.classes.set(t,r)}setConfig(t){ce.trace("setConfig called with: ",t),this.config={...this.config,...t}}setThemeConfig(t){ce.trace("setThemeConfig called with: ",t),this.themeConfig={...this.themeConfig,...t}}calculateSpace(t,r,n,i){let s=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,o={top:t==="top"&&r?s:0,bottom:t==="bottom"&&r?s:0},u=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,h={left:this.config.yAxisPosition==="left"&&n?u:0,right:this.config.yAxisPosition==="right"&&n?u:0},p=this.config.titleFontSize+this.config.titlePadding*2,g={top:i?p:0},v=this.config.quadrantPadding+h.left,x=this.config.quadrantPadding+o.top+g.top,k=this.config.chartWidth-this.config.quadrantPadding*2-h.left-h.right,E=this.config.chartHeight-this.config.quadrantPadding*2-o.top-o.bottom-g.top,_=k/2,N=E/2;return{xAxisSpace:o,yAxisSpace:h,titleSpace:g,quadrantSpace:{quadrantLeft:v,quadrantTop:x,quadrantWidth:k,quadrantHalfWidth:_,quadrantHeight:E,quadrantHalfHeight:N}}}getAxisLabels(t,r,n,i){let{quadrantSpace:s,titleSpace:o}=i,{quadrantHalfHeight:u,quadrantHeight:h,quadrantLeft:p,quadrantHalfWidth:g,quadrantTop:v,quadrantWidth:x}=s,k=!!this.data.xAxisRightText,E=!!this.data.yAxisTopText,_=[];return this.data.xAxisLeftText&&r&&_.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:p+(k?g/2:0),y:t==="top"?this.config.xAxisLabelPadding+o.top:this.config.xAxisLabelPadding+v+h+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:k?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&_.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:p+g+(k?g/2:0),y:t==="top"?this.config.xAxisLabelPadding+o.top:this.config.xAxisLabelPadding+v+h+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:k?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&_.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+p+x+this.config.quadrantPadding,y:v+h-(E?u/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:E?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&_.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+p+x+this.config.quadrantPadding,y:v+u-(E?u/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:E?"center":"left",horizontalPos:"top",rotation:-90}),_}getQuadrants(t){let{quadrantSpace:r}=t,{quadrantHalfHeight:n,quadrantLeft:i,quadrantHalfWidth:s,quadrantTop:o}=r,u=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+s,y:o,width:s,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:o,width:s,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:o+n,width:s,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+s,y:o+n,width:s,height:n,fill:this.themeConfig.quadrant4Fill}];for(let h of u)h.text.x=h.x+h.width/2,this.data.points.length===0?(h.text.y=h.y+h.height/2,h.text.horizontalPos="middle"):(h.text.y=h.y+this.config.quadrantTextTopPadding,h.text.horizontalPos="top");return u}getQuadrantPoints(t){let{quadrantSpace:r}=t,{quadrantHeight:n,quadrantLeft:i,quadrantTop:s,quadrantWidth:o}=r,u=Hu().domain([0,1]).range([i,o+i]),h=Hu().domain([0,1]).range([n+s,s]);return this.data.points.map(g=>{let v=this.classes.get(g.className);return v&&(g={...v,...g}),{x:u(g.x),y:h(g.y),fill:g.color||this.themeConfig.quadrantPointFill,radius:g.radius||this.config.pointRadius,text:{text:g.text,fill:this.themeConfig.quadrantPointTextFill,x:u(g.x),y:h(g.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:g.strokeColor||this.themeConfig.quadrantPointFill,strokeWidth:g.strokeWidth||"0px"}})}getBorders(t){let r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=t,{quadrantHalfHeight:i,quadrantHeight:s,quadrantLeft:o,quadrantHalfWidth:u,quadrantTop:h,quadrantWidth:p}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:o-r,y1:h,x2:o+p+r,y2:h},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:o+p,y1:h+r,x2:o+p,y2:h+s-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:o-r,y1:h+s,x2:o+p+r,y2:h+s},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:o,y1:h+r,x2:o,y2:h+s-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:o+u,y1:h+r,x2:o+u,y2:h+s-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:o+r,y1:h+i,x2:o+p-r,y2:h+i}]}getTitle(t){if(t)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let t=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),r=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,s=this.calculateSpace(i,t,r,n);return{points:this.getQuadrantPoints(s),quadrants:this.getQuadrants(s),axisLabels:this.getAxisLabels(i,t,r,s),borderLines:this.getBorders(s),title:this.getTitle(n)}}}});function WO(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}function hfe(e){return!/^\d+$/.test(e)}function ffe(e){return!/^\d+px$/.test(e)}var Jp,dfe=L(()=>{"use strict";Jp=class extends Error{static{a(this,"InvalidStyleError")}constructor(t,r,n){super(`value for ${t} ${r} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}};a(WO,"validateHexCode");a(hfe,"validateNumber");a(ffe,"validateSizeInPixels")});function wf(e){return ai(e.trim(),HUe)}function WUe(e){Us.setData({quadrant1Text:wf(e.text)})}function YUe(e){Us.setData({quadrant2Text:wf(e.text)})}function XUe(e){Us.setData({quadrant3Text:wf(e.text)})}function jUe(e){Us.setData({quadrant4Text:wf(e.text)})}function KUe(e){Us.setData({xAxisLeftText:wf(e.text)})}function QUe(e){Us.setData({xAxisRightText:wf(e.text)})}function ZUe(e){Us.setData({yAxisTopText:wf(e.text)})}function JUe(e){Us.setData({yAxisBottomText:wf(e.text)})}function YO(e){let t={};for(let r of e){let[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(hfe(i))throw new Jp(n,i,"number");t.radius=parseInt(i)}else if(n==="color"){if(WO(i))throw new Jp(n,i,"hex code");t.color=i}else if(n==="stroke-color"){if(WO(i))throw new Jp(n,i,"hex code");t.strokeColor=i}else if(n==="stroke-width"){if(ffe(i))throw new Jp(n,i,"number of pixels (eg. 10px)");t.strokeWidth=i}else throw new Error(`style named ${n} is not supported.`)}return t}function eHe(e,t,r,n,i){let s=YO(i);Us.addPoints([{x:r,y:n,text:wf(e.text),className:t,...s}])}function tHe(e,t){Us.addClass(e,YO(t))}function rHe(e){Us.setConfig({chartWidth:e})}function nHe(e){Us.setConfig({chartHeight:e})}function iHe(){let e=we(),{themeVariables:t,quadrantChart:r}=e;return r&&Us.setConfig(r),Us.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),Us.setData({titleText:wn()}),Us.build()}var HUe,Us,aHe,pfe,mfe=L(()=>{"use strict";Vr();Ln();$i();cfe();dfe();HUe=we();a(wf,"textSanitizer");Us=new e7;a(WUe,"setQuadrant1Text");a(YUe,"setQuadrant2Text");a(XUe,"setQuadrant3Text");a(jUe,"setQuadrant4Text");a(KUe,"setXAxisLeftText");a(QUe,"setXAxisRightText");a(ZUe,"setYAxisTopText");a(JUe,"setYAxisBottomText");a(YO,"parseStyles");a(eHe,"addPoint");a(tHe,"addClass");a(rHe,"setWidth");a(nHe,"setHeight");a(iHe,"getQuadrantData");aHe=a(function(){Us.clear(),nn()},"clear"),pfe={setWidth:rHe,setHeight:nHe,setQuadrant1Text:WUe,setQuadrant2Text:YUe,setQuadrant3Text:XUe,setQuadrant4Text:jUe,setXAxisLeftText:KUe,setXAxisRightText:QUe,setYAxisTopText:ZUe,setYAxisBottomText:JUe,parseStyles:YO,addPoint:eHe,addClass:tHe,getQuadrantData:iHe,clear:aHe,setAccTitle:hn,getAccTitle:pn,setDiagramTitle:Dn,getDiagramTitle:wn,getAccDescription:gn,setAccDescription:mn}});var sHe,gfe,yfe=L(()=>{"use strict";Wr();Vr();ar();si();sHe=a((e,t,r,n)=>{function i(G){return G==="top"?"hanging":"middle"}a(i,"getDominantBaseLine");function s(G){return G==="left"?"start":"middle"}a(s,"getTextAnchor");function o(G){return`translate(${G.x}, ${G.y}) rotate(${G.rotation||0})`}a(o,"getTransformation");let u=we();ce.debug(`Rendering quadrant chart
`+e);let h=u.securityLevel,p;h==="sandbox"&&(p=ut("#i"+t));let v=(h==="sandbox"?ut(p.nodes()[0].contentDocument.body):ut("body")).select(`[id="${t}"]`),x=v.append("g").attr("class","main"),k=u.quadrantChart?.chartWidth||500,E=u.quadrantChart?.chartHeight||500;rn(v,E,k,u.quadrantChart?.useMaxWidth||!0),v.attr("viewBox","0 0 "+k+" "+E),n.db.setHeight(E),n.db.setWidth(k);let _=n.db.getQuadrantData(),N=x.append("g").attr("class","quadrants"),M=x.append("g").attr("class","border"),P=x.append("g").attr("class","data-points"),V=x.append("g").attr("class","labels"),H=x.append("g").attr("class","title");_.title&&H.append("text").attr("x",0).attr("y",0).attr("fill",_.title.fill).attr("font-size",_.title.fontSize).attr("dominant-baseline",i(_.title.horizontalPos)).attr("text-anchor",s(_.title.verticalPos)).attr("transform",o(_.title)).text(_.title.text),_.borderLines&&M.selectAll("line").data(_.borderLines).enter().append("line").attr("x1",G=>G.x1).attr("y1",G=>G.y1).attr("x2",G=>G.x2).attr("y2",G=>G.y2).style("stroke",G=>G.strokeFill).style("stroke-width",G=>G.strokeWidth);let O=N.selectAll("g.quadrant").data(_.quadrants).enter().append("g").attr("class","quadrant");O.append("rect").attr("x",G=>G.x).attr("y",G=>G.y).attr("width",G=>G.width).attr("height",G=>G.height).attr("fill",G=>G.fill),O.append("text").attr("x",0).attr("y",0).attr("fill",G=>G.text.fill).attr("font-size",G=>G.text.fontSize).attr("dominant-baseline",G=>i(G.text.horizontalPos)).attr("text-anchor",G=>s(G.text.verticalPos)).attr("transform",G=>o(G.text)).text(G=>G.text.text),V.selectAll("g.label").data(_.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(G=>G.text).attr("fill",G=>G.fill).attr("font-size",G=>G.fontSize).attr("dominant-baseline",G=>i(G.horizontalPos)).attr("text-anchor",G=>s(G.verticalPos)).attr("transform",G=>o(G));let z=P.selectAll("g.data-point").data(_.points).enter().append("g").attr("class","data-point");z.append("circle").attr("cx",G=>G.x).attr("cy",G=>G.y).attr("r",G=>G.radius).attr("fill",G=>G.fill).attr("stroke",G=>G.strokeColor).attr("stroke-width",G=>G.strokeWidth),z.append("text").attr("x",0).attr("y",0).text(G=>G.text.text).attr("fill",G=>G.text.fill).attr("font-size",G=>G.text.fontSize).attr("dominant-baseline",G=>i(G.text.horizontalPos)).attr("text-anchor",G=>s(G.text.verticalPos)).attr("transform",G=>o(G.text))},"draw"),gfe={draw:sHe}});var vfe={};Hr(vfe,{diagram:()=>oHe});var oHe,xfe=L(()=>{"use strict";ufe();mfe();yfe();oHe={parser:lfe,db:pfe,renderer:gfe,styles:()=>""}});var XO,wfe,Tfe=L(()=>{"use strict";XO=function(){var e=a(function(le,J,ie,re){for(ie=ie||{},re=le.length;re--;ie[le[re]]=J);return ie},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],s=[1,6],o=[1,7],u=[1,5,10,12,14,16,18,19,21,23,34,35,36],h=[1,25],p=[1,26],g=[1,28],v=[1,29],x=[1,30],k=[1,31],E=[1,32],_=[1,33],N=[1,34],M=[1,35],P=[1,36],V=[1,37],H=[1,43],O=[1,42],I=[1,47],z=[1,50],G=[1,10,12,14,16,18,19,21,23,34,35,36],F=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],j=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],D=[1,64],X={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:a(function(J,ie,re,Z,Y,ue,Ae){var ae=ue.length-1;switch(Y){case 5:Z.setOrientation(ue[ae]);break;case 9:Z.setDiagramTitle(ue[ae].text.trim());break;case 12:Z.setLineData({text:"",type:"text"},ue[ae]);break;case 13:Z.setLineData(ue[ae-1],ue[ae]);break;case 14:Z.setBarData({text:"",type:"text"},ue[ae]);break;case 15:Z.setBarData(ue[ae-1],ue[ae]);break;case 16:this.$=ue[ae].trim(),Z.setAccTitle(this.$);break;case 17:case 18:this.$=ue[ae].trim(),Z.setAccDescription(this.$);break;case 19:this.$=ue[ae-1];break;case 20:this.$=[Number(ue[ae-2]),...ue[ae]];break;case 21:this.$=[Number(ue[ae])];break;case 22:Z.setXAxisTitle(ue[ae]);break;case 23:Z.setXAxisTitle(ue[ae-1]);break;case 24:Z.setXAxisTitle({type:"text",text:""});break;case 25:Z.setXAxisBand(ue[ae]);break;case 26:Z.setXAxisRangeData(Number(ue[ae-2]),Number(ue[ae]));break;case 27:this.$=ue[ae-1];break;case 28:this.$=[ue[ae-2],...ue[ae]];break;case 29:this.$=[ue[ae]];break;case 30:Z.setYAxisTitle(ue[ae]);break;case 31:Z.setYAxisTitle(ue[ae-1]);break;case 32:Z.setYAxisTitle({type:"text",text:""});break;case 33:Z.setYAxisRangeData(Number(ue[ae-2]),Number(ue[ae]));break;case 37:this.$={text:ue[ae],type:"text"};break;case 38:this.$={text:ue[ae],type:"text"};break;case 39:this.$={text:ue[ae],type:"markdown"};break;case 40:this.$=ue[ae];break;case 41:this.$=ue[ae-1]+""+ue[ae];break}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:n,34:i,35:s,36:o}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:n,34:i,35:s,36:o}),e(t,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:s,36:o}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(u,[2,34]),e(u,[2,35]),e(u,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:n,34:i,35:s,36:o}),{1:[2,3]},e(u,[2,5]),e(t,[2,7],{4:22,34:i,35:s,36:o}),{11:23,37:24,38:h,39:p,40:27,41:g,42:v,43:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V},{11:39,13:38,24:H,27:O,29:40,30:41,37:24,38:h,39:p,40:27,41:g,42:v,43:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V},{11:45,15:44,27:I,33:46,37:24,38:h,39:p,40:27,41:g,42:v,43:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V},{11:49,17:48,24:z,37:24,38:h,39:p,40:27,41:g,42:v,43:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V},{11:52,17:51,24:z,37:24,38:h,39:p,40:27,41:g,42:v,43:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V},{20:[1,53]},{22:[1,54]},e(G,[2,18]),{1:[2,2]},e(G,[2,8]),e(G,[2,9]),e(F,[2,37],{40:55,41:g,42:v,43:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V}),e(F,[2,38]),e(F,[2,39]),e(j,[2,40]),e(j,[2,42]),e(j,[2,43]),e(j,[2,44]),e(j,[2,45]),e(j,[2,46]),e(j,[2,47]),e(j,[2,48]),e(j,[2,49]),e(j,[2,50]),e(j,[2,51]),e(G,[2,10]),e(G,[2,22],{30:41,29:56,24:H,27:O}),e(G,[2,24]),e(G,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:h,39:p,40:27,41:g,42:v,43:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V},e(G,[2,11]),e(G,[2,30],{33:60,27:I}),e(G,[2,32]),{31:[1,61]},e(G,[2,12]),{17:62,24:z},{25:63,27:D},e(G,[2,14]),{17:65,24:z},e(G,[2,16]),e(G,[2,17]),e(j,[2,41]),e(G,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(G,[2,31]),{27:[1,69]},e(G,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(G,[2,15]),e(G,[2,26]),e(G,[2,27]),{11:59,32:72,37:24,38:h,39:p,40:27,41:g,42:v,43:x,44:k,45:E,46:_,47:N,48:M,49:P,50:V},e(G,[2,33]),e(G,[2,19]),{25:73,27:D},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:a(function(J,ie){if(ie.recoverable)this.trace(J);else{var re=new Error(J);throw re.hash=ie,re}},"parseError"),parse:a(function(J){var ie=this,re=[0],Z=[],Y=[null],ue=[],Ae=this.table,ae="",Ke=0,Ie=0,$e=0,Xe=2,He=1,Ne=ue.slice.call(arguments,1),_e=Object.create(this.lexer),Me={yy:{}};for(var Ee in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ee)&&(Me.yy[Ee]=this.yy[Ee]);_e.setInput(J,Me.yy),Me.yy.lexer=_e,Me.yy.parser=this,typeof _e.yylloc>"u"&&(_e.yylloc={});var Oe=_e.yylloc;ue.push(Oe);var at=_e.options&&_e.options.ranges;typeof Me.yy.parseError=="function"?this.parseError=Me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function pe(je){re.length=re.length-2*je,Y.length=Y.length-je,ue.length=ue.length-je}a(pe,"popStack");function Bt(){var je;return je=Z.pop()||_e.lex()||He,typeof je!="number"&&(je instanceof Array&&(Z=je,je=Z.pop()),je=ie.symbols_[je]||je),je}a(Bt,"lex");for(var Pe,gt,mt,Nt,Ut,Gt,Lt={},st,De,Ge,Ye;;){if(mt=re[re.length-1],this.defaultActions[mt]?Nt=this.defaultActions[mt]:((Pe===null||typeof Pe>"u")&&(Pe=Bt()),Nt=Ae[mt]&&Ae[mt][Pe]),typeof Nt>"u"||!Nt.length||!Nt[0]){var Le="";Ye=[];for(st in Ae[mt])this.terminals_[st]&&st>Xe&&Ye.push("'"+this.terminals_[st]+"'");_e.showPosition?Le="Parse error on line "+(Ke+1)+`:
`+_e.showPosition()+`
Expecting `+Ye.join(", ")+", got '"+(this.terminals_[Pe]||Pe)+"'":Le="Parse error on line "+(Ke+1)+": Unexpected "+(Pe==He?"end of input":"'"+(this.terminals_[Pe]||Pe)+"'"),this.parseError(Le,{text:_e.match,token:this.terminals_[Pe]||Pe,line:_e.yylineno,loc:Oe,expected:Ye})}if(Nt[0]instanceof Array&&Nt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+mt+", token: "+Pe);switch(Nt[0]){case 1:re.push(Pe),Y.push(_e.yytext),ue.push(_e.yylloc),re.push(Nt[1]),Pe=null,gt?(Pe=gt,gt=null):(Ie=_e.yyleng,ae=_e.yytext,Ke=_e.yylineno,Oe=_e.yylloc,$e>0&&$e--);break;case 2:if(De=this.productions_[Nt[1]][1],Lt.$=Y[Y.length-De],Lt._$={first_line:ue[ue.length-(De||1)].first_line,last_line:ue[ue.length-1].last_line,first_column:ue[ue.length-(De||1)].first_column,last_column:ue[ue.length-1].last_column},at&&(Lt._$.range=[ue[ue.length-(De||1)].range[0],ue[ue.length-1].range[1]]),Gt=this.performAction.apply(Lt,[ae,Ie,Ke,Me.yy,Nt[1],Y,ue].concat(Ne)),typeof Gt<"u")return Gt;De&&(re=re.slice(0,-1*De*2),Y=Y.slice(0,-1*De),ue=ue.slice(0,-1*De)),re.push(this.productions_[Nt[1]][0]),Y.push(Lt.$),ue.push(Lt._$),Ge=Ae[re[re.length-2]][re[re.length-1]],re.push(Ge);break;case 3:return!0}}return!0},"parse")},B=function(){var le={EOF:1,parseError:a(function(ie,re){if(this.yy.parser)this.yy.parser.parseError(ie,re);else throw new Error(ie)},"parseError"),setInput:function(J,ie){return this.yy=ie||this.yy||{},this._input=J,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var J=this._input[0];this.yytext+=J,this.yyleng++,this.offset++,this.match+=J,this.matched+=J;var ie=J.match(/(?:\r\n?|\n).*/g);return ie?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),J},unput:function(J){var ie=J.length,re=J.split(/(?:\r\n?|\n)/g);this._input=J+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ie),this.offset-=ie;var Z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),re.length-1&&(this.yylineno-=re.length-1);var Y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:re?(re.length===Z.length?this.yylloc.first_column:0)+Z[Z.length-re.length].length-re[0].length:this.yylloc.first_column-ie},this.options.ranges&&(this.yylloc.range=[Y[0],Y[0]+this.yyleng-ie]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(J){this.unput(this.match.slice(J))},pastInput:function(){var J=this.matched.substr(0,this.matched.length-this.match.length);return(J.length>20?"...":"")+J.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var J=this.match;return J.length<20&&(J+=this._input.substr(0,20-J.length)),(J.substr(0,20)+(J.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var J=this.pastInput(),ie=new Array(J.length+1).join("-");return J+this.upcomingInput()+`
`+ie+"^"},test_match:function(J,ie){var re,Z,Y;if(this.options.backtrack_lexer&&(Y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Y.yylloc.range=this.yylloc.range.slice(0))),Z=J[0].match(/(?:\r\n?|\n).*/g),Z&&(this.yylineno+=Z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Z?Z[Z.length-1].length-Z[Z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+J[0].length},this.yytext+=J[0],this.match+=J[0],this.matches=J,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(J[0].length),this.matched+=J[0],re=this.performAction.call(this,this.yy,this,ie,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),re)return re;if(this._backtrack){for(var ue in Y)this[ue]=Y[ue];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var J,ie,re,Z;this._more||(this.yytext="",this.match="");for(var Y=this._currentRules(),ue=0;ue<Y.length;ue++)if(re=this._input.match(this.rules[Y[ue]]),re&&(!ie||re[0].length>ie[0].length)){if(ie=re,Z=ue,this.options.backtrack_lexer){if(J=this.test_match(re,Y[ue]),J!==!1)return J;if(this._backtrack){ie=!1;continue}else return!1}else if(!this.options.flex)break}return ie?(J=this.test_match(ie,Y[Z]),J!==!1?J:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var ie=this.next();return ie||this.lex()},"lex"),begin:a(function(ie){this.conditionStack.push(ie)},"begin"),popState:a(function(){var ie=this.conditionStack.length-1;return ie>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(ie){return ie=this.conditionStack.length-1-Math.abs(ie||0),ie>=0?this.conditionStack[ie]:"INITIAL"},"topState"),pushState:a(function(ie){this.begin(ie)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(ie,re,Z,Y){var ue=Y;switch(Z){case 0:break;case 1:break;case 2:return this.popState(),34;break;case 3:return this.popState(),34;break;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.pushState("acc_descr"),21;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";break;case 17:return this.pushState("axis_data"),"Y_AXIS";break;case 18:return this.pushState("axis_band_data"),24;break;case 19:return 31;case 20:return this.pushState("data"),16;break;case 21:return this.pushState("data"),18;break;case 22:return this.pushState("data_inner"),24;break;case 23:return 27;case 24:return this.popState(),26;break;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return le}();X.lexer=B;function Q(){this.yy={}}return a(Q,"Parser"),Q.prototype=X,X.Parser=Q,new Q}();XO.parser=XO;wfe=XO});function jO(e){return e.type==="bar"}function t7(e){return e.type==="band"}function cy(e){return e.type==="linear"}var r7=L(()=>{"use strict";a(jO,"isBarPlot");a(t7,"isBandAxisData");a(cy,"isLinearAxisData")});var hy,KO=L(()=>{"use strict";zd();hy=class{constructor(t){this.parentGroup=t}static{a(this,"TextDimensionCalculatorWithFont")}getMaxDimension(t,r){if(!this.parentGroup)return{width:t.reduce((s,o)=>Math.max(o.length,s),0)*r,height:r};let n={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(let s of t){let o=uie(i,1,s),u=o?o.width:s.length*r,h=o?o.height:r;n.width=Math.max(n.width,u),n.height=Math.max(n.height,h)}return i.remove(),n}}});var fy,QO=L(()=>{"use strict";fy=class{constructor(t,r,n,i){this.axisConfig=t;this.title=r;this.textDimensionCalculator=n;this.axisThemeConfig=i;this.boundingRect={x:0,y:0,width:0,height:0};this.axisPosition="left";this.showTitle=!1;this.showLabel=!1;this.showTick=!1;this.showAxisLine=!1;this.outerPadding=0;this.titleTextHeight=0;this.labelTextHeight=0;this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{a(this,"BaseAxis")}setRange(t){this.range=t,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=t[1]-t[0]:this.boundingRect.width=t[1]-t[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(t){this.axisPosition=t,this.setRange(this.range)}getTickDistance(){let t=this.getRange();return Math.abs(t[0]-t[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(t=>t.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(t){let r=t.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let n=this.getLabelDimension(),i=.2*t.width;this.outerPadding=Math.min(n.width/2,i);let s=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,s<=r&&(r-=s,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=t.width,this.boundingRect.height=t.height-r}calculateSpaceIfDrawnVertical(t){let r=t.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let n=this.getLabelDimension(),i=.2*t.height;this.outerPadding=Math.min(n.height/2,i);let s=n.width+this.axisConfig.labelPadding*2;s<=r&&(r-=s,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=t.width-r,this.boundingRect.height=t.height}calculateSpace(t){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(t):this.calculateSpaceIfDrawnHorizontally(t),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}getDrawableElementsForLeftAxis(){let t=[];if(this.showAxisLine){let r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForBottomAxis(){let t=[];if(this.showAxisLine){let r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForTopAxis(){let t=[];if(this.showAxisLine){let r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let r=this.boundingRect.y;t.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}}});var n7,Efe=L(()=>{"use strict";Wr();ar();QO();n7=class extends fy{static{a(this,"BandAxis")}constructor(t,r,n,i,s){super(t,i,s,r),this.categories=n,this.scale=rg().domain(this.categories).range(this.getRange())}setRange(t){super.setRange(t)}recalculateScale(){this.scale=rg().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),ce.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(t){return this.scale(t)||this.getRange()[0]}}});var i7,Cfe=L(()=>{"use strict";Wr();QO();i7=class extends fy{static{a(this,"LinearAxis")}constructor(t,r,n,i,s){super(t,i,s,r),this.domain=n,this.scale=Hu().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let t=[...this.domain];this.axisPosition==="left"&&t.reverse(),this.scale=Hu().domain(t).range(this.getRange())}getScaleValue(t){return this.scale(t)}}});function ZO(e,t,r,n){let i=new hy(n);return t7(e)?new n7(t,r,e.categories,e.title,i):new i7(t,r,[e.min,e.max],e.title,i)}var Sfe=L(()=>{"use strict";r7();KO();Efe();Cfe();a(ZO,"getAxis")});function _fe(e,t,r,n){let i=new hy(n);return new JO(i,e,t,r)}var JO,Afe=L(()=>{"use strict";KO();JO=class{constructor(t,r,n,i){this.textDimensionCalculator=t;this.chartConfig=r;this.chartData=n;this.chartThemeConfig=i;this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{a(this,"ChartTitle")}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){let r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,t.width),i=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let t=[];return this.showChartTitle&&t.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),t}};a(_fe,"getChartTitleComponent")});var a7,Lfe=L(()=>{"use strict";Wr();a7=class{constructor(t,r,n,i,s){this.plotData=t;this.xAxis=r;this.yAxis=n;this.orientation=i;this.plotIndex=s}static{a(this,"LinePlot")}getDrawableElement(){let t=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]),r;return this.orientation==="horizontal"?r=Rs().y(n=>n[0]).x(n=>n[1])(t):r=Rs().x(n=>n[0]).y(n=>n[1])(t),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}}});var s7,Dfe=L(()=>{"use strict";s7=class{constructor(t,r,n,i,s,o){this.barData=t;this.boundingRect=r;this.xAxis=n;this.yAxis=i;this.orientation=s;this.plotIndex=o}static{a(this,"BarPlot")}getDrawableElement(){let t=this.barData.data.map(s=>[this.xAxis.getScaleValue(s[0]),this.yAxis.getScaleValue(s[1])]),n=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),i=n/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(s=>({x:this.boundingRect.x,y:s[0]-i,height:n,width:s[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(s=>({x:s[0]-i,y:s[1],width:n,height:this.boundingRect.y+this.boundingRect.height-s[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}}});function Rfe(e,t,r){return new eP(e,t,r)}var eP,Ife=L(()=>{"use strict";Lfe();Dfe();eP=class{constructor(t,r,n){this.chartConfig=t;this.chartData=r;this.chartThemeConfig=n;this.boundingRect={x:0,y:0,width:0,height:0}}static{a(this,"BasePlot")}setAxes(t,r){this.xAxis=t,this.yAxis=r}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){return this.boundingRect.width=t.width,this.boundingRect.height=t.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let t=[];for(let[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{let i=new a7(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...i.getDrawableElement())}break;case"bar":{let i=new s7(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...i.getDrawableElement())}break}return t}};a(Rfe,"getPlotComponent")});var o7,Mfe=L(()=>{"use strict";r7();Sfe();Afe();Ife();o7=class{constructor(t,r,n,i){this.chartConfig=t;this.chartData=r;this.componentStore={title:_fe(t,r,n,i),plot:Rfe(t,r,n),xAxis:ZO(r.xAxis,t.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},i),yAxis:ZO(r.yAxis,t.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},i)}}static{a(this,"Orchestrator")}calculateVerticalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,s=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),u=this.componentStore.plot.calculateSpace({width:s,height:o});t-=u.width,r-=u.height,u=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=u.height,r-=u.height,this.componentStore.xAxis.setAxisPosition("bottom"),u=this.componentStore.xAxis.calculateSpace({width:t,height:r}),r-=u.height,this.componentStore.yAxis.setAxisPosition("left"),u=this.componentStore.yAxis.calculateSpace({width:t,height:r}),n=u.width,t-=u.width,t>0&&(s+=t,t=0),r>0&&(o+=r,r=0),this.componentStore.plot.calculateSpace({width:s,height:o}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([n,n+s]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:i+o}),this.componentStore.yAxis.setRange([i,i+o]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(h=>jO(h))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,s=0,o=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),u=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),h=this.componentStore.plot.calculateSpace({width:o,height:u});t-=h.width,r-=h.height,h=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=h.height,r-=h.height,this.componentStore.xAxis.setAxisPosition("left"),h=this.componentStore.xAxis.calculateSpace({width:t,height:r}),t-=h.width,i=h.width,this.componentStore.yAxis.setAxisPosition("top"),h=this.componentStore.yAxis.calculateSpace({width:t,height:r}),r-=h.height,s=n+h.height,t>0&&(o+=t,t=0),r>0&&(u+=r,r=0),this.componentStore.plot.calculateSpace({width:o,height:u}),this.componentStore.plot.setBoundingBoxXY({x:i,y:s}),this.componentStore.yAxis.setRange([i,i+o]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([s,s+u]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:s}),this.chartData.plots.some(p=>jO(p))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let t=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let r of Object.values(this.componentStore))t.push(...r.getDrawableElements());return t}}});var l7,Nfe=L(()=>{"use strict";Mfe();l7=class{static{a(this,"XYChartBuilder")}static build(t,r,n,i){return new o7(t,r,n,i).getDrawableElement()}}});function Pfe(){let e=yg(),t=Cn();return oa(e.xyChart,t.themeVariables.xyChart)}function Bfe(){let e=Cn();return oa(tn.xyChart,e.xyChart)}function Ffe(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function nP(e){let t=Cn();return ai(e.trim(),t)}function hHe(e){Ofe=e}function fHe(e){e==="horizontal"?Ob.chartOrientation="horizontal":Ob.chartOrientation="vertical"}function dHe(e){oi.xAxis.title=nP(e.text)}function zfe(e,t){oi.xAxis={type:"linear",title:oi.xAxis.title,min:e,max:t},u7=!0}function pHe(e){oi.xAxis={type:"band",title:oi.xAxis.title,categories:e.map(t=>nP(t.text))},u7=!0}function mHe(e){oi.yAxis.title=nP(e.text)}function gHe(e,t){oi.yAxis={type:"linear",title:oi.yAxis.title,min:e,max:t},rP=!0}function yHe(e){let t=Math.min(...e),r=Math.max(...e),n=cy(oi.yAxis)?oi.yAxis.min:1/0,i=cy(oi.yAxis)?oi.yAxis.max:-1/0;oi.yAxis={type:"linear",title:oi.yAxis.title,min:Math.min(n,t),max:Math.max(i,r)}}function $fe(e){let t=[];if(e.length===0)return t;if(!u7){let r=cy(oi.xAxis)?oi.xAxis.min:1/0,n=cy(oi.xAxis)?oi.xAxis.max:-1/0;zfe(Math.min(r,1),Math.max(n,e.length))}if(rP||yHe(e),t7(oi.xAxis)&&(t=oi.xAxis.categories.map((r,n)=>[r,e[n]])),cy(oi.xAxis)){let r=oi.xAxis.min,n=oi.xAxis.max,i=(n-r+1)/e.length,s=[];for(let o=r;o<=n;o+=i)s.push(`${o}`);t=s.map((o,u)=>[o,e[u]])}return t}function Gfe(e){return tP[e===0?0:e%tP.length]}function vHe(e,t){let r=$fe(t);oi.plots.push({type:"line",strokeFill:Gfe(Nb),strokeWidth:2,data:r}),Nb++}function xHe(e,t){let r=$fe(t);oi.plots.push({type:"bar",fill:Gfe(Nb),data:r}),Nb++}function bHe(){if(oi.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return oi.title=wn(),l7.build(Ob,oi,Pb,Ofe)}function kHe(){return Pb}function wHe(){return Ob}var Nb,Ofe,Ob,Pb,oi,tP,u7,rP,THe,Vfe,qfe=L(()=>{"use strict";$i();ro();jo();ak();kn();Ln();Nfe();r7();Nb=0,Ob=Bfe(),Pb=Pfe(),oi=Ffe(),tP=Pb.plotColorPalette.split(",").map(e=>e.trim()),u7=!1,rP=!1;a(Pfe,"getChartDefaultThemeConfig");a(Bfe,"getChartDefaultConfig");a(Ffe,"getChartDefaultData");a(nP,"textSanitizer");a(hHe,"setTmpSVGG");a(fHe,"setOrientation");a(dHe,"setXAxisTitle");a(zfe,"setXAxisRangeData");a(pHe,"setXAxisBand");a(mHe,"setYAxisTitle");a(gHe,"setYAxisRangeData");a(yHe,"setYAxisRangeFromPlotData");a($fe,"transformDataWithoutCategory");a(Gfe,"getPlotColorFromPalette");a(vHe,"setLineData");a(xHe,"setBarData");a(bHe,"getDrawableElem");a(kHe,"getChartThemeConfig");a(wHe,"getChartConfig");THe=a(function(){nn(),Nb=0,Ob=Bfe(),oi=Ffe(),Pb=Pfe(),tP=Pb.plotColorPalette.split(",").map(e=>e.trim()),u7=!1,rP=!1},"clear"),Vfe={getDrawableElem:bHe,clear:THe,setAccTitle:hn,getAccTitle:pn,setDiagramTitle:Dn,getDiagramTitle:wn,getAccDescription:gn,setAccDescription:mn,setOrientation:fHe,setXAxisTitle:dHe,setXAxisRangeData:zfe,setXAxisBand:pHe,setYAxisTitle:mHe,setYAxisRangeData:gHe,setLineData:vHe,setBarData:xHe,setTmpSVGG:hHe,getChartThemeConfig:kHe,getChartConfig:wHe}});var EHe,Ufe,Hfe=L(()=>{"use strict";ar();Cu();si();EHe=a((e,t,r,n)=>{let i=n.db,s=i.getChartThemeConfig(),o=i.getChartConfig();function u(N){return N==="top"?"text-before-edge":"middle"}a(u,"getDominantBaseLine");function h(N){return N==="left"?"start":N==="right"?"end":"middle"}a(h,"getTextAnchor");function p(N){return`translate(${N.x}, ${N.y}) rotate(${N.rotation||0})`}a(p,"getTextTransformation"),ce.debug(`Rendering xychart chart
`+e);let g=ca(t),v=g.append("g").attr("class","main"),x=v.append("rect").attr("width",o.width).attr("height",o.height).attr("class","background");rn(g,o.height,o.width,!0),g.attr("viewBox",`0 0 ${o.width} ${o.height}`),x.attr("fill",s.backgroundColor),i.setTmpSVGG(g.append("g").attr("class","mermaid-tmp-group"));let k=i.getDrawableElem(),E={};function _(N){let M=v,P="";for(let[V]of N.entries()){let H=v;V>0&&E[P]&&(H=E[P]),P+=N[V],M=E[P],M||(M=E[P]=H.append("g").attr("class",N[V]))}return M}a(_,"getGroup");for(let N of k){if(N.data.length===0)continue;let M=_(N.groupTexts);switch(N.type){case"rect":M.selectAll("rect").data(N.data).enter().append("rect").attr("x",P=>P.x).attr("y",P=>P.y).attr("width",P=>P.width).attr("height",P=>P.height).attr("fill",P=>P.fill).attr("stroke",P=>P.strokeFill).attr("stroke-width",P=>P.strokeWidth);break;case"text":M.selectAll("text").data(N.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",P=>P.fill).attr("font-size",P=>P.fontSize).attr("dominant-baseline",P=>u(P.verticalPos)).attr("text-anchor",P=>h(P.horizontalPos)).attr("transform",P=>p(P)).text(P=>P.text);break;case"path":M.selectAll("path").data(N.data).enter().append("path").attr("d",P=>P.path).attr("fill",P=>P.fill?P.fill:"none").attr("stroke",P=>P.strokeFill).attr("stroke-width",P=>P.strokeWidth);break}}},"draw"),Ufe={draw:EHe}});var Wfe={};Hr(Wfe,{diagram:()=>CHe});var CHe,Yfe=L(()=>{"use strict";Tfe();qfe();Hfe();CHe={parser:wfe,db:Vfe,renderer:Ufe}});var iP,Kfe,Qfe=L(()=>{"use strict";iP=function(){var e=a(function(Ie,$e,Xe,He){for(Xe=Xe||{},He=Ie.length;He--;Xe[Ie[He]]=$e);return Xe},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],s=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],o=[1,18],u=[2,7],h=[1,22],p=[1,23],g=[1,24],v=[1,25],x=[1,26],k=[1,27],E=[1,20],_=[1,28],N=[1,29],M=[62,63],P=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],V=[1,47],H=[1,48],O=[1,49],I=[1,50],z=[1,51],G=[1,52],F=[1,53],j=[53,54],D=[1,64],X=[1,60],B=[1,61],Q=[1,62],le=[1,63],J=[1,65],ie=[1,69],re=[1,70],Z=[1,67],Y=[1,68],ue=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],Ae={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:a(function($e,Xe,He,Ne,_e,Me,Ee){var Oe=Me.length-1;switch(_e){case 4:this.$=Me[Oe].trim(),Ne.setAccTitle(this.$);break;case 5:case 6:this.$=Me[Oe].trim(),Ne.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:Ne.addRequirement(Me[Oe-3],Me[Oe-4]);break;case 14:Ne.setNewReqId(Me[Oe-2]);break;case 15:Ne.setNewReqText(Me[Oe-2]);break;case 16:Ne.setNewReqRisk(Me[Oe-2]);break;case 17:Ne.setNewReqVerifyMethod(Me[Oe-2]);break;case 20:this.$=Ne.RequirementType.REQUIREMENT;break;case 21:this.$=Ne.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=Ne.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=Ne.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=Ne.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=Ne.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=Ne.RiskLevel.LOW_RISK;break;case 27:this.$=Ne.RiskLevel.MED_RISK;break;case 28:this.$=Ne.RiskLevel.HIGH_RISK;break;case 29:this.$=Ne.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=Ne.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=Ne.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=Ne.VerifyType.VERIFY_TEST;break;case 33:Ne.addElement(Me[Oe-3]);break;case 34:Ne.setNewElementType(Me[Oe-2]);break;case 35:Ne.setNewElementDocRef(Me[Oe-2]);break;case 38:Ne.addRelationship(Me[Oe-2],Me[Oe],Me[Oe-4]);break;case 39:Ne.addRelationship(Me[Oe-2],Me[Oe-4],Me[Oe]);break;case 40:this.$=Ne.Relationships.CONTAINS;break;case 41:this.$=Ne.Relationships.COPIES;break;case 42:this.$=Ne.Relationships.DERIVES;break;case 43:this.$=Ne.Relationships.SATISFIES;break;case 44:this.$=Ne.Relationships.VERIFIES;break;case 45:this.$=Ne.Relationships.REFINES;break;case 46:this.$=Ne.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(s,[2,6]),{3:12,4:2,6:t,9:r,11:n,13:i},{1:[2,2]},{4:17,5:o,7:13,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:h,32:p,33:g,34:v,35:x,36:k,44:E,62:_,63:N},e(s,[2,4]),e(s,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:o,7:31,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:h,32:p,33:g,34:v,35:x,36:k,44:E,62:_,63:N},{4:17,5:o,7:32,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:h,32:p,33:g,34:v,35:x,36:k,44:E,62:_,63:N},{4:17,5:o,7:33,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:h,32:p,33:g,34:v,35:x,36:k,44:E,62:_,63:N},{4:17,5:o,7:34,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:h,32:p,33:g,34:v,35:x,36:k,44:E,62:_,63:N},{4:17,5:o,7:35,8:u,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:h,32:p,33:g,34:v,35:x,36:k,44:E,62:_,63:N},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},e(M,[2,20]),e(M,[2,21]),e(M,[2,22]),e(M,[2,23]),e(M,[2,24]),e(M,[2,25]),e(P,[2,49]),e(P,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:V,56:H,57:O,58:I,59:z,60:G,61:F},{52:54,55:V,56:H,57:O,58:I,59:z,60:G,61:F},{5:[1,55]},{5:[1,56]},{53:[1,57]},e(j,[2,40]),e(j,[2,41]),e(j,[2,42]),e(j,[2,43]),e(j,[2,44]),e(j,[2,45]),e(j,[2,46]),{54:[1,58]},{5:D,20:59,21:X,24:B,26:Q,28:le,30:J},{5:ie,30:re,46:66,47:Z,49:Y},{23:71,62:_,63:N},{23:72,62:_,63:N},e(ue,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:D,20:77,21:X,24:B,26:Q,28:le,30:J},e(ue,[2,19]),e(ue,[2,33]),{22:[1,78]},{22:[1,79]},{5:ie,30:re,46:80,47:Z,49:Y},e(ue,[2,37]),e(ue,[2,38]),e(ue,[2,39]),{23:81,62:_,63:N},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},e(ue,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},e(ue,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:D,20:106,21:X,24:B,26:Q,28:le,30:J},{5:D,20:107,21:X,24:B,26:Q,28:le,30:J},{5:D,20:108,21:X,24:B,26:Q,28:le,30:J},{5:D,20:109,21:X,24:B,26:Q,28:le,30:J},{5:ie,30:re,46:110,47:Z,49:Y},{5:ie,30:re,46:111,47:Z,49:Y},e(ue,[2,14]),e(ue,[2,15]),e(ue,[2,16]),e(ue,[2,17]),e(ue,[2,34]),e(ue,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:a(function($e,Xe){if(Xe.recoverable)this.trace($e);else{var He=new Error($e);throw He.hash=Xe,He}},"parseError"),parse:a(function($e){var Xe=this,He=[0],Ne=[],_e=[null],Me=[],Ee=this.table,Oe="",at=0,pe=0,Bt=0,Pe=2,gt=1,mt=Me.slice.call(arguments,1),Nt=Object.create(this.lexer),Ut={yy:{}};for(var Gt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Gt)&&(Ut.yy[Gt]=this.yy[Gt]);Nt.setInput($e,Ut.yy),Ut.yy.lexer=Nt,Ut.yy.parser=this,typeof Nt.yylloc>"u"&&(Nt.yylloc={});var Lt=Nt.yylloc;Me.push(Lt);var st=Nt.options&&Nt.options.ranges;typeof Ut.yy.parseError=="function"?this.parseError=Ut.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function De(Fr){He.length=He.length-2*Fr,_e.length=_e.length-Fr,Me.length=Me.length-Fr}a(De,"popStack");function Ge(){var Fr;return Fr=Ne.pop()||Nt.lex()||gt,typeof Fr!="number"&&(Fr instanceof Array&&(Ne=Fr,Fr=Ne.pop()),Fr=Xe.symbols_[Fr]||Fr),Fr}a(Ge,"lex");for(var Ye,Le,je,Je,ct,Br,qt={},Yt,Jt,rr,Ht;;){if(je=He[He.length-1],this.defaultActions[je]?Je=this.defaultActions[je]:((Ye===null||typeof Ye>"u")&&(Ye=Ge()),Je=Ee[je]&&Ee[je][Ye]),typeof Je>"u"||!Je.length||!Je[0]){var yt="";Ht=[];for(Yt in Ee[je])this.terminals_[Yt]&&Yt>Pe&&Ht.push("'"+this.terminals_[Yt]+"'");Nt.showPosition?yt="Parse error on line "+(at+1)+`:
`+Nt.showPosition()+`
Expecting `+Ht.join(", ")+", got '"+(this.terminals_[Ye]||Ye)+"'":yt="Parse error on line "+(at+1)+": Unexpected "+(Ye==gt?"end of input":"'"+(this.terminals_[Ye]||Ye)+"'"),this.parseError(yt,{text:Nt.match,token:this.terminals_[Ye]||Ye,line:Nt.yylineno,loc:Lt,expected:Ht})}if(Je[0]instanceof Array&&Je.length>1)throw new Error("Parse Error: multiple actions possible at state: "+je+", token: "+Ye);switch(Je[0]){case 1:He.push(Ye),_e.push(Nt.yytext),Me.push(Nt.yylloc),He.push(Je[1]),Ye=null,Le?(Ye=Le,Le=null):(pe=Nt.yyleng,Oe=Nt.yytext,at=Nt.yylineno,Lt=Nt.yylloc,Bt>0&&Bt--);break;case 2:if(Jt=this.productions_[Je[1]][1],qt.$=_e[_e.length-Jt],qt._$={first_line:Me[Me.length-(Jt||1)].first_line,last_line:Me[Me.length-1].last_line,first_column:Me[Me.length-(Jt||1)].first_column,last_column:Me[Me.length-1].last_column},st&&(qt._$.range=[Me[Me.length-(Jt||1)].range[0],Me[Me.length-1].range[1]]),Br=this.performAction.apply(qt,[Oe,pe,at,Ut.yy,Je[1],_e,Me].concat(mt)),typeof Br<"u")return Br;Jt&&(He=He.slice(0,-1*Jt*2),_e=_e.slice(0,-1*Jt),Me=Me.slice(0,-1*Jt)),He.push(this.productions_[Je[1]][0]),_e.push(qt.$),Me.push(qt._$),rr=Ee[He[He.length-2]][He[He.length-1]],He.push(rr);break;case 3:return!0}}return!0},"parse")},ae=function(){var Ie={EOF:1,parseError:a(function(Xe,He){if(this.yy.parser)this.yy.parser.parseError(Xe,He);else throw new Error(Xe)},"parseError"),setInput:function($e,Xe){return this.yy=Xe||this.yy||{},this._input=$e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var $e=this._input[0];this.yytext+=$e,this.yyleng++,this.offset++,this.match+=$e,this.matched+=$e;var Xe=$e.match(/(?:\r\n?|\n).*/g);return Xe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$e},unput:function($e){var Xe=$e.length,He=$e.split(/(?:\r\n?|\n)/g);this._input=$e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Xe),this.offset-=Xe;var Ne=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),He.length-1&&(this.yylineno-=He.length-1);var _e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:He?(He.length===Ne.length?this.yylloc.first_column:0)+Ne[Ne.length-He.length].length-He[0].length:this.yylloc.first_column-Xe},this.options.ranges&&(this.yylloc.range=[_e[0],_e[0]+this.yyleng-Xe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function($e){this.unput(this.match.slice($e))},pastInput:function(){var $e=this.matched.substr(0,this.matched.length-this.match.length);return($e.length>20?"...":"")+$e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var $e=this.match;return $e.length<20&&($e+=this._input.substr(0,20-$e.length)),($e.substr(0,20)+($e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var $e=this.pastInput(),Xe=new Array($e.length+1).join("-");return $e+this.upcomingInput()+`
`+Xe+"^"},test_match:function($e,Xe){var He,Ne,_e;if(this.options.backtrack_lexer&&(_e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_e.yylloc.range=this.yylloc.range.slice(0))),Ne=$e[0].match(/(?:\r\n?|\n).*/g),Ne&&(this.yylineno+=Ne.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ne?Ne[Ne.length-1].length-Ne[Ne.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$e[0].length},this.yytext+=$e[0],this.match+=$e[0],this.matches=$e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($e[0].length),this.matched+=$e[0],He=this.performAction.call(this,this.yy,this,Xe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),He)return He;if(this._backtrack){for(var Me in _e)this[Me]=_e[Me];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var $e,Xe,He,Ne;this._more||(this.yytext="",this.match="");for(var _e=this._currentRules(),Me=0;Me<_e.length;Me++)if(He=this._input.match(this.rules[_e[Me]]),He&&(!Xe||He[0].length>Xe[0].length)){if(Xe=He,Ne=Me,this.options.backtrack_lexer){if($e=this.test_match(He,_e[Me]),$e!==!1)return $e;if(this._backtrack){Xe=!1;continue}else return!1}else if(!this.options.flex)break}return Xe?($e=this.test_match(Xe,_e[Ne]),$e!==!1?$e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var Xe=this.next();return Xe||this.lex()},"lex"),begin:a(function(Xe){this.conditionStack.push(Xe)},"begin"),popState:a(function(){var Xe=this.conditionStack.length-1;return Xe>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(Xe){return Xe=this.conditionStack.length-1-Math.abs(Xe||0),Xe>=0?this.conditionStack[Xe]:"INITIAL"},"topState"),pushState:a(function(Xe){this.begin(Xe)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(Xe,He,Ne,_e){var Me=_e;switch(Ne){case 0:return"title";case 1:return this.begin("acc_title"),9;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),11;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return He.yytext=He.yytext.trim(),62;break}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return Ie}();Ae.lexer=ae;function Ke(){this.yy={}}return a(Ke,"Parser"),Ke.prototype=Ae,Ae.Parser=Ke,new Ke}();iP.parser=iP;Kfe=iP});var aP,dl,Bb,Qd,Fb,LHe,DHe,RHe,IHe,MHe,NHe,OHe,PHe,BHe,FHe,zHe,$He,GHe,VHe,qHe,UHe,HHe,Zfe,Jfe=L(()=>{"use strict";Vr();ar();$i();aP=[],dl={},Bb=new Map,Qd={},Fb=new Map,LHe={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},DHe={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},RHe={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},IHe={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},MHe=a((e,t)=>(Bb.has(e)||Bb.set(e,{name:e,type:t,id:dl.id,text:dl.text,risk:dl.risk,verifyMethod:dl.verifyMethod}),dl={},Bb.get(e)),"addRequirement"),NHe=a(()=>Bb,"getRequirements"),OHe=a(e=>{dl!==void 0&&(dl.id=e)},"setNewReqId"),PHe=a(e=>{dl!==void 0&&(dl.text=e)},"setNewReqText"),BHe=a(e=>{dl!==void 0&&(dl.risk=e)},"setNewReqRisk"),FHe=a(e=>{dl!==void 0&&(dl.verifyMethod=e)},"setNewReqVerifyMethod"),zHe=a(e=>(Fb.has(e)||(Fb.set(e,{name:e,type:Qd.type,docRef:Qd.docRef}),ce.info("Added new requirement: ",e)),Qd={},Fb.get(e)),"addElement"),$He=a(()=>Fb,"getElements"),GHe=a(e=>{Qd!==void 0&&(Qd.type=e)},"setNewElementType"),VHe=a(e=>{Qd!==void 0&&(Qd.docRef=e)},"setNewElementDocRef"),qHe=a((e,t,r)=>{aP.push({type:e,src:t,dst:r})},"addRelationship"),UHe=a(()=>aP,"getRelationships"),HHe=a(()=>{aP=[],dl={},Bb=new Map,Qd={},Fb=new Map,nn()},"clear"),Zfe={RequirementType:LHe,RiskLevel:DHe,VerifyType:RHe,Relationships:IHe,getConfig:()=>we().req,addRequirement:MHe,getRequirements:NHe,setNewReqId:OHe,setNewReqText:PHe,setNewReqRisk:BHe,setNewReqVerifyMethod:FHe,setAccTitle:hn,getAccTitle:pn,setAccDescription:mn,getAccDescription:gn,addElement:zHe,getElements:$He,setNewElementType:GHe,setNewElementDocRef:VHe,addRelationship:qHe,getRelationships:UHe,clear:HHe}});var WHe,ede,tde=L(()=>{"use strict";WHe=a(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,"getStyles"),ede=WHe});var sP,YHe,oP,rde=L(()=>{"use strict";sP={CONTAINS:"contains",ARROW:"arrow"},YHe=a((e,t)=>{let r=e.append("defs").append("marker").attr("id",sP.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",sP.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},"insertLineEndings"),oP={ReqMarkers:sP,insertLineEndings:YHe}});var ha,nde,ide,ade,sde,XHe,jHe,KHe,QHe,ZHe,JHe,dy,eWe,ode,lde=L(()=>{"use strict";Wr();fp();Ua();ar();si();Ln();rde();Vr();ha={},nde=0,ide=a((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",ha.rect_min_width+"px").attr("height",ha.rect_min_height+"px"),"newRectNode"),ade=a((e,t,r)=>{let n=ha.rect_min_width/2,i=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",ha.rect_padding).attr("dominant-baseline","hanging"),s=0;r.forEach(p=>{s==0?i.append("tspan").attr("text-anchor","middle").attr("x",ha.rect_min_width/2).attr("dy",0).text(p):i.append("tspan").attr("text-anchor","middle").attr("x",ha.rect_min_width/2).attr("dy",ha.line_height*.75).text(p),s++});let o=1.5*ha.rect_padding,u=s*ha.line_height*.75,h=o+u;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",ha.rect_min_width).attr("y1",h).attr("y2",h),{titleNode:i,y:h}},"newTitleNode"),sde=a((e,t,r,n)=>{let i=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",ha.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),s=0,o=30,u=[];return r.forEach(h=>{let p=h.length;for(;p>o&&s<3;){let g=h.substring(0,o);h=h.substring(o,h.length),p=h.length,u[u.length]=g,s++}if(s==3){let g=u[u.length-1];u[u.length-1]=g.substring(0,g.length-4)+"..."}else u[u.length]=h;s=0}),u.forEach(h=>{i.append("tspan").attr("x",ha.rect_padding).attr("dy",ha.line_height).text(h)}),i},"newBodyNode"),XHe=a((e,t,r,n)=>{let i=t.node().getTotalLength(),s=t.node().getPointAtLength(i*.5),o="rel"+nde;nde++;let h=e.append("text").attr("class","req relationshipLabel").attr("id",o).attr("x",s.x).attr("y",s.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+o).attr("class","req reqLabelBox").attr("x",s.x-h.width/2).attr("y",s.y-h.height/2).attr("width",h.width).attr("height",h.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),jHe=a(function(e,t,r,n,i){let s=r.edge(dy(t.src),dy(t.dst)),o=Rs().x(function(h){return h.x}).y(function(h){return h.y}),u=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",o(s.points)).attr("fill","none");t.type==i.db.Relationships.CONTAINS?u.attr("marker-start","url("+Ct.getUrl(ha.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(u.attr("stroke-dasharray","10,7"),u.attr("marker-end","url("+Ct.getUrl(ha.arrowMarkerAbsolute)+"#"+oP.ReqMarkers.ARROW+"_line_ending)")),XHe(e,u,ha,`<<${t.type}>>`)},"drawRelationshipFromLayout"),KHe=a((e,t,r)=>{e.forEach((n,i)=>{i=dy(i),ce.info("Added new requirement: ",i);let s=r.append("g").attr("id",i),o="req-"+i,u=ide(s,o),h=[],p=ade(s,i+"_title",[`<<${n.type}>>`,`${n.name}`]);h.push(p.titleNode);let g=sde(s,i+"_body",[`Id: ${n.id}`,`Text: ${n.text}`,`Risk: ${n.risk}`,`Verification: ${n.verifyMethod}`],p.y);h.push(g);let v=u.node().getBBox();t.setNode(i,{width:v.width,height:v.height,shape:"rect",id:i})})},"drawReqs"),QHe=a((e,t,r)=>{e.forEach((n,i)=>{let s=dy(i),o=r.append("g").attr("id",s),u="element-"+s,h=ide(o,u),p=[],g=ade(o,u+"_title",["<<Element>>",`${i}`]);p.push(g.titleNode);let v=sde(o,u+"_body",[`Type: ${n.type||"Not Specified"}`,`Doc Ref: ${n.docRef||"None"}`],g.y);p.push(v);let x=h.node().getBBox();t.setNode(s,{width:x.width,height:x.height,shape:"rect",id:s})})},"drawElements"),ZHe=a((e,t)=>(e.forEach(function(r){let n=dy(r.src),i=dy(r.dst);t.setEdge(n,i,{relationship:r})}),e),"addRelationships"),JHe=a(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))})},"adjustEntities"),dy=a(e=>e.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),eWe=a((e,t,r,n)=>{ha=we().requirement;let i=ha.securityLevel,s;i==="sandbox"&&(s=ut("#i"+t));let u=(i==="sandbox"?ut(s.nodes()[0].contentDocument.body):ut("body")).select(`[id='${t}']`);oP.insertLineEndings(u,ha);let h=new fn({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:ha.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}}),p=n.db.getRequirements(),g=n.db.getElements(),v=n.db.getRelationships();KHe(p,h,u),QHe(g,h,u),ZHe(v,h),Il(h),JHe(u,h),v.forEach(function(N){jHe(u,N,h,t,n)});let x=ha.rect_padding,k=u.node().getBBox(),E=k.width+x*2,_=k.height+x*2;rn(u,_,E,ha.useMaxWidth),u.attr("viewBox",`${k.x-x} ${k.y-x} ${E} ${_}`)},"draw"),ode={draw:eWe}});var ude={};Hr(ude,{diagram:()=>tWe});var tWe,cde=L(()=>{"use strict";Qfe();Jfe();tde();lde();tWe={parser:Kfe,db:Zfe,renderer:ode,styles:ede}});var lP,dde,pde=L(()=>{"use strict";lP=function(){var e=a(function(Ne,_e,Me,Ee){for(Me=Me||{},Ee=Ne.length;Ee--;Me[Ne[Ee]]=_e);return Me},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],s=[1,9],o=[1,11],u=[1,13],h=[1,14],p=[1,16],g=[1,17],v=[1,18],x=[1,24],k=[1,25],E=[1,26],_=[1,27],N=[1,28],M=[1,29],P=[1,30],V=[1,31],H=[1,32],O=[1,33],I=[1,34],z=[1,35],G=[1,36],F=[1,37],j=[1,38],D=[1,39],X=[1,41],B=[1,42],Q=[1,43],le=[1,44],J=[1,45],ie=[1,46],re=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],Z=[4,5,16,50,52,53],Y=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],ue=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],Ae=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],ae=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],Ke=[68,69,70],Ie=[1,120],$e={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,DOTTED_ARROW:74,SOLID_CROSS:75,DOTTED_CROSS:76,SOLID_POINT:77,DOTTED_POINT:78,TXT:79,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"DOTTED_ARROW",75:"SOLID_CROSS",76:"DOTTED_CROSS",77:"SOLID_POINT",78:"DOTTED_POINT",79:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:a(function(_e,Me,Ee,Oe,at,pe,Bt){var Pe=pe.length-1;switch(at){case 3:return Oe.apply(pe[Pe]),pe[Pe];break;case 4:case 9:this.$=[];break;case 5:case 10:pe[Pe-1].push(pe[Pe]),this.$=pe[Pe-1];break;case 6:case 7:case 11:case 12:this.$=pe[Pe];break;case 8:case 13:this.$=[];break;case 15:pe[Pe].type="createParticipant",this.$=pe[Pe];break;case 16:pe[Pe-1].unshift({type:"boxStart",boxData:Oe.parseBoxData(pe[Pe-2])}),pe[Pe-1].push({type:"boxEnd",boxText:pe[Pe-2]}),this.$=pe[Pe-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(pe[Pe-2]),sequenceIndexStep:Number(pe[Pe-1]),sequenceVisible:!0,signalType:Oe.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(pe[Pe-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:Oe.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:Oe.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:Oe.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:Oe.LINETYPE.ACTIVE_START,actor:pe[Pe-1].actor};break;case 23:this.$={type:"activeEnd",signalType:Oe.LINETYPE.ACTIVE_END,actor:pe[Pe-1].actor};break;case 29:Oe.setDiagramTitle(pe[Pe].substring(6)),this.$=pe[Pe].substring(6);break;case 30:Oe.setDiagramTitle(pe[Pe].substring(7)),this.$=pe[Pe].substring(7);break;case 31:this.$=pe[Pe].trim(),Oe.setAccTitle(this.$);break;case 32:case 33:this.$=pe[Pe].trim(),Oe.setAccDescription(this.$);break;case 34:pe[Pe-1].unshift({type:"loopStart",loopText:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.LOOP_START}),pe[Pe-1].push({type:"loopEnd",loopText:pe[Pe-2],signalType:Oe.LINETYPE.LOOP_END}),this.$=pe[Pe-1];break;case 35:pe[Pe-1].unshift({type:"rectStart",color:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.RECT_START}),pe[Pe-1].push({type:"rectEnd",color:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.RECT_END}),this.$=pe[Pe-1];break;case 36:pe[Pe-1].unshift({type:"optStart",optText:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.OPT_START}),pe[Pe-1].push({type:"optEnd",optText:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.OPT_END}),this.$=pe[Pe-1];break;case 37:pe[Pe-1].unshift({type:"altStart",altText:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.ALT_START}),pe[Pe-1].push({type:"altEnd",signalType:Oe.LINETYPE.ALT_END}),this.$=pe[Pe-1];break;case 38:pe[Pe-1].unshift({type:"parStart",parText:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.PAR_START}),pe[Pe-1].push({type:"parEnd",signalType:Oe.LINETYPE.PAR_END}),this.$=pe[Pe-1];break;case 39:pe[Pe-1].unshift({type:"parStart",parText:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.PAR_OVER_START}),pe[Pe-1].push({type:"parEnd",signalType:Oe.LINETYPE.PAR_END}),this.$=pe[Pe-1];break;case 40:pe[Pe-1].unshift({type:"criticalStart",criticalText:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.CRITICAL_START}),pe[Pe-1].push({type:"criticalEnd",signalType:Oe.LINETYPE.CRITICAL_END}),this.$=pe[Pe-1];break;case 41:pe[Pe-1].unshift({type:"breakStart",breakText:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.BREAK_START}),pe[Pe-1].push({type:"breakEnd",optText:Oe.parseMessage(pe[Pe-2]),signalType:Oe.LINETYPE.BREAK_END}),this.$=pe[Pe-1];break;case 43:this.$=pe[Pe-3].concat([{type:"option",optionText:Oe.parseMessage(pe[Pe-1]),signalType:Oe.LINETYPE.CRITICAL_OPTION},pe[Pe]]);break;case 45:this.$=pe[Pe-3].concat([{type:"and",parText:Oe.parseMessage(pe[Pe-1]),signalType:Oe.LINETYPE.PAR_AND},pe[Pe]]);break;case 47:this.$=pe[Pe-3].concat([{type:"else",altText:Oe.parseMessage(pe[Pe-1]),signalType:Oe.LINETYPE.ALT_ELSE},pe[Pe]]);break;case 48:pe[Pe-3].draw="participant",pe[Pe-3].type="addParticipant",pe[Pe-3].description=Oe.parseMessage(pe[Pe-1]),this.$=pe[Pe-3];break;case 49:pe[Pe-1].draw="participant",pe[Pe-1].type="addParticipant",this.$=pe[Pe-1];break;case 50:pe[Pe-3].draw="actor",pe[Pe-3].type="addParticipant",pe[Pe-3].description=Oe.parseMessage(pe[Pe-1]),this.$=pe[Pe-3];break;case 51:pe[Pe-1].draw="actor",pe[Pe-1].type="addParticipant",this.$=pe[Pe-1];break;case 52:pe[Pe-1].type="destroyParticipant",this.$=pe[Pe-1];break;case 53:this.$=[pe[Pe-1],{type:"addNote",placement:pe[Pe-2],actor:pe[Pe-1].actor,text:pe[Pe]}];break;case 54:pe[Pe-2]=[].concat(pe[Pe-1],pe[Pe-1]).slice(0,2),pe[Pe-2][0]=pe[Pe-2][0].actor,pe[Pe-2][1]=pe[Pe-2][1].actor,this.$=[pe[Pe-1],{type:"addNote",placement:Oe.PLACEMENT.OVER,actor:pe[Pe-2].slice(0,2),text:pe[Pe]}];break;case 55:this.$=[pe[Pe-1],{type:"addLinks",actor:pe[Pe-1].actor,text:pe[Pe]}];break;case 56:this.$=[pe[Pe-1],{type:"addALink",actor:pe[Pe-1].actor,text:pe[Pe]}];break;case 57:this.$=[pe[Pe-1],{type:"addProperties",actor:pe[Pe-1].actor,text:pe[Pe]}];break;case 58:this.$=[pe[Pe-1],{type:"addDetails",actor:pe[Pe-1].actor,text:pe[Pe]}];break;case 61:this.$=[pe[Pe-2],pe[Pe]];break;case 62:this.$=pe[Pe];break;case 63:this.$=Oe.PLACEMENT.LEFTOF;break;case 64:this.$=Oe.PLACEMENT.RIGHTOF;break;case 65:this.$=[pe[Pe-4],pe[Pe-1],{type:"addMessage",from:pe[Pe-4].actor,to:pe[Pe-1].actor,signalType:pe[Pe-3],msg:pe[Pe],activate:!0},{type:"activeStart",signalType:Oe.LINETYPE.ACTIVE_START,actor:pe[Pe-1].actor}];break;case 66:this.$=[pe[Pe-4],pe[Pe-1],{type:"addMessage",from:pe[Pe-4].actor,to:pe[Pe-1].actor,signalType:pe[Pe-3],msg:pe[Pe]},{type:"activeEnd",signalType:Oe.LINETYPE.ACTIVE_END,actor:pe[Pe-4].actor}];break;case 67:this.$=[pe[Pe-3],pe[Pe-1],{type:"addMessage",from:pe[Pe-3].actor,to:pe[Pe-1].actor,signalType:pe[Pe-2],msg:pe[Pe]}];break;case 68:this.$={type:"addParticipant",actor:pe[Pe]};break;case 69:this.$=Oe.LINETYPE.SOLID_OPEN;break;case 70:this.$=Oe.LINETYPE.DOTTED_OPEN;break;case 71:this.$=Oe.LINETYPE.SOLID;break;case 72:this.$=Oe.LINETYPE.DOTTED;break;case 73:this.$=Oe.LINETYPE.SOLID_CROSS;break;case 74:this.$=Oe.LINETYPE.DOTTED_CROSS;break;case 75:this.$=Oe.LINETYPE.SOLID_POINT;break;case 76:this.$=Oe.LINETYPE.DOTTED_POINT;break;case 77:this.$=Oe.parseMessage(pe[Pe].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:s,5:o,8:8,9:10,12:12,13:u,14:h,17:15,18:p,21:g,22:40,23:v,24:19,25:20,26:21,27:22,28:23,29:x,30:k,31:E,33:_,35:N,36:M,37:P,38:V,39:H,41:O,43:I,44:z,46:G,50:F,52:j,53:D,54:X,59:B,60:Q,61:le,62:J,70:ie},e(re,[2,5]),{9:47,12:12,13:u,14:h,17:15,18:p,21:g,22:40,23:v,24:19,25:20,26:21,27:22,28:23,29:x,30:k,31:E,33:_,35:N,36:M,37:P,38:V,39:H,41:O,43:I,44:z,46:G,50:F,52:j,53:D,54:X,59:B,60:Q,61:le,62:J,70:ie},e(re,[2,7]),e(re,[2,8]),e(re,[2,14]),{12:48,50:F,52:j,53:D},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:ie},{22:55,70:ie},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(re,[2,29]),e(re,[2,30]),{32:[1,61]},{34:[1,62]},e(re,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:ie},{22:72,70:ie},{22:73,70:ie},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82]},{55:83,57:[1,84],65:[1,85],66:[1,86]},{22:87,70:ie},{22:88,70:ie},{22:89,70:ie},{22:90,70:ie},e([5,51,64,71,72,73,74,75,76,77,78,79],[2,68]),e(re,[2,6]),e(re,[2,15]),e(Z,[2,9],{10:91}),e(re,[2,17]),{5:[1,93],19:[1,92]},{5:[1,94]},e(re,[2,21]),{5:[1,95]},{5:[1,96]},e(re,[2,24]),e(re,[2,25]),e(re,[2,26]),e(re,[2,27]),e(re,[2,28]),e(re,[2,31]),e(re,[2,32]),e(Y,i,{7:97}),e(Y,i,{7:98}),e(Y,i,{7:99}),e(ue,i,{40:100,7:101}),e(Ae,i,{42:102,7:103}),e(Ae,i,{7:103,42:104}),e(ae,i,{45:105,7:106}),e(Y,i,{7:107}),{5:[1,109],51:[1,108]},{5:[1,111],51:[1,110]},{5:[1,112]},{22:115,68:[1,113],69:[1,114],70:ie},e(Ke,[2,69]),e(Ke,[2,70]),e(Ke,[2,71]),e(Ke,[2,72]),e(Ke,[2,73]),e(Ke,[2,74]),e(Ke,[2,75]),e(Ke,[2,76]),{22:116,70:ie},{22:118,58:117,70:ie},{70:[2,63]},{70:[2,64]},{56:119,79:Ie},{56:121,79:Ie},{56:122,79:Ie},{56:123,79:Ie},{4:[1,126],5:[1,128],11:125,12:127,16:[1,124],50:F,52:j,53:D},{5:[1,129]},e(re,[2,19]),e(re,[2,20]),e(re,[2,22]),e(re,[2,23]),{4:s,5:o,8:8,9:10,12:12,13:u,14:h,16:[1,130],17:15,18:p,21:g,22:40,23:v,24:19,25:20,26:21,27:22,28:23,29:x,30:k,31:E,33:_,35:N,36:M,37:P,38:V,39:H,41:O,43:I,44:z,46:G,50:F,52:j,53:D,54:X,59:B,60:Q,61:le,62:J,70:ie},{4:s,5:o,8:8,9:10,12:12,13:u,14:h,16:[1,131],17:15,18:p,21:g,22:40,23:v,24:19,25:20,26:21,27:22,28:23,29:x,30:k,31:E,33:_,35:N,36:M,37:P,38:V,39:H,41:O,43:I,44:z,46:G,50:F,52:j,53:D,54:X,59:B,60:Q,61:le,62:J,70:ie},{4:s,5:o,8:8,9:10,12:12,13:u,14:h,16:[1,132],17:15,18:p,21:g,22:40,23:v,24:19,25:20,26:21,27:22,28:23,29:x,30:k,31:E,33:_,35:N,36:M,37:P,38:V,39:H,41:O,43:I,44:z,46:G,50:F,52:j,53:D,54:X,59:B,60:Q,61:le,62:J,70:ie},{16:[1,133]},{4:s,5:o,8:8,9:10,12:12,13:u,14:h,16:[2,46],17:15,18:p,21:g,22:40,23:v,24:19,25:20,26:21,27:22,28:23,29:x,30:k,31:E,33:_,35:N,36:M,37:P,38:V,39:H,41:O,43:I,44:z,46:G,49:[1,134],50:F,52:j,53:D,54:X,59:B,60:Q,61:le,62:J,70:ie},{16:[1,135]},{4:s,5:o,8:8,9:10,12:12,13:u,14:h,16:[2,44],17:15,18:p,21:g,22:40,23:v,24:19,25:20,26:21,27:22,28:23,29:x,30:k,31:E,33:_,35:N,36:M,37:P,38:V,39:H,41:O,43:I,44:z,46:G,48:[1,136],50:F,52:j,53:D,54:X,59:B,60:Q,61:le,62:J,70:ie},{16:[1,137]},{16:[1,138]},{4:s,5:o,8:8,9:10,12:12,13:u,14:h,16:[2,42],17:15,18:p,21:g,22:40,23:v,24:19,25:20,26:21,27:22,28:23,29:x,30:k,31:E,33:_,35:N,36:M,37:P,38:V,39:H,41:O,43:I,44:z,46:G,47:[1,139],50:F,52:j,53:D,54:X,59:B,60:Q,61:le,62:J,70:ie},{4:s,5:o,8:8,9:10,12:12,13:u,14:h,16:[1,140],17:15,18:p,21:g,22:40,23:v,24:19,25:20,26:21,27:22,28:23,29:x,30:k,31:E,33:_,35:N,36:M,37:P,38:V,39:H,41:O,43:I,44:z,46:G,50:F,52:j,53:D,54:X,59:B,60:Q,61:le,62:J,70:ie},{15:[1,141]},e(re,[2,49]),{15:[1,142]},e(re,[2,51]),e(re,[2,52]),{22:143,70:ie},{22:144,70:ie},{56:145,79:Ie},{56:146,79:Ie},{56:147,79:Ie},{64:[1,148],79:[2,62]},{5:[2,55]},{5:[2,77]},{5:[2,56]},{5:[2,57]},{5:[2,58]},e(re,[2,16]),e(Z,[2,10]),{12:149,50:F,52:j,53:D},e(Z,[2,12]),e(Z,[2,13]),e(re,[2,18]),e(re,[2,34]),e(re,[2,35]),e(re,[2,36]),e(re,[2,37]),{15:[1,150]},e(re,[2,38]),{15:[1,151]},e(re,[2,39]),e(re,[2,40]),{15:[1,152]},e(re,[2,41]),{5:[1,153]},{5:[1,154]},{56:155,79:Ie},{56:156,79:Ie},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:157,70:ie},e(Z,[2,11]),e(ue,i,{7:101,40:158}),e(Ae,i,{7:103,42:159}),e(ae,i,{7:106,45:160}),e(re,[2,48]),e(re,[2,50]),{5:[2,65]},{5:[2,66]},{79:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],85:[2,63],86:[2,64],119:[2,55],120:[2,77],121:[2,56],122:[2,57],123:[2,58],145:[2,67],146:[2,53],147:[2,54],155:[2,65],156:[2,66],157:[2,61],158:[2,47],159:[2,45],160:[2,43]},parseError:a(function(_e,Me){if(Me.recoverable)this.trace(_e);else{var Ee=new Error(_e);throw Ee.hash=Me,Ee}},"parseError"),parse:a(function(_e){var Me=this,Ee=[0],Oe=[],at=[null],pe=[],Bt=this.table,Pe="",gt=0,mt=0,Nt=0,Ut=2,Gt=1,Lt=pe.slice.call(arguments,1),st=Object.create(this.lexer),De={yy:{}};for(var Ge in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ge)&&(De.yy[Ge]=this.yy[Ge]);st.setInput(_e,De.yy),De.yy.lexer=st,De.yy.parser=this,typeof st.yylloc>"u"&&(st.yylloc={});var Ye=st.yylloc;pe.push(Ye);var Le=st.options&&st.options.ranges;typeof De.yy.parseError=="function"?this.parseError=De.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function je(li){Ee.length=Ee.length-2*li,at.length=at.length-li,pe.length=pe.length-li}a(je,"popStack");function Je(){var li;return li=Oe.pop()||st.lex()||Gt,typeof li!="number"&&(li instanceof Array&&(Oe=li,li=Oe.pop()),li=Me.symbols_[li]||li),li}a(Je,"lex");for(var ct,Br,qt,Yt,Jt,rr,Ht={},yt,Fr,tr,Qi;;){if(qt=Ee[Ee.length-1],this.defaultActions[qt]?Yt=this.defaultActions[qt]:((ct===null||typeof ct>"u")&&(ct=Je()),Yt=Bt[qt]&&Bt[qt][ct]),typeof Yt>"u"||!Yt.length||!Yt[0]){var pa="";Qi=[];for(yt in Bt[qt])this.terminals_[yt]&&yt>Ut&&Qi.push("'"+this.terminals_[yt]+"'");st.showPosition?pa="Parse error on line "+(gt+1)+`:
`+st.showPosition()+`
Expecting `+Qi.join(", ")+", got '"+(this.terminals_[ct]||ct)+"'":pa="Parse error on line "+(gt+1)+": Unexpected "+(ct==Gt?"end of input":"'"+(this.terminals_[ct]||ct)+"'"),this.parseError(pa,{text:st.match,token:this.terminals_[ct]||ct,line:st.yylineno,loc:Ye,expected:Qi})}if(Yt[0]instanceof Array&&Yt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+qt+", token: "+ct);switch(Yt[0]){case 1:Ee.push(ct),at.push(st.yytext),pe.push(st.yylloc),Ee.push(Yt[1]),ct=null,Br?(ct=Br,Br=null):(mt=st.yyleng,Pe=st.yytext,gt=st.yylineno,Ye=st.yylloc,Nt>0&&Nt--);break;case 2:if(Fr=this.productions_[Yt[1]][1],Ht.$=at[at.length-Fr],Ht._$={first_line:pe[pe.length-(Fr||1)].first_line,last_line:pe[pe.length-1].last_line,first_column:pe[pe.length-(Fr||1)].first_column,last_column:pe[pe.length-1].last_column},Le&&(Ht._$.range=[pe[pe.length-(Fr||1)].range[0],pe[pe.length-1].range[1]]),rr=this.performAction.apply(Ht,[Pe,mt,gt,De.yy,Yt[1],at,pe].concat(Lt)),typeof rr<"u")return rr;Fr&&(Ee=Ee.slice(0,-1*Fr*2),at=at.slice(0,-1*Fr),pe=pe.slice(0,-1*Fr)),Ee.push(this.productions_[Yt[1]][0]),at.push(Ht.$),pe.push(Ht._$),tr=Bt[Ee[Ee.length-2]][Ee[Ee.length-1]],Ee.push(tr);break;case 3:return!0}}return!0},"parse")},Xe=function(){var Ne={EOF:1,parseError:a(function(Me,Ee){if(this.yy.parser)this.yy.parser.parseError(Me,Ee);else throw new Error(Me)},"parseError"),setInput:function(_e,Me){return this.yy=Me||this.yy||{},this._input=_e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var _e=this._input[0];this.yytext+=_e,this.yyleng++,this.offset++,this.match+=_e,this.matched+=_e;var Me=_e.match(/(?:\r\n?|\n).*/g);return Me?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_e},unput:function(_e){var Me=_e.length,Ee=_e.split(/(?:\r\n?|\n)/g);this._input=_e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Me),this.offset-=Me;var Oe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ee.length-1&&(this.yylineno-=Ee.length-1);var at=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ee?(Ee.length===Oe.length?this.yylloc.first_column:0)+Oe[Oe.length-Ee.length].length-Ee[0].length:this.yylloc.first_column-Me},this.options.ranges&&(this.yylloc.range=[at[0],at[0]+this.yyleng-Me]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(_e){this.unput(this.match.slice(_e))},pastInput:function(){var _e=this.matched.substr(0,this.matched.length-this.match.length);return(_e.length>20?"...":"")+_e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var _e=this.match;return _e.length<20&&(_e+=this._input.substr(0,20-_e.length)),(_e.substr(0,20)+(_e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var _e=this.pastInput(),Me=new Array(_e.length+1).join("-");return _e+this.upcomingInput()+`
`+Me+"^"},test_match:function(_e,Me){var Ee,Oe,at;if(this.options.backtrack_lexer&&(at={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(at.yylloc.range=this.yylloc.range.slice(0))),Oe=_e[0].match(/(?:\r\n?|\n).*/g),Oe&&(this.yylineno+=Oe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Oe?Oe[Oe.length-1].length-Oe[Oe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_e[0].length},this.yytext+=_e[0],this.match+=_e[0],this.matches=_e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_e[0].length),this.matched+=_e[0],Ee=this.performAction.call(this,this.yy,this,Me,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ee)return Ee;if(this._backtrack){for(var pe in at)this[pe]=at[pe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _e,Me,Ee,Oe;this._more||(this.yytext="",this.match="");for(var at=this._currentRules(),pe=0;pe<at.length;pe++)if(Ee=this._input.match(this.rules[at[pe]]),Ee&&(!Me||Ee[0].length>Me[0].length)){if(Me=Ee,Oe=pe,this.options.backtrack_lexer){if(_e=this.test_match(Ee,at[pe]),_e!==!1)return _e;if(this._backtrack){Me=!1;continue}else return!1}else if(!this.options.flex)break}return Me?(_e=this.test_match(Me,at[Oe]),_e!==!1?_e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var Me=this.next();return Me||this.lex()},"lex"),begin:a(function(Me){this.conditionStack.push(Me)},"begin"),popState:a(function(){var Me=this.conditionStack.length-1;return Me>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(Me){return Me=this.conditionStack.length-1-Math.abs(Me||0),Me>=0?this.conditionStack[Me]:"INITIAL"},"topState"),pushState:a(function(Me){this.begin(Me)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(Me,Ee,Oe,at){var pe=at;switch(Oe){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;break;case 8:return this.begin("ID"),50;break;case 9:return this.begin("ID"),52;break;case 10:return 13;case 11:return this.begin("ID"),53;break;case 12:return Ee.yytext=Ee.yytext.trim(),this.begin("ALIAS"),70;break;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;break;case 14:return this.popState(),this.popState(),5;break;case 15:return this.begin("LINE"),36;break;case 16:return this.begin("LINE"),37;break;case 17:return this.begin("LINE"),38;break;case 18:return this.begin("LINE"),39;break;case 19:return this.begin("LINE"),49;break;case 20:return this.begin("LINE"),41;break;case 21:return this.begin("LINE"),43;break;case 22:return this.begin("LINE"),48;break;case 23:return this.begin("LINE"),44;break;case 24:return this.begin("LINE"),47;break;case 25:return this.begin("LINE"),46;break;case 26:return this.popState(),15;break;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;break;case 37:return this.begin("ID"),23;break;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;break;case 41:return this.popState(),"acc_title_value";break;case 42:return this.begin("acc_descr"),33;break;case 43:return this.popState(),"acc_descr_value";break;case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return Ee.yytext=Ee.yytext.trim(),70;break;case 53:return 73;case 54:return 74;case 55:return 71;case 56:return 72;case 57:return 75;case 58:return 76;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 68;case 63:return 69;case 64:return 5;case 65:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65],inclusive:!0}}};return Ne}();$e.lexer=Xe;function He(){this.yy={}}return a(He,"Parser"),He.prototype=$e,$e.Parser=He,new He}();lP.parser=lP;dde=lP});var c7,mde=L(()=>{"use strict";c7=class{constructor(t){this.init=t;this.records=this.init()}static{a(this,"ImperativeState")}reset(){this.records=this.init()}}});function cP(e,t){if(e.links==null)e.links=t;else for(let r in t)e.links[r]=t[r]}function xde(e,t){if(e.properties==null)e.properties=t;else for(let r in t)e.properties[r]=t[r]}function SWe(){xr.records.currentBox=void 0}var xr,aWe,uP,sWe,oWe,wa,lWe,uWe,cWe,hWe,fWe,dWe,pWe,$b,mWe,gWe,yWe,vWe,xWe,em,bWe,kWe,wWe,zb,TWe,EWe,gde,yde,CWe,vde,bde,_We,kde,hP,wde=L(()=>{"use strict";Vr();ar();mde();Ln();$i();xr=new c7(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),aWe=a(function(e){xr.records.boxes.push({name:e.text,wrap:e.wrap===void 0&&em()||!!e.wrap,fill:e.color,actorKeys:[]}),xr.records.currentBox=xr.records.boxes.slice(-1)[0]},"addBox"),uP=a(function(e,t,r,n){let i=xr.records.currentBox,s=xr.records.actors.get(e);if(s){if(xr.records.currentBox&&s.box&&xr.records.currentBox!==s.box)throw new Error(`A same participant should only be defined in one Box: ${s.name} can't be in '${s.box.name}' and in '${xr.records.currentBox.name}' at the same time.`);if(i=s.box?s.box:xr.records.currentBox,s.box=i,s&&t===s.name&&r==null)return}if((r==null||r.text==null)&&(r={text:t,wrap:null,type:n}),(n==null||r.text==null)&&(r={text:t,wrap:null,type:n}),xr.records.actors.set(e,{box:i,name:t,description:r.text,wrap:r.wrap===void 0&&em()||!!r.wrap,prevActor:xr.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),xr.records.prevActor){let o=xr.records.actors.get(xr.records.prevActor);o&&(o.nextActor=e)}xr.records.currentBox&&xr.records.currentBox.actorKeys.push(e),xr.records.prevActor=e},"addActor"),sWe=a(e=>{let t,r=0;if(!e)return 0;for(t=0;t<xr.records.messages.length;t++)xr.records.messages[t].type===zb.ACTIVE_START&&xr.records.messages[t].from===e&&r++,xr.records.messages[t].type===zb.ACTIVE_END&&xr.records.messages[t].from===e&&r--;return r},"activationCount"),oWe=a(function(e,t,r,n){xr.records.messages.push({from:e,to:t,message:r.text,wrap:r.wrap===void 0&&em()||!!r.wrap,answer:n})},"addMessage"),wa=a(function(e,t,r,n,i=!1){if(n===zb.ACTIVE_END&&sWe(e||"")<1){let o=new Error("Trying to inactivate an inactive participant ("+e+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}return xr.records.messages.push({from:e,to:t,message:r?.text??"",wrap:r?.wrap===void 0&&em()||!!r?.wrap,type:n,activate:i}),!0},"addSignal"),lWe=a(function(){return xr.records.boxes.length>0},"hasAtLeastOneBox"),uWe=a(function(){return xr.records.boxes.some(e=>e.name)},"hasAtLeastOneBoxWithTitle"),cWe=a(function(){return xr.records.messages},"getMessages"),hWe=a(function(){return xr.records.boxes},"getBoxes"),fWe=a(function(){return xr.records.actors},"getActors"),dWe=a(function(){return xr.records.createdActors},"getCreatedActors"),pWe=a(function(){return xr.records.destroyedActors},"getDestroyedActors"),$b=a(function(e){return xr.records.actors.get(e)},"getActor"),mWe=a(function(){return[...xr.records.actors.keys()]},"getActorKeys"),gWe=a(function(){xr.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),yWe=a(function(){xr.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),vWe=a(()=>xr.records.sequenceNumbersEnabled,"showSequenceNumbers"),xWe=a(function(e){xr.records.wrapEnabled=e},"setWrap"),em=a(()=>xr.records.wrapEnabled!==void 0?xr.records.wrapEnabled:we()?.sequence?.wrap,"autoWrap"),bWe=a(function(){xr.reset(),nn()},"clear"),kWe=a(function(e){let t=e.trim(),r={text:t.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:t.match(/^:?wrap:/)!==null?!0:t.match(/^:?nowrap:/)!==null?!1:void 0};return ce.debug(`parseMessage: ${r}`),r},"parseMessage"),wWe=a(function(e){let t=e.match(/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/),r=t!=null&&t[1]?t[1].trim():"transparent",n=t!=null&&t[2]?t[2].trim():void 0;if(window&&window.CSS)window.CSS.supports("color",r)||(r="transparent",n=e.trim());else{let i=new Option().style;i.color=r,i.color!==r&&(r="transparent",n=e.trim())}return{color:r,text:n!==void 0?ai(n.replace(/^:?(?:no)?wrap:/,""),we()):void 0,wrap:n!==void 0?n.match(/^:?wrap:/)!==null?!0:n.match(/^:?nowrap:/)!==null?!1:void 0:void 0}},"parseBoxData"),zb={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32},TWe={FILLED:0,OPEN:1},EWe={LEFTOF:0,RIGHTOF:1,OVER:2},gde=a(function(e,t,r){let n={actor:e,placement:t,message:r.text,wrap:r.wrap===void 0&&em()||!!r.wrap},i=[].concat(e,e);xr.records.notes.push(n),xr.records.messages.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap===void 0&&em()||!!r.wrap,type:zb.NOTE,placement:t})},"addNote"),yde=a(function(e,t){let r=$b(e);try{let n=ai(t.text,we());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");let i=JSON.parse(n);cP(r,i)}catch(n){ce.error("error while parsing actor link text",n)}},"addLinks"),CWe=a(function(e,t){let r=$b(e);try{let n={},i=ai(t.text,we()),s=i.indexOf("@");i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");let o=i.slice(0,s-1).trim(),u=i.slice(s+1).trim();n[o]=u,cP(r,n)}catch(n){ce.error("error while parsing actor link text",n)}},"addALink");a(cP,"insertLinks");vde=a(function(e,t){let r=$b(e);try{let n=ai(t.text,we()),i=JSON.parse(n);xde(r,i)}catch(n){ce.error("error while parsing actor properties text",n)}},"addProperties");a(xde,"insertProperties");a(SWe,"boxEnd");bde=a(function(e,t){let r=$b(e),n=document.getElementById(t.text);try{let i=n.innerHTML,s=JSON.parse(i);s.properties&&xde(r,s.properties),s.links&&cP(r,s.links)}catch(i){ce.error("error while parsing actor details text",i)}},"addDetails"),_We=a(function(e,t){if(e!==void 0&&e.properties!==void 0)return e.properties[t]},"getActorProperty"),kde=a(function(e){if(Array.isArray(e))e.forEach(function(t){kde(t)});else switch(e.type){case"sequenceIndex":xr.records.messages.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":uP(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(xr.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");xr.records.lastCreated=e.actor,uP(e.actor,e.actor,e.description,e.draw),xr.records.createdActors.set(e.actor,xr.records.messages.length);break;case"destroyParticipant":xr.records.lastDestroyed=e.actor,xr.records.destroyedActors.set(e.actor,xr.records.messages.length);break;case"activeStart":wa(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":wa(e.actor,void 0,void 0,e.signalType);break;case"addNote":gde(e.actor,e.placement,e.text);break;case"addLinks":yde(e.actor,e.text);break;case"addALink":CWe(e.actor,e.text);break;case"addProperties":vde(e.actor,e.text);break;case"addDetails":bde(e.actor,e.text);break;case"addMessage":if(xr.records.lastCreated){if(e.to!==xr.records.lastCreated)throw new Error("The created participant "+xr.records.lastCreated+" does not have an associated creating message after its declaration. Please check the sequence diagram.");xr.records.lastCreated=void 0}else if(xr.records.lastDestroyed){if(e.to!==xr.records.lastDestroyed&&e.from!==xr.records.lastDestroyed)throw new Error("The destroyed participant "+xr.records.lastDestroyed+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");xr.records.lastDestroyed=void 0}wa(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":aWe(e.boxData);break;case"boxEnd":SWe();break;case"loopStart":wa(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":wa(void 0,void 0,void 0,e.signalType);break;case"rectStart":wa(void 0,void 0,e.color,e.signalType);break;case"rectEnd":wa(void 0,void 0,void 0,e.signalType);break;case"optStart":wa(void 0,void 0,e.optText,e.signalType);break;case"optEnd":wa(void 0,void 0,void 0,e.signalType);break;case"altStart":wa(void 0,void 0,e.altText,e.signalType);break;case"else":wa(void 0,void 0,e.altText,e.signalType);break;case"altEnd":wa(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":hn(e.text);break;case"parStart":wa(void 0,void 0,e.parText,e.signalType);break;case"and":wa(void 0,void 0,e.parText,e.signalType);break;case"parEnd":wa(void 0,void 0,void 0,e.signalType);break;case"criticalStart":wa(void 0,void 0,e.criticalText,e.signalType);break;case"option":wa(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":wa(void 0,void 0,void 0,e.signalType);break;case"breakStart":wa(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":wa(void 0,void 0,void 0,e.signalType);break}},"apply"),hP={addActor:uP,addMessage:oWe,addSignal:wa,addLinks:yde,addDetails:bde,addProperties:vde,autoWrap:em,setWrap:xWe,enableSequenceNumbers:gWe,disableSequenceNumbers:yWe,showSequenceNumbers:vWe,getMessages:cWe,getActors:fWe,getCreatedActors:dWe,getDestroyedActors:pWe,getActor:$b,getActorKeys:mWe,getActorProperty:_We,getAccTitle:pn,getBoxes:hWe,getDiagramTitle:wn,setDiagramTitle:Dn,getConfig:()=>we().sequence,clear:bWe,parseMessage:kWe,parseBoxData:wWe,LINETYPE:zb,ARROWTYPE:TWe,PLACEMENT:EWe,addNote:gde,setAccTitle:hn,apply:kde,setAccDescription:mn,getAccDescription:gn,hasAtLeastOneBox:lWe,hasAtLeastOneBoxWithTitle:uWe}});var AWe,Tde,Ede=L(()=>{"use strict";AWe=a(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),Tde=AWe});var fP,Zd,Sde,_de,LWe,Cde,dP,DWe,RWe,Gb,tm,Ade,yh,pP,IWe,MWe,NWe,OWe,PWe,BWe,FWe,Lde,zWe,$We,GWe,VWe,qWe,UWe,HWe,Dde,WWe,mP,YWe,fa,Rde=L(()=>{"use strict";Ln();P2();kn();fP=_s($m(),1);ro();Zd=18*2,Sde="actor-top",_de="actor-bottom",LWe="actor-box",Cde="actor-man",dP=a(function(e,t){return np(e,t)},"drawRect"),DWe=a(function(e,t,r,n,i){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let s=t.links,o=t.actorCnt,u=t.rectData;var h="none";i&&(h="block !important");let p=e.append("g");p.attr("id","actor"+o+"_popup"),p.attr("class","actorPopupMenu"),p.attr("display",h);var g="";u.class!==void 0&&(g=" "+u.class);let v=u.width>r?u.width:r,x=p.append("rect");if(x.attr("class","actorPopupMenuPanel"+g),x.attr("x",u.x),x.attr("y",u.height),x.attr("fill",u.fill),x.attr("stroke",u.stroke),x.attr("width",v),x.attr("height",u.height),x.attr("rx",u.rx),x.attr("ry",u.ry),s!=null){var k=20;for(let N in s){var E=p.append("a"),_=(0,fP.sanitizeUrl)(s[N]);E.attr("xlink:href",_),E.attr("target","_blank"),YWe(n)(N,E,u.x+10,u.height+k,v,20,{class:"actor"},n),k+=30}}return x.attr("height",k),{height:u.height+k,width:v}},"drawPopup"),RWe=a(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),Gb=a(async function(e,t,r=null){let n=e.append("foreignObject"),i=await qc(t.text,Cn()),o=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(o.height)).attr("width",Math.round(o.width)),t.class==="noteText"){let u=e.node().firstChild;u.setAttribute("height",o.height+2*t.textMargin);let h=u.getBBox();n.attr("x",Math.round(h.x+h.width/2-o.width/2)).attr("y",Math.round(h.y+h.height/2-o.height/2))}else if(r){let{startx:u,stopx:h,starty:p}=r;if(u>h){let g=u;u=h,h=g}n.attr("x",Math.round(u+Math.abs(u-h)/2-o.width/2)),t.class==="loopText"?n.attr("y",Math.round(p)):n.attr("y",Math.round(p-o.height))}return[n]},"drawKatex"),tm=a(function(e,t){let r=0,n=0,i=t.text.split(Ct.lineBreakRegex),[s,o]=Kc(t.fontSize),u=[],h=0,p=a(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":p=a(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":p=a(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":p=a(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[g,v]of i.entries()){t.textMargin!==void 0&&t.textMargin===0&&s!==void 0&&(h=g*s);let x=e.append("text");x.attr("x",t.x),x.attr("y",p()),t.anchor!==void 0&&x.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&x.style("font-family",t.fontFamily),o!==void 0&&x.style("font-size",o),t.fontWeight!==void 0&&x.style("font-weight",t.fontWeight),t.fill!==void 0&&x.attr("fill",t.fill),t.class!==void 0&&x.attr("class",t.class),t.dy!==void 0?x.attr("dy",t.dy):h!==0&&x.attr("dy",h);let k=v||z9;if(t.tspan){let E=x.append("tspan");E.attr("x",t.x),t.fill!==void 0&&E.attr("fill",t.fill),E.text(k)}else x.text(k);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(x._groups||x)[0][0].getBBox().height,r=n),u.push(x)}return u},"drawText"),Ade=a(function(e,t){function r(i,s,o,u,h){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+u-h)+" "+(i+o-h*1.2)+","+(s+u)+" "+i+","+(s+u)}a(r,"genPoints");let n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,tm(e,t),n},"drawLabel"),yh=-1,pP=a((e,t,r,n)=>{e.select&&r.forEach(i=>{let s=t.get(i),o=e.select("#actor"+s.actorCnt);!n.mirrorActors&&s.stopy?o.attr("y2",s.stopy+s.height/2):n.mirrorActors&&o.attr("y2",s.stopy)})},"fixLifeLineHeights"),IWe=a(async function(e,t,r,n){let i=n?t.stopy:t.starty,s=t.x+t.width/2,o=i+5,u=e.append("g").lower();var h=u;n||(yh++,Object.keys(t.links||{}).length&&!r.forceMenus&&h.attr("onclick",RWe(`actor${yh}_popup`)).attr("cursor","pointer"),h.append("line").attr("id","actor"+yh).attr("x1",s).attr("y1",o).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),h=u.append("g"),t.actorCnt=yh,t.links!=null&&h.attr("id","root-"+yh));let p=ac();var g="actor";t.properties!=null&&t.properties.class?g=t.properties.class:p.fill="#eaeaea",n?g+=` ${_de}`:g+=` ${Sde}`,p.x=t.x,p.y=i,p.width=t.width,p.height=t.height,p.class=g,p.rx=3,p.ry=3,p.name=t.name;let v=dP(h,p);if(t.rectData=p,t.properties!=null&&t.properties.icon){let k=t.properties.icon.trim();k.charAt(0)==="@"?fK(h,p.x+p.width-20,p.y+10,k.substr(1)):hK(h,p.x+p.width-20,p.y+10,k)}await mP(r,Xo(t.description))(t.description,h,p.x,p.y,p.width,p.height,{class:`actor ${LWe}`},r);let x=t.height;if(v.node){let k=v.node().getBBox();t.height=k.height,x=k.height}return x},"drawActorTypeParticipant"),MWe=a(async function(e,t,r,n){let i=n?t.stopy:t.starty,s=t.x+t.width/2,o=i+80;e.lower(),n||(yh++,e.append("line").attr("id","actor"+yh).attr("x1",s).attr("y1",o).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=yh);let u=e.append("g"),h=Cde;n?h+=` ${_de}`:h+=` ${Sde}`,u.attr("class",h),u.attr("name",t.name);let p=ac();p.x=t.x,p.y=i,p.fill="#eaeaea",p.width=t.width,p.height=t.height,p.class="actor",p.rx=3,p.ry=3,u.append("line").attr("id","actor-man-torso"+yh).attr("x1",s).attr("y1",i+25).attr("x2",s).attr("y2",i+45),u.append("line").attr("id","actor-man-arms"+yh).attr("x1",s-Zd/2).attr("y1",i+33).attr("x2",s+Zd/2).attr("y2",i+33),u.append("line").attr("x1",s-Zd/2).attr("y1",i+60).attr("x2",s).attr("y2",i+45),u.append("line").attr("x1",s).attr("y1",i+45).attr("x2",s+Zd/2-2).attr("y2",i+60);let g=u.append("circle");g.attr("cx",t.x+t.width/2),g.attr("cy",i+10),g.attr("r",15),g.attr("width",t.width),g.attr("height",t.height);let v=u.node().getBBox();return t.height=v.height,await mP(r,Xo(t.description))(t.description,u,p.x,p.y+35,p.width,p.height,{class:`actor ${Cde}`},r),t.height},"drawActorTypeActor"),NWe=a(async function(e,t,r,n){switch(t.type){case"actor":return await MWe(e,t,r,n);case"participant":return await IWe(e,t,r,n)}},"drawActor"),OWe=a(async function(e,t,r){let i=e.append("g");Lde(i,t),t.name&&await mP(r)(t.name,i,t.x,t.y+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),i.lower()},"drawBox"),PWe=a(function(e){return e.append("g")},"anchorElement"),BWe=a(function(e,t,r,n,i){let s=ac(),o=t.anchored;s.x=t.startx,s.y=t.starty,s.class="activation"+i%3,s.width=t.stopx-t.startx,s.height=r-t.starty,dP(o,s)},"drawActivation"),FWe=a(async function(e,t,r,n){let{boxMargin:i,boxTextMargin:s,labelBoxHeight:o,labelBoxWidth:u,messageFontFamily:h,messageFontSize:p,messageFontWeight:g}=n,v=e.append("g"),x=a(function(_,N,M,P){return v.append("line").attr("x1",_).attr("y1",N).attr("x2",M).attr("y2",P).attr("class","loopLine")},"drawLoopLine");x(t.startx,t.starty,t.stopx,t.starty),x(t.stopx,t.starty,t.stopx,t.stopy),x(t.startx,t.stopy,t.stopx,t.stopy),x(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(_){x(t.startx,_.y,t.stopx,_.y).style("stroke-dasharray","3, 3")});let k=O2();k.text=r,k.x=t.startx,k.y=t.starty,k.fontFamily=h,k.fontSize=p,k.fontWeight=g,k.anchor="middle",k.valign="middle",k.tspan=!1,k.width=u||50,k.height=o||20,k.textMargin=s,k.class="labelText",Ade(v,k),k=Dde(),k.text=t.title,k.x=t.startx+u/2+(t.stopx-t.startx)/2,k.y=t.starty+i+s,k.anchor="middle",k.valign="middle",k.textMargin=s,k.class="loopText",k.fontFamily=h,k.fontSize=p,k.fontWeight=g,k.wrap=!0;let E=Xo(k.text)?await Gb(v,k,t):tm(v,k);if(t.sectionTitles!==void 0){for(let[_,N]of Object.entries(t.sectionTitles))if(N.message){k.text=N.message,k.x=t.startx+(t.stopx-t.startx)/2,k.y=t.sections[_].y+i+s,k.class="loopText",k.anchor="middle",k.valign="middle",k.tspan=!1,k.fontFamily=h,k.fontSize=p,k.fontWeight=g,k.wrap=t.wrap,Xo(k.text)?(t.starty=t.sections[_].y,await Gb(v,k,t)):tm(v,k);let M=Math.round(E.map(P=>(P._groups||P)[0][0].getBBox().height).reduce((P,V)=>P+V));t.sections[_].height+=M-(i+s)}}return t.height=Math.round(t.stopy-t.starty),v},"drawLoop"),Lde=a(function(e,t){Yk(e,t)},"drawBackgroundRect"),zWe=a(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),$We=a(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),GWe=a(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),VWe=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),qWe=a(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),UWe=a(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),HWe=a(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),Dde=a(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),WWe=a(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),mP=function(){function e(s,o,u,h,p,g,v){let x=o.append("text").attr("x",u+p/2).attr("y",h+g/2+5).style("text-anchor","middle").text(s);i(x,v)}a(e,"byText");function t(s,o,u,h,p,g,v,x){let{actorFontSize:k,actorFontFamily:E,actorFontWeight:_}=x,[N,M]=Kc(k),P=s.split(Ct.lineBreakRegex);for(let V=0;V<P.length;V++){let H=V*N-N*(P.length-1)/2,O=o.append("text").attr("x",u+p/2).attr("y",h).style("text-anchor","middle").style("font-size",M).style("font-weight",_).style("font-family",E);O.append("tspan").attr("x",u+p/2).attr("dy",H).text(P[V]),O.attr("y",h+g/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(O,v)}}a(t,"byTspan");function r(s,o,u,h,p,g,v,x){let k=o.append("switch"),_=k.append("foreignObject").attr("x",u).attr("y",h).attr("width",p).attr("height",g).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");_.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),t(s,k,u,h,p,g,v,x),i(_,v)}a(r,"byFo");async function n(s,o,u,h,p,g,v,x){let k=await V0(s,Cn()),E=o.append("switch"),N=E.append("foreignObject").attr("x",u+p/2-k.width/2).attr("y",h+g/2-k.height/2).attr("width",k.width).attr("height",k.height).append("xhtml:div").style("height","100%").style("width","100%");N.append("div").style("text-align","center").style("vertical-align","middle").html(await qc(s,Cn())),t(s,E,u,h,p,g,v,x),i(N,v)}a(n,"byKatex");function i(s,o){for(let u in o)o.hasOwnProperty(u)&&s.attr(u,o[u])}return a(i,"_setTextAttrs"),function(s,o=!1){return o?n:s.textPlacement==="fo"?r:s.textPlacement==="old"?e:t}}(),YWe=function(){function e(i,s,o,u,h,p,g){let v=s.append("text").attr("x",o).attr("y",u).style("text-anchor","start").text(i);n(v,g)}a(e,"byText");function t(i,s,o,u,h,p,g,v){let{actorFontSize:x,actorFontFamily:k,actorFontWeight:E}=v,_=i.split(Ct.lineBreakRegex);for(let N=0;N<_.length;N++){let M=N*x-x*(_.length-1)/2,P=s.append("text").attr("x",o).attr("y",u).style("text-anchor","start").style("font-size",x).style("font-weight",E).style("font-family",k);P.append("tspan").attr("x",o).attr("dy",M).text(_[N]),P.attr("y",u+p/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(P,g)}}a(t,"byTspan");function r(i,s,o,u,h,p,g,v){let x=s.append("switch"),E=x.append("foreignObject").attr("x",o).attr("y",u).attr("width",h).attr("height",p).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,x,o,u,h,p,g,v),n(E,g)}a(r,"byFo");function n(i,s){for(let o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),fa={drawRect:dP,drawText:tm,drawLabel:Ade,drawActor:NWe,drawBox:OWe,drawPopup:DWe,anchorElement:PWe,drawActivation:BWe,drawLoop:FWe,drawBackgroundRect:Lde,insertArrowHead:VWe,insertArrowFilledHead:qWe,insertSequenceNumber:UWe,insertArrowCrossHead:HWe,insertDatabaseIcon:zWe,insertComputerIcon:$We,insertClockIcon:GWe,getTextObj:Dde,getNoteRect:WWe,fixLifeLineHeights:pP,sanitizeUrl:fP.sanitizeUrl}});async function jWe(e,t){Pt.bumpVerticalPos(10);let{startx:r,stopx:n,message:i}=t,s=Ct.splitBreaks(i).length,o=Xo(i),u=o?await V0(i,we()):wr.calculateTextDimensions(i,rm(et));if(!o){let v=u.height/s;t.height+=v,Pt.bumpVerticalPos(v)}let h,p=u.height-10,g=u.width;if(r===n){h=Pt.getVerticalPos()+p,et.rightAngles||(p+=et.boxMargin,h=Pt.getVerticalPos()+p),p+=30;let v=Ct.getMax(g/2,et.width/2);Pt.insert(r-v,Pt.getVerticalPos()-10+p,n+v,Pt.getVerticalPos()+30+p)}else p+=et.boxMargin,h=Pt.getVerticalPos()+p,Pt.insert(r,h-10,n,h);return Pt.bumpVerticalPos(p),t.height+=p,t.stopy=t.starty+t.height,Pt.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),h}function vh(e,t,r,n,i){Pt.bumpVerticalPos(r);let s=n;if(t.id&&t.message&&e[t.id]){let o=e[t.id].width,u=rm(et);t.message=wr.wrapLabel(`[${t.message}]`,o-2*et.wrapPadding,u),t.width=o,t.wrap=!0;let h=wr.calculateTextDimensions(t.message,u),p=Ct.getMax(h.height,et.labelBoxHeight);s=n+p,ce.debug(`${p} - ${t.message}`)}i(t),Pt.bumpVerticalPos(s)}function ZWe(e,t,r,n,i,s,o){function u(p,g){p.x<i.get(e.from).x?(Pt.insert(t.stopx-g,t.starty,t.startx,t.stopy+p.height/2+et.noteMargin),t.stopx=t.stopx+g):(Pt.insert(t.startx,t.starty,t.stopx+g,t.stopy+p.height/2+et.noteMargin),t.stopx=t.stopx-g)}a(u,"receiverAdjustment");function h(p,g){p.x<i.get(e.to).x?(Pt.insert(t.startx-g,t.starty,t.stopx,t.stopy+p.height/2+et.noteMargin),t.startx=t.startx+g):(Pt.insert(t.stopx,t.starty,t.startx+g,t.stopy+p.height/2+et.noteMargin),t.startx=t.startx-g)}if(a(h,"senderAdjustment"),s.get(e.to)==n){let p=i.get(e.to),g=p.type=="actor"?Zd/2+3:p.width/2+3;u(p,g),p.starty=r-p.height/2,Pt.bumpVerticalPos(p.height/2)}else if(o.get(e.from)==n){let p=i.get(e.from);if(et.mirrorActors){let g=p.type=="actor"?Zd/2:p.width/2;h(p,g)}p.stopy=r-p.height/2,Pt.bumpVerticalPos(p.height/2)}else if(o.get(e.to)==n){let p=i.get(e.to);if(et.mirrorActors){let g=p.type=="actor"?Zd/2+3:p.width/2+3;u(p,g)}p.stopy=r-p.height/2,Pt.bumpVerticalPos(p.height/2)}}async function eYe(e,t,r){let n={};for(let i of t)if(e.get(i.to)&&e.get(i.from)){let s=e.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!s.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!s.nextActor)continue;let o=i.placement!==void 0,u=!o,h=o?py(et):rm(et),p=i.wrap?wr.wrapLabel(i.message,et.width-2*et.wrapPadding,h):i.message,v=(Xo(p)?await V0(i.message,we()):wr.calculateTextDimensions(p,h)).width+2*et.wrapPadding;u&&i.from===s.nextActor?n[i.to]=Ct.getMax(n[i.to]||0,v):u&&i.from===s.prevActor?n[i.from]=Ct.getMax(n[i.from]||0,v):u&&i.from===i.to?(n[i.from]=Ct.getMax(n[i.from]||0,v/2),n[i.to]=Ct.getMax(n[i.to]||0,v/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=Ct.getMax(n[i.from]||0,v):i.placement===r.db.PLACEMENT.LEFTOF?n[s.prevActor]=Ct.getMax(n[s.prevActor]||0,v):i.placement===r.db.PLACEMENT.OVER&&(s.prevActor&&(n[s.prevActor]=Ct.getMax(n[s.prevActor]||0,v/2)),s.nextActor&&(n[i.from]=Ct.getMax(n[i.from]||0,v/2)))}return ce.debug("maxMessageWidthPerActor:",n),n}async function rYe(e,t,r){let n=0;for(let s of e.keys()){let o=e.get(s);o.wrap&&(o.description=wr.wrapLabel(o.description,et.width-2*et.wrapPadding,gP(et)));let u=Xo(o.description)?await V0(o.description,we()):wr.calculateTextDimensions(o.description,gP(et));o.width=o.wrap?et.width:Ct.getMax(et.width,u.width+2*et.wrapPadding),o.height=o.wrap?Ct.getMax(u.height,et.height):et.height,n=Ct.getMax(n,o.height)}for(let s in t){let o=e.get(s);if(!o)continue;let u=e.get(o.nextActor);if(!u){let v=t[s]+et.actorMargin-o.width/2;o.margin=Ct.getMax(v,et.actorMargin);continue}let p=t[s]+et.actorMargin-o.width/2-u.width/2;o.margin=Ct.getMax(p,et.actorMargin)}let i=0;return r.forEach(s=>{let o=rm(et),u=s.actorKeys.reduce((g,v)=>g+=e.get(v).width+(e.get(v).margin||0),0);u-=2*et.boxTextMargin,s.wrap&&(s.name=wr.wrapLabel(s.name,u-2*et.wrapPadding,o));let h=wr.calculateTextDimensions(s.name,o);i=Ct.getMax(h.height,i);let p=Ct.getMax(u,h.width+2*et.wrapPadding);if(s.margin=et.boxTextMargin,u<p){let g=(p-u)/2;s.margin+=g}}),r.forEach(s=>s.textMaxHeight=i),Ct.getMax(n,et.height)}var et,Pt,XWe,rm,py,gP,KWe,QWe,yP,Mde,Nde,h7,Ide,JWe,tYe,nYe,iYe,aYe,Ode,Pde=L(()=>{"use strict";Wr();Rde();ar();Ln();P2();Vr();u2();kn();si();et={},Pt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},clear:function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},addBox:function(e){this.boxes.push(e)},addActor:function(e){this.actors.push(e)},addLoop:function(e){this.loops.push(e)},addMessage:function(e){this.messages.push(e)},addNote:function(e){this.notes.push(e)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],boxes:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Nde(we())},updateVal:function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){let i=this,s=0;function o(u){return a(function(p){s++;let g=i.sequenceItems.length-s+1;i.updateVal(p,"starty",t-g*et.boxMargin,Math.min),i.updateVal(p,"stopy",n+g*et.boxMargin,Math.max),i.updateVal(Pt.data,"startx",e-g*et.boxMargin,Math.min),i.updateVal(Pt.data,"stopx",r+g*et.boxMargin,Math.max),u!=="activation"&&(i.updateVal(p,"startx",e-g*et.boxMargin,Math.min),i.updateVal(p,"stopx",r+g*et.boxMargin,Math.max),i.updateVal(Pt.data,"starty",t-g*et.boxMargin,Math.min),i.updateVal(Pt.data,"stopy",n+g*et.boxMargin,Math.max))},"updateItemBounds")}a(o,"updateFn"),this.sequenceItems.forEach(o()),this.activations.forEach(o("activation"))},insert:function(e,t,r,n){let i=Ct.getMin(e,r),s=Ct.getMax(e,r),o=Ct.getMin(t,n),u=Ct.getMax(t,n);this.updateVal(Pt.data,"startx",i,Math.min),this.updateVal(Pt.data,"starty",o,Math.min),this.updateVal(Pt.data,"stopx",s,Math.max),this.updateVal(Pt.data,"stopy",u,Math.max),this.updateBounds(i,o,s,u)},newActivation:function(e,t,r){let n=r.get(e.from),i=h7(e.from).length||0,s=n.x+n.width/2+(i-1)*et.activationWidth/2;this.activations.push({startx:s,starty:this.verticalPos+2,stopx:s+et.activationWidth,stopy:void 0,actor:e.from,anchored:fa.anchorElement(t)})},endActivation:function(e){let t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},createLoop:function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},newLoop:function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},endLoop:function(){return this.sequenceItems.pop()},isLoopOverlap:function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},addSectionToLoop:function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:Pt.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},saveVerticalPos:function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},resetVerticalPos:function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=Ct.getMax(this.data.stopy,this.verticalPos)},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},XWe=a(async function(e,t){Pt.bumpVerticalPos(et.boxMargin),t.height=et.boxMargin,t.starty=Pt.getVerticalPos();let r=ac();r.x=t.startx,r.y=t.starty,r.width=t.width||et.width,r.class="note";let n=e.append("g"),i=fa.drawRect(n,r),s=O2();s.x=t.startx,s.y=t.starty,s.width=r.width,s.dy="1em",s.text=t.message,s.class="noteText",s.fontFamily=et.noteFontFamily,s.fontSize=et.noteFontSize,s.fontWeight=et.noteFontWeight,s.anchor=et.noteAlign,s.textMargin=et.noteMargin,s.valign="center";let o=Xo(s.text)?await Gb(n,s):tm(n,s),u=Math.round(o.map(h=>(h._groups||h)[0][0].getBBox().height).reduce((h,p)=>h+p));i.attr("height",u+2*et.noteMargin),t.height+=u+2*et.noteMargin,Pt.bumpVerticalPos(u+2*et.noteMargin),t.stopy=t.starty+u+2*et.noteMargin,t.stopx=t.startx+r.width,Pt.insert(t.startx,t.starty,t.stopx,t.stopy),Pt.models.addNote(t)},"drawNote"),rm=a(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),py=a(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),gP=a(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont");a(jWe,"boundMessage");KWe=a(async function(e,t,r,n){let{startx:i,stopx:s,starty:o,message:u,type:h,sequenceIndex:p,sequenceVisible:g}=t,v=wr.calculateTextDimensions(u,rm(et)),x=O2();x.x=i,x.y=o+10,x.width=s-i,x.class="messageText",x.dy="1em",x.text=u,x.fontFamily=et.messageFontFamily,x.fontSize=et.messageFontSize,x.fontWeight=et.messageFontWeight,x.anchor=et.messageAlign,x.valign="center",x.textMargin=et.wrapPadding,x.tspan=!1,Xo(x.text)?await Gb(e,x,{startx:i,stopx:s,starty:r}):tm(e,x);let k=v.width,E;i===s?et.rightAngles?E=e.append("path").attr("d",`M  ${i},${r} H ${i+Ct.getMax(et.width/2,k/2)} V ${r+25} H ${i}`):E=e.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(E=e.append("line"),E.attr("x1",i),E.attr("y1",r),E.attr("x2",s),E.attr("y2",r)),h===n.db.LINETYPE.DOTTED||h===n.db.LINETYPE.DOTTED_CROSS||h===n.db.LINETYPE.DOTTED_POINT||h===n.db.LINETYPE.DOTTED_OPEN?(E.style("stroke-dasharray","3, 3"),E.attr("class","messageLine1")):E.attr("class","messageLine0");let _="";et.arrowMarkerAbsolute&&(_=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,_=_.replace(/\(/g,"\\("),_=_.replace(/\)/g,"\\)")),E.attr("stroke-width",2),E.attr("stroke","none"),E.style("fill","none"),(h===n.db.LINETYPE.SOLID||h===n.db.LINETYPE.DOTTED)&&E.attr("marker-end","url("+_+"#arrowhead)"),(h===n.db.LINETYPE.SOLID_POINT||h===n.db.LINETYPE.DOTTED_POINT)&&E.attr("marker-end","url("+_+"#filled-head)"),(h===n.db.LINETYPE.SOLID_CROSS||h===n.db.LINETYPE.DOTTED_CROSS)&&E.attr("marker-end","url("+_+"#crosshead)"),(g||et.showSequenceNumbers)&&(E.attr("marker-start","url("+_+"#sequencenumber)"),e.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(p))},"drawMessage"),QWe=a(async function(e,t,r,n,i,s,o){let u=0,h=0,p,g=0;for(let v of n){let x=t.get(v),k=x.box;p&&p!=k&&(o||Pt.models.addBox(p),h+=et.boxMargin+p.margin),k&&k!=p&&(o||(k.x=u+h,k.y=i),h+=k.margin),x.width=x.width||et.width,x.height=Ct.getMax(x.height||et.height,et.height),x.margin=x.margin||et.actorMargin,g=Ct.getMax(g,x.height),r.get(x.name)&&(h+=x.width/2),x.x=u+h,x.starty=Pt.getVerticalPos(),Pt.insert(x.x,i,x.x+x.width,x.height),u+=x.width+h,x.box&&(x.box.width=u+k.margin-x.box.x),h=x.margin,p=x.box,Pt.models.addActor(x)}p&&!o&&Pt.models.addBox(p),Pt.bumpVerticalPos(g)},"addActorRenderingData"),yP=a(async function(e,t,r,n){if(n){let i=0;Pt.bumpVerticalPos(et.boxMargin*2);for(let s of r){let o=t.get(s);o.stopy||(o.stopy=Pt.getVerticalPos());let u=await fa.drawActor(e,o,et,!0);i=Ct.getMax(i,u)}Pt.bumpVerticalPos(i+et.boxMargin)}else for(let i of r){let s=t.get(i);await fa.drawActor(e,s,et,!1)}},"drawActors"),Mde=a(function(e,t,r,n){let i=0,s=0;for(let o of r){let u=t.get(o),h=tYe(u),p=fa.drawPopup(e,u,h,et,et.forceMenus,n);p.height>i&&(i=p.height),p.width+u.x>s&&(s=p.width+u.x)}return{maxHeight:i,maxWidth:s}},"drawActorsPopup"),Nde=a(function(e){na(et,e),e.fontFamily&&(et.actorFontFamily=et.noteFontFamily=et.messageFontFamily=e.fontFamily),e.fontSize&&(et.actorFontSize=et.noteFontSize=et.messageFontSize=e.fontSize),e.fontWeight&&(et.actorFontWeight=et.noteFontWeight=et.messageFontWeight=e.fontWeight)},"setConf"),h7=a(function(e){return Pt.activations.filter(function(t){return t.actor===e})},"actorActivations"),Ide=a(function(e,t){let r=t.get(e),n=h7(e),i=n.reduce(function(o,u){return Ct.getMin(o,u.startx)},r.x+r.width/2-1),s=n.reduce(function(o,u){return Ct.getMax(o,u.stopx)},r.x+r.width/2+1);return[i,s]},"activationBounds");a(vh,"adjustLoopHeightForWrap");a(ZWe,"adjustCreatedDestroyedData");JWe=a(async function(e,t,r,n){let{securityLevel:i,sequence:s}=we();et=s;let o;i==="sandbox"&&(o=ut("#i"+t));let u=i==="sandbox"?ut(o.nodes()[0].contentDocument.body):ut("body"),h=i==="sandbox"?o.nodes()[0].contentDocument:document;Pt.init(),ce.debug(n.db);let p=i==="sandbox"?u.select(`[id="${t}"]`):ut(`[id="${t}"]`),g=n.db.getActors(),v=n.db.getCreatedActors(),x=n.db.getDestroyedActors(),k=n.db.getBoxes(),E=n.db.getActorKeys(),_=n.db.getMessages(),N=n.db.getDiagramTitle(),M=n.db.hasAtLeastOneBox(),P=n.db.hasAtLeastOneBoxWithTitle(),V=await eYe(g,_,n);if(et.height=await rYe(g,V,k),fa.insertComputerIcon(p),fa.insertDatabaseIcon(p),fa.insertClockIcon(p),M&&(Pt.bumpVerticalPos(et.boxMargin),P&&Pt.bumpVerticalPos(k[0].textMaxHeight)),et.hideUnusedParticipants===!0){let re=new Set;_.forEach(Z=>{re.add(Z.from),re.add(Z.to)}),E=E.filter(Z=>re.has(Z))}await QWe(p,g,v,E,0,_,!1);let H=await aYe(_,g,V,n);fa.insertArrowHead(p),fa.insertArrowCrossHead(p),fa.insertArrowFilledHead(p),fa.insertSequenceNumber(p);function O(re,Z){let Y=Pt.endActivation(re);Y.starty+18>Z&&(Y.starty=Z-6,Z+=12),fa.drawActivation(p,Y,Z,et,h7(re.from).length),Pt.insert(Y.startx,Z-10,Y.stopx,Z)}a(O,"activeEnd");let I=1,z=1,G=[],F=[],j=0;for(let re of _){let Z,Y,ue;switch(re.type){case n.db.LINETYPE.NOTE:Pt.resetVerticalPos(),Y=re.noteModel,await XWe(p,Y);break;case n.db.LINETYPE.ACTIVE_START:Pt.newActivation(re,p,g);break;case n.db.LINETYPE.ACTIVE_END:O(re,Pt.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:vh(H,re,et.boxMargin,et.boxMargin+et.boxTextMargin,Ae=>Pt.newLoop(Ae));break;case n.db.LINETYPE.LOOP_END:Z=Pt.endLoop(),await fa.drawLoop(p,Z,"loop",et),Pt.bumpVerticalPos(Z.stopy-Pt.getVerticalPos()),Pt.models.addLoop(Z);break;case n.db.LINETYPE.RECT_START:vh(H,re,et.boxMargin,et.boxMargin,Ae=>Pt.newLoop(void 0,Ae.message));break;case n.db.LINETYPE.RECT_END:Z=Pt.endLoop(),F.push(Z),Pt.models.addLoop(Z),Pt.bumpVerticalPos(Z.stopy-Pt.getVerticalPos());break;case n.db.LINETYPE.OPT_START:vh(H,re,et.boxMargin,et.boxMargin+et.boxTextMargin,Ae=>Pt.newLoop(Ae));break;case n.db.LINETYPE.OPT_END:Z=Pt.endLoop(),await fa.drawLoop(p,Z,"opt",et),Pt.bumpVerticalPos(Z.stopy-Pt.getVerticalPos()),Pt.models.addLoop(Z);break;case n.db.LINETYPE.ALT_START:vh(H,re,et.boxMargin,et.boxMargin+et.boxTextMargin,Ae=>Pt.newLoop(Ae));break;case n.db.LINETYPE.ALT_ELSE:vh(H,re,et.boxMargin+et.boxTextMargin,et.boxMargin,Ae=>Pt.addSectionToLoop(Ae));break;case n.db.LINETYPE.ALT_END:Z=Pt.endLoop(),await fa.drawLoop(p,Z,"alt",et),Pt.bumpVerticalPos(Z.stopy-Pt.getVerticalPos()),Pt.models.addLoop(Z);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:vh(H,re,et.boxMargin,et.boxMargin+et.boxTextMargin,Ae=>Pt.newLoop(Ae)),Pt.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:vh(H,re,et.boxMargin+et.boxTextMargin,et.boxMargin,Ae=>Pt.addSectionToLoop(Ae));break;case n.db.LINETYPE.PAR_END:Z=Pt.endLoop(),await fa.drawLoop(p,Z,"par",et),Pt.bumpVerticalPos(Z.stopy-Pt.getVerticalPos()),Pt.models.addLoop(Z);break;case n.db.LINETYPE.AUTONUMBER:I=re.message.start||I,z=re.message.step||z,re.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:vh(H,re,et.boxMargin,et.boxMargin+et.boxTextMargin,Ae=>Pt.newLoop(Ae));break;case n.db.LINETYPE.CRITICAL_OPTION:vh(H,re,et.boxMargin+et.boxTextMargin,et.boxMargin,Ae=>Pt.addSectionToLoop(Ae));break;case n.db.LINETYPE.CRITICAL_END:Z=Pt.endLoop(),await fa.drawLoop(p,Z,"critical",et),Pt.bumpVerticalPos(Z.stopy-Pt.getVerticalPos()),Pt.models.addLoop(Z);break;case n.db.LINETYPE.BREAK_START:vh(H,re,et.boxMargin,et.boxMargin+et.boxTextMargin,Ae=>Pt.newLoop(Ae));break;case n.db.LINETYPE.BREAK_END:Z=Pt.endLoop(),await fa.drawLoop(p,Z,"break",et),Pt.bumpVerticalPos(Z.stopy-Pt.getVerticalPos()),Pt.models.addLoop(Z);break;default:try{ue=re.msgModel,ue.starty=Pt.getVerticalPos(),ue.sequenceIndex=I,ue.sequenceVisible=n.db.showSequenceNumbers();let Ae=await jWe(p,ue);ZWe(re,ue,Ae,j,g,v,x),G.push({messageModel:ue,lineStartY:Ae}),Pt.models.addMessage(ue)}catch(Ae){ce.error("error while drawing message",Ae)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(re.type)&&(I=I+z),j++}ce.debug("createdActors",v),ce.debug("destroyedActors",x),await yP(p,g,E,!1);for(let re of G)await KWe(p,re.messageModel,re.lineStartY,n);et.mirrorActors&&await yP(p,g,E,!0),F.forEach(re=>fa.drawBackgroundRect(p,re)),pP(p,g,E,et);for(let re of Pt.models.boxes)re.height=Pt.getVerticalPos()-re.y,Pt.insert(re.x,re.y,re.x+re.width,re.height),re.startx=re.x,re.starty=re.y,re.stopx=re.startx+re.width,re.stopy=re.starty+re.height,re.stroke="rgb(0,0,0, 0.5)",await fa.drawBox(p,re,et);M&&Pt.bumpVerticalPos(et.boxMargin);let D=Mde(p,g,E,h),{bounds:X}=Pt.getBounds(),B=X.stopy-X.starty;B<D.maxHeight&&(B=D.maxHeight);let Q=B+2*et.diagramMarginY;et.mirrorActors&&(Q=Q-et.boxMargin+et.bottomMarginAdj);let le=X.stopx-X.startx;le<D.maxWidth&&(le=D.maxWidth);let J=le+2*et.diagramMarginX;N&&p.append("text").text(N).attr("x",(X.stopx-X.startx)/2-2*et.diagramMarginX).attr("y",-25),rn(p,Q,J,et.useMaxWidth);let ie=N?40:0;p.attr("viewBox",X.startx-et.diagramMarginX+" -"+(et.diagramMarginY+ie)+" "+J+" "+(Q+ie)),ce.debug("models:",Pt.models)},"draw");a(eYe,"getMaxMessageWidthPerActor");tYe=a(function(e){let t=0,r=gP(et);for(let n in e.links){let s=wr.calculateTextDimensions(n,r).width+2*et.wrapPadding+2*et.boxMargin;t<s&&(t=s)}return t},"getRequiredPopupWidth");a(rYe,"calculateActorMargins");nYe=a(async function(e,t,r){let n=t.get(e.from),i=t.get(e.to),s=n.x,o=i.x,u=e.wrap&&e.message,h=Xo(e.message)?await V0(e.message,we()):wr.calculateTextDimensions(u?wr.wrapLabel(e.message,et.width,py(et)):e.message,py(et)),p={width:u?et.width:Ct.getMax(et.width,h.width+2*et.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(p.width=u?Ct.getMax(et.width,h.width):Ct.getMax(n.width/2+i.width/2,h.width+2*et.noteMargin),p.startx=s+(n.width+et.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(p.width=u?Ct.getMax(et.width,h.width+2*et.noteMargin):Ct.getMax(n.width/2+i.width/2,h.width+2*et.noteMargin),p.startx=s-p.width+(n.width-et.actorMargin)/2):e.to===e.from?(h=wr.calculateTextDimensions(u?wr.wrapLabel(e.message,Ct.getMax(et.width,n.width),py(et)):e.message,py(et)),p.width=u?Ct.getMax(et.width,n.width):Ct.getMax(n.width,et.width,h.width+2*et.noteMargin),p.startx=s+(n.width-p.width)/2):(p.width=Math.abs(s+n.width/2-(o+i.width/2))+et.actorMargin,p.startx=s<o?s+n.width/2-et.actorMargin/2:o+i.width/2-et.actorMargin/2),u&&(p.message=wr.wrapLabel(e.message,p.width-2*et.wrapPadding,py(et))),ce.debug(`NM:[${p.startx},${p.stopx},${p.starty},${p.stopy}:${p.width},${p.height}=${e.message}]`),p},"buildNoteModel"),iYe=a(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(e.type))return{};let[n,i]=Ide(e.from,t),[s,o]=Ide(e.to,t),u=n<=s,h=u?i:n,p=u?s:o,g=Math.abs(s-o)>2,v=a(_=>u?-_:_,"adjustValue");e.from===e.to?p=h:(e.activate&&!g&&(p+=v(et.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(p+=v(3)));let x=[n,i,s,o],k=Math.abs(h-p);e.wrap&&e.message&&(e.message=wr.wrapLabel(e.message,Ct.getMax(k+2*et.wrapPadding,et.width),rm(et)));let E=wr.calculateTextDimensions(e.message,rm(et));return{width:Ct.getMax(e.wrap?0:E.width+2*et.wrapPadding,k+2*et.wrapPadding,et.width),height:0,startx:h,stopx:p,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,x),toBounds:Math.max.apply(null,x)}},"buildMessageModel"),aYe=a(async function(e,t,r,n){let i={},s=[],o,u,h;for(let p of e){switch(p.id=wr.random({length:10}),p.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:s.push({id:p.id,msg:p.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:p.message&&(o=s.pop(),i[o.id]=o,i[p.id]=o,s.push(o));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:o=s.pop(),i[o.id]=o;break;case n.db.LINETYPE.ACTIVE_START:{let v=t.get(p.from?p.from:p.to.actor),x=h7(p.from?p.from:p.to.actor).length,k=v.x+v.width/2+(x-1)*et.activationWidth/2,E={startx:k,stopx:k+et.activationWidth,actor:p.from,enabled:!0};Pt.activations.push(E)}break;case n.db.LINETYPE.ACTIVE_END:{let v=Pt.activations.map(x=>x.actor).lastIndexOf(p.from);delete Pt.activations.splice(v,1)[0]}break}p.placement!==void 0?(u=await nYe(p,t,n),p.noteModel=u,s.forEach(v=>{o=v,o.from=Ct.getMin(o.from,u.startx),o.to=Ct.getMax(o.to,u.startx+u.width),o.width=Ct.getMax(o.width,Math.abs(o.from-o.to))-et.labelBoxWidth})):(h=iYe(p,t,n),p.msgModel=h,h.startx&&h.stopx&&s.length>0&&s.forEach(v=>{if(o=v,h.startx===h.stopx){let x=t.get(p.from),k=t.get(p.to);o.from=Ct.getMin(x.x-h.width/2,x.x-x.width/2,o.from),o.to=Ct.getMax(k.x+h.width/2,k.x+x.width/2,o.to),o.width=Ct.getMax(o.width,Math.abs(o.to-o.from))-et.labelBoxWidth}else o.from=Ct.getMin(h.startx,o.from),o.to=Ct.getMax(h.stopx,o.to),o.width=Ct.getMax(o.width,h.width)-et.labelBoxWidth}))}return Pt.activations=[],ce.debug("Loop type widths:",i),i},"calculateLoopBounds"),Ode={bounds:Pt,drawActors:yP,drawActorsPopup:Mde,setConf:Nde,draw:JWe}});var Bde={};Hr(Bde,{diagram:()=>sYe});var sYe,Fde=L(()=>{"use strict";pde();wde();Ede();Pde();sYe={parser:dde,db:hP,renderer:Ode,styles:Tde,init:({wrap:e})=>{hP.setWrap(e)}}});var vP,f7,xP=L(()=>{"use strict";vP=function(){var e=a(function(Gt,Lt,st,De){for(st=st||{},De=Gt.length;De--;st[Gt[De]]=Lt);return st},"o"),t=[1,17],r=[1,18],n=[1,19],i=[1,39],s=[1,40],o=[1,25],u=[1,23],h=[1,24],p=[1,31],g=[1,32],v=[1,33],x=[1,34],k=[1,35],E=[1,36],_=[1,26],N=[1,27],M=[1,28],P=[1,29],V=[1,43],H=[1,30],O=[1,42],I=[1,44],z=[1,41],G=[1,45],F=[1,9],j=[1,8,9],D=[1,56],X=[1,57],B=[1,58],Q=[1,59],le=[1,60],J=[1,61],ie=[1,62],re=[1,8,9,39],Z=[1,74],Y=[1,8,9,12,13,21,37,39,42,59,60,61,62,63,64,65,70,72],ue=[1,8,9,12,13,19,21,37,39,42,46,59,60,61,62,63,64,65,70,72,74,80,95,97,98],Ae=[13,74,80,95,97,98],ae=[13,64,65,74,80,95,97,98],Ke=[13,59,60,61,62,63,74,80,95,97,98],Ie=[1,93],$e=[1,110],Xe=[1,108],He=[1,102],Ne=[1,103],_e=[1,104],Me=[1,105],Ee=[1,106],Oe=[1,107],at=[1,109],pe=[1,8,9,37,39,42],Bt=[1,8,9,21],Pe=[1,8,9,78],gt=[1,8,9,21,73,74,78,80,81,82,83,84,85],mt={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,className:17,classLiteralName:18,GENERICTYPE:19,relationStatement:20,LABEL:21,namespaceStatement:22,classStatement:23,memberStatement:24,annotationStatement:25,clickStatement:26,styleStatement:27,cssClassStatement:28,noteStatement:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,namespaceIdentifier:36,STRUCT_START:37,classStatements:38,STRUCT_STOP:39,NAMESPACE:40,classIdentifier:41,STYLE_SEPARATOR:42,members:43,CLASS:44,ANNOTATION_START:45,ANNOTATION_END:46,MEMBER:47,SEPARATOR:48,relation:49,NOTE_FOR:50,noteText:51,NOTE:52,direction_tb:53,direction_bt:54,direction_rl:55,direction_lr:56,relationType:57,lineType:58,AGGREGATION:59,EXTENSION:60,COMPOSITION:61,DEPENDENCY:62,LOLLIPOP:63,LINE:64,DOTTED_LINE:65,CALLBACK:66,LINK:67,LINK_TARGET:68,CLICK:69,CALLBACK_NAME:70,CALLBACK_ARGS:71,HREF:72,STYLE:73,ALPHA:74,stylesOpt:75,CSSCLASS:76,style:77,COMMA:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,commentToken:86,textToken:87,graphCodeTokens:88,textNoTagsToken:89,TAGSTART:90,TAGEND:91,"==":92,"--":93,DEFAULT:94,MINUS:95,keywords:96,UNICODE_TEXT:97,BQUOTE_STR:98,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",19:"GENERICTYPE",21:"LABEL",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",37:"STRUCT_START",39:"STRUCT_STOP",40:"NAMESPACE",42:"STYLE_SEPARATOR",44:"CLASS",45:"ANNOTATION_START",46:"ANNOTATION_END",47:"MEMBER",48:"SEPARATOR",50:"NOTE_FOR",52:"NOTE",53:"direction_tb",54:"direction_bt",55:"direction_rl",56:"direction_lr",59:"AGGREGATION",60:"EXTENSION",61:"COMPOSITION",62:"DEPENDENCY",63:"LOLLIPOP",64:"LINE",65:"DOTTED_LINE",66:"CALLBACK",67:"LINK",68:"LINK_TARGET",69:"CLICK",70:"CALLBACK_NAME",71:"CALLBACK_ARGS",72:"HREF",73:"STYLE",74:"ALPHA",76:"CSSCLASS",78:"COMMA",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",88:"graphCodeTokens",90:"TAGSTART",91:"TAGEND",92:"==",93:"--",94:"DEFAULT",95:"MINUS",96:"keywords",97:"UNICODE_TEXT",98:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,2],[17,1],[17,1],[17,2],[17,2],[17,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[22,4],[22,5],[36,2],[38,1],[38,2],[38,3],[23,1],[23,3],[23,4],[23,6],[41,2],[41,3],[25,4],[43,1],[43,2],[24,1],[24,2],[24,1],[24,1],[20,3],[20,4],[20,4],[20,5],[29,3],[29,2],[30,1],[30,1],[30,1],[30,1],[49,3],[49,2],[49,2],[49,1],[57,1],[57,1],[57,1],[57,1],[57,1],[58,1],[58,1],[26,3],[26,4],[26,3],[26,4],[26,4],[26,5],[26,3],[26,4],[26,4],[26,5],[26,4],[26,5],[26,5],[26,6],[27,3],[28,3],[75,1],[75,3],[77,1],[77,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[86,1],[86,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[89,1],[89,1],[89,1],[89,1],[16,1],[16,1],[16,1],[16,1],[18,1],[51,1]],performAction:a(function(Lt,st,De,Ge,Ye,Le,je){var Je=Le.length-1;switch(Ye){case 8:this.$=Le[Je-1];break;case 9:case 11:case 12:this.$=Le[Je];break;case 10:case 13:this.$=Le[Je-1]+Le[Je];break;case 14:case 15:this.$=Le[Je-1]+"~"+Le[Je]+"~";break;case 16:Ge.addRelation(Le[Je]);break;case 17:Le[Je-1].title=Ge.cleanupLabel(Le[Je]),Ge.addRelation(Le[Je-1]);break;case 27:this.$=Le[Je].trim(),Ge.setAccTitle(this.$);break;case 28:case 29:this.$=Le[Je].trim(),Ge.setAccDescription(this.$);break;case 30:Ge.addClassesToNamespace(Le[Je-3],Le[Je-1]);break;case 31:Ge.addClassesToNamespace(Le[Je-4],Le[Je-1]);break;case 32:this.$=Le[Je],Ge.addNamespace(Le[Je]);break;case 33:this.$=[Le[Je]];break;case 34:this.$=[Le[Je-1]];break;case 35:Le[Je].unshift(Le[Je-2]),this.$=Le[Je];break;case 37:Ge.setCssClass(Le[Je-2],Le[Je]);break;case 38:Ge.addMembers(Le[Je-3],Le[Je-1]);break;case 39:Ge.setCssClass(Le[Je-5],Le[Je-3]),Ge.addMembers(Le[Je-5],Le[Je-1]);break;case 40:this.$=Le[Je],Ge.addClass(Le[Je]);break;case 41:this.$=Le[Je-1],Ge.addClass(Le[Je-1]),Ge.setClassLabel(Le[Je-1],Le[Je]);break;case 42:Ge.addAnnotation(Le[Je],Le[Je-2]);break;case 43:this.$=[Le[Je]];break;case 44:Le[Je].push(Le[Je-1]),this.$=Le[Je];break;case 45:break;case 46:Ge.addMember(Le[Je-1],Ge.cleanupLabel(Le[Je]));break;case 47:break;case 48:break;case 49:this.$={id1:Le[Je-2],id2:Le[Je],relation:Le[Je-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:Le[Je-3],id2:Le[Je],relation:Le[Je-1],relationTitle1:Le[Je-2],relationTitle2:"none"};break;case 51:this.$={id1:Le[Je-3],id2:Le[Je],relation:Le[Je-2],relationTitle1:"none",relationTitle2:Le[Je-1]};break;case 52:this.$={id1:Le[Je-4],id2:Le[Je],relation:Le[Je-2],relationTitle1:Le[Je-3],relationTitle2:Le[Je-1]};break;case 53:Ge.addNote(Le[Je],Le[Je-1]);break;case 54:Ge.addNote(Le[Je]);break;case 55:Ge.setDirection("TB");break;case 56:Ge.setDirection("BT");break;case 57:Ge.setDirection("RL");break;case 58:Ge.setDirection("LR");break;case 59:this.$={type1:Le[Je-2],type2:Le[Je],lineType:Le[Je-1]};break;case 60:this.$={type1:"none",type2:Le[Je],lineType:Le[Je-1]};break;case 61:this.$={type1:Le[Je-1],type2:"none",lineType:Le[Je]};break;case 62:this.$={type1:"none",type2:"none",lineType:Le[Je]};break;case 63:this.$=Ge.relationType.AGGREGATION;break;case 64:this.$=Ge.relationType.EXTENSION;break;case 65:this.$=Ge.relationType.COMPOSITION;break;case 66:this.$=Ge.relationType.DEPENDENCY;break;case 67:this.$=Ge.relationType.LOLLIPOP;break;case 68:this.$=Ge.lineType.LINE;break;case 69:this.$=Ge.lineType.DOTTED_LINE;break;case 70:case 76:this.$=Le[Je-2],Ge.setClickEvent(Le[Je-1],Le[Je]);break;case 71:case 77:this.$=Le[Je-3],Ge.setClickEvent(Le[Je-2],Le[Je-1]),Ge.setTooltip(Le[Je-2],Le[Je]);break;case 72:this.$=Le[Je-2],Ge.setLink(Le[Je-1],Le[Je]);break;case 73:this.$=Le[Je-3],Ge.setLink(Le[Je-2],Le[Je-1],Le[Je]);break;case 74:this.$=Le[Je-3],Ge.setLink(Le[Je-2],Le[Je-1]),Ge.setTooltip(Le[Je-2],Le[Je]);break;case 75:this.$=Le[Je-4],Ge.setLink(Le[Je-3],Le[Je-2],Le[Je]),Ge.setTooltip(Le[Je-3],Le[Je-1]);break;case 78:this.$=Le[Je-3],Ge.setClickEvent(Le[Je-2],Le[Je-1],Le[Je]);break;case 79:this.$=Le[Je-4],Ge.setClickEvent(Le[Je-3],Le[Je-2],Le[Je-1]),Ge.setTooltip(Le[Je-3],Le[Je]);break;case 80:this.$=Le[Je-3],Ge.setLink(Le[Je-2],Le[Je]);break;case 81:this.$=Le[Je-4],Ge.setLink(Le[Je-3],Le[Je-1],Le[Je]);break;case 82:this.$=Le[Je-4],Ge.setLink(Le[Je-3],Le[Je-1]),Ge.setTooltip(Le[Je-3],Le[Je]);break;case 83:this.$=Le[Je-5],Ge.setLink(Le[Je-4],Le[Je-2],Le[Je]),Ge.setTooltip(Le[Je-4],Le[Je-1]);break;case 84:this.$=Le[Je-2],Ge.setCssStyle(Le[Je-1],Le[Je]);break;case 85:Ge.setCssClass(Le[Je-1],Le[Je]);break;case 86:this.$=[Le[Je]];break;case 87:Le[Je-2].push(Le[Je]),this.$=Le[Je-2];break;case 89:this.$=Le[Je-1]+Le[Je];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:37,17:20,18:38,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:16,31:t,33:r,35:n,36:21,40:i,41:22,44:s,45:o,47:u,48:h,50:p,52:g,53:v,54:x,55:k,56:E,66:_,67:N,69:M,73:P,74:V,76:H,80:O,95:I,97:z,98:G},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(F,[2,5],{8:[1,46]}),{8:[1,47]},e(j,[2,16],{21:[1,48]}),e(j,[2,18]),e(j,[2,19]),e(j,[2,20]),e(j,[2,21]),e(j,[2,22]),e(j,[2,23]),e(j,[2,24]),e(j,[2,25]),e(j,[2,26]),{32:[1,49]},{34:[1,50]},e(j,[2,29]),e(j,[2,45],{49:51,57:54,58:55,13:[1,52],21:[1,53],59:D,60:X,61:B,62:Q,63:le,64:J,65:ie}),{37:[1,63]},e(re,[2,36],{37:[1,65],42:[1,64]}),e(j,[2,47]),e(j,[2,48]),{16:66,74:V,80:O,95:I,97:z},{16:37,17:67,18:38,74:V,80:O,95:I,97:z,98:G},{16:37,17:68,18:38,74:V,80:O,95:I,97:z,98:G},{16:37,17:69,18:38,74:V,80:O,95:I,97:z,98:G},{74:[1,70]},{13:[1,71]},{16:37,17:72,18:38,74:V,80:O,95:I,97:z,98:G},{13:Z,51:73},e(j,[2,55]),e(j,[2,56]),e(j,[2,57]),e(j,[2,58]),e(Y,[2,11],{16:37,18:38,17:75,19:[1,76],74:V,80:O,95:I,97:z,98:G}),e(Y,[2,12],{19:[1,77]}),{15:78,16:79,74:V,80:O,95:I,97:z},{16:37,17:80,18:38,74:V,80:O,95:I,97:z,98:G},e(ue,[2,112]),e(ue,[2,113]),e(ue,[2,114]),e(ue,[2,115]),e([1,8,9,12,13,19,21,37,39,42,59,60,61,62,63,64,65,70,72],[2,116]),e(F,[2,6],{10:5,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:16,17:20,36:21,41:22,16:37,18:38,5:81,31:t,33:r,35:n,40:i,44:s,45:o,47:u,48:h,50:p,52:g,53:v,54:x,55:k,56:E,66:_,67:N,69:M,73:P,74:V,76:H,80:O,95:I,97:z,98:G}),{5:82,10:5,16:37,17:20,18:38,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:16,31:t,33:r,35:n,36:21,40:i,41:22,44:s,45:o,47:u,48:h,50:p,52:g,53:v,54:x,55:k,56:E,66:_,67:N,69:M,73:P,74:V,76:H,80:O,95:I,97:z,98:G},e(j,[2,17]),e(j,[2,27]),e(j,[2,28]),{13:[1,84],16:37,17:83,18:38,74:V,80:O,95:I,97:z,98:G},{49:85,57:54,58:55,59:D,60:X,61:B,62:Q,63:le,64:J,65:ie},e(j,[2,46]),{58:86,64:J,65:ie},e(Ae,[2,62],{57:87,59:D,60:X,61:B,62:Q,63:le}),e(ae,[2,63]),e(ae,[2,64]),e(ae,[2,65]),e(ae,[2,66]),e(ae,[2,67]),e(Ke,[2,68]),e(Ke,[2,69]),{8:[1,89],23:90,38:88,41:22,44:s},{16:91,74:V,80:O,95:I,97:z},{43:92,47:Ie},{46:[1,94]},{13:[1,95]},{13:[1,96]},{70:[1,97],72:[1,98]},{21:$e,73:Xe,74:He,75:99,77:100,79:101,80:Ne,81:_e,82:Me,83:Ee,84:Oe,85:at},{74:[1,111]},{13:Z,51:112},e(j,[2,54]),e(j,[2,117]),e(Y,[2,13]),e(Y,[2,14]),e(Y,[2,15]),{37:[2,32]},{15:113,16:79,37:[2,9],74:V,80:O,95:I,97:z},e(pe,[2,40],{11:114,12:[1,115]}),e(F,[2,7]),{9:[1,116]},e(Bt,[2,49]),{16:37,17:117,18:38,74:V,80:O,95:I,97:z,98:G},{13:[1,119],16:37,17:118,18:38,74:V,80:O,95:I,97:z,98:G},e(Ae,[2,61],{57:120,59:D,60:X,61:B,62:Q,63:le}),e(Ae,[2,60]),{39:[1,121]},{23:90,38:122,41:22,44:s},{8:[1,123],39:[2,33]},e(re,[2,37],{37:[1,124]}),{39:[1,125]},{39:[2,43],43:126,47:Ie},{16:37,17:127,18:38,74:V,80:O,95:I,97:z,98:G},e(j,[2,70],{13:[1,128]}),e(j,[2,72],{13:[1,130],68:[1,129]}),e(j,[2,76],{13:[1,131],71:[1,132]}),{13:[1,133]},e(j,[2,84],{78:[1,134]}),e(Pe,[2,86],{79:135,21:$e,73:Xe,74:He,80:Ne,81:_e,82:Me,83:Ee,84:Oe,85:at}),e(gt,[2,88]),e(gt,[2,90]),e(gt,[2,91]),e(gt,[2,92]),e(gt,[2,93]),e(gt,[2,94]),e(gt,[2,95]),e(gt,[2,96]),e(gt,[2,97]),e(gt,[2,98]),e(j,[2,85]),e(j,[2,53]),{37:[2,10]},e(pe,[2,41]),{13:[1,136]},{1:[2,4]},e(Bt,[2,51]),e(Bt,[2,50]),{16:37,17:137,18:38,74:V,80:O,95:I,97:z,98:G},e(Ae,[2,59]),e(j,[2,30]),{39:[1,138]},{23:90,38:139,39:[2,34],41:22,44:s},{43:140,47:Ie},e(re,[2,38]),{39:[2,44]},e(j,[2,42]),e(j,[2,71]),e(j,[2,73]),e(j,[2,74],{68:[1,141]}),e(j,[2,77]),e(j,[2,78],{13:[1,142]}),e(j,[2,80],{13:[1,144],68:[1,143]}),{21:$e,73:Xe,74:He,77:145,79:101,80:Ne,81:_e,82:Me,83:Ee,84:Oe,85:at},e(gt,[2,89]),{14:[1,146]},e(Bt,[2,52]),e(j,[2,31]),{39:[2,35]},{39:[1,147]},e(j,[2,75]),e(j,[2,79]),e(j,[2,81]),e(j,[2,82],{68:[1,148]}),e(Pe,[2,87],{79:135,21:$e,73:Xe,74:He,80:Ne,81:_e,82:Me,83:Ee,84:Oe,85:at}),e(pe,[2,8]),e(re,[2,39]),e(j,[2,83])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],78:[2,32],113:[2,10],116:[2,4],126:[2,44],139:[2,35]},parseError:a(function(Lt,st){if(st.recoverable)this.trace(Lt);else{var De=new Error(Lt);throw De.hash=st,De}},"parseError"),parse:a(function(Lt){var st=this,De=[0],Ge=[],Ye=[null],Le=[],je=this.table,Je="",ct=0,Br=0,qt=0,Yt=2,Jt=1,rr=Le.slice.call(arguments,1),Ht=Object.create(this.lexer),yt={yy:{}};for(var Fr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Fr)&&(yt.yy[Fr]=this.yy[Fr]);Ht.setInput(Lt,yt.yy),yt.yy.lexer=Ht,yt.yy.parser=this,typeof Ht.yylloc>"u"&&(Ht.yylloc={});var tr=Ht.yylloc;Le.push(tr);var Qi=Ht.options&&Ht.options.ranges;typeof yt.yy.parseError=="function"?this.parseError=yt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function pa(Lr){De.length=De.length-2*Lr,Ye.length=Ye.length-Lr,Le.length=Le.length-Lr}a(pa,"popStack");function li(){var Lr;return Lr=Ge.pop()||Ht.lex()||Jt,typeof Lr!="number"&&(Lr instanceof Array&&(Ge=Lr,Lr=Ge.pop()),Lr=st.symbols_[Lr]||Lr),Lr}a(li,"lex");for(var In,Rr,_n,er,on,ni,Or={},Pr,Ir,wi,ir;;){if(_n=De[De.length-1],this.defaultActions[_n]?er=this.defaultActions[_n]:((In===null||typeof In>"u")&&(In=li()),er=je[_n]&&je[_n][In]),typeof er>"u"||!er.length||!er[0]){var ma="";ir=[];for(Pr in je[_n])this.terminals_[Pr]&&Pr>Yt&&ir.push("'"+this.terminals_[Pr]+"'");Ht.showPosition?ma="Parse error on line "+(ct+1)+`:
`+Ht.showPosition()+`
Expecting `+ir.join(", ")+", got '"+(this.terminals_[In]||In)+"'":ma="Parse error on line "+(ct+1)+": Unexpected "+(In==Jt?"end of input":"'"+(this.terminals_[In]||In)+"'"),this.parseError(ma,{text:Ht.match,token:this.terminals_[In]||In,line:Ht.yylineno,loc:tr,expected:ir})}if(er[0]instanceof Array&&er.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_n+", token: "+In);switch(er[0]){case 1:De.push(In),Ye.push(Ht.yytext),Le.push(Ht.yylloc),De.push(er[1]),In=null,Rr?(In=Rr,Rr=null):(Br=Ht.yyleng,Je=Ht.yytext,ct=Ht.yylineno,tr=Ht.yylloc,qt>0&&qt--);break;case 2:if(Ir=this.productions_[er[1]][1],Or.$=Ye[Ye.length-Ir],Or._$={first_line:Le[Le.length-(Ir||1)].first_line,last_line:Le[Le.length-1].last_line,first_column:Le[Le.length-(Ir||1)].first_column,last_column:Le[Le.length-1].last_column},Qi&&(Or._$.range=[Le[Le.length-(Ir||1)].range[0],Le[Le.length-1].range[1]]),ni=this.performAction.apply(Or,[Je,Br,ct,yt.yy,er[1],Ye,Le].concat(rr)),typeof ni<"u")return ni;Ir&&(De=De.slice(0,-1*Ir*2),Ye=Ye.slice(0,-1*Ir),Le=Le.slice(0,-1*Ir)),De.push(this.productions_[er[1]][0]),Ye.push(Or.$),Le.push(Or._$),wi=je[De[De.length-2]][De[De.length-1]],De.push(wi);break;case 3:return!0}}return!0},"parse")},Nt=function(){var Gt={EOF:1,parseError:a(function(st,De){if(this.yy.parser)this.yy.parser.parseError(st,De);else throw new Error(st)},"parseError"),setInput:function(Lt,st){return this.yy=st||this.yy||{},this._input=Lt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Lt=this._input[0];this.yytext+=Lt,this.yyleng++,this.offset++,this.match+=Lt,this.matched+=Lt;var st=Lt.match(/(?:\r\n?|\n).*/g);return st?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Lt},unput:function(Lt){var st=Lt.length,De=Lt.split(/(?:\r\n?|\n)/g);this._input=Lt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-st),this.offset-=st;var Ge=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),De.length-1&&(this.yylineno-=De.length-1);var Ye=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:De?(De.length===Ge.length?this.yylloc.first_column:0)+Ge[Ge.length-De.length].length-De[0].length:this.yylloc.first_column-st},this.options.ranges&&(this.yylloc.range=[Ye[0],Ye[0]+this.yyleng-st]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Lt){this.unput(this.match.slice(Lt))},pastInput:function(){var Lt=this.matched.substr(0,this.matched.length-this.match.length);return(Lt.length>20?"...":"")+Lt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Lt=this.match;return Lt.length<20&&(Lt+=this._input.substr(0,20-Lt.length)),(Lt.substr(0,20)+(Lt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Lt=this.pastInput(),st=new Array(Lt.length+1).join("-");return Lt+this.upcomingInput()+`
`+st+"^"},test_match:function(Lt,st){var De,Ge,Ye;if(this.options.backtrack_lexer&&(Ye={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ye.yylloc.range=this.yylloc.range.slice(0))),Ge=Lt[0].match(/(?:\r\n?|\n).*/g),Ge&&(this.yylineno+=Ge.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ge?Ge[Ge.length-1].length-Ge[Ge.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Lt[0].length},this.yytext+=Lt[0],this.match+=Lt[0],this.matches=Lt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Lt[0].length),this.matched+=Lt[0],De=this.performAction.call(this,this.yy,this,st,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),De)return De;if(this._backtrack){for(var Le in Ye)this[Le]=Ye[Le];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Lt,st,De,Ge;this._more||(this.yytext="",this.match="");for(var Ye=this._currentRules(),Le=0;Le<Ye.length;Le++)if(De=this._input.match(this.rules[Ye[Le]]),De&&(!st||De[0].length>st[0].length)){if(st=De,Ge=Le,this.options.backtrack_lexer){if(Lt=this.test_match(De,Ye[Le]),Lt!==!1)return Lt;if(this._backtrack){st=!1;continue}else return!1}else if(!this.options.flex)break}return st?(Lt=this.test_match(st,Ye[Ge]),Lt!==!1?Lt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var st=this.next();return st||this.lex()},"lex"),begin:a(function(st){this.conditionStack.push(st)},"begin"),popState:a(function(){var st=this.conditionStack.length-1;return st>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(st){return st=this.conditionStack.length-1-Math.abs(st||0),st>=0?this.conditionStack[st]:"INITIAL"},"topState"),pushState:a(function(st){this.begin(st)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(st,De,Ge,Ye){var Le=Ye;switch(Ge){case 0:return 53;case 1:return 54;case 2:return 55;case 3:return 56;case 4:break;case 5:break;case 6:return this.begin("acc_title"),31;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),33;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 70;case 22:this.popState();break;case 23:return 71;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 73;case 28:return this.begin("namespace"),40;break;case 29:return this.popState(),8;break;case 30:break;case 31:return this.begin("namespace-body"),37;break;case 32:return this.popState(),39;break;case 33:return"EOF_IN_STRUCT";case 34:return 8;case 35:break;case 36:return"EDGE_STATE";case 37:return this.begin("class"),44;break;case 38:return this.popState(),8;break;case 39:break;case 40:return this.popState(),this.popState(),39;break;case 41:return this.begin("class-body"),37;break;case 42:return this.popState(),39;break;case 43:return"EOF_IN_STRUCT";case 44:return"EDGE_STATE";case 45:return"OPEN_IN_STRUCT";case 46:break;case 47:return"MEMBER";case 48:return 76;case 49:return 66;case 50:return 67;case 51:return 69;case 52:return 50;case 53:return 52;case 54:return 45;case 55:return 46;case 56:return 72;case 57:this.popState();break;case 58:return"GENERICTYPE";case 59:this.begin("generic");break;case 60:this.popState();break;case 61:return"BQUOTE_STR";case 62:this.begin("bqstring");break;case 63:return 68;case 64:return 68;case 65:return 68;case 66:return 68;case 67:return 60;case 68:return 60;case 69:return 62;case 70:return 62;case 71:return 61;case 72:return 59;case 73:return 63;case 74:return 64;case 75:return 65;case 76:return 21;case 77:return 42;case 78:return 95;case 79:return"DOT";case 80:return"PLUS";case 81:return 81;case 82:return 78;case 83:return 84;case 84:return 84;case 85:return 85;case 86:return"EQUALS";case 87:return"EQUALS";case 88:return 74;case 89:return 12;case 90:return 14;case 91:return"PUNCTUATION";case 92:return 80;case 93:return 97;case 94:return 83;case 95:return 83;case 96:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,32,33,34,35,36,37,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},namespace:{rules:[26,28,29,30,31,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},"class-body":{rules:[26,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},class:{rules:[26,38,39,40,41,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_descr:{rules:[9,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_title:{rules:[7,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},callback_args:{rules:[22,23,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},callback_name:{rules:[19,20,21,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},href:{rules:[26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},struct:{rules:[26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},generic:{rules:[26,48,49,50,51,52,53,54,55,56,57,58,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},bqstring:{rules:[26,48,49,50,51,52,53,54,55,56,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},string:{rules:[24,25,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,37,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96],inclusive:!0}}};return Gt}();mt.lexer=Nt;function Ut(){this.yy={}}return a(Ut,"Parser"),Ut.prototype=mt,mt.Parser=Ut,new Ut}();vP.parser=vP;f7=vP});var Gde,Vb,Vde=L(()=>{"use strict";Vr();Ln();Gde=["#","+","~","-",""],Vb=class{static{a(this,"ClassMember")}constructor(t,r){this.memberType=r,this.visibility="",this.classifier="";let n=ai(t,we());this.parseMember(n)}getDisplayDetails(){let t=this.visibility+sd(this.id);this.memberType==="method"&&(t+=`(${sd(this.parameters.trim())})`,this.returnType&&(t+=" : "+sd(this.returnType))),t=t.trim();let r=this.parseClassifier();return{displayText:t,cssStyle:r}}parseMember(t){let r="";if(this.memberType==="method"){let n=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/,i=t.match(n);if(i){let s=i[1]?i[1].trim():"";if(Gde.includes(s)&&(this.visibility=s),this.id=i[2].trim(),this.parameters=i[3]?i[3].trim():"",r=i[4]?i[4].trim():"",this.returnType=i[5]?i[5].trim():"",r===""){let o=this.returnType.substring(this.returnType.length-1);o.match(/[$*]/)&&(r=o,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{let n=t.length,i=t.substring(0,1),s=t.substring(n-1);Gde.includes(i)&&(this.visibility=i),s.match(/[$*]/)&&(r=s),this.id=t.substring(this.visibility===""?0:1,r===""?n:n-1)}this.classifier=r}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}}});var m7,kP,Ja,d7,qde,Tf,bP,qb,nm,im,cYe,p7,Ude,hYe,fYe,dYe,pYe,mYe,gYe,yYe,Hde,vYe,xYe,bYe,wP,kYe,wYe,TYe,EYe,CYe,SYe,_Ye,AYe,Wde,Yde,LYe,DYe,RYe,IYe,MYe,NYe,OYe,my,TP=L(()=>{"use strict";Wr();ar();Vr();Ln();kn();$i();Vde();m7="classId-",kP=[],Ja=new Map,d7=[],qde=0,Tf=new Map,bP=0,qb=[],nm=a(e=>Ct.sanitizeText(e,we()),"sanitizeText"),im=a(function(e){let t=Ct.sanitizeText(e,we()),r="",n=t;if(t.indexOf("~")>0){let i=t.split("~");n=nm(i[0]),r=nm(i[1])}return{className:n,type:r}},"splitClassNameAndType"),cYe=a(function(e,t){let r=Ct.sanitizeText(e,we());t&&(t=nm(t));let{className:n}=im(r);Ja.get(n).label=t},"setClassLabel"),p7=a(function(e){let t=Ct.sanitizeText(e,we()),{className:r,type:n}=im(t);if(Ja.has(r))return;let i=Ct.sanitizeText(r,we());Ja.set(i,{id:i,type:n,label:i,cssClasses:[],methods:[],members:[],annotations:[],styles:[],domId:m7+i+"-"+qde}),qde++},"addClass"),Ude=a(function(e){let t=Ct.sanitizeText(e,we());if(Ja.has(t))return Ja.get(t).domId;throw new Error("Class not found: "+t)},"lookUpDomId"),hYe=a(function(){kP=[],Ja=new Map,d7=[],qb=[],qb.push(Wde),Tf=new Map,bP=0,nn()},"clear"),fYe=a(function(e){return Ja.get(e)},"getClass"),dYe=a(function(){return Ja},"getClasses"),pYe=a(function(){return kP},"getRelations"),mYe=a(function(){return d7},"getNotes"),gYe=a(function(e){ce.debug("Adding relation: "+JSON.stringify(e)),p7(e.id1),p7(e.id2),e.id1=im(e.id1).className,e.id2=im(e.id2).className,e.relationTitle1=Ct.sanitizeText(e.relationTitle1.trim(),we()),e.relationTitle2=Ct.sanitizeText(e.relationTitle2.trim(),we()),kP.push(e)},"addRelation"),yYe=a(function(e,t){let r=im(e).className;Ja.get(r).annotations.push(t)},"addAnnotation"),Hde=a(function(e,t){p7(e);let r=im(e).className,n=Ja.get(r);if(typeof t=="string"){let i=t.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(nm(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(new Vb(i,"method")):i&&n.members.push(new Vb(i,"attribute"))}},"addMember"),vYe=a(function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>Hde(e,r)))},"addMembers"),xYe=a(function(e,t){let r={id:`note${d7.length}`,class:t,text:e};d7.push(r)},"addNote"),bYe=a(function(e){return e.startsWith(":")&&(e=e.substring(1)),nm(e.trim())},"cleanupLabel"),wP=a(function(e,t){e.split(",").forEach(function(r){let n=r;r[0].match(/\d/)&&(n=m7+n);let i=Ja.get(n);i&&i.cssClasses.push(t)})},"setCssClass"),kYe=a(function(e,t){e.split(",").forEach(function(r){t!==void 0&&(Ja.get(r).tooltip=nm(t))})},"setTooltip"),wYe=a(function(e,t){return t&&Tf.has(t)?Tf.get(t).classes.get(e).tooltip:Ja.get(e).tooltip},"getTooltip"),TYe=a(function(e,t,r){let n=we();e.split(",").forEach(function(i){let s=i;i[0].match(/\d/)&&(s=m7+s);let o=Ja.get(s);o&&(o.link=wr.formatUrl(t,n),n.securityLevel==="sandbox"?o.linkTarget="_top":typeof r=="string"?o.linkTarget=nm(r):o.linkTarget="_blank")}),wP(e,"clickable")},"setLink"),EYe=a(function(e,t,r){e.split(",").forEach(function(n){CYe(n,t,r),Ja.get(n).haveCallback=!0}),wP(e,"clickable")},"setClickEvent"),CYe=a(function(e,t,r){let n=Ct.sanitizeText(e,we());if(we().securityLevel!=="loose"||t===void 0)return;let s=n;if(Ja.has(s)){let o=Ude(s),u=[];if(typeof r=="string"){u=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let h=0;h<u.length;h++){let p=u[h].trim();p.charAt(0)==='"'&&p.charAt(p.length-1)==='"'&&(p=p.substr(1,p.length-2)),u[h]=p}}u.length===0&&u.push(o),qb.push(function(){let h=document.querySelector(`[id="${o}"]`);h!==null&&h.addEventListener("click",function(){wr.runFunc(t,...u)},!1)})}},"setClickFunc"),SYe=a(function(e){qb.forEach(function(t){t(e)})},"bindFunctions"),_Ye={LINE:0,DOTTED_LINE:1},AYe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},Wde=a(function(e){let t=ut(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=ut("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),ut(e).select("svg").selectAll("g.node").on("mouseover",function(){let i=ut(this);if(i.attr("title")===null)return;let o=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),ut(this).classed("hover",!1)})},"setupToolTips");qb.push(Wde);Yde="TB",LYe=a(()=>Yde,"getDirection"),DYe=a(e=>{Yde=e},"setDirection"),RYe=a(function(e){Tf.has(e)||(Tf.set(e,{id:e,classes:new Map,children:{},domId:m7+e+"-"+bP}),bP++)},"addNamespace"),IYe=a(function(e){return Tf.get(e)},"getNamespace"),MYe=a(function(){return Tf},"getNamespaces"),NYe=a(function(e,t){if(Tf.has(e))for(let r of t){let{className:n}=im(r);Ja.get(n).parent=e,Tf.get(e).classes.set(n,Ja.get(n))}},"addClassesToNamespace"),OYe=a(function(e,t){let r=Ja.get(e);if(!(!t||!r))for(let n of t)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)},"setCssStyle"),my={setAccTitle:hn,getAccTitle:pn,getAccDescription:gn,setAccDescription:mn,getConfig:()=>we().class,addClass:p7,bindFunctions:SYe,clear:hYe,getClass:fYe,getClasses:dYe,getNotes:mYe,addAnnotation:yYe,addNote:xYe,getRelations:pYe,addRelation:gYe,getDirection:LYe,setDirection:DYe,addMember:Hde,addMembers:vYe,cleanupLabel:bYe,lineType:_Ye,relationType:AYe,setClickEvent:EYe,setCssClass:wP,setLink:TYe,getTooltip:wYe,setTooltip:kYe,lookUpDomId:Ude,setDiagramTitle:Dn,getDiagramTitle:wn,setClassLabel:cYe,addNamespace:RYe,addClassesToNamespace:NYe,getNamespace:IYe,getNamespaces:MYe,setCssStyle:OYe}});var PYe,g7,EP=L(()=>{"use strict";PYe=a(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),g7=PYe});var Xde,BYe,FYe,Kde,zYe,jde,y7,Qde=L(()=>{"use strict";Wr();kn();ar();Ln();Xde=0,BYe=a(function(e,t,r,n,i){let s=a(function(P){switch(P){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.relationType.EXTENSION:return"extension";case i.db.relationType.COMPOSITION:return"composition";case i.db.relationType.DEPENDENCY:return"dependency";case i.db.relationType.LOLLIPOP:return"lollipop"}},"getRelationType");t.points=t.points.filter(P=>!Number.isNaN(P.y));let o=t.points,u=Rs().x(function(P){return P.x}).y(function(P){return P.y}).curve(Jl),h=e.append("path").attr("d",u(o)).attr("id","edge"+Xde).attr("class","relation"),p="";n.arrowMarkerAbsolute&&(p=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,p=p.replace(/\(/g,"\\("),p=p.replace(/\)/g,"\\)")),r.relation.lineType==1&&h.attr("class","relation dashed-line"),r.relation.lineType==10&&h.attr("class","relation dotted-line"),r.relation.type1!=="none"&&h.attr("marker-start","url("+p+"#"+s(r.relation.type1)+"Start)"),r.relation.type2!=="none"&&h.attr("marker-end","url("+p+"#"+s(r.relation.type2)+"End)");let g,v,x=t.points.length,k=wr.calcLabelPosition(t.points);g=k.x,v=k.y;let E,_,N,M;if(x%2!==0&&x>1){let P=wr.calcCardinalityPosition(r.relation.type1!=="none",t.points,t.points[0]),V=wr.calcCardinalityPosition(r.relation.type2!=="none",t.points,t.points[x-1]);ce.debug("cardinality_1_point "+JSON.stringify(P)),ce.debug("cardinality_2_point "+JSON.stringify(V)),E=P.x,_=P.y,N=V.x,M=V.y}if(r.title!==void 0){let P=e.append("g").attr("class","classLabel"),V=P.append("text").attr("class","label").attr("x",g).attr("y",v).attr("fill","red").attr("text-anchor","middle").text(r.title);window.label=V;let H=V.node().getBBox();P.insert("rect",":first-child").attr("class","box").attr("x",H.x-n.padding/2).attr("y",H.y-n.padding/2).attr("width",H.width+n.padding).attr("height",H.height+n.padding)}ce.info("Rendering relation "+JSON.stringify(r)),r.relationTitle1!==void 0&&r.relationTitle1!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",E).attr("y",_).attr("fill","black").attr("font-size","6").text(r.relationTitle1),r.relationTitle2!==void 0&&r.relationTitle2!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",N).attr("y",M).attr("fill","black").attr("font-size","6").text(r.relationTitle2),Xde++},"drawEdge"),FYe=a(function(e,t,r,n){ce.debug("Rendering class ",t,r);let i=t.id,s={id:i,label:t.id,width:0,height:0},o=e.append("g").attr("id",n.db.lookUpDomId(i)).attr("class","classGroup"),u;t.link?u=o.append("svg:a").attr("xlink:href",t.link).attr("target",t.linkTarget).append("text").attr("y",r.textHeight+r.padding).attr("x",0):u=o.append("text").attr("y",r.textHeight+r.padding).attr("x",0);let h=!0;t.annotations.forEach(function(V){let H=u.append("tspan").text("\xAB"+V+"\xBB");h||H.attr("dy",r.textHeight),h=!1});let p=Kde(t),g=u.append("tspan").text(p).attr("class","title");h||g.attr("dy",r.textHeight);let v=u.node().getBBox().height,x,k,E;if(t.members.length>0){x=o.append("line").attr("x1",0).attr("y1",r.padding+v+r.dividerMargin/2).attr("y2",r.padding+v+r.dividerMargin/2);let V=o.append("text").attr("x",r.padding).attr("y",v+r.dividerMargin+r.textHeight).attr("fill","white").attr("class","classText");h=!0,t.members.forEach(function(H){jde(V,H,h,r),h=!1}),k=V.node().getBBox()}if(t.methods.length>0){E=o.append("line").attr("x1",0).attr("y1",r.padding+v+r.dividerMargin+k.height).attr("y2",r.padding+v+r.dividerMargin+k.height);let V=o.append("text").attr("x",r.padding).attr("y",v+2*r.dividerMargin+k.height+r.textHeight).attr("fill","white").attr("class","classText");h=!0,t.methods.forEach(function(H){jde(V,H,h,r),h=!1})}let _=o.node().getBBox();var N=" ";t.cssClasses.length>0&&(N=N+t.cssClasses.join(" "));let P=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",_.width+2*r.padding).attr("height",_.height+r.padding+.5*r.dividerMargin).attr("class",N).node().getBBox().width;return u.node().childNodes.forEach(function(V){V.setAttribute("x",(P-V.getBBox().width)/2)}),t.tooltip&&u.insert("title").text(t.tooltip),x&&x.attr("x2",P),E&&E.attr("x2",P),s.width=P,s.height=_.height+r.padding+.5*r.dividerMargin,s},"drawClass"),Kde=a(function(e){let t=e.id;return e.type&&(t+="<"+sd(e.type)+">"),t},"getClassTitleString"),zYe=a(function(e,t,r,n){ce.debug("Rendering note ",t,r);let i=t.id,s={id:i,text:t.text,width:0,height:0},o=e.append("g").attr("id",i).attr("class","classGroup"),u=o.append("text").attr("y",r.textHeight+r.padding).attr("x",0),h=JSON.parse(`"${t.text}"`).split(`
`);h.forEach(function(x){ce.debug(`Adding line: ${x}`),u.append("tspan").text(x).attr("class","title").attr("dy",r.textHeight)});let p=o.node().getBBox(),v=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",p.width+2*r.padding).attr("height",p.height+h.length*r.textHeight+r.padding+.5*r.dividerMargin).node().getBBox().width;return u.node().childNodes.forEach(function(x){x.setAttribute("x",(v-x.getBBox().width)/2)}),s.width=v,s.height=p.height+h.length*r.textHeight+r.padding+.5*r.dividerMargin,s},"drawNote"),jde=a(function(e,t,r,n){let{displayText:i,cssStyle:s}=t.getDisplayDetails(),o=e.append("tspan").attr("x",n.padding).text(i);s!==""&&o.attr("style",t.cssStyle),r||o.attr("dy",n.textHeight)},"addTspan"),y7={getClassTitleString:Kde,drawClass:FYe,drawEdge:BYe,drawNote:zYe}});var x7,v7,Ub,$Ye,GYe,Zde,Jde=L(()=>{"use strict";Wr();fp();Ua();ar();Qde();si();Vr();x7={},v7=20,Ub=a(function(e){let t=Object.entries(x7).find(r=>r[1].label===e);if(t)return t[0]},"getGraphId"),$Ye=a(function(e){e.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),e.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),GYe=a(function(e,t,r,n){let i=we().class;x7={},ce.info("Rendering diagram "+e);let s=we().securityLevel,o;s==="sandbox"&&(o=ut("#i"+t));let u=s==="sandbox"?ut(o.nodes()[0].contentDocument.body):ut("body"),h=u.select(`[id='${t}']`);$Ye(h);let p=new fn({multigraph:!0});p.setGraph({isMultiGraph:!0}),p.setDefaultEdgeLabel(function(){return{}});let g=n.db.getClasses(),v=[...g.keys()];for(let P of v){let V=g.get(P),H=y7.drawClass(h,V,i,n);x7[H.id]=H,p.setNode(H.id,H),ce.info("Org height: "+H.height)}n.db.getRelations().forEach(function(P){ce.info("tjoho"+Ub(P.id1)+Ub(P.id2)+JSON.stringify(P)),p.setEdge(Ub(P.id1),Ub(P.id2),{relation:P},P.title||"DEFAULT")}),n.db.getNotes().forEach(function(P){ce.debug(`Adding note: ${JSON.stringify(P)}`);let V=y7.drawNote(h,P,i,n);x7[V.id]=V,p.setNode(V.id,V),P.class&&g.has(P.class)&&p.setEdge(P.id,Ub(P.class),{relation:{id1:P.id,id2:P.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),Il(p),p.nodes().forEach(function(P){P!==void 0&&p.node(P)!==void 0&&(ce.debug("Node "+P+": "+JSON.stringify(p.node(P))),u.select("#"+(n.db.lookUpDomId(P)||P)).attr("transform","translate("+(p.node(P).x-p.node(P).width/2)+","+(p.node(P).y-p.node(P).height/2)+" )"))}),p.edges().forEach(function(P){P!==void 0&&p.edge(P)!==void 0&&(ce.debug("Edge "+P.v+" -> "+P.w+": "+JSON.stringify(p.edge(P))),y7.drawEdge(h,p.edge(P),p.edge(P).relation,i,n))});let E=h.node().getBBox(),_=E.width+v7*2,N=E.height+v7*2;rn(h,N,_,i.useMaxWidth);let M=`${E.x-v7} ${E.y-v7} ${_} ${N}`;ce.debug(`viewBox ${M}`),h.attr("viewBox",M)},"draw"),Zde={draw:GYe}});var e0e={};Hr(e0e,{diagram:()=>VYe});var VYe,t0e=L(()=>{"use strict";xP();TP();EP();Jde();VYe={parser:f7,db:my,renderer:Zde,styles:g7,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,my.clear()}}});function i0e(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}var SP,CP,WYe,a0e,YYe,XYe,jYe,KYe,s0e,o0e=L(()=>{"use strict";Wr();Ua();ar();Vr();Qw();kn();kn();si();Ln();SP=a(e=>Ct.sanitizeText(e,we()),"sanitizeText"),CP={dividerMargin:10,padding:5,textHeight:10,curve:void 0},WYe=a(function(e,t,r,n){ce.info("keys:",[...e.keys()]),ce.info(e),e.forEach(function(i){let o={shape:"rect",id:i.id,domId:i.domId,labelText:SP(i.id),labelStyle:"",style:"fill: none; stroke: black",padding:we().flowchart?.padding??we().class?.padding};t.setNode(i.id,o),a0e(i.classes,t,r,n,i.id),ce.info("setNode",o)})},"addNamespaces"),a0e=a(function(e,t,r,n,i){ce.info("keys:",[...e.keys()]),ce.info(e),[...e.values()].filter(s=>s.parent===i).forEach(function(s){let o=s.cssClasses.join(" "),u=Jo(s.styles),h=s.label??s.id,p=0,v={labelStyle:u.labelStyle,shape:"class_box",labelText:SP(h),classData:s,rx:p,ry:p,class:o,style:u.style,id:s.id,domId:s.domId,tooltip:n.db.getTooltip(s.id,i)||"",haveCallback:s.haveCallback,link:s.link,width:s.type==="group"?500:void 0,type:s.type,padding:we().flowchart?.padding??we().class?.padding};t.setNode(s.id,v),i&&t.setParent(s.id,i),ce.info("setNode",v)})},"addClasses"),YYe=a(function(e,t,r,n){ce.info(e),e.forEach(function(i,s){let o=i,u="",h={labelStyle:"",style:""},p=o.text,g=0,x={labelStyle:h.labelStyle,shape:"note",labelText:SP(p),noteData:o,rx:g,ry:g,class:u,style:h.style,id:o.id,domId:o.id,tooltip:"",type:"note",padding:we().flowchart?.padding??we().class?.padding};if(t.setNode(o.id,x),ce.info("setNode",x),!o.class||!n.has(o.class))return;let k=r+s,E={id:`edgeNote${k}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:hu(CP.curve,$a)};t.setEdge(o.id,o.class,E,k)})},"addNotes"),XYe=a(function(e,t){let r=we().flowchart,n=0;e.forEach(function(i){n++;let s={classes:"relation",pattern:i.relation.lineType==1?"dashed":"solid",id:Jh(i.id1,i.id2,{prefix:"id",counter:n}),arrowhead:i.type==="arrow_open"?"none":"normal",startLabelRight:i.relationTitle1==="none"?"":i.relationTitle1,endLabelLeft:i.relationTitle2==="none"?"":i.relationTitle2,arrowTypeStart:i0e(i.relation.type1),arrowTypeEnd:i0e(i.relation.type2),style:"fill:none",labelStyle:"",curve:hu(r?.curve,$a)};if(ce.info(s,i),i.style!==void 0){let o=Jo(i.style);s.style=o.style,s.labelStyle=o.labelStyle}i.text=i.title,i.text===void 0?i.style!==void 0&&(s.arrowheadStyle="fill: #333"):(s.arrowheadStyle="fill: #333",s.labelpos="c",we().flowchart?.htmlLabels??we().htmlLabels?(s.labelType="html",s.label='<span class="edgeLabel">'+i.text+"</span>"):(s.labelType="text",s.label=i.text.replace(Ct.lineBreakRegex,`
`),i.style===void 0&&(s.style=s.style||"stroke: #333; stroke-width: 1.5px;fill:none"),s.labelStyle=s.labelStyle.replace("color:","fill:"))),t.setEdge(i.id1,i.id2,s,n)})},"addRelations"),jYe=a(function(e){CP={...CP,...e}},"setConf"),KYe=a(async function(e,t,r,n){ce.info("Drawing class - ",t);let i=we().flowchart??we().class,s=we().securityLevel;ce.info("config:",i);let o=i?.nodeSpacing??50,u=i?.rankSpacing??50,h=new fn({multigraph:!0,compound:!0}).setGraph({rankdir:n.db.getDirection(),nodesep:o,ranksep:u,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),p=n.db.getNamespaces(),g=n.db.getClasses(),v=n.db.getRelations(),x=n.db.getNotes();ce.info(v),WYe(p,h,t,n),a0e(g,h,t,n),XYe(v,h),YYe(x,h,v.length+1,g);let k;s==="sandbox"&&(k=ut("#i"+t));let E=s==="sandbox"?ut(k.nodes()[0].contentDocument.body):ut("body"),_=E.select(`[id="${t}"]`),N=E.select("#"+t+" g");if(await y1(N,h,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",t),wr.insertTitle(_,"classTitleText",i?.titleTopMargin??5,n.db.getDiagramTitle()),tl(h,_,i?.diagramPadding,i?.useMaxWidth),!i?.htmlLabels){let M=s==="sandbox"?k.nodes()[0].contentDocument:document,P=M.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let V of P){let H=V.getBBox(),O=M.createElementNS("http://www.w3.org/2000/svg","rect");O.setAttribute("rx",0),O.setAttribute("ry",0),O.setAttribute("width",H.width),O.setAttribute("height",H.height),V.insertBefore(O,V.firstChild)}}},"draw");a(i0e,"getArrowMarker");s0e={setConf:jYe,draw:KYe}});var l0e={};Hr(l0e,{diagram:()=>QYe});var QYe,u0e=L(()=>{"use strict";xP();TP();EP();o0e();QYe={parser:f7,db:my,renderer:s0e,styles:g7,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,my.clear()}}});var _P,b7,AP=L(()=>{"use strict";_P=function(){var e=a(function(ie,re,Z,Y){for(Z=Z||{},Y=ie.length;Y--;Z[ie[Y]]=re);return Z},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],s=[1,9],o=[1,11],u=[1,15],h=[1,16],p=[1,17],g=[1,18],v=[1,30],x=[1,19],k=[1,20],E=[1,21],_=[1,22],N=[1,23],M=[1,25],P=[1,26],V=[1,27],H=[1,28],O=[1,29],I=[1,32],z=[1,33],G=[1,34],F=[1,35],j=[1,31],D=[1,4,5,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],X=[1,4,5,13,14,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],B=[4,5,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],Q={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,cssClassStatement:11,idStatement:12,DESCR:13,"-->":14,HIDE_EMPTY:15,scale:16,WIDTH:17,COMPOSIT_STATE:18,STRUCT_START:19,STRUCT_STOP:20,STATE_DESCR:21,AS:22,ID:23,FORK:24,JOIN:25,CHOICE:26,CONCURRENT:27,note:28,notePosition:29,NOTE_TEXT:30,direction:31,acc_title:32,acc_title_value:33,acc_descr:34,acc_descr_value:35,acc_descr_multiline_value:36,classDef:37,CLASSDEF_ID:38,CLASSDEF_STYLEOPTS:39,DEFAULT:40,class:41,CLASSENTITY_IDS:42,STYLECLASS:43,direction_tb:44,direction_bt:45,direction_rl:46,direction_lr:47,eol:48,";":49,EDGE_STATE:50,STYLE_SEPARATOR:51,left_of:52,right_of:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",13:"DESCR",14:"-->",15:"HIDE_EMPTY",16:"scale",17:"WIDTH",18:"COMPOSIT_STATE",19:"STRUCT_START",20:"STRUCT_STOP",21:"STATE_DESCR",22:"AS",23:"ID",24:"FORK",25:"JOIN",26:"CHOICE",27:"CONCURRENT",28:"note",30:"NOTE_TEXT",32:"acc_title",33:"acc_title_value",34:"acc_descr",35:"acc_descr_value",36:"acc_descr_multiline_value",37:"classDef",38:"CLASSDEF_ID",39:"CLASSDEF_STYLEOPTS",40:"DEFAULT",41:"class",42:"CLASSENTITY_IDS",43:"STYLECLASS",44:"direction_tb",45:"direction_bt",46:"direction_rl",47:"direction_lr",49:";",50:"EDGE_STATE",51:"STYLE_SEPARATOR",52:"left_of",53:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[31,1],[31,1],[31,1],[31,1],[48,1],[48,1],[12,1],[12,1],[12,3],[12,3],[29,1],[29,1]],performAction:a(function(re,Z,Y,ue,Ae,ae,Ke){var Ie=ae.length-1;switch(Ae){case 3:return ue.setRootDoc(ae[Ie]),ae[Ie];break;case 4:this.$=[];break;case 5:ae[Ie]!="nl"&&(ae[Ie-1].push(ae[Ie]),this.$=ae[Ie-1]);break;case 6:case 7:this.$=ae[Ie];break;case 8:this.$="nl";break;case 11:this.$=ae[Ie];break;case 12:let Ne=ae[Ie-1];Ne.description=ue.trimColon(ae[Ie]),this.$=Ne;break;case 13:this.$={stmt:"relation",state1:ae[Ie-2],state2:ae[Ie]};break;case 14:let _e=ue.trimColon(ae[Ie]);this.$={stmt:"relation",state1:ae[Ie-3],state2:ae[Ie-1],description:_e};break;case 18:this.$={stmt:"state",id:ae[Ie-3],type:"default",description:"",doc:ae[Ie-1]};break;case 19:var $e=ae[Ie],Xe=ae[Ie-2].trim();if(ae[Ie].match(":")){var He=ae[Ie].split(":");$e=He[0],Xe=[Xe,He[1]]}this.$={stmt:"state",id:$e,type:"default",description:Xe};break;case 20:this.$={stmt:"state",id:ae[Ie-3],type:"default",description:ae[Ie-5],doc:ae[Ie-1]};break;case 21:this.$={stmt:"state",id:ae[Ie],type:"fork"};break;case 22:this.$={stmt:"state",id:ae[Ie],type:"join"};break;case 23:this.$={stmt:"state",id:ae[Ie],type:"choice"};break;case 24:this.$={stmt:"state",id:ue.getDividerId(),type:"divider"};break;case 25:this.$={stmt:"state",id:ae[Ie-1].trim(),note:{position:ae[Ie-2].trim(),text:ae[Ie].trim()}};break;case 28:this.$=ae[Ie].trim(),ue.setAccTitle(this.$);break;case 29:case 30:this.$=ae[Ie].trim(),ue.setAccDescription(this.$);break;case 31:case 32:this.$={stmt:"classDef",id:ae[Ie-1].trim(),classes:ae[Ie].trim()};break;case 33:this.$={stmt:"applyClass",id:ae[Ie-1].trim(),styleClass:ae[Ie].trim()};break;case 34:ue.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 35:ue.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 36:ue.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 37:ue.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 40:case 41:this.$={stmt:"state",id:ae[Ie].trim(),type:"default",description:""};break;case 42:this.$={stmt:"state",id:ae[Ie-2].trim(),classes:[ae[Ie].trim()],type:"default",description:""};break;case 43:this.$={stmt:"state",id:ae[Ie-2].trim(),classes:[ae[Ie].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,15,16,18,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:s,5:o,8:8,9:10,10:12,11:13,12:14,15:u,16:h,18:p,21:g,23:v,24:x,25:k,26:E,27:_,28:N,31:24,32:M,34:P,36:V,37:H,41:O,44:I,45:z,46:G,47:F,50:j},e(D,[2,5]),{9:36,10:12,11:13,12:14,15:u,16:h,18:p,21:g,23:v,24:x,25:k,26:E,27:_,28:N,31:24,32:M,34:P,36:V,37:H,41:O,44:I,45:z,46:G,47:F,50:j},e(D,[2,7]),e(D,[2,8]),e(D,[2,9]),e(D,[2,10]),e(D,[2,11],{13:[1,37],14:[1,38]}),e(D,[2,15]),{17:[1,39]},e(D,[2,17],{19:[1,40]}),{22:[1,41]},e(D,[2,21]),e(D,[2,22]),e(D,[2,23]),e(D,[2,24]),{29:42,30:[1,43],52:[1,44],53:[1,45]},e(D,[2,27]),{33:[1,46]},{35:[1,47]},e(D,[2,30]),{38:[1,48],40:[1,49]},{42:[1,50]},e(X,[2,40],{51:[1,51]}),e(X,[2,41],{51:[1,52]}),e(D,[2,34]),e(D,[2,35]),e(D,[2,36]),e(D,[2,37]),e(D,[2,6]),e(D,[2,12]),{12:53,23:v,50:j},e(D,[2,16]),e(B,i,{7:54}),{23:[1,55]},{23:[1,56]},{22:[1,57]},{23:[2,44]},{23:[2,45]},e(D,[2,28]),e(D,[2,29]),{39:[1,58]},{39:[1,59]},{43:[1,60]},{23:[1,61]},{23:[1,62]},e(D,[2,13],{13:[1,63]}),{4:s,5:o,8:8,9:10,10:12,11:13,12:14,15:u,16:h,18:p,20:[1,64],21:g,23:v,24:x,25:k,26:E,27:_,28:N,31:24,32:M,34:P,36:V,37:H,41:O,44:I,45:z,46:G,47:F,50:j},e(D,[2,19],{19:[1,65]}),{30:[1,66]},{23:[1,67]},e(D,[2,31]),e(D,[2,32]),e(D,[2,33]),e(X,[2,42]),e(X,[2,43]),e(D,[2,14]),e(D,[2,18]),e(B,i,{7:68}),e(D,[2,25]),e(D,[2,26]),{4:s,5:o,8:8,9:10,10:12,11:13,12:14,15:u,16:h,18:p,20:[1,69],21:g,23:v,24:x,25:k,26:E,27:_,28:N,31:24,32:M,34:P,36:V,37:H,41:O,44:I,45:z,46:G,47:F,50:j},e(D,[2,20])],defaultActions:{5:[2,1],6:[2,2],44:[2,44],45:[2,45]},parseError:a(function(re,Z){if(Z.recoverable)this.trace(re);else{var Y=new Error(re);throw Y.hash=Z,Y}},"parseError"),parse:a(function(re){var Z=this,Y=[0],ue=[],Ae=[null],ae=[],Ke=this.table,Ie="",$e=0,Xe=0,He=0,Ne=2,_e=1,Me=ae.slice.call(arguments,1),Ee=Object.create(this.lexer),Oe={yy:{}};for(var at in this.yy)Object.prototype.hasOwnProperty.call(this.yy,at)&&(Oe.yy[at]=this.yy[at]);Ee.setInput(re,Oe.yy),Oe.yy.lexer=Ee,Oe.yy.parser=this,typeof Ee.yylloc>"u"&&(Ee.yylloc={});var pe=Ee.yylloc;ae.push(pe);var Bt=Ee.options&&Ee.options.ranges;typeof Oe.yy.parseError=="function"?this.parseError=Oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Pe(ct){Y.length=Y.length-2*ct,Ae.length=Ae.length-ct,ae.length=ae.length-ct}a(Pe,"popStack");function gt(){var ct;return ct=ue.pop()||Ee.lex()||_e,typeof ct!="number"&&(ct instanceof Array&&(ue=ct,ct=ue.pop()),ct=Z.symbols_[ct]||ct),ct}a(gt,"lex");for(var mt,Nt,Ut,Gt,Lt,st,De={},Ge,Ye,Le,je;;){if(Ut=Y[Y.length-1],this.defaultActions[Ut]?Gt=this.defaultActions[Ut]:((mt===null||typeof mt>"u")&&(mt=gt()),Gt=Ke[Ut]&&Ke[Ut][mt]),typeof Gt>"u"||!Gt.length||!Gt[0]){var Je="";je=[];for(Ge in Ke[Ut])this.terminals_[Ge]&&Ge>Ne&&je.push("'"+this.terminals_[Ge]+"'");Ee.showPosition?Je="Parse error on line "+($e+1)+`:
`+Ee.showPosition()+`
Expecting `+je.join(", ")+", got '"+(this.terminals_[mt]||mt)+"'":Je="Parse error on line "+($e+1)+": Unexpected "+(mt==_e?"end of input":"'"+(this.terminals_[mt]||mt)+"'"),this.parseError(Je,{text:Ee.match,token:this.terminals_[mt]||mt,line:Ee.yylineno,loc:pe,expected:je})}if(Gt[0]instanceof Array&&Gt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ut+", token: "+mt);switch(Gt[0]){case 1:Y.push(mt),Ae.push(Ee.yytext),ae.push(Ee.yylloc),Y.push(Gt[1]),mt=null,Nt?(mt=Nt,Nt=null):(Xe=Ee.yyleng,Ie=Ee.yytext,$e=Ee.yylineno,pe=Ee.yylloc,He>0&&He--);break;case 2:if(Ye=this.productions_[Gt[1]][1],De.$=Ae[Ae.length-Ye],De._$={first_line:ae[ae.length-(Ye||1)].first_line,last_line:ae[ae.length-1].last_line,first_column:ae[ae.length-(Ye||1)].first_column,last_column:ae[ae.length-1].last_column},Bt&&(De._$.range=[ae[ae.length-(Ye||1)].range[0],ae[ae.length-1].range[1]]),st=this.performAction.apply(De,[Ie,Xe,$e,Oe.yy,Gt[1],Ae,ae].concat(Me)),typeof st<"u")return st;Ye&&(Y=Y.slice(0,-1*Ye*2),Ae=Ae.slice(0,-1*Ye),ae=ae.slice(0,-1*Ye)),Y.push(this.productions_[Gt[1]][0]),Ae.push(De.$),ae.push(De._$),Le=Ke[Y[Y.length-2]][Y[Y.length-1]],Y.push(Le);break;case 3:return!0}}return!0},"parse")},le=function(){var ie={EOF:1,parseError:a(function(Z,Y){if(this.yy.parser)this.yy.parser.parseError(Z,Y);else throw new Error(Z)},"parseError"),setInput:function(re,Z){return this.yy=Z||this.yy||{},this._input=re,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var re=this._input[0];this.yytext+=re,this.yyleng++,this.offset++,this.match+=re,this.matched+=re;var Z=re.match(/(?:\r\n?|\n).*/g);return Z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),re},unput:function(re){var Z=re.length,Y=re.split(/(?:\r\n?|\n)/g);this._input=re+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Z),this.offset-=Z;var ue=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Ae=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===ue.length?this.yylloc.first_column:0)+ue[ue.length-Y.length].length-Y[0].length:this.yylloc.first_column-Z},this.options.ranges&&(this.yylloc.range=[Ae[0],Ae[0]+this.yyleng-Z]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(re){this.unput(this.match.slice(re))},pastInput:function(){var re=this.matched.substr(0,this.matched.length-this.match.length);return(re.length>20?"...":"")+re.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var re=this.match;return re.length<20&&(re+=this._input.substr(0,20-re.length)),(re.substr(0,20)+(re.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var re=this.pastInput(),Z=new Array(re.length+1).join("-");return re+this.upcomingInput()+`
`+Z+"^"},test_match:function(re,Z){var Y,ue,Ae;if(this.options.backtrack_lexer&&(Ae={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ae.yylloc.range=this.yylloc.range.slice(0))),ue=re[0].match(/(?:\r\n?|\n).*/g),ue&&(this.yylineno+=ue.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ue?ue[ue.length-1].length-ue[ue.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+re[0].length},this.yytext+=re[0],this.match+=re[0],this.matches=re,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(re[0].length),this.matched+=re[0],Y=this.performAction.call(this,this.yy,this,Z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var ae in Ae)this[ae]=Ae[ae];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var re,Z,Y,ue;this._more||(this.yytext="",this.match="");for(var Ae=this._currentRules(),ae=0;ae<Ae.length;ae++)if(Y=this._input.match(this.rules[Ae[ae]]),Y&&(!Z||Y[0].length>Z[0].length)){if(Z=Y,ue=ae,this.options.backtrack_lexer){if(re=this.test_match(Y,Ae[ae]),re!==!1)return re;if(this._backtrack){Z=!1;continue}else return!1}else if(!this.options.flex)break}return Z?(re=this.test_match(Z,Ae[ue]),re!==!1?re:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var Z=this.next();return Z||this.lex()},"lex"),begin:a(function(Z){this.conditionStack.push(Z)},"begin"),popState:a(function(){var Z=this.conditionStack.length-1;return Z>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(Z){return Z=this.conditionStack.length-1-Math.abs(Z||0),Z>=0?this.conditionStack[Z]:"INITIAL"},"topState"),pushState:a(function(Z){this.begin(Z)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(Z,Y,ue,Ae){var ae=Ae;switch(ue){case 0:return 40;case 1:return 44;case 2:return 45;case 3:return 46;case 4:return 47;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),16;break;case 13:return 17;case 14:this.popState();break;case 15:return this.begin("acc_title"),32;break;case 16:return this.popState(),"acc_title_value";break;case 17:return this.begin("acc_descr"),34;break;case 18:return this.popState(),"acc_descr_value";break;case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),37;break;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 24:return this.popState(),this.pushState("CLASSDEFID"),38;break;case 25:return this.popState(),39;break;case 26:return this.pushState("CLASS"),41;break;case 27:return this.popState(),this.pushState("CLASS_STYLE"),42;break;case 28:return this.popState(),43;break;case 29:return this.pushState("SCALE"),16;break;case 30:return 17;case 31:this.popState();break;case 32:this.pushState("STATE");break;case 33:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),24;break;case 34:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),25;break;case 35:return this.popState(),Y.yytext=Y.yytext.slice(0,-10).trim(),26;break;case 36:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),24;break;case 37:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),25;break;case 38:return this.popState(),Y.yytext=Y.yytext.slice(0,-10).trim(),26;break;case 39:return 44;case 40:return 45;case 41:return 46;case 42:return 47;case 43:this.pushState("STATE_STRING");break;case 44:return this.pushState("STATE_ID"),"AS";break;case 45:return this.popState(),"ID";break;case 46:this.popState();break;case 47:return"STATE_DESCR";case 48:return 18;case 49:this.popState();break;case 50:return this.popState(),this.pushState("struct"),19;break;case 51:break;case 52:return this.popState(),20;break;case 53:break;case 54:return this.begin("NOTE"),28;break;case 55:return this.popState(),this.pushState("NOTE_ID"),52;break;case 56:return this.popState(),this.pushState("NOTE_ID"),53;break;case 57:this.popState(),this.pushState("FLOATING_NOTE");break;case 58:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";break;case 59:break;case 60:return"NOTE_TEXT";case 61:return this.popState(),"ID";break;case 62:return this.popState(),this.pushState("NOTE_TEXT"),23;break;case 63:return this.popState(),Y.yytext=Y.yytext.substr(2).trim(),30;break;case 64:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),30;break;case 65:return 6;case 66:return 6;case 67:return 15;case 68:return 50;case 69:return 23;case 70:return Y.yytext=Y.yytext.trim(),13;break;case 71:return 14;case 72:return 27;case 73:return 51;case 74:return 5;case 75:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,32,39,40,41,42,51,52,53,54,68,69,70,71,72],inclusive:!1},FLOATING_NOTE_ID:{rules:[61],inclusive:!1},FLOATING_NOTE:{rules:[58,59,60],inclusive:!1},NOTE_TEXT:{rules:[63,64],inclusive:!1},NOTE_ID:{rules:[62],inclusive:!1},NOTE:{rules:[55,56,57],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,30,31],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[45],inclusive:!1},STATE_STRING:{rules:[46,47],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,33,34,35,36,37,38,43,44,48,49,50],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,50,54,65,66,67,68,69,70,71,73,74,75],inclusive:!0}}};return ie}();Q.lexer=le;function J(){this.yy={}}return a(J,"Parser"),J.prototype=Q,Q.Parser=J,new J}();_P.parser=_P;b7=_P});var k7,f0e,gy,Hb,d0e,p0e,am,w7,LP=L(()=>{"use strict";k7="LR",f0e="TB",gy="state",Hb="relation",d0e="classDef",p0e="applyClass",am="default",w7="divider"});function k0e(){return new Map}function DP(e=""){let t=e;return e===MP&&(Yb++,t=`${v0e}${Yb}`),t}function RP(e="",t=am){return e===MP?v0e:t}function fXe(e=""){let t=e;return e===x0e&&(Yb++,t=`${b0e}${Yb}`),t}function dXe(e="",t=am){return e===x0e?b0e:t}function pXe(e,t,r){let n=DP(e.id.trim()),i=RP(e.id.trim(),e.type),s=DP(t.id.trim()),o=RP(t.id.trim(),t.type);sm(n,i,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),sm(s,o,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),pl.relations.push({id1:n,id2:s,relationTitle:Ct.sanitizeText(r,we())})}var MP,v0e,x0e,b0e,m0e,g0e,tXe,rXe,w0e,C7,Wb,T0e,S7,pl,Yb,y0e,nXe,iXe,T7,aXe,sXe,E7,oXe,lXe,sm,E0e,Xb,uXe,cXe,hXe,C0e,IP,mXe,gXe,S0e,yXe,NP,vXe,xXe,bXe,kXe,wXe,_u,_7=L(()=>{"use strict";ar();kn();Ln();Vr();$i();LP();MP="[*]",v0e="start",x0e=MP,b0e="end",m0e="color",g0e="fill",tXe="bgFill",rXe=",";a(k0e,"newClassesList");w0e=k7,C7=[],Wb=k0e(),T0e=a(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),S7={root:T0e()},pl=S7.root,Yb=0,y0e=0,nXe={LINE:0,DOTTED_LINE:1},iXe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},T7=a(e=>JSON.parse(JSON.stringify(e)),"clone"),aXe=a(e=>{ce.info("Setting root doc",e),C7=e},"setRootDoc"),sXe=a(()=>C7,"getRootDoc"),E7=a((e,t,r)=>{if(t.stmt===Hb)E7(e,t.state1,!0),E7(e,t.state2,!1);else if(t.stmt===gy&&(t.id==="[*]"?(t.id=r?e.id+"_start":e.id+"_end",t.start=r):t.id=t.id.trim()),t.doc){let n=[],i=[],s;for(s=0;s<t.doc.length;s++)if(t.doc[s].type===w7){let o=T7(t.doc[s]);o.doc=T7(i),n.push(o),i=[]}else i.push(t.doc[s]);if(n.length>0&&i.length>0){let o={stmt:gy,id:G9(),type:"divider",doc:T7(i)};n.push(T7(o)),t.doc=n}t.doc.forEach(o=>E7(t,o,!0))}},"docTranslator"),oXe=a(()=>(E7({id:"root"},{id:"root",doc:C7},!0),{id:"root",doc:C7}),"getRootDocV2"),lXe=a(e=>{let t;e.doc?t=e.doc:t=e,ce.info(t),E0e(!0),ce.info("Extract",t),t.forEach(r=>{switch(r.stmt){case gy:sm(r.id.trim(),r.type,r.doc,r.description,r.note,r.classes,r.styles,r.textStyles);break;case Hb:C0e(r.state1,r.state2,r.description);break;case d0e:S0e(r.id.trim(),r.classes);break;case p0e:NP(r.id.trim(),r.styleClass);break}})},"extract"),sm=a(function(e,t=am,r=null,n=null,i=null,s=null,o=null,u=null){let h=e?.trim();if(pl.states.has(h)?(pl.states.get(h).doc||(pl.states.get(h).doc=r),pl.states.get(h).type||(pl.states.get(h).type=t)):(ce.info("Adding state ",h,n),pl.states.set(h,{id:h,descriptions:[],type:t,doc:r,note:i,classes:[],styles:[],textStyles:[]})),n&&(ce.info("Setting state description",h,n),typeof n=="string"&&IP(h,n.trim()),typeof n=="object"&&n.forEach(p=>IP(h,p.trim()))),i){let p=pl.states.get(h);p.note=i,p.note.text=Ct.sanitizeText(p.note.text,we())}s&&(ce.info("Setting state classes",h,s),(typeof s=="string"?[s]:s).forEach(g=>NP(h,g.trim()))),o&&(ce.info("Setting state styles",h,o),(typeof o=="string"?[o]:o).forEach(g=>vXe(h,g.trim()))),u&&(ce.info("Setting state styles",h,o),(typeof u=="string"?[u]:u).forEach(g=>xXe(h,g.trim())))},"addState"),E0e=a(function(e){S7={root:T0e()},pl=S7.root,Yb=0,Wb=k0e(),e||nn()},"clear"),Xb=a(function(e){return pl.states.get(e)},"getState"),uXe=a(function(){return pl.states},"getStates"),cXe=a(function(){ce.info("Documents = ",S7)},"logDocuments"),hXe=a(function(){return pl.relations},"getRelations");a(DP,"startIdIfNeeded");a(RP,"startTypeIfNeeded");a(fXe,"endIdIfNeeded");a(dXe,"endTypeIfNeeded");a(pXe,"addRelationObjs");C0e=a(function(e,t,r){if(typeof e=="object")pXe(e,t,r);else{let n=DP(e.trim()),i=RP(e),s=fXe(t.trim()),o=dXe(t);sm(n,i),sm(s,o),pl.relations.push({id1:n,id2:s,title:Ct.sanitizeText(r,we())})}},"addRelation"),IP=a(function(e,t){let r=pl.states.get(e),n=t.startsWith(":")?t.replace(":","").trim():t;r.descriptions.push(Ct.sanitizeText(n,we()))},"addDescription"),mXe=a(function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},"cleanupLabel"),gXe=a(()=>(y0e++,"divider-id-"+y0e),"getDividerId"),S0e=a(function(e,t=""){Wb.has(e)||Wb.set(e,{id:e,styles:[],textStyles:[]});let r=Wb.get(e);t?.split(rXe).forEach(n=>{let i=n.replace(/([^;]*);/,"$1").trim();if(n.match(m0e)){let o=i.replace(g0e,tXe).replace(m0e,g0e);r.textStyles.push(o)}r.styles.push(i)})},"addStyleClass"),yXe=a(function(){return Wb},"getClasses"),NP=a(function(e,t){e.split(",").forEach(function(r){let n=Xb(r);if(n===void 0){let i=r.trim();sm(i),n=Xb(i)}n.classes.push(t)})},"setCssClass"),vXe=a(function(e,t){let r=Xb(e);r!==void 0&&r.textStyles.push(t)},"setStyle"),xXe=a(function(e,t){let r=Xb(e);r!==void 0&&r.textStyles.push(t)},"setTextStyle"),bXe=a(()=>w0e,"getDirection"),kXe=a(e=>{w0e=e},"setDirection"),wXe=a(e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),"trimColon"),_u={getConfig:()=>we().state,addState:sm,clear:E0e,getState:Xb,getStates:uXe,getRelations:hXe,getClasses:yXe,getDirection:bXe,addRelation:C0e,getDividerId:gXe,setDirection:kXe,cleanupLabel:mXe,lineType:nXe,relationType:iXe,logDocuments:cXe,getRootDoc:sXe,setRootDoc:aXe,getRootDocV2:oXe,extract:lXe,trimColon:wXe,getAccTitle:pn,setAccTitle:hn,getAccDescription:gn,setAccDescription:mn,addStyleClass:S0e,setCssClass:NP,addDescription:IP,setDiagramTitle:Dn,getDiagramTitle:wn}});var TXe,A7,OP=L(()=>{"use strict";TXe=a(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),A7=TXe});var PP,EXe,CXe,_0e,SXe,A0e,L0e=L(()=>{"use strict";PP={},EXe=a((e,t)=>{PP[e]=t},"set"),CXe=a(e=>PP[e],"get"),_0e=a(()=>Object.keys(PP),"keys"),SXe=a(()=>_0e().length,"size"),A0e={get:CXe,set:EXe,keys:_0e,size:SXe}});var _Xe,AXe,LXe,DXe,R0e,RXe,IXe,MXe,NXe,BP,D0e,I0e,M0e=L(()=>{"use strict";Wr();L0e();_7();kn();Ln();Vr();ar();_Xe=a(e=>e.append("circle").attr("class","start-state").attr("r",we().state.sizeUnit).attr("cx",we().state.padding+we().state.sizeUnit).attr("cy",we().state.padding+we().state.sizeUnit),"drawStartState"),AXe=a(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",we().state.textHeight).attr("class","divider").attr("x2",we().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),LXe=a((e,t)=>{let r=e.append("text").attr("x",2*we().state.padding).attr("y",we().state.textHeight+2*we().state.padding).attr("font-size",we().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",we().state.padding).attr("y",we().state.padding).attr("width",n.width+2*we().state.padding).attr("height",n.height+2*we().state.padding).attr("rx",we().state.radius),r},"drawSimpleState"),DXe=a((e,t)=>{let r=a(function(x,k,E){let _=x.append("tspan").attr("x",2*we().state.padding).text(k);E||_.attr("dy",we().state.textHeight)},"addTspan"),i=e.append("text").attr("x",2*we().state.padding).attr("y",we().state.textHeight+1.3*we().state.padding).attr("font-size",we().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),s=i.height,o=e.append("text").attr("x",we().state.padding).attr("y",s+we().state.padding*.4+we().state.dividerMargin+we().state.textHeight).attr("class","state-description"),u=!0,h=!0;t.descriptions.forEach(function(x){u||(r(o,x,h),h=!1),u=!1});let p=e.append("line").attr("x1",we().state.padding).attr("y1",we().state.padding+s+we().state.dividerMargin/2).attr("y2",we().state.padding+s+we().state.dividerMargin/2).attr("class","descr-divider"),g=o.node().getBBox(),v=Math.max(g.width,i.width);return p.attr("x2",v+3*we().state.padding),e.insert("rect",":first-child").attr("x",we().state.padding).attr("y",we().state.padding).attr("width",v+2*we().state.padding).attr("height",g.height+s+2*we().state.padding).attr("rx",we().state.radius),e},"drawDescrState"),R0e=a((e,t,r)=>{let n=we().state.padding,i=2*we().state.padding,s=e.node().getBBox(),o=s.width,u=s.x,h=e.append("text").attr("x",0).attr("y",we().state.titleShift).attr("font-size",we().state.fontSize).attr("class","state-title").text(t.id),g=h.node().getBBox().width+i,v=Math.max(g,o);v===o&&(v=v+i);let x,k=e.node().getBBox();t.doc,x=u-n,g>o&&(x=(o-v)/2+n),Math.abs(u-k.x)<n&&g>o&&(x=u-(g-o)/2);let E=1-we().state.textHeight;return e.insert("rect",":first-child").attr("x",x).attr("y",E).attr("class",r?"alt-composit":"composit").attr("width",v).attr("height",k.height+we().state.textHeight+we().state.titleShift+1).attr("rx","0"),h.attr("x",x+n),g<=o&&h.attr("x",u+(v-i)/2-g/2+n),e.insert("rect",":first-child").attr("x",x).attr("y",we().state.titleShift-we().state.textHeight-we().state.padding).attr("width",v).attr("height",we().state.textHeight*3).attr("rx",we().state.radius),e.insert("rect",":first-child").attr("x",x).attr("y",we().state.titleShift-we().state.textHeight-we().state.padding).attr("width",v).attr("height",k.height+3+2*we().state.textHeight).attr("rx",we().state.radius),e},"addTitleAndBox"),RXe=a(e=>(e.append("circle").attr("class","end-state-outer").attr("r",we().state.sizeUnit+we().state.miniPadding).attr("cx",we().state.padding+we().state.sizeUnit+we().state.miniPadding).attr("cy",we().state.padding+we().state.sizeUnit+we().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",we().state.sizeUnit).attr("cx",we().state.padding+we().state.sizeUnit+2).attr("cy",we().state.padding+we().state.sizeUnit+2)),"drawEndState"),IXe=a((e,t)=>{let r=we().state.forkWidth,n=we().state.forkHeight;if(t.parentId){let i=r;r=n,n=i}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",we().state.padding).attr("y",we().state.padding)},"drawForkJoinState"),MXe=a((e,t,r,n)=>{let i=0,s=n.append("text");s.style("text-anchor","start"),s.attr("class","noteText");let o=e.replace(/\r\n/g,"<br/>");o=o.replace(/\n/g,"<br/>");let u=o.split(Ct.lineBreakRegex),h=1.25*we().state.noteMargin;for(let p of u){let g=p.trim();if(g.length>0){let v=s.append("tspan");if(v.text(g),h===0){let x=v.node().getBBox();h+=x.height}i+=h,v.attr("x",t+we().state.noteMargin),v.attr("y",r+i+1.25*we().state.noteMargin)}}return{textWidth:s.node().getBBox().width,textHeight:i}},"_drawLongText"),NXe=a((e,t)=>{t.attr("class","state-note");let r=t.append("rect").attr("x",0).attr("y",we().state.padding),n=t.append("g"),{textWidth:i,textHeight:s}=MXe(e,0,0,n);return r.attr("height",s+2*we().state.noteMargin),r.attr("width",i+we().state.noteMargin*2),r},"drawNote"),BP=a(function(e,t){let r=t.id,n={id:r,label:t.id,width:0,height:0},i=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&_Xe(i),t.type==="end"&&RXe(i),(t.type==="fork"||t.type==="join")&&IXe(i,t),t.type==="note"&&NXe(t.note.text,i),t.type==="divider"&&AXe(i),t.type==="default"&&t.descriptions.length===0&&LXe(i,t),t.type==="default"&&t.descriptions.length>0&&DXe(i,t);let s=i.node().getBBox();return n.width=s.width+2*we().state.padding,n.height=s.height+2*we().state.padding,A0e.set(r,n),n},"drawState"),D0e=0,I0e=a(function(e,t,r){let n=a(function(h){switch(h){case _u.relationType.AGGREGATION:return"aggregation";case _u.relationType.EXTENSION:return"extension";case _u.relationType.COMPOSITION:return"composition";case _u.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(h=>!Number.isNaN(h.y));let i=t.points,s=Rs().x(function(h){return h.x}).y(function(h){return h.y}).curve(Jl),o=e.append("path").attr("d",s(i)).attr("id","edge"+D0e).attr("class","transition"),u="";if(we().state.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),o.attr("marker-end","url("+u+"#"+n(_u.relationType.DEPENDENCY)+"End)"),r.title!==void 0){let h=e.append("g").attr("class","stateLabel"),{x:p,y:g}=wr.calcLabelPosition(t.points),v=Ct.getRows(r.title),x=0,k=[],E=0,_=0;for(let P=0;P<=v.length;P++){let V=h.append("text").attr("text-anchor","middle").text(v[P]).attr("x",p).attr("y",g+x),H=V.node().getBBox();E=Math.max(E,H.width),_=Math.min(_,H.x),ce.info(H.x,p,g+x),x===0&&(x=V.node().getBBox().height,ce.info("Title height",x,g)),k.push(V)}let N=x*v.length;if(v.length>1){let P=(v.length-1)*x*.5;k.forEach((V,H)=>V.attr("y",g+H*x-P)),N=x*v.length}let M=h.node().getBBox();h.insert("rect",":first-child").attr("class","box").attr("x",p-E/2-we().state.padding/2).attr("y",g-N/2-we().state.padding/2-3.5).attr("width",E+we().state.padding).attr("height",N+we().state.padding),ce.info(M)}D0e++},"drawEdge")});var Vl,FP,OXe,PXe,BXe,FXe,N0e,O0e,P0e=L(()=>{"use strict";Wr();fp();Ua();ar();Ln();M0e();Vr();si();FP={},OXe=a(function(){},"setConf"),PXe=a(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),BXe=a(function(e,t,r,n){Vl=we().state;let i=we().securityLevel,s;i==="sandbox"&&(s=ut("#i"+t));let o=i==="sandbox"?ut(s.nodes()[0].contentDocument.body):ut("body"),u=i==="sandbox"?s.nodes()[0].contentDocument:document;ce.debug("Rendering diagram "+e);let h=o.select(`[id='${t}']`);PXe(h);let p=n.db.getRootDoc();N0e(p,h,void 0,!1,o,u,n);let g=Vl.padding,v=h.node().getBBox(),x=v.width+g*2,k=v.height+g*2,E=x*1.75;rn(h,k,E,Vl.useMaxWidth),h.attr("viewBox",`${v.x-Vl.padding}  ${v.y-Vl.padding} `+x+" "+k)},"draw"),FXe=a(e=>e?e.length*Vl.fontSizeFactor:1,"getLabelWidth"),N0e=a((e,t,r,n,i,s,o)=>{let u=new fn({compound:!0,multigraph:!0}),h,p=!0;for(h=0;h<e.length;h++)if(e[h].stmt==="relation"){p=!1;break}r?u.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:p?1:Vl.edgeLengthFactor,nodeSep:p?1:50,isMultiGraph:!0}):u.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:p?1:Vl.edgeLengthFactor,nodeSep:p?1:50,ranker:"tight-tree",isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}}),o.db.extract(e);let g=o.db.getStates(),v=o.db.getRelations(),x=Object.keys(g),k=!0;for(let P of x){let V=g[P];r&&(V.parentId=r);let H;if(V.doc){let O=t.append("g").attr("id",V.id).attr("class","stateGroup");if(H=N0e(V.doc,O,V.id,!n,i,s,o),k){O=R0e(O,V,n);let I=O.node().getBBox();H.width=I.width,H.height=I.height+Vl.padding/2,FP[V.id]={y:Vl.compositTitleSize}}else{let I=O.node().getBBox();H.width=I.width,H.height=I.height}}else H=BP(t,V,u);if(V.note){let O={descriptions:[],id:V.id+"-note",note:V.note,type:"note"},I=BP(t,O,u);V.note.position==="left of"?(u.setNode(H.id+"-note",I),u.setNode(H.id,H)):(u.setNode(H.id,H),u.setNode(H.id+"-note",I)),u.setParent(H.id,H.id+"-group"),u.setParent(H.id+"-note",H.id+"-group")}else u.setNode(H.id,H)}ce.debug("Count=",u.nodeCount(),u);let E=0;v.forEach(function(P){E++,ce.debug("Setting edge",P),u.setEdge(P.id1,P.id2,{relation:P,width:FXe(P.title),height:Vl.labelHeight*Ct.getRows(P.title).length,labelpos:"c"},"id"+E)}),Il(u),ce.debug("Graph after layout",u.nodes());let _=t.node();u.nodes().forEach(function(P){P!==void 0&&u.node(P)!==void 0?(ce.warn("Node "+P+": "+JSON.stringify(u.node(P))),i.select("#"+_.id+" #"+P).attr("transform","translate("+(u.node(P).x-u.node(P).width/2)+","+(u.node(P).y+(FP[P]?FP[P].y:0)-u.node(P).height/2)+" )"),i.select("#"+_.id+" #"+P).attr("data-x-shift",u.node(P).x-u.node(P).width/2),s.querySelectorAll("#"+_.id+" #"+P+" .divider").forEach(H=>{let O=H.parentElement,I=0,z=0;O&&(O.parentElement&&(I=O.parentElement.getBBox().width),z=parseInt(O.getAttribute("data-x-shift"),10),Number.isNaN(z)&&(z=0)),H.setAttribute("x1",0-z+8),H.setAttribute("x2",I-z-8)})):ce.debug("No Node "+P+": "+JSON.stringify(u.node(P)))});let N=_.getBBox();u.edges().forEach(function(P){P!==void 0&&u.edge(P)!==void 0&&(ce.debug("Edge "+P.v+" -> "+P.w+": "+JSON.stringify(u.edge(P))),I0e(t,u.edge(P),u.edge(P).relation))}),N=_.getBBox();let M={id:r||"root",label:r||"root",width:0,height:0};return M.width=N.width+2*Vl.padding,M.height=N.height+2*Vl.padding,ce.debug("Doc rendered",M,u),M},"renderDoc"),O0e={setConf:OXe,draw:BXe}});var B0e={};Hr(B0e,{diagram:()=>zXe});var zXe,F0e=L(()=>{"use strict";AP();_7();OP();P0e();zXe={parser:b7,db:_u,renderer:O0e,styles:A7,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,_u.clear()}}});function cje(e){return e==null?"":e.classes?e.classes.join(" "):""}function $P(e="",t=0,r="",n=VP){let i=r!==null&&r.length>0?`${n}${r}`:"";return`${aje}-${e}${i}-${t}`}var L7,zP,qXe,UXe,HXe,WXe,YXe,XXe,yy,jXe,KXe,V0e,QXe,ZXe,JXe,eje,tje,rje,nje,ije,q0e,U0e,aje,VP,sje,G0e,H0e,W0e,Y0e,X0e,j0e,D7,Ef,oje,lje,uje,jb,hje,GP,fje,K0e,Q0e=L(()=>{"use strict";Ua();Wr();Vr();Qw();ar();si();Ln();kn();LP();L7="rect",zP="rectWithTitle",qXe="start",UXe="end",HXe="divider",WXe="roundedWithTitle",YXe="note",XXe="noteGroup",yy="statediagram",jXe="state",KXe=`${yy}-${jXe}`,V0e="transition",QXe="note",ZXe="note-edge",JXe=`${V0e} ${ZXe}`,eje=`${yy}-${QXe}`,tje="cluster",rje=`${yy}-${tje}`,nje="cluster-alt",ije=`${yy}-${nje}`,q0e="parent",U0e="note",aje="state",VP="----",sje=`${VP}${U0e}`,G0e=`${VP}${q0e}`,H0e="fill:none",W0e="fill: #333",Y0e="c",X0e="text",j0e="normal",D7={},Ef=0,oje={},lje=a(function(e){let t=Object.keys(e);for(let r of t)oje[r]=e[r]},"setConf"),uje=a(function(e,t){return t.db.extract(t.db.getRootDocV2()),t.db.getClasses()},"getClasses");a(cje,"getClassesFromDbInfo");a($P,"stateDomId");jb=a((e,t,r,n,i,s)=>{let o=r.id,u=cje(n.get(o));if(o!=="root"){let h=L7;r.start===!0&&(h=qXe),r.start===!1&&(h=UXe),r.type!==am&&(h=r.type),D7[o]||(D7[o]={id:o,shape:h,description:Ct.sanitizeText(o,we()),classes:`${u} ${KXe}`});let p=D7[o];r.description&&(Array.isArray(p.description)?(p.shape=zP,p.description.push(r.description)):p.description.length>0?(p.shape=zP,p.description===o?p.description=[r.description]:p.description=[p.description,r.description]):(p.shape=L7,p.description=r.description),p.description=Ct.sanitizeTextOrArray(p.description,we())),p.description.length===1&&p.shape===zP&&(p.shape=L7),!p.type&&r.doc&&(ce.info("Setting cluster for ",o,GP(r)),p.type="group",p.dir=GP(r),p.shape=r.type===w7?HXe:WXe,p.classes=p.classes+" "+rje+" "+(s?ije:""));let g={labelStyle:"",shape:p.shape,labelText:p.description,classes:p.classes,style:"",id:o,dir:p.dir,domId:$P(o,Ef),type:p.type,padding:15};if(g.centerLabel=!0,r.note){let v={labelStyle:"",shape:YXe,labelText:r.note.text,classes:eje,style:"",id:o+sje+"-"+Ef,domId:$P(o,Ef,U0e),type:p.type,padding:15},x={labelStyle:"",shape:XXe,labelText:r.note.text,classes:p.classes,style:"",id:o+G0e,domId:$P(o,Ef,q0e),type:"group",padding:0},k=o+G0e;e.setNode(k,x),e.setNode(v.id,v),e.setNode(o,g),e.setParent(o,k),e.setParent(v.id,k);let E=o,_=v.id;r.note.position==="left of"&&(E=v.id,_=o),e.setEdge(E,_,{arrowhead:"none",arrowType:"",style:H0e,labelStyle:"",id:Jh(E,_,{counter:Ef}),classes:JXe,arrowheadStyle:W0e,labelpos:Y0e,labelType:X0e,thickness:j0e}),Ef++}else e.setNode(o,g)}t&&t.id!=="root"&&(ce.trace("Setting node ",o," to be child of its parent ",t.id),e.setParent(o,t.id)),r.doc&&(ce.trace("Adding nodes children "),hje(e,r,r.doc,n,i,!s))},"setupNode"),hje=a((e,t,r,n,i,s)=>{ce.trace("items",r),r.forEach(o=>{switch(o.stmt){case gy:jb(e,t,o,n,i,s);break;case am:jb(e,t,o,n,i,s);break;case Hb:{jb(e,t,o.state1,n,i,s),jb(e,t,o.state2,n,i,s);let u={id:Jh(o.state1.id,o.state2.id,{counter:Ef}),arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:H0e,labelStyle:"",label:Ct.sanitizeText(o.description,we()),arrowheadStyle:W0e,labelpos:Y0e,labelType:X0e,thickness:j0e,classes:V0e};e.setEdge(o.state1.id,o.state2.id,u,Ef),Ef++}break}})},"setupDoc"),GP=a((e,t=f0e)=>{let r=t;if(e.doc)for(let n=0;n<e.doc.length;n++){let i=e.doc[n];i.stmt==="dir"&&(r=i.value)}return r},"getDir"),fje=a(async function(e,t,r,n){ce.info("Drawing state diagram (v2)",t),D7={};let i=n.db.getDirection();i===void 0&&(i=k7);let{securityLevel:s,state:o}=we(),u=o.nodeSpacing||50,h=o.rankSpacing||50;ce.info(n.db.getRootDocV2()),n.db.extract(n.db.getRootDocV2()),ce.info(n.db.getRootDocV2());let p=n.db.getStates(),g=new fn({multigraph:!0,compound:!0}).setGraph({rankdir:GP(n.db.getRootDocV2()),nodesep:u,ranksep:h,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});jb(g,void 0,n.db.getRootDocV2(),p,n.db,!0);let v;s==="sandbox"&&(v=ut("#i"+t));let x=s==="sandbox"?ut(v.nodes()[0].contentDocument.body):ut("body"),k=x.select(`[id="${t}"]`),E=x.select("#"+t+" g");await y1(E,g,["barb"],yy,t);let _=8;wr.insertTitle(k,"statediagramTitleText",o.titleTopMargin,n.db.getDiagramTitle());let N=k.node().getBBox(),M=N.width+_*2,P=N.height+_*2;k.attr("class",yy);let V=k.node().getBBox();rn(k,P,M,o.useMaxWidth);let H=`${V.x-_} ${V.y-_} ${M} ${P}`;ce.debug(`viewBox ${H}`),k.attr("viewBox",H);let O=document.querySelectorAll('[id="'+t+'"] .edgeLabel .label');for(let I of O){let z=I.getBBox(),G=document.createElementNS("http://www.w3.org/2000/svg",L7);G.setAttribute("rx",0),G.setAttribute("ry",0),G.setAttribute("width",z.width),G.setAttribute("height",z.height),I.insertBefore(G,I.firstChild)}},"draw"),K0e={setConf:lje,getClasses:uje,draw:fje}});var Z0e={};Hr(Z0e,{diagram:()=>dje});var dje,J0e=L(()=>{"use strict";AP();_7();OP();Q0e();dje={parser:b7,db:_u,renderer:K0e,styles:A7,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,_u.clear()}}});var qP,rpe,npe=L(()=>{"use strict";qP=function(){var e=a(function(v,x,k,E){for(k=k||{},E=v.length;E--;k[v[E]]=x);return k},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],s=[1,12],o=[1,13],u=[1,14],h={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:a(function(x,k,E,_,N,M,P){var V=M.length-1;switch(N){case 1:return M[V-1];case 2:this.$=[];break;case 3:M[V-1].push(M[V]),this.$=M[V-1];break;case 4:case 5:this.$=M[V];break;case 6:case 7:this.$=[];break;case 8:_.setDiagramTitle(M[V].substr(6)),this.$=M[V].substr(6);break;case 9:this.$=M[V].trim(),_.setAccTitle(this.$);break;case 10:case 11:this.$=M[V].trim(),_.setAccDescription(this.$);break;case 12:_.addSection(M[V].substr(8)),this.$=M[V].substr(8);break;case 13:_.addTask(M[V-1],M[V]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:s,17:o,18:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:n,14:i,16:s,17:o,18:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:a(function(x,k){if(k.recoverable)this.trace(x);else{var E=new Error(x);throw E.hash=k,E}},"parseError"),parse:a(function(x){var k=this,E=[0],_=[],N=[null],M=[],P=this.table,V="",H=0,O=0,I=0,z=2,G=1,F=M.slice.call(arguments,1),j=Object.create(this.lexer),D={yy:{}};for(var X in this.yy)Object.prototype.hasOwnProperty.call(this.yy,X)&&(D.yy[X]=this.yy[X]);j.setInput(x,D.yy),D.yy.lexer=j,D.yy.parser=this,typeof j.yylloc>"u"&&(j.yylloc={});var B=j.yylloc;M.push(B);var Q=j.options&&j.options.ranges;typeof D.yy.parseError=="function"?this.parseError=D.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function le(Ne){E.length=E.length-2*Ne,N.length=N.length-Ne,M.length=M.length-Ne}a(le,"popStack");function J(){var Ne;return Ne=_.pop()||j.lex()||G,typeof Ne!="number"&&(Ne instanceof Array&&(_=Ne,Ne=_.pop()),Ne=k.symbols_[Ne]||Ne),Ne}a(J,"lex");for(var ie,re,Z,Y,ue,Ae,ae={},Ke,Ie,$e,Xe;;){if(Z=E[E.length-1],this.defaultActions[Z]?Y=this.defaultActions[Z]:((ie===null||typeof ie>"u")&&(ie=J()),Y=P[Z]&&P[Z][ie]),typeof Y>"u"||!Y.length||!Y[0]){var He="";Xe=[];for(Ke in P[Z])this.terminals_[Ke]&&Ke>z&&Xe.push("'"+this.terminals_[Ke]+"'");j.showPosition?He="Parse error on line "+(H+1)+`:
`+j.showPosition()+`
Expecting `+Xe.join(", ")+", got '"+(this.terminals_[ie]||ie)+"'":He="Parse error on line "+(H+1)+": Unexpected "+(ie==G?"end of input":"'"+(this.terminals_[ie]||ie)+"'"),this.parseError(He,{text:j.match,token:this.terminals_[ie]||ie,line:j.yylineno,loc:B,expected:Xe})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Z+", token: "+ie);switch(Y[0]){case 1:E.push(ie),N.push(j.yytext),M.push(j.yylloc),E.push(Y[1]),ie=null,re?(ie=re,re=null):(O=j.yyleng,V=j.yytext,H=j.yylineno,B=j.yylloc,I>0&&I--);break;case 2:if(Ie=this.productions_[Y[1]][1],ae.$=N[N.length-Ie],ae._$={first_line:M[M.length-(Ie||1)].first_line,last_line:M[M.length-1].last_line,first_column:M[M.length-(Ie||1)].first_column,last_column:M[M.length-1].last_column},Q&&(ae._$.range=[M[M.length-(Ie||1)].range[0],M[M.length-1].range[1]]),Ae=this.performAction.apply(ae,[V,O,H,D.yy,Y[1],N,M].concat(F)),typeof Ae<"u")return Ae;Ie&&(E=E.slice(0,-1*Ie*2),N=N.slice(0,-1*Ie),M=M.slice(0,-1*Ie)),E.push(this.productions_[Y[1]][0]),N.push(ae.$),M.push(ae._$),$e=P[E[E.length-2]][E[E.length-1]],E.push($e);break;case 3:return!0}}return!0},"parse")},p=function(){var v={EOF:1,parseError:a(function(k,E){if(this.yy.parser)this.yy.parser.parseError(k,E);else throw new Error(k)},"parseError"),setInput:function(x,k){return this.yy=k||this.yy||{},this._input=x,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var x=this._input[0];this.yytext+=x,this.yyleng++,this.offset++,this.match+=x,this.matched+=x;var k=x.match(/(?:\r\n?|\n).*/g);return k?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),x},unput:function(x){var k=x.length,E=x.split(/(?:\r\n?|\n)/g);this._input=x+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-k),this.offset-=k;var _=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),E.length-1&&(this.yylineno-=E.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===_.length?this.yylloc.first_column:0)+_[_.length-E.length].length-E[0].length:this.yylloc.first_column-k},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-k]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(x){this.unput(this.match.slice(x))},pastInput:function(){var x=this.matched.substr(0,this.matched.length-this.match.length);return(x.length>20?"...":"")+x.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var x=this.match;return x.length<20&&(x+=this._input.substr(0,20-x.length)),(x.substr(0,20)+(x.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var x=this.pastInput(),k=new Array(x.length+1).join("-");return x+this.upcomingInput()+`
`+k+"^"},test_match:function(x,k){var E,_,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),_=x[0].match(/(?:\r\n?|\n).*/g),_&&(this.yylineno+=_.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_?_[_.length-1].length-_[_.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+x[0].length},this.yytext+=x[0],this.match+=x[0],this.matches=x,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(x[0].length),this.matched+=x[0],E=this.performAction.call(this,this.yy,this,k,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),E)return E;if(this._backtrack){for(var M in N)this[M]=N[M];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var x,k,E,_;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),M=0;M<N.length;M++)if(E=this._input.match(this.rules[N[M]]),E&&(!k||E[0].length>k[0].length)){if(k=E,_=M,this.options.backtrack_lexer){if(x=this.test_match(E,N[M]),x!==!1)return x;if(this._backtrack){k=!1;continue}else return!1}else if(!this.options.flex)break}return k?(x=this.test_match(k,N[_]),x!==!1?x:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var k=this.next();return k||this.lex()},"lex"),begin:a(function(k){this.conditionStack.push(k)},"begin"),popState:a(function(){var k=this.conditionStack.length-1;return k>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(k){return k=this.conditionStack.length-1-Math.abs(k||0),k>=0?this.conditionStack[k]:"INITIAL"},"topState"),pushState:a(function(k){this.begin(k)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(k,E,_,N){var M=N;switch(_){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return v}();h.lexer=p;function g(){this.yy={}}return a(g,"Parser"),g.prototype=h,h.Parser=g,new g}();qP.parser=qP;rpe=qP});var vy,UP,Kb,Qb,yje,vje,xje,bje,kje,wje,Tje,ipe,Eje,HP,ape=L(()=>{"use strict";Vr();$i();vy="",UP=[],Kb=[],Qb=[],yje=a(function(){UP.length=0,Kb.length=0,vy="",Qb.length=0,nn()},"clear"),vje=a(function(e){vy=e,UP.push(e)},"addSection"),xje=a(function(){return UP},"getSections"),bje=a(function(){let e=ipe(),t=100,r=0;for(;!e&&r<t;)e=ipe(),r++;return Kb.push(...Qb),Kb},"getTasks"),kje=a(function(){let e=[];return Kb.forEach(r=>{r.people&&e.push(...r.people)}),[...new Set(e)].sort()},"updateActors"),wje=a(function(e,t){let r=t.substr(1).split(":"),n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));let s=i.map(u=>u.trim()),o={section:vy,type:vy,people:s,task:e,score:n};Qb.push(o)},"addTask"),Tje=a(function(e){let t={section:vy,type:vy,description:e,task:e,classes:[]};Kb.push(t)},"addTaskOrg"),ipe=a(function(){let e=a(function(r){return Qb[r].processed},"compileTask"),t=!0;for(let[r,n]of Qb.entries())e(r),t=t&&n.processed;return t},"compileTasks"),Eje=a(function(){return kje()},"getActors"),HP={getConfig:()=>we().journey,clear:yje,setDiagramTitle:Dn,getDiagramTitle:wn,setAccTitle:hn,getAccTitle:pn,setAccDescription:mn,getAccDescription:gn,addSection:vje,getSections:xje,getTasks:bje,addTask:wje,addTaskOrg:Tje,getActors:Eje}});var Cje,spe,ope=L(()=>{"use strict";Cje=a(e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles"),spe=Cje});var WP,Sje,upe,cpe,_je,Aje,lpe,Lje,Dje,hpe,Rje,xy,fpe=L(()=>{"use strict";Wr();P2();WP=a(function(e,t){return np(e,t)},"drawRect"),Sje=a(function(e,t){let n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function s(h){let p=ju().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);h.append("path").attr("class","mouth").attr("d",p).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}a(s,"smile");function o(h){let p=ju().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);h.append("path").attr("class","mouth").attr("d",p).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}a(o,"sad");function u(h){h.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return a(u,"ambivalent"),t.score>3?s(i):t.score<3?o(i):u(i),n},"drawFace"),upe=a(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),cpe=a(function(e,t){return cK(e,t)},"drawText"),_je=a(function(e,t){function r(i,s,o,u,h){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+u-h)+" "+(i+o-h*1.2)+","+(s+u)+" "+i+","+(s+u)}a(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,cpe(e,t)},"drawLabel"),Aje=a(function(e,t,r){let n=e.append("g"),i=ac();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,WP(n,i),hpe(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),lpe=-1,Lje=a(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");lpe++;let s=300+5*30;i.append("line").attr("id","task"+lpe).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",s).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),Sje(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let o=ac();o.x=t.x,o.y=t.y,o.fill=t.fill,o.width=r.width,o.height=r.height,o.class="task task-type-"+t.num,o.rx=3,o.ry=3,WP(i,o);let u=t.x+14;t.people.forEach(h=>{let p=t.actors[h].color,g={cx:u,cy:t.y,r:7,fill:p,stroke:"#000",title:h,pos:t.actors[h].position};upe(i,g),u+=10}),hpe(r)(t.task,i,o.x,o.y,o.width,o.height,{class:"task"},r,t.colour)},"drawTask"),Dje=a(function(e,t){Yk(e,t)},"drawBackgroundRect"),hpe=function(){function e(i,s,o,u,h,p,g,v){let x=s.append("text").attr("x",o+h/2).attr("y",u+p/2+5).style("font-color",v).style("text-anchor","middle").text(i);n(x,g)}a(e,"byText");function t(i,s,o,u,h,p,g,v,x){let{taskFontSize:k,taskFontFamily:E}=v,_=i.split(/<br\s*\/?>/gi);for(let N=0;N<_.length;N++){let M=N*k-k*(_.length-1)/2,P=s.append("text").attr("x",o+h/2).attr("y",u).attr("fill",x).style("text-anchor","middle").style("font-size",k).style("font-family",E);P.append("tspan").attr("x",o+h/2).attr("dy",M).text(_[N]),P.attr("y",u+p/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(P,g)}}a(t,"byTspan");function r(i,s,o,u,h,p,g,v){let x=s.append("switch"),E=x.append("foreignObject").attr("x",o).attr("y",u).attr("width",h).attr("height",p).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,x,o,u,h,p,g,v),n(E,g)}a(r,"byFo");function n(i,s){for(let o in s)o in s&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),Rje=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),xy={drawRect:WP,drawCircle:upe,drawSection:Aje,drawText:cpe,drawLabel:_je,drawTask:Lje,drawBackgroundRect:Dje,initGraphics:Rje}});function Mje(e){let t=we().journey,r=60;Object.keys(Cf).forEach(n=>{let i=Cf[n].color,s={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:Cf[n].position};xy.drawCircle(e,s);let o={x:40,y:r+7,fill:"#666",text:n,textMargin:t.boxTextMargin|5};xy.drawText(e,o),r+=20})}var Ije,Cf,R7,om,Nje,Au,YP,dpe,Oje,XP,ppe=L(()=>{"use strict";Wr();fpe();Vr();si();Ije=a(function(e){Object.keys(e).forEach(function(r){R7[r]=e[r]})},"setConf"),Cf={};a(Mje,"drawActorLegend");R7=we().journey,om=R7.leftMargin,Nje=a(function(e,t,r,n){let i=we().journey,s=we().securityLevel,o;s==="sandbox"&&(o=ut("#i"+t));let u=s==="sandbox"?ut(o.nodes()[0].contentDocument.body):ut("body");Au.init();let h=u.select("#"+t);xy.initGraphics(h);let p=n.db.getTasks(),g=n.db.getDiagramTitle(),v=n.db.getActors();for(let M in Cf)delete Cf[M];let x=0;v.forEach(M=>{Cf[M]={color:i.actorColours[x%i.actorColours.length],position:x},x++}),Mje(h),Au.insert(0,0,om,Object.keys(Cf).length*50),Oje(h,p,0);let k=Au.getBounds();g&&h.append("text").text(g).attr("x",om).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);let E=k.stopy-k.starty+2*i.diagramMarginY,_=om+k.stopx+2*i.diagramMarginX;rn(h,E,_,i.useMaxWidth),h.append("line").attr("x1",om).attr("y1",i.height*4).attr("x2",_-om-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let N=g?70:0;h.attr("viewBox",`${k.startx} -25 ${_} ${E+N}`),h.attr("preserveAspectRatio","xMinYMin meet"),h.attr("height",E+N+25)},"draw"),Au={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},updateBounds:function(e,t,r,n){let i=we().journey,s=this,o=0;function u(h){return a(function(g){o++;let v=s.sequenceItems.length-o+1;s.updateVal(g,"starty",t-v*i.boxMargin,Math.min),s.updateVal(g,"stopy",n+v*i.boxMargin,Math.max),s.updateVal(Au.data,"startx",e-v*i.boxMargin,Math.min),s.updateVal(Au.data,"stopx",r+v*i.boxMargin,Math.max),h!=="activation"&&(s.updateVal(g,"startx",e-v*i.boxMargin,Math.min),s.updateVal(g,"stopx",r+v*i.boxMargin,Math.max),s.updateVal(Au.data,"starty",t-v*i.boxMargin,Math.min),s.updateVal(Au.data,"stopy",n+v*i.boxMargin,Math.max))},"updateItemBounds")}a(u,"updateFn"),this.sequenceItems.forEach(u())},insert:function(e,t,r,n){let i=Math.min(e,r),s=Math.max(e,r),o=Math.min(t,n),u=Math.max(t,n);this.updateVal(Au.data,"startx",i,Math.min),this.updateVal(Au.data,"starty",o,Math.min),this.updateVal(Au.data,"stopx",s,Math.max),this.updateVal(Au.data,"stopy",u,Math.max),this.updateBounds(i,o,s,u)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},YP=R7.sectionFills,dpe=R7.sectionColours,Oje=a(function(e,t,r){let n=we().journey,i="",s=n.height*2+n.diagramMarginY,o=r+s,u=0,h="#CCC",p="black",g=0;for(let[v,x]of t.entries()){if(i!==x.section){h=YP[u%YP.length],g=u%YP.length,p=dpe[u%dpe.length];let E=0,_=x.section;for(let M=v;M<t.length&&t[M].section==_;M++)E=E+1;let N={x:v*n.taskMargin+v*n.width+om,y:50,text:x.section,fill:h,num:g,colour:p,taskCount:E};xy.drawSection(e,N,n),i=x.section,u++}let k=x.people.reduce((E,_)=>(Cf[_]&&(E[_]=Cf[_]),E),{});x.x=v*n.taskMargin+v*n.width+om,x.y=o,x.width=n.diagramMarginX,x.height=n.diagramMarginY,x.colour=p,x.fill=h,x.num=g,x.actors=k,xy.drawTask(e,x,n),Au.insert(x.x,x.y,x.x+x.width+n.taskMargin,300+5*30)}},"drawTasks"),XP={setConf:Ije,draw:Nje}});var mpe={};Hr(mpe,{diagram:()=>Pje});var Pje,gpe=L(()=>{"use strict";npe();ape();ope();ppe();Pje={parser:rpe,db:HP,renderer:XP,styles:spe,init:e=>{XP.setConf(e.journey),HP.clear()}}});var KP,Tpe,Epe=L(()=>{"use strict";KP=function(){var e=a(function(x,k,E,_){for(E=E||{},_=x.length;_--;E[x[_]]=k);return E},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],s=[1,12],o=[1,13],u=[1,16],h=[1,17],p={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:a(function(k,E,_,N,M,P,V){var H=P.length-1;switch(M){case 1:return P[H-1];case 2:this.$=[];break;case 3:P[H-1].push(P[H]),this.$=P[H-1];break;case 4:case 5:this.$=P[H];break;case 6:case 7:this.$=[];break;case 8:N.getCommonDb().setDiagramTitle(P[H].substr(6)),this.$=P[H].substr(6);break;case 9:this.$=P[H].trim(),N.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=P[H].trim(),N.getCommonDb().setAccDescription(this.$);break;case 12:N.addSection(P[H].substr(8)),this.$=P[H].substr(8);break;case 15:N.addTask(P[H],0,""),this.$=P[H];break;case 16:N.addEvent(P[H].substr(2)),this.$=P[H];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:s,17:o,18:14,19:15,20:u,21:h},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:n,14:i,16:s,17:o,18:14,19:15,20:u,21:h},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:a(function(k,E){if(E.recoverable)this.trace(k);else{var _=new Error(k);throw _.hash=E,_}},"parseError"),parse:a(function(k){var E=this,_=[0],N=[],M=[null],P=[],V=this.table,H="",O=0,I=0,z=0,G=2,F=1,j=P.slice.call(arguments,1),D=Object.create(this.lexer),X={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(X.yy[B]=this.yy[B]);D.setInput(k,X.yy),X.yy.lexer=D,X.yy.parser=this,typeof D.yylloc>"u"&&(D.yylloc={});var Q=D.yylloc;P.push(Q);var le=D.options&&D.options.ranges;typeof X.yy.parseError=="function"?this.parseError=X.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function J(_e){_.length=_.length-2*_e,M.length=M.length-_e,P.length=P.length-_e}a(J,"popStack");function ie(){var _e;return _e=N.pop()||D.lex()||F,typeof _e!="number"&&(_e instanceof Array&&(N=_e,_e=N.pop()),_e=E.symbols_[_e]||_e),_e}a(ie,"lex");for(var re,Z,Y,ue,Ae,ae,Ke={},Ie,$e,Xe,He;;){if(Y=_[_.length-1],this.defaultActions[Y]?ue=this.defaultActions[Y]:((re===null||typeof re>"u")&&(re=ie()),ue=V[Y]&&V[Y][re]),typeof ue>"u"||!ue.length||!ue[0]){var Ne="";He=[];for(Ie in V[Y])this.terminals_[Ie]&&Ie>G&&He.push("'"+this.terminals_[Ie]+"'");D.showPosition?Ne="Parse error on line "+(O+1)+`:
`+D.showPosition()+`
Expecting `+He.join(", ")+", got '"+(this.terminals_[re]||re)+"'":Ne="Parse error on line "+(O+1)+": Unexpected "+(re==F?"end of input":"'"+(this.terminals_[re]||re)+"'"),this.parseError(Ne,{text:D.match,token:this.terminals_[re]||re,line:D.yylineno,loc:Q,expected:He})}if(ue[0]instanceof Array&&ue.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Y+", token: "+re);switch(ue[0]){case 1:_.push(re),M.push(D.yytext),P.push(D.yylloc),_.push(ue[1]),re=null,Z?(re=Z,Z=null):(I=D.yyleng,H=D.yytext,O=D.yylineno,Q=D.yylloc,z>0&&z--);break;case 2:if($e=this.productions_[ue[1]][1],Ke.$=M[M.length-$e],Ke._$={first_line:P[P.length-($e||1)].first_line,last_line:P[P.length-1].last_line,first_column:P[P.length-($e||1)].first_column,last_column:P[P.length-1].last_column},le&&(Ke._$.range=[P[P.length-($e||1)].range[0],P[P.length-1].range[1]]),ae=this.performAction.apply(Ke,[H,I,O,X.yy,ue[1],M,P].concat(j)),typeof ae<"u")return ae;$e&&(_=_.slice(0,-1*$e*2),M=M.slice(0,-1*$e),P=P.slice(0,-1*$e)),_.push(this.productions_[ue[1]][0]),M.push(Ke.$),P.push(Ke._$),Xe=V[_[_.length-2]][_[_.length-1]],_.push(Xe);break;case 3:return!0}}return!0},"parse")},g=function(){var x={EOF:1,parseError:a(function(E,_){if(this.yy.parser)this.yy.parser.parseError(E,_);else throw new Error(E)},"parseError"),setInput:function(k,E){return this.yy=E||this.yy||{},this._input=k,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var k=this._input[0];this.yytext+=k,this.yyleng++,this.offset++,this.match+=k,this.matched+=k;var E=k.match(/(?:\r\n?|\n).*/g);return E?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),k},unput:function(k){var E=k.length,_=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-E),this.offset-=E;var N=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_.length-1&&(this.yylineno-=_.length-1);var M=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_?(_.length===N.length?this.yylloc.first_column:0)+N[N.length-_.length].length-_[0].length:this.yylloc.first_column-E},this.options.ranges&&(this.yylloc.range=[M[0],M[0]+this.yyleng-E]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(k){this.unput(this.match.slice(k))},pastInput:function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(k.length>20?"...":"")+k.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var k=this.match;return k.length<20&&(k+=this._input.substr(0,20-k.length)),(k.substr(0,20)+(k.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var k=this.pastInput(),E=new Array(k.length+1).join("-");return k+this.upcomingInput()+`
`+E+"^"},test_match:function(k,E){var _,N,M;if(this.options.backtrack_lexer&&(M={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(M.yylloc.range=this.yylloc.range.slice(0))),N=k[0].match(/(?:\r\n?|\n).*/g),N&&(this.yylineno+=N.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N?N[N.length-1].length-N[N.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],_=this.performAction.call(this,this.yy,this,E,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_)return _;if(this._backtrack){for(var P in M)this[P]=M[P];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var k,E,_,N;this._more||(this.yytext="",this.match="");for(var M=this._currentRules(),P=0;P<M.length;P++)if(_=this._input.match(this.rules[M[P]]),_&&(!E||_[0].length>E[0].length)){if(E=_,N=P,this.options.backtrack_lexer){if(k=this.test_match(_,M[P]),k!==!1)return k;if(this._backtrack){E=!1;continue}else return!1}else if(!this.options.flex)break}return E?(k=this.test_match(E,M[N]),k!==!1?k:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var E=this.next();return E||this.lex()},"lex"),begin:a(function(E){this.conditionStack.push(E)},"begin"),popState:a(function(){var E=this.conditionStack.length-1;return E>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(E){return E=this.conditionStack.length-1-Math.abs(E||0),E>=0?this.conditionStack[E]:"INITIAL"},"topState"),pushState:a(function(E){this.begin(E)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(E,_,N,M){var P=M;switch(N){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?::\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return x}();p.lexer=g;function v(){this.yy={}}return a(v,"Parser"),v.prototype=p,p.Parser=v,new v}();KP.parser=KP;Tpe=KP});var ZP={};Hr(ZP,{addEvent:()=>Mpe,addSection:()=>Lpe,addTask:()=>Ipe,addTaskOrg:()=>Npe,clear:()=>Ape,default:()=>Hje,getCommonDb:()=>_pe,getSections:()=>Dpe,getTasks:()=>Rpe});var by,Spe,QP,I7,ky,_pe,Ape,Lpe,Dpe,Rpe,Ipe,Mpe,Npe,Cpe,Hje,Ope=L(()=>{"use strict";$i();by="",Spe=0,QP=[],I7=[],ky=[],_pe=a(()=>R2,"getCommonDb"),Ape=a(function(){QP.length=0,I7.length=0,by="",ky.length=0,nn()},"clear"),Lpe=a(function(e){by=e,QP.push(e)},"addSection"),Dpe=a(function(){return QP},"getSections"),Rpe=a(function(){let e=Cpe(),t=100,r=0;for(;!e&&r<t;)e=Cpe(),r++;return I7.push(...ky),I7},"getTasks"),Ipe=a(function(e,t,r){let n={id:Spe++,section:by,type:by,task:e,score:t||0,events:r?[r]:[]};ky.push(n)},"addTask"),Mpe=a(function(e){ky.find(r=>r.id===Spe-1).events.push(e)},"addEvent"),Npe=a(function(e){let t={section:by,type:by,description:e,task:e,classes:[]};I7.push(t)},"addTaskOrg"),Cpe=a(function(){let e=a(function(r){return ky[r].processed},"compileTask"),t=!0;for(let[r,n]of ky.entries())e(r),t=t&&n.processed;return t},"compileTasks"),Hje={clear:Ape,getCommonDb:_pe,addSection:Lpe,getSections:Dpe,getTasks:Rpe,addTask:Ipe,addTaskOrg:Npe,addEvent:Mpe}});function zpe(e,t){e.each(function(){var r=ut(this),n=r.text().split(/(\s+|<br>)/).reverse(),i,s=[],o=1.1,u=r.attr("y"),h=parseFloat(r.attr("dy")),p=r.text(null).append("tspan").attr("x",0).attr("y",u).attr("dy",h+"em");for(let g=0;g<n.length;g++)i=n[n.length-1-g],s.push(i),p.text(s.join(" ").trim()),(p.node().getComputedTextLength()>t||i==="<br>")&&(s.pop(),p.text(s.join(" ").trim()),i==="<br>"?s=[""]:s=[i],p=r.append("tspan").attr("x",0).attr("y",u).attr("dy",o+"em").text(i))})}var Wje,M7,Yje,Xje,Bpe,jje,Kje,Ppe,Qje,Zje,Jje,JP,Fpe,eKe,tKe,rKe,nKe,Jd,$pe=L(()=>{"use strict";Wr();Wje=12,M7=a(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),Yje=a(function(e,t){let n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function s(h){let p=ju().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);h.append("path").attr("class","mouth").attr("d",p).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}a(s,"smile");function o(h){let p=ju().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);h.append("path").attr("class","mouth").attr("d",p).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}a(o,"sad");function u(h){h.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return a(u,"ambivalent"),t.score>3?s(i):t.score<3?o(i):u(i),n},"drawFace"),Xje=a(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),Bpe=a(function(e,t){let r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),jje=a(function(e,t){function r(i,s,o,u,h){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+u-h)+" "+(i+o-h*1.2)+","+(s+u)+" "+i+","+(s+u)}a(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,Bpe(e,t)},"drawLabel"),Kje=a(function(e,t,r){let n=e.append("g"),i=JP();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,M7(n,i),Fpe(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),Ppe=-1,Qje=a(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");Ppe++;let s=300+5*30;i.append("line").attr("id","task"+Ppe).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",s).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),Yje(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let o=JP();o.x=t.x,o.y=t.y,o.fill=t.fill,o.width=r.width,o.height=r.height,o.class="task task-type-"+t.num,o.rx=3,o.ry=3,M7(i,o);let u=t.x+14;Fpe(r)(t.task,i,o.x,o.y,o.width,o.height,{class:"task"},r,t.colour)},"drawTask"),Zje=a(function(e,t){M7(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),Jje=a(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),JP=a(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Fpe=function(){function e(i,s,o,u,h,p,g,v){let x=s.append("text").attr("x",o+h/2).attr("y",u+p/2+5).style("font-color",v).style("text-anchor","middle").text(i);n(x,g)}a(e,"byText");function t(i,s,o,u,h,p,g,v,x){let{taskFontSize:k,taskFontFamily:E}=v,_=i.split(/<br\s*\/?>/gi);for(let N=0;N<_.length;N++){let M=N*k-k*(_.length-1)/2,P=s.append("text").attr("x",o+h/2).attr("y",u).attr("fill",x).style("text-anchor","middle").style("font-size",k).style("font-family",E);P.append("tspan").attr("x",o+h/2).attr("dy",M).text(_[N]),P.attr("y",u+p/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(P,g)}}a(t,"byTspan");function r(i,s,o,u,h,p,g,v){let x=s.append("switch"),E=x.append("foreignObject").attr("x",o).attr("y",u).attr("width",h).attr("height",p).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");E.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,x,o,u,h,p,g,v),n(E,g)}a(r,"byFo");function n(i,s){for(let o in s)o in s&&i.attr(o,s[o])}return a(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),eKe=a(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");a(zpe,"wrap");tKe=a(function(e,t,r,n){let i=r%Wje-1,s=e.append("g");t.section=i,s.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+i));let o=s.append("g"),u=s.append("g"),p=u.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(zpe,t.width).node().getBBox(),g=n.fontSize&&n.fontSize.replace?n.fontSize.replace("px",""):n.fontSize;return t.height=p.height+g*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,u.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),nKe(o,t,i,n),t},"drawNode"),rKe=a(function(e,t,r){let n=e.append("g"),s=n.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(zpe,t.width).node().getBBox(),o=r.fontSize&&r.fontSize.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),s.height+o*1.1*.5+t.padding},"getVirtualNodeHeight"),nKe=a(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),Jd={drawRect:M7,drawCircle:Xje,drawSection:Kje,drawText:Bpe,drawLabel:jje,drawTask:Qje,drawBackgroundRect:Zje,getTextObj:Jje,getNoteRect:JP,initGraphics:eKe,drawNode:tKe,getVirtualNodeHeight:rKe}});var iKe,Gpe,aKe,Vpe,qpe=L(()=>{"use strict";Wr();$pe();ar();Vr();si();iKe=a(function(e,t,r,n){let i=we(),s=i.leftMargin??50;ce.debug("timeline",n.db);let o=i.securityLevel,u;o==="sandbox"&&(u=ut("#i"+t));let p=(o==="sandbox"?ut(u.nodes()[0].contentDocument.body):ut("body")).select("#"+t);p.append("g");let g=n.db.getTasks(),v=n.db.getCommonDb().getDiagramTitle();ce.debug("task",g),Jd.initGraphics(p);let x=n.db.getSections();ce.debug("sections",x);let k=0,E=0,_=0,N=0,M=50+s,P=50;N=50;let V=0,H=!0;x.forEach(function(F){let j={number:V,descr:F,section:V,width:150,padding:20,maxHeight:k},D=Jd.getVirtualNodeHeight(p,j,i);ce.debug("sectionHeight before draw",D),k=Math.max(k,D+20)});let O=0,I=0;ce.debug("tasks.length",g.length);for(let[F,j]of g.entries()){let D={number:F,descr:j,section:j.section,width:150,padding:20,maxHeight:E},X=Jd.getVirtualNodeHeight(p,D,i);ce.debug("taskHeight before draw",X),E=Math.max(E,X+20),O=Math.max(O,j.events.length);let B=0;for(let Q=0;Q<j.events.length;Q++){let J={descr:j.events[Q],section:j.section,number:j.section,width:150,padding:20,maxHeight:50};B+=Jd.getVirtualNodeHeight(p,J,i)}I=Math.max(I,B)}ce.debug("maxSectionHeight before draw",k),ce.debug("maxTaskHeight before draw",E),x&&x.length>0?x.forEach(F=>{let j=g.filter(Q=>Q.section===F),D={number:V,descr:F,section:V,width:200*Math.max(j.length,1)-50,padding:20,maxHeight:k};ce.debug("sectionNode",D);let X=p.append("g"),B=Jd.drawNode(X,D,V,i);ce.debug("sectionNode output",B),X.attr("transform",`translate(${M}, ${N})`),P+=k+50,j.length>0&&Gpe(p,j,V,M,P,E,i,O,I,k,!1),M+=200*Math.max(j.length,1),P=N,V++}):(H=!1,Gpe(p,g,V,M,P,E,i,O,I,k,!0));let z=p.node().getBBox();ce.debug("bounds",z),v&&p.append("text").text(v).attr("x",z.width/2-s).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),_=H?k+E+150:E+100,p.append("g").attr("class","lineWrapper").append("line").attr("x1",s).attr("y1",_).attr("x2",z.width+3*s).attr("y2",_).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),tl(void 0,p,i.timeline?.padding??50,i.timeline?.useMaxWidth??!1)},"draw"),Gpe=a(function(e,t,r,n,i,s,o,u,h,p,g){for(let v of t){let x={descr:v.task,section:r,number:r,width:150,padding:20,maxHeight:s};ce.debug("taskNode",x);let k=e.append("g").attr("class","taskWrapper"),_=Jd.drawNode(k,x,r,o).height;if(ce.debug("taskHeight after draw",_),k.attr("transform",`translate(${n}, ${i})`),s=Math.max(s,_),v.events){let N=e.append("g").attr("class","lineWrapper"),M=s;i+=100,M=M+aKe(e,v.events,r,n,i,o),i-=100,N.append("line").attr("x1",n+190/2).attr("y1",i+s).attr("x2",n+190/2).attr("y2",i+s+(g?s:p)+h+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,g&&!o.timeline?.disableMulticolor&&r++}i=i-10},"drawTasks"),aKe=a(function(e,t,r,n,i,s){let o=0,u=i;i=i+100;for(let h of t){let p={descr:h,section:r,number:r,width:150,padding:20,maxHeight:50};ce.debug("eventNode",p);let g=e.append("g").attr("class","eventWrapper"),x=Jd.drawNode(g,p,r,s).height;o=o+x,g.attr("transform",`translate(${n}, ${i})`),i=i+10+x}return i=u,o},"drawEvents"),Vpe={setConf:()=>{},draw:iKe}});var sKe,oKe,Upe,Hpe=L(()=>{"use strict";Zu();sKe=a(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],xo(e["lineColor"+r])?e["lineColor"+r]=ur(e["lineColor"+r],20):e["lineColor"+r]=gr(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),oKe=a(e=>`
  .edge {
    stroke-width: 3;
  }
  ${sKe(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),Upe=oKe});var Wpe={};Hr(Wpe,{diagram:()=>lKe});var lKe,Ype=L(()=>{"use strict";Epe();Ope();qpe();Hpe();lKe={db:ZP,renderer:Vpe,parser:Tpe,styles:Upe}});var eB,Kpe,Qpe=L(()=>{"use strict";eB=function(){var e=a(function(H,O,I,z){for(I=I||{},z=H.length;z--;I[H[z]]=O);return I},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],s=[1,16],o=[1,20],u=[1,19],h=[6,7,8],p=[1,26],g=[1,24],v=[1,25],x=[6,7,11],k=[1,6,13,15,16,19,22],E=[1,33],_=[1,34],N=[1,6,7,11,13,15,16,19,22],M={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:a(function(O,I,z,G,F,j,D){var X=j.length-1;switch(F){case 6:case 7:return G;case 8:G.getLogger().trace("Stop NL ");break;case 9:G.getLogger().trace("Stop EOF ");break;case 11:G.getLogger().trace("Stop NL2 ");break;case 12:G.getLogger().trace("Stop EOF2 ");break;case 15:G.getLogger().info("Node: ",j[X].id),G.addNode(j[X-1].length,j[X].id,j[X].descr,j[X].type);break;case 16:G.getLogger().trace("Icon: ",j[X]),G.decorateNode({icon:j[X]});break;case 17:case 21:G.decorateNode({class:j[X]});break;case 18:G.getLogger().trace("SPACELIST");break;case 19:G.getLogger().trace("Node: ",j[X].id),G.addNode(0,j[X].id,j[X].descr,j[X].type);break;case 20:G.decorateNode({icon:j[X]});break;case 25:G.getLogger().trace("node found ..",j[X-2]),this.$={id:j[X-1],descr:j[X-1],type:G.getType(j[X-2],j[X])};break;case 26:this.$={id:j[X],descr:j[X],type:G.nodeType.DEFAULT};break;case 27:G.getLogger().trace("node found ..",j[X-3]),this.$={id:j[X-3],descr:j[X-1],type:G.getType(j[X-2],j[X])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:s,17:17,18:18,19:o,22:u},e(h,[2,3]),{1:[2,2]},e(h,[2,4]),e(h,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:s,17:17,18:18,19:o,22:u},{6:r,9:22,12:11,13:n,14:14,15:i,16:s,17:17,18:18,19:o,22:u},{6:p,7:g,10:23,11:v},e(x,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:o,22:u}),e(x,[2,18]),e(x,[2,19]),e(x,[2,20]),e(x,[2,21]),e(x,[2,23]),e(x,[2,24]),e(x,[2,26],{19:[1,30]}),{20:[1,31]},{6:p,7:g,10:32,11:v},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:s,17:17,18:18,19:o,22:u},e(k,[2,14],{7:E,11:_}),e(N,[2,8]),e(N,[2,9]),e(N,[2,10]),e(x,[2,15]),e(x,[2,16]),e(x,[2,17]),{20:[1,35]},{21:[1,36]},e(k,[2,13],{7:E,11:_}),e(N,[2,11]),e(N,[2,12]),{21:[1,37]},e(x,[2,25]),e(x,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:a(function(O,I){if(I.recoverable)this.trace(O);else{var z=new Error(O);throw z.hash=I,z}},"parseError"),parse:a(function(O){var I=this,z=[0],G=[],F=[null],j=[],D=this.table,X="",B=0,Q=0,le=0,J=2,ie=1,re=j.slice.call(arguments,1),Z=Object.create(this.lexer),Y={yy:{}};for(var ue in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ue)&&(Y.yy[ue]=this.yy[ue]);Z.setInput(O,Y.yy),Y.yy.lexer=Z,Y.yy.parser=this,typeof Z.yylloc>"u"&&(Z.yylloc={});var Ae=Z.yylloc;j.push(Ae);var ae=Z.options&&Z.options.ranges;typeof Y.yy.parseError=="function"?this.parseError=Y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ke(gt){z.length=z.length-2*gt,F.length=F.length-gt,j.length=j.length-gt}a(Ke,"popStack");function Ie(){var gt;return gt=G.pop()||Z.lex()||ie,typeof gt!="number"&&(gt instanceof Array&&(G=gt,gt=G.pop()),gt=I.symbols_[gt]||gt),gt}a(Ie,"lex");for(var $e,Xe,He,Ne,_e,Me,Ee={},Oe,at,pe,Bt;;){if(He=z[z.length-1],this.defaultActions[He]?Ne=this.defaultActions[He]:(($e===null||typeof $e>"u")&&($e=Ie()),Ne=D[He]&&D[He][$e]),typeof Ne>"u"||!Ne.length||!Ne[0]){var Pe="";Bt=[];for(Oe in D[He])this.terminals_[Oe]&&Oe>J&&Bt.push("'"+this.terminals_[Oe]+"'");Z.showPosition?Pe="Parse error on line "+(B+1)+`:
`+Z.showPosition()+`
Expecting `+Bt.join(", ")+", got '"+(this.terminals_[$e]||$e)+"'":Pe="Parse error on line "+(B+1)+": Unexpected "+($e==ie?"end of input":"'"+(this.terminals_[$e]||$e)+"'"),this.parseError(Pe,{text:Z.match,token:this.terminals_[$e]||$e,line:Z.yylineno,loc:Ae,expected:Bt})}if(Ne[0]instanceof Array&&Ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+He+", token: "+$e);switch(Ne[0]){case 1:z.push($e),F.push(Z.yytext),j.push(Z.yylloc),z.push(Ne[1]),$e=null,Xe?($e=Xe,Xe=null):(Q=Z.yyleng,X=Z.yytext,B=Z.yylineno,Ae=Z.yylloc,le>0&&le--);break;case 2:if(at=this.productions_[Ne[1]][1],Ee.$=F[F.length-at],Ee._$={first_line:j[j.length-(at||1)].first_line,last_line:j[j.length-1].last_line,first_column:j[j.length-(at||1)].first_column,last_column:j[j.length-1].last_column},ae&&(Ee._$.range=[j[j.length-(at||1)].range[0],j[j.length-1].range[1]]),Me=this.performAction.apply(Ee,[X,Q,B,Y.yy,Ne[1],F,j].concat(re)),typeof Me<"u")return Me;at&&(z=z.slice(0,-1*at*2),F=F.slice(0,-1*at),j=j.slice(0,-1*at)),z.push(this.productions_[Ne[1]][0]),F.push(Ee.$),j.push(Ee._$),pe=D[z[z.length-2]][z[z.length-1]],z.push(pe);break;case 3:return!0}}return!0},"parse")},P=function(){var H={EOF:1,parseError:a(function(I,z){if(this.yy.parser)this.yy.parser.parseError(I,z);else throw new Error(I)},"parseError"),setInput:function(O,I){return this.yy=I||this.yy||{},this._input=O,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var O=this._input[0];this.yytext+=O,this.yyleng++,this.offset++,this.match+=O,this.matched+=O;var I=O.match(/(?:\r\n?|\n).*/g);return I?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),O},unput:function(O){var I=O.length,z=O.split(/(?:\r\n?|\n)/g);this._input=O+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I),this.offset-=I;var G=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var F=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===G.length?this.yylloc.first_column:0)+G[G.length-z.length].length-z[0].length:this.yylloc.first_column-I},this.options.ranges&&(this.yylloc.range=[F[0],F[0]+this.yyleng-I]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(O){this.unput(this.match.slice(O))},pastInput:function(){var O=this.matched.substr(0,this.matched.length-this.match.length);return(O.length>20?"...":"")+O.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var O=this.match;return O.length<20&&(O+=this._input.substr(0,20-O.length)),(O.substr(0,20)+(O.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var O=this.pastInput(),I=new Array(O.length+1).join("-");return O+this.upcomingInput()+`
`+I+"^"},test_match:function(O,I){var z,G,F;if(this.options.backtrack_lexer&&(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(F.yylloc.range=this.yylloc.range.slice(0))),G=O[0].match(/(?:\r\n?|\n).*/g),G&&(this.yylineno+=G.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:G?G[G.length-1].length-G[G.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+O[0].length},this.yytext+=O[0],this.match+=O[0],this.matches=O,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(O[0].length),this.matched+=O[0],z=this.performAction.call(this,this.yy,this,I,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var j in F)this[j]=F[j];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var O,I,z,G;this._more||(this.yytext="",this.match="");for(var F=this._currentRules(),j=0;j<F.length;j++)if(z=this._input.match(this.rules[F[j]]),z&&(!I||z[0].length>I[0].length)){if(I=z,G=j,this.options.backtrack_lexer){if(O=this.test_match(z,F[j]),O!==!1)return O;if(this._backtrack){I=!1;continue}else return!1}else if(!this.options.flex)break}return I?(O=this.test_match(I,F[G]),O!==!1?O:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var I=this.next();return I||this.lex()},"lex"),begin:a(function(I){this.conditionStack.push(I)},"begin"),popState:a(function(){var I=this.conditionStack.length-1;return I>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(I){return I=this.conditionStack.length-1-Math.abs(I||0),I>=0?this.conditionStack[I]:"INITIAL"},"topState"),pushState:a(function(I){this.begin(I)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(I,z,G,F){var j=F;switch(G){case 0:return I.getLogger().trace("Found comment",z.yytext),6;break;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;break;case 4:this.popState();break;case 5:I.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return I.getLogger().trace("SPACELINE"),6;break;case 7:return 7;case 8:return 15;case 9:I.getLogger().trace("end icon"),this.popState();break;case 10:return I.getLogger().trace("Exploding node"),this.begin("NODE"),19;break;case 11:return I.getLogger().trace("Cloud"),this.begin("NODE"),19;break;case 12:return I.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;break;case 13:return I.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;break;case 14:return this.begin("NODE"),19;break;case 15:return this.begin("NODE"),19;break;case 16:return this.begin("NODE"),19;break;case 17:return this.begin("NODE"),19;break;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:I.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return I.getLogger().trace("description:",z.yytext),"NODE_DESCR";break;case 26:this.popState();break;case 27:return this.popState(),I.getLogger().trace("node end ))"),"NODE_DEND";break;case 28:return this.popState(),I.getLogger().trace("node end )"),"NODE_DEND";break;case 29:return this.popState(),I.getLogger().trace("node end ...",z.yytext),"NODE_DEND";break;case 30:return this.popState(),I.getLogger().trace("node end (("),"NODE_DEND";break;case 31:return this.popState(),I.getLogger().trace("node end (-"),"NODE_DEND";break;case 32:return this.popState(),I.getLogger().trace("node end (-"),"NODE_DEND";break;case 33:return this.popState(),I.getLogger().trace("node end (("),"NODE_DEND";break;case 34:return this.popState(),I.getLogger().trace("node end (("),"NODE_DEND";break;case 35:return I.getLogger().trace("Long description:",z.yytext),20;break;case 36:return I.getLogger().trace("Long description:",z.yytext),20;break}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return H}();M.lexer=P;function V(){this.yy={}}return a(V,"Parser"),V.prototype=M,M.Parser=V,new V}();eB.parser=eB;Kpe=eB});var wc,Zpe,tB,fKe,dKe,pKe,mKe,es,gKe,yKe,vKe,xKe,bKe,kKe,wKe,Jpe,eme=L(()=>{"use strict";Vr();Ln();ar();jo();wc=[],Zpe=0,tB={},fKe=a(()=>{wc=[],Zpe=0,tB={}},"clear"),dKe=a(function(e){for(let t=wc.length-1;t>=0;t--)if(wc[t].level<e)return wc[t];return null},"getParent"),pKe=a(()=>wc.length>0?wc[0]:null,"getMindmap"),mKe=a((e,t,r,n)=>{ce.info("addNode",e,t,r,n);let i=we(),s=i.mindmap?.padding??tn.mindmap.padding;switch(n){case es.ROUNDED_RECT:case es.RECT:case es.HEXAGON:s*=2}let o={id:Zpe++,nodeId:ai(t,i),level:e,descr:ai(r,i),type:n,children:[],width:i.mindmap?.maxNodeWidth??tn.mindmap.maxNodeWidth,padding:s},u=dKe(e);if(u)u.children.push(o),wc.push(o);else if(wc.length===0)wc.push(o);else throw new Error('There can be only one root. No parent could be found for ("'+o.descr+'")')},"addNode"),es={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},gKe=a((e,t)=>{switch(ce.debug("In get type",e,t),e){case"[":return es.RECT;case"(":return t===")"?es.ROUNDED_RECT:es.CLOUD;case"((":return es.CIRCLE;case")":return es.CLOUD;case"))":return es.BANG;case"{{":return es.HEXAGON;default:return es.DEFAULT}},"getType"),yKe=a((e,t)=>{tB[e]=t},"setElementForId"),vKe=a(e=>{if(!e)return;let t=we(),r=wc[wc.length-1];e.icon&&(r.icon=ai(e.icon,t)),e.class&&(r.class=ai(e.class,t))},"decorateNode"),xKe=a(e=>{switch(e){case es.DEFAULT:return"no-border";case es.RECT:return"rect";case es.ROUNDED_RECT:return"rounded-rect";case es.CIRCLE:return"circle";case es.CLOUD:return"cloud";case es.BANG:return"bang";case es.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),bKe=a(()=>ce,"getLogger"),kKe=a(e=>tB[e],"getElementById"),wKe={clear:fKe,addNode:mKe,getMindmap:pKe,nodeType:es,getType:gKe,setElementForId:yKe,decorateNode:vKe,type2Str:xKe,getLogger:bKe,getElementById:kKe},Jpe=wKe});var tme=mo((rB,nB)=>{"use strict";(function(e,t){typeof rB=="object"&&typeof nB<"u"?nB.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.cytoscape=t())})(rB,function(){"use strict";function e(f){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(f)}a(e,"_typeof");function t(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}a(t,"_classCallCheck");function r(f,l){for(var d=0;d<l.length;d++){var m=l[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}a(r,"_defineProperties");function n(f,l,d){return l&&r(f.prototype,l),d&&r(f,d),Object.defineProperty(f,"prototype",{writable:!1}),f}a(n,"_createClass");function i(f,l,d){return l in f?Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[l]=d,f}a(i,"_defineProperty$1");function s(f,l){return o(f)||u(f,l)||h(f,l)||g()}a(s,"_slicedToArray");function o(f){if(Array.isArray(f))return f}a(o,"_arrayWithHoles");function u(f,l){var d=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(d!=null){var m=[],y=!0,b=!1,w,T;try{for(d=d.call(f);!(y=(w=d.next()).done)&&(m.push(w.value),!(l&&m.length===l));y=!0);}catch(S){b=!0,T=S}finally{try{!y&&d.return!=null&&d.return()}finally{if(b)throw T}}return m}}a(u,"_iterableToArrayLimit");function h(f,l){if(f){if(typeof f=="string")return p(f,l);var d=Object.prototype.toString.call(f).slice(8,-1);if(d==="Object"&&f.constructor&&(d=f.constructor.name),d==="Map"||d==="Set")return Array.from(f);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return p(f,l)}}a(h,"_unsupportedIterableToArray");function p(f,l){(l==null||l>f.length)&&(l=f.length);for(var d=0,m=new Array(l);d<l;d++)m[d]=f[d];return m}a(p,"_arrayLikeToArray");function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(g,"_nonIterableRest");var v=typeof window>"u"?null:window,x=v?v.navigator:null;v&&v.document;var k=e(""),E=e({}),_=e(function(){}),N=typeof HTMLElement>"u"?"undefined":e(HTMLElement),M=a(function(l){return l&&l.instanceString&&V(l.instanceString)?l.instanceString():null},"instanceStr"),P=a(function(l){return l!=null&&e(l)==k},"string"),V=a(function(l){return l!=null&&e(l)===_},"fn"),H=a(function(l){return!j(l)&&(Array.isArray?Array.isArray(l):l!=null&&l instanceof Array)},"array"),O=a(function(l){return l!=null&&e(l)===E&&!H(l)&&l.constructor===Object},"plainObject"),I=a(function(l){return l!=null&&e(l)===E},"object"),z=a(function(l){return l!=null&&e(l)===e(1)&&!isNaN(l)},"number"),G=a(function(l){return z(l)&&Math.floor(l)===l},"integer"),F=a(function(l){if(N!=="undefined")return l!=null&&l instanceof HTMLElement},"htmlElement"),j=a(function(l){return D(l)||X(l)},"elementOrCollection"),D=a(function(l){return M(l)==="collection"&&l._private.single},"element"),X=a(function(l){return M(l)==="collection"&&!l._private.single},"collection"),B=a(function(l){return M(l)==="core"},"core"),Q=a(function(l){return M(l)==="stylesheet"},"stylesheet"),le=a(function(l){return M(l)==="event"},"event"),J=a(function(l){return l==null?!0:!!(l===""||l.match(/^\s+$/))},"emptyString"),ie=a(function(l){return typeof HTMLElement>"u"?!1:l instanceof HTMLElement},"domElement"),re=a(function(l){return O(l)&&z(l.x1)&&z(l.x2)&&z(l.y1)&&z(l.y2)},"boundingBox"),Z=a(function(l){return I(l)&&V(l.then)},"promise"),Y=a(function(){return x&&x.userAgent.match(/msie|trident|edge/i)},"ms"),ue=a(function(l,d){d||(d=a(function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var b=[],w=0;w<arguments.length;w++)b.push(arguments[w]);return b.join("$")},"keyFn"));var m=a(function y(){var b=this,w=arguments,T,S=d.apply(b,w),C=y.cache;return(T=C[S])||(T=C[S]=l.apply(b,w)),T},"memoizedFn");return m.cache={},m},"memoize"),Ae=ue(function(f){return f.replace(/([A-Z])/g,function(l){return"-"+l.toLowerCase()})}),ae=ue(function(f){return f.replace(/(-\w)/g,function(l){return l[1].toUpperCase()})}),Ke=ue(function(f,l){return f+l[0].toUpperCase()+l.substring(1)},function(f,l){return f+"$"+l}),Ie=a(function(l){return J(l)?l:l.charAt(0).toUpperCase()+l.substring(1)},"capitalize"),$e="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Xe="rgb[a]?\\(("+$e+"[%]?)\\s*,\\s*("+$e+"[%]?)\\s*,\\s*("+$e+"[%]?)(?:\\s*,\\s*("+$e+"))?\\)",He="rgb[a]?\\((?:"+$e+"[%]?)\\s*,\\s*(?:"+$e+"[%]?)\\s*,\\s*(?:"+$e+"[%]?)(?:\\s*,\\s*(?:"+$e+"))?\\)",Ne="hsl[a]?\\(("+$e+")\\s*,\\s*("+$e+"[%])\\s*,\\s*("+$e+"[%])(?:\\s*,\\s*("+$e+"))?\\)",_e="hsl[a]?\\((?:"+$e+")\\s*,\\s*(?:"+$e+"[%])\\s*,\\s*(?:"+$e+"[%])(?:\\s*,\\s*(?:"+$e+"))?\\)",Me="\\#[0-9a-fA-F]{3}",Ee="\\#[0-9a-fA-F]{6}",Oe=a(function(l,d){return l<d?-1:l>d?1:0},"ascending"),at=a(function(l,d){return-1*Oe(l,d)},"descending"),pe=Object.assign!=null?Object.assign.bind(Object):function(f){for(var l=arguments,d=1;d<l.length;d++){var m=l[d];if(m!=null)for(var y=Object.keys(m),b=0;b<y.length;b++){var w=y[b];f[w]=m[w]}}return f},Bt=a(function(l){if(!(!(l.length===4||l.length===7)||l[0]!=="#")){var d=l.length===4,m,y,b,w=16;return d?(m=parseInt(l[1]+l[1],w),y=parseInt(l[2]+l[2],w),b=parseInt(l[3]+l[3],w)):(m=parseInt(l[1]+l[2],w),y=parseInt(l[3]+l[4],w),b=parseInt(l[5]+l[6],w)),[m,y,b]}},"hex2tuple"),Pe=a(function(l){var d,m,y,b,w,T,S,C;function A(q,ne,ee){return ee<0&&(ee+=1),ee>1&&(ee-=1),ee<1/6?q+(ne-q)*6*ee:ee<1/2?ne:ee<2/3?q+(ne-q)*(2/3-ee)*6:q}a(A,"hue2rgb");var R=new RegExp("^"+Ne+"$").exec(l);if(R){if(m=parseInt(R[1]),m<0?m=(360- -1*m%360)%360:m>360&&(m=m%360),m/=360,y=parseFloat(R[2]),y<0||y>100||(y=y/100,b=parseFloat(R[3]),b<0||b>100)||(b=b/100,w=R[4],w!==void 0&&(w=parseFloat(w),w<0||w>1)))return;if(y===0)T=S=C=Math.round(b*255);else{var $=b<.5?b*(1+y):b+y-b*y,U=2*b-$;T=Math.round(255*A(U,$,m+1/3)),S=Math.round(255*A(U,$,m)),C=Math.round(255*A(U,$,m-1/3))}d=[T,S,C,w]}return d},"hsl2tuple"),gt=a(function(l){var d,m=new RegExp("^"+Xe+"$").exec(l);if(m){d=[];for(var y=[],b=1;b<=3;b++){var w=m[b];if(w[w.length-1]==="%"&&(y[b]=!0),w=parseFloat(w),y[b]&&(w=w/100*255),w<0||w>255)return;d.push(Math.floor(w))}var T=y[1]||y[2]||y[3],S=y[1]&&y[2]&&y[3];if(T&&!S)return;var C=m[4];if(C!==void 0){if(C=parseFloat(C),C<0||C>1)return;d.push(C)}}return d},"rgb2tuple"),mt=a(function(l){return Ut[l.toLowerCase()]},"colorname2tuple"),Nt=a(function(l){return(H(l)?l:null)||mt(l)||Bt(l)||gt(l)||Pe(l)},"color2tuple"),Ut={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Gt=a(function(l){for(var d=l.map,m=l.keys,y=m.length,b=0;b<y;b++){var w=m[b];if(O(w))throw Error("Tried to set map with object key");b<m.length-1?(d[w]==null&&(d[w]={}),d=d[w]):d[w]=l.value}},"setMap"),Lt=a(function(l){for(var d=l.map,m=l.keys,y=m.length,b=0;b<y;b++){var w=m[b];if(O(w))throw Error("Tried to get map with object key");if(d=d[w],d==null)return d}return d},"getMap");function st(f){var l=typeof f;return f!=null&&(l=="object"||l=="function")}a(st,"isObject");var De=st,Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ye(f,l){return l={exports:{}},f(l,l.exports),l.exports}a(Ye,"createCommonjsModule");var Le=typeof Ge=="object"&&Ge&&Ge.Object===Object&&Ge,je=Le,Je=typeof self=="object"&&self&&self.Object===Object&&self,ct=je||Je||Function("return this")(),Br=ct,qt=a(function(){return Br.Date.now()},"now"),Yt=qt,Jt=/\s/;function rr(f){for(var l=f.length;l--&&Jt.test(f.charAt(l)););return l}a(rr,"trimmedEndIndex");var Ht=rr,yt=/^\s+/;function Fr(f){return f&&f.slice(0,Ht(f)+1).replace(yt,"")}a(Fr,"baseTrim");var tr=Fr,Qi=Br.Symbol,pa=Qi,li=Object.prototype,In=li.hasOwnProperty,Rr=li.toString,_n=pa?pa.toStringTag:void 0;function er(f){var l=In.call(f,_n),d=f[_n];try{f[_n]=void 0;var m=!0}catch{}var y=Rr.call(f);return m&&(l?f[_n]=d:delete f[_n]),y}a(er,"getRawTag");var on=er,ni=Object.prototype,Or=ni.toString;function Pr(f){return Or.call(f)}a(Pr,"objectToString");var Ir=Pr,wi="[object Null]",ir="[object Undefined]",ma=pa?pa.toStringTag:void 0;function Lr(f){return f==null?f===void 0?ir:wi:ma&&ma in Object(f)?on(f):Ir(f)}a(Lr,"baseGetTag");var ln=Lr;function Bn(f){return f!=null&&typeof f=="object"}a(Bn,"isObjectLike");var ga=Bn,Zi="[object Symbol]";function Oa(f){return typeof f=="symbol"||ga(f)&&ln(f)==Zi}a(Oa,"isSymbol");var ii=Oa,rs=NaN,Pa=/^[-+]0x[0-9a-f]+$/i,Ba=/^0b[01]+$/i,ya=/^0o[0-7]+$/i,Ea=parseInt;function bh(f){if(typeof f=="number")return f;if(ii(f))return rs;if(De(f)){var l=typeof f.valueOf=="function"?f.valueOf():f;f=De(l)?l+"":l}if(typeof f!="string")return f===0?f:+f;f=tr(f);var d=Ba.test(f);return d||ya.test(f)?Ea(f.slice(2),d?2:8):Pa.test(f)?rs:+f}a(bh,"toNumber");var Af=bh,ql="Expected a function",co=Math.max,fr=Math.min;function Cr(f,l,d){var m,y,b,w,T,S,C=0,A=!1,R=!1,$=!0;if(typeof f!="function")throw new TypeError(ql);l=Af(l)||0,De(d)&&(A=!!d.leading,R="maxWait"in d,b=R?co(Af(d.maxWait)||0,l):b,$="trailing"in d?!!d.trailing:$);function U(ye){var de=m,ke=y;return m=y=void 0,C=ye,w=f.apply(ke,de),w}a(U,"invokeFunc");function q(ye){return C=ye,T=setTimeout(K,l),A?U(ye):w}a(q,"leadingEdge");function ne(ye){var de=ye-S,ke=ye-C,me=l-de;return R?fr(me,b-ke):me}a(ne,"remainingWait");function ee(ye){var de=ye-S,ke=ye-C;return S===void 0||de>=l||de<0||R&&ke>=b}a(ee,"shouldInvoke");function K(){var ye=Yt();if(ee(ye))return se(ye);T=setTimeout(K,ne(ye))}a(K,"timerExpired");function se(ye){return T=void 0,$&&m?U(ye):(m=y=void 0,w)}a(se,"trailingEdge");function oe(){T!==void 0&&clearTimeout(T),C=0,m=S=y=T=void 0}a(oe,"cancel");function fe(){return T===void 0?w:se(Yt())}a(fe,"flush");function be(){var ye=Yt(),de=ee(ye);if(m=arguments,y=this,S=ye,de){if(T===void 0)return q(S);if(R)return clearTimeout(T),T=setTimeout(K,l),U(S)}return T===void 0&&(T=setTimeout(K,l)),w}return a(be,"debounced"),be.cancel=oe,be.flush=fe,be}a(Cr,"debounce");var zr=Cr,Xt=v?v.performance:null,Fn=Xt&&Xt.now?function(){return Xt.now()}:function(){return Date.now()},Re=function(){if(v){if(v.requestAnimationFrame)return function(f){v.requestAnimationFrame(f)};if(v.mozRequestAnimationFrame)return function(f){v.mozRequestAnimationFrame(f)};if(v.webkitRequestAnimationFrame)return function(f){v.webkitRequestAnimationFrame(f)};if(v.msRequestAnimationFrame)return function(f){v.msRequestAnimationFrame(f)}}return function(f){f&&setTimeout(function(){f(Fn())},1e3/60)}}(),bs=a(function(l){return Re(l)},"requestAnimationFrame"),Fe=Fn,Ji=9261,Lf=65599,Du=5381,Df=a(function(l){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ji,m=d,y;y=l.next(),!y.done;)m=m*Lf+y.value|0;return m},"hashIterableInts"),Ru=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ji;return d*Lf+l|0},"hashInt"),Ul=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Du;return(d<<5)+d+l|0},"hashIntAlt"),Mi=a(function(l,d){return l*2097152+d},"combineHashes"),Ti=a(function(l){return l[0]*2097152+l[1]},"combineHashesArray"),ho=a(function(l,d){return[Ru(l[0],d[0]),Ul(l[1],d[1])]},"hashArrays"),kh=a(function(l,d){var m={value:0,done:!1},y=0,b=l.length,w={next:a(function(){return y<b?m.value=l[y++]:m.done=!0,m},"next")};return Df(w,d)},"hashIntsArray"),vl=a(function(l,d){var m={value:0,done:!1},y=0,b=l.length,w={next:a(function(){return y<b?m.value=l.charCodeAt(y++):m.done=!0,m},"next")};return Df(w,d)},"hashString"),Ry=a(function(){return wh(arguments)},"hashStrings"),wh=a(function(l){for(var d,m=0;m<l.length;m++){var y=l[m];m===0?d=vl(y):d=vl(y,d)}return d},"hashStringsArray"),Ca=!0,a0=console.warn!=null,ui=console.trace!=null,Ui=Number.MAX_SAFE_INTEGER||9007199254740991,dm=a(function(){return!0},"trueify"),Ec=a(function(){return!1},"falsify"),Hl=a(function(){return 0},"zeroify"),Wl=a(function(){},"noop"),Mn=a(function(l){throw new Error(l)},"error"),Rf=a(function(l){if(l!==void 0)Ca=!!l;else return Ca},"warnings"),An=a(function(l){Rf()&&(a0?console.warn(l):(console.log(l),ui&&console.trace()))},"warn"),If=a(function(l){return pe({},l)},"clone"),pi=a(function(l){return l==null?l:H(l)?l.slice():O(l)?If(l):l},"copy"),Q7=a(function(l){return l.slice()},"copyArray"),Bo=a(function(l,d){for(d=l="";l++<36;d+=l*51&52?(l^15?8^Math.random()*(l^20?16:4):4).toString(16):"-");return d},"uuid"),Iy={},My=a(function(){return Iy},"staticEmptyObject"),Sa=a(function(l){var d=Object.keys(l);return function(m){for(var y={},b=0;b<d.length;b++){var w=d[b],T=m?.[w];y[w]=T===void 0?l[w]:T}return y}},"defaults"),Cc=a(function(l,d,m){for(var y=l.length-1;y>=0&&!(l[y]===d&&(l.splice(y,1),m));y--);},"removeFromArray"),pm=a(function(l){l.splice(0,l.length)},"clearArray"),Iu=a(function(l,d){for(var m=0;m<d.length;m++){var y=d[m];l.push(y)}},"push"),Fo=a(function(l,d,m){return m&&(d=Ke(m,d)),l[d]},"getPrefixedProperty"),Mu=a(function(l,d,m,y){m&&(d=Ke(m,d)),l[d]=y},"setPrefixedProperty"),p4=function(){function f(){t(this,f),this._obj={}}return a(f,"ObjectMap"),n(f,[{key:"set",value:a(function(d,m){return this._obj[d]=m,this},"set")},{key:"delete",value:a(function(d){return this._obj[d]=void 0,this},"_delete")},{key:"clear",value:a(function(){this._obj={}},"clear")},{key:"has",value:a(function(d){return this._obj[d]!==void 0},"has")},{key:"get",value:a(function(d){return this._obj[d]},"get")}]),f}(),xl=typeof Map<"u"?Map:p4,Z7="undefined",br=function(){function f(l){if(t(this,f),this._obj=Object.create(null),this.size=0,l!=null){var d;l.instanceString!=null&&l.instanceString()===this.instanceString()?d=l.toArray():d=l;for(var m=0;m<d.length;m++)this.add(d[m])}}return a(f,"ObjectSet"),n(f,[{key:"instanceString",value:a(function(){return"set"},"instanceString")},{key:"add",value:a(function(d){var m=this._obj;m[d]!==1&&(m[d]=1,this.size++)},"add")},{key:"delete",value:a(function(d){var m=this._obj;m[d]===1&&(m[d]=0,this.size--)},"_delete")},{key:"clear",value:a(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:a(function(d){return this._obj[d]===1},"has")},{key:"toArray",value:a(function(){var d=this;return Object.keys(this._obj).filter(function(m){return d.has(m)})},"toArray")},{key:"forEach",value:a(function(d,m){return this.toArray().forEach(d,m)},"forEach")}]),f}(),Ze=(typeof Set>"u"?"undefined":e(Set))!==Z7?Set:br,zt=a(function(l,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(l===void 0||d===void 0||!B(l)){Mn("An element must have a core reference and parameters set");return}var y=d.group;if(y==null&&(d.data&&d.data.source!=null&&d.data.target!=null?y="edges":y="nodes"),y!=="nodes"&&y!=="edges"){Mn("An element must be of type `nodes` or `edges`; you specified `"+y+"`");return}this.length=1,this[0]=this;var b=this._private={cy:l,single:!0,data:d.data||{},position:d.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:y,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!d.selected,selectable:d.selectable===void 0?!0:!!d.selectable,locked:!!d.locked,grabbed:!1,grabbable:d.grabbable===void 0?!0:!!d.grabbable,pannable:d.pannable===void 0?y==="edges":!!d.pannable,active:!1,classes:new Ze,animation:{current:[],queue:[]},rscratch:{},scratch:d.scratch||{},edges:[],children:[],parent:d.parent&&d.parent.isNode()?d.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(b.position.x==null&&(b.position.x=0),b.position.y==null&&(b.position.y=0),d.renderedPosition){var w=d.renderedPosition,T=l.pan(),S=l.zoom();b.position={x:(w.x-T.x)/S,y:(w.y-T.y)/S}}var C=[];H(d.classes)?C=d.classes:P(d.classes)&&(C=d.classes.split(/\s+/));for(var A=0,R=C.length;A<R;A++){var $=C[A];!$||$===""||b.classes.add($)}this.createEmitter();var U=d.style||d.css;U&&(An("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(U)),(m===void 0||m)&&this.restore()},"Element"),dr=a(function(l){return l={bfs:l.bfs||!l.dfs,dfs:l.dfs||!l.bfs},a(function(m,y,b){var w;O(m)&&!j(m)&&(w=m,m=w.roots||w.root,y=w.visit,b=w.directed),b=arguments.length===2&&!V(y)?y:b,y=V(y)?y:function(){};for(var T=this._private.cy,S=m=P(m)?this.filter(m):m,C=[],A=[],R={},$={},U={},q=0,ne,ee=this.byGroup(),K=ee.nodes,se=ee.edges,oe=0;oe<S.length;oe++){var fe=S[oe],be=fe.id();fe.isNode()&&(C.unshift(fe),l.bfs&&(U[be]=!0,A.push(fe)),$[be]=0)}for(var ye=a(function(){var Ve=l.bfs?C.shift():C.pop(),Te=Ve.id();if(l.dfs){if(U[Te])return"continue";U[Te]=!0,A.push(Ve)}var tt=$[Te],We=R[Te],qe=We!=null?We.source():null,nt=We!=null?We.target():null,dt=We==null?void 0:Ve.same(qe)?nt[0]:qe[0],wt=void 0;if(wt=y(Ve,We,dt,q++,tt),wt===!0)return ne=Ve,"break";if(wt===!1)return"break";for(var it=Ve.connectedEdges().filter(function(Rt){return(!b||Rt.source().same(Ve))&&se.has(Rt)}),xt=0;xt<it.length;xt++){var Et=it[xt],Dt=Et.connectedNodes().filter(function(Rt){return!Rt.same(Ve)&&K.has(Rt)}),St=Dt.id();Dt.length!==0&&!U[St]&&(Dt=Dt[0],C.push(Dt),l.bfs&&(U[St]=!0,A.push(Dt)),R[St]=Et,$[St]=$[Te]+1)}},"_loop");C.length!==0;){var de=ye();if(de!=="continue"&&de==="break")break}for(var ke=T.collection(),me=0;me<A.length;me++){var Ce=A[me],Se=R[Ce.id()];Se!=null&&ke.push(Se),ke.push(Ce)}return{path:T.collection(ke),found:T.collection(ne)}},"searchFn")},"defineSearch"),Kr={breadthFirstSearch:dr({bfs:!0}),depthFirstSearch:dr({dfs:!0})};Kr.bfs=Kr.breadthFirstSearch,Kr.dfs=Kr.depthFirstSearch;var ns=Ye(function(f,l){(function(){var d,m,y,b,w,T,S,C,A,R,$,U,q,ne,ee;y=Math.floor,R=Math.min,m=a(function(K,se){return K<se?-1:K>se?1:0},"defaultCmp"),A=a(function(K,se,oe,fe,be){var ye;if(oe==null&&(oe=0),be==null&&(be=m),oe<0)throw new Error("lo must be non-negative");for(fe==null&&(fe=K.length);oe<fe;)ye=y((oe+fe)/2),be(se,K[ye])<0?fe=ye:oe=ye+1;return[].splice.apply(K,[oe,oe-oe].concat(se)),se},"insort"),T=a(function(K,se,oe){return oe==null&&(oe=m),K.push(se),ne(K,0,K.length-1,oe)},"heappush"),w=a(function(K,se){var oe,fe;return se==null&&(se=m),oe=K.pop(),K.length?(fe=K[0],K[0]=oe,ee(K,0,se)):fe=oe,fe},"heappop"),C=a(function(K,se,oe){var fe;return oe==null&&(oe=m),fe=K[0],K[0]=se,ee(K,0,oe),fe},"heapreplace"),S=a(function(K,se,oe){var fe;return oe==null&&(oe=m),K.length&&oe(K[0],se)<0&&(fe=[K[0],se],se=fe[0],K[0]=fe[1],ee(K,0,oe)),se},"heappushpop"),b=a(function(K,se){var oe,fe,be,ye,de,ke;for(se==null&&(se=m),ye=function(){ke=[];for(var me=0,Ce=y(K.length/2);0<=Ce?me<Ce:me>Ce;0<=Ce?me++:me--)ke.push(me);return ke}.apply(this).reverse(),de=[],fe=0,be=ye.length;fe<be;fe++)oe=ye[fe],de.push(ee(K,oe,se));return de},"heapify"),q=a(function(K,se,oe){var fe;if(oe==null&&(oe=m),fe=K.indexOf(se),fe!==-1)return ne(K,0,fe,oe),ee(K,fe,oe)},"updateItem"),$=a(function(K,se,oe){var fe,be,ye,de,ke;if(oe==null&&(oe=m),be=K.slice(0,se),!be.length)return be;for(b(be,oe),ke=K.slice(se),ye=0,de=ke.length;ye<de;ye++)fe=ke[ye],S(be,fe,oe);return be.sort(oe).reverse()},"nlargest"),U=a(function(K,se,oe){var fe,be,ye,de,ke,me,Ce,Se,xe;if(oe==null&&(oe=m),se*10<=K.length){if(ye=K.slice(0,se).sort(oe),!ye.length)return ye;for(be=ye[ye.length-1],Ce=K.slice(se),de=0,me=Ce.length;de<me;de++)fe=Ce[de],oe(fe,be)<0&&(A(ye,fe,0,null,oe),ye.pop(),be=ye[ye.length-1]);return ye}for(b(K,oe),xe=[],ke=0,Se=R(se,K.length);0<=Se?ke<Se:ke>Se;0<=Se?++ke:--ke)xe.push(w(K,oe));return xe},"nsmallest"),ne=a(function(K,se,oe,fe){var be,ye,de;for(fe==null&&(fe=m),be=K[oe];oe>se;){if(de=oe-1>>1,ye=K[de],fe(be,ye)<0){K[oe]=ye,oe=de;continue}break}return K[oe]=be},"_siftdown"),ee=a(function(K,se,oe){var fe,be,ye,de,ke;for(oe==null&&(oe=m),be=K.length,ke=se,ye=K[se],fe=2*se+1;fe<be;)de=fe+1,de<be&&!(oe(K[fe],K[de])<0)&&(fe=de),K[se]=K[fe],se=fe,fe=2*se+1;return K[se]=ye,ne(K,ke,se,oe)},"_siftup"),d=function(){K.push=T,K.pop=w,K.replace=C,K.pushpop=S,K.heapify=b,K.updateItem=q,K.nlargest=$,K.nsmallest=U;function K(se){this.cmp=se??m,this.nodes=[]}return a(K,"Heap"),K.prototype.push=function(se){return T(this.nodes,se,this.cmp)},K.prototype.pop=function(){return w(this.nodes,this.cmp)},K.prototype.peek=function(){return this.nodes[0]},K.prototype.contains=function(se){return this.nodes.indexOf(se)!==-1},K.prototype.replace=function(se){return C(this.nodes,se,this.cmp)},K.prototype.pushpop=function(se){return S(this.nodes,se,this.cmp)},K.prototype.heapify=function(){return b(this.nodes,this.cmp)},K.prototype.updateItem=function(se){return q(this.nodes,se,this.cmp)},K.prototype.clear=function(){return this.nodes=[]},K.prototype.empty=function(){return this.nodes.length===0},K.prototype.size=function(){return this.nodes.length},K.prototype.clone=function(){var se;return se=new K,se.nodes=this.nodes.slice(0),se},K.prototype.toArray=function(){return this.nodes.slice(0)},K.prototype.insert=K.prototype.push,K.prototype.top=K.prototype.peek,K.prototype.front=K.prototype.peek,K.prototype.has=K.prototype.contains,K.prototype.copy=K.prototype.clone,K}(),function(K,se){return f.exports=se()}(this,function(){return d})}).call(Ge)}),ea=ns,Hs=Sa({root:null,weight:a(function(l){return 1},"weight"),directed:!1}),Ws={dijkstra:a(function(l){if(!O(l)){var d=arguments;l={root:d[0],weight:d[1],directed:d[2]}}var m=Hs(l),y=m.root,b=m.weight,w=m.directed,T=this,S=b,C=P(y)?this.filter(y)[0]:y[0],A={},R={},$={},U=this.byGroup(),q=U.nodes,ne=U.edges;ne.unmergeBy(function(tt){return tt.isLoop()});for(var ee=a(function(We){return A[We.id()]},"getDist"),K=a(function(We,qe){A[We.id()]=qe,se.updateItem(We)},"setDist"),se=new ea(function(tt,We){return ee(tt)-ee(We)}),oe=0;oe<q.length;oe++){var fe=q[oe];A[fe.id()]=fe.same(C)?0:1/0,se.push(fe)}for(var be=a(function(We,qe){for(var nt=(w?We.edgesTo(qe):We.edgesWith(qe)).intersect(ne),dt=1/0,wt,it=0;it<nt.length;it++){var xt=nt[it],Et=S(xt);(Et<dt||!wt)&&(dt=Et,wt=xt)}return{edge:wt,dist:dt}},"distBetween");se.size()>0;){var ye=se.pop(),de=ee(ye),ke=ye.id();if($[ke]=de,de!==1/0)for(var me=ye.neighborhood().intersect(q),Ce=0;Ce<me.length;Ce++){var Se=me[Ce],xe=Se.id(),Ve=be(ye,Se),Te=de+Ve.dist;Te<ee(Se)&&(K(Se,Te),R[xe]={node:ye,edge:Ve.edge})}}return{distanceTo:a(function(We){var qe=P(We)?q.filter(We)[0]:We[0];return $[qe.id()]},"distanceTo"),pathTo:a(function(We){var qe=P(We)?q.filter(We)[0]:We[0],nt=[],dt=qe,wt=dt.id();if(qe.length>0)for(nt.unshift(qe);R[wt];){var it=R[wt];nt.unshift(it.edge),nt.unshift(it.node),dt=it.node,wt=dt.id()}return T.spawn(nt)},"pathTo")}},"dijkstra")},s0={kruskal:a(function(l){l=l||function(oe){return 1};for(var d=this.byGroup(),m=d.nodes,y=d.edges,b=m.length,w=new Array(b),T=m,S=a(function(fe){for(var be=0;be<w.length;be++){var ye=w[be];if(ye.has(fe))return be}},"findSetIndex"),C=0;C<b;C++)w[C]=this.spawn(m[C]);for(var A=y.sort(function(oe,fe){return l(oe)-l(fe)}),R=0;R<A.length;R++){var $=A[R],U=$.source()[0],q=$.target()[0],ne=S(U),ee=S(q),K=w[ne],se=w[ee];ne!==ee&&(T.merge($),K.merge(se),w.splice(ee,1))}return T},"kruskal")},Ys=Sa({root:null,goal:null,weight:a(function(l){return 1},"weight"),heuristic:a(function(l){return 0},"heuristic"),directed:!1}),m4={aStar:a(function(l){var d=this.cy(),m=Ys(l),y=m.root,b=m.goal,w=m.heuristic,T=m.directed,S=m.weight;y=d.collection(y)[0],b=d.collection(b)[0];var C=y.id(),A=b.id(),R={},$={},U={},q=new ea(function(wt,it){return $[wt.id()]-$[it.id()]}),ne=new Ze,ee={},K={},se=a(function(it,xt){q.push(it),ne.add(xt)},"addToOpenSet"),oe,fe,be=a(function(){oe=q.pop(),fe=oe.id(),ne.delete(fe)},"popFromOpenSet"),ye=a(function(it){return ne.has(it)},"isInOpenSet");se(y,C),R[C]=0,$[C]=w(y);for(var de=0;q.size()>0;){if(be(),de++,fe===A){for(var ke=[],me=b,Ce=A,Se=K[Ce];ke.unshift(me),Se!=null&&ke.unshift(Se),me=ee[Ce],me!=null;)Ce=me.id(),Se=K[Ce];return{found:!0,distance:R[fe],path:this.spawn(ke),steps:de}}U[fe]=!0;for(var xe=oe._private.edges,Ve=0;Ve<xe.length;Ve++){var Te=xe[Ve];if(this.hasElementWithId(Te.id())&&!(T&&Te.data("source")!==fe)){var tt=Te.source(),We=Te.target(),qe=tt.id()!==fe?tt:We,nt=qe.id();if(this.hasElementWithId(nt)&&!U[nt]){var dt=R[fe]+S(Te);if(!ye(nt)){R[nt]=dt,$[nt]=dt+w(qe),se(qe,nt),ee[nt]=oe,K[nt]=Te;continue}dt<R[nt]&&(R[nt]=dt,$[nt]=dt+w(qe),ee[nt]=oe,K[nt]=Te)}}}}return{found:!1,distance:void 0,path:void 0,steps:de}},"aStar")},g4=Sa({weight:a(function(l){return 1},"weight"),directed:!1}),ove={floydWarshall:a(function(l){for(var d=this.cy(),m=g4(l),y=m.weight,b=m.directed,w=y,T=this.byGroup(),S=T.nodes,C=T.edges,A=S.length,R=A*A,$=a(function(Et){return S.indexOf(Et)},"indexOf"),U=a(function(Et){return S[Et]},"atIndex"),q=new Array(R),ne=0;ne<R;ne++){var ee=ne%A,K=(ne-ee)/A;K===ee?q[ne]=0:q[ne]=1/0}for(var se=new Array(R),oe=new Array(R),fe=0;fe<C.length;fe++){var be=C[fe],ye=be.source()[0],de=be.target()[0];if(ye!==de){var ke=$(ye),me=$(de),Ce=ke*A+me,Se=w(be);if(q[Ce]>Se&&(q[Ce]=Se,se[Ce]=me,oe[Ce]=be),!b){var xe=me*A+ke;!b&&q[xe]>Se&&(q[xe]=Se,se[xe]=ke,oe[xe]=be)}}}for(var Ve=0;Ve<A;Ve++)for(var Te=0;Te<A;Te++)for(var tt=Te*A+Ve,We=0;We<A;We++){var qe=Te*A+We,nt=Ve*A+We;q[tt]+q[nt]<q[qe]&&(q[qe]=q[tt]+q[nt],se[qe]=se[tt])}var dt=a(function(Et){return(P(Et)?d.filter(Et):Et)[0]},"getArgEle"),wt=a(function(Et){return $(dt(Et))},"indexOfArgEle"),it={distance:a(function(Et,Dt){var St=wt(Et),Rt=wt(Dt);return q[St*A+Rt]},"distance"),path:a(function(Et,Dt){var St=wt(Et),Rt=wt(Dt),ht=U(St);if(St===Rt)return ht.collection();if(se[St*A+Rt]==null)return d.collection();var _t=d.collection(),Ot=St,Mt;for(_t.merge(ht);St!==Rt;)Ot=St,St=se[St*A+Rt],Mt=oe[Ot*A+St],_t.merge(Mt),_t.merge(U(St));return _t},"path")};return it},"floydWarshall")},lve=Sa({weight:a(function(l){return 1},"weight"),directed:!1,root:null}),uve={bellmanFord:a(function(l){var d=this,m=lve(l),y=m.weight,b=m.directed,w=m.root,T=y,S=this,C=this.cy(),A=this.byGroup(),R=A.edges,$=A.nodes,U=$.length,q=new xl,ne=!1,ee=[];w=C.collection(w)[0],R.unmergeBy(function(kr){return kr.isLoop()});for(var K=R.length,se=a(function(pr){var Sr=q.get(pr.id());return Sr||(Sr={},q.set(pr.id(),Sr)),Sr},"getInfo"),oe=a(function(pr){return(P(pr)?C.$(pr):pr)[0]},"getNodeFromTo"),fe=a(function(pr){return se(oe(pr)).dist},"distanceTo"),be=a(function(pr){for(var Sr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,Rn=oe(pr),yn=[],Xr=Rn;;){if(Xr==null)return d.spawn();var vn=se(Xr),pt=vn.edge,ve=vn.pred;if(yn.unshift(Xr[0]),Xr.same(Sr)&&yn.length>0)break;pt!=null&&yn.unshift(pt),Xr=ve}return S.spawn(yn)},"pathTo"),ye=0;ye<U;ye++){var de=$[ye],ke=se(de);de.same(w)?ke.dist=0:ke.dist=1/0,ke.pred=null,ke.edge=null}for(var me=!1,Ce=a(function(pr,Sr,Rn,yn,Xr,vn){var pt=yn.dist+vn;pt<Xr.dist&&!Rn.same(yn.edge)&&(Xr.dist=pt,Xr.pred=pr,Xr.edge=Rn,me=!0)},"checkForEdgeReplacement"),Se=1;Se<U;Se++){me=!1;for(var xe=0;xe<K;xe++){var Ve=R[xe],Te=Ve.source(),tt=Ve.target(),We=T(Ve),qe=se(Te),nt=se(tt);Ce(Te,tt,Ve,qe,nt,We),b||Ce(tt,Te,Ve,nt,qe,We)}if(!me)break}if(me)for(var dt=[],wt=0;wt<K;wt++){var it=R[wt],xt=it.source(),Et=it.target(),Dt=T(it),St=se(xt).dist,Rt=se(Et).dist;if(St+Dt<Rt||!b&&Rt+Dt<St)if(ne||(An("Graph contains a negative weight cycle for Bellman-Ford"),ne=!0),l.findNegativeWeightCycles!==!1){var ht=[];St+Dt<Rt&&ht.push(xt),!b&&Rt+Dt<St&&ht.push(Et);for(var _t=ht.length,Ot=0;Ot<_t;Ot++){var Mt=ht[Ot],Wt=[Mt];Wt.push(se(Mt).edge);for(var mr=se(Mt).pred;Wt.indexOf(mr)===-1;)Wt.push(mr),Wt.push(se(mr).edge),mr=se(mr).pred;Wt=Wt.slice(Wt.indexOf(mr));for(var Ur=Wt[0].id(),Qt=0,Zt=2;Zt<Wt.length;Zt+=2)Wt[Zt].id()<Ur&&(Ur=Wt[Zt].id(),Qt=Zt);Wt=Wt.slice(Qt).concat(Wt.slice(0,Qt)),Wt.push(Wt[0]);var Tr=Wt.map(function(kr){return kr.id()}).join(",");dt.indexOf(Tr)===-1&&(ee.push(S.spawn(Wt)),dt.push(Tr))}}else break}return{distanceTo:fe,pathTo:be,hasNegativeWeightCycle:ne,negativeWeightCycles:ee}},"bellmanFord")},cve=Math.sqrt(2),hve=a(function(l,d,m){m.length===0&&Mn("Karger-Stein must be run on a connected (sub)graph");for(var y=m[l],b=y[1],w=y[2],T=d[b],S=d[w],C=m,A=C.length-1;A>=0;A--){var R=C[A],$=R[1],U=R[2];(d[$]===T&&d[U]===S||d[$]===S&&d[U]===T)&&C.splice(A,1)}for(var q=0;q<C.length;q++){var ne=C[q];ne[1]===S?(C[q]=ne.slice(),C[q][1]=T):ne[2]===S&&(C[q]=ne.slice(),C[q][2]=T)}for(var ee=0;ee<d.length;ee++)d[ee]===S&&(d[ee]=T);return C},"collapse"),J7=a(function(l,d,m,y){for(;m>y;){var b=Math.floor(Math.random()*d.length);d=hve(b,l,d),m--}return d},"contractUntil"),fve={kargerStein:a(function(){var l=this,d=this.byGroup(),m=d.nodes,y=d.edges;y.unmergeBy(function(nt){return nt.isLoop()});var b=m.length,w=y.length,T=Math.ceil(Math.pow(Math.log(b)/Math.LN2,2)),S=Math.floor(b/cve);if(b<2){Mn("At least 2 nodes are required for Karger-Stein algorithm");return}for(var C=[],A=0;A<w;A++){var R=y[A];C.push([A,m.indexOf(R.source()),m.indexOf(R.target())])}for(var $=1/0,U=[],q=new Array(b),ne=new Array(b),ee=new Array(b),K=a(function(dt,wt){for(var it=0;it<b;it++)wt[it]=dt[it]},"copyNodesMap"),se=0;se<=T;se++){for(var oe=0;oe<b;oe++)ne[oe]=oe;var fe=J7(ne,C.slice(),b,S),be=fe.slice();K(ne,ee);var ye=J7(ne,fe,S,2),de=J7(ee,be,S,2);ye.length<=de.length&&ye.length<$?($=ye.length,U=ye,K(ne,q)):de.length<=ye.length&&de.length<$&&($=de.length,U=de,K(ee,q))}for(var ke=this.spawn(U.map(function(nt){return y[nt[0]]})),me=this.spawn(),Ce=this.spawn(),Se=q[0],xe=0;xe<q.length;xe++){var Ve=q[xe],Te=m[xe];Ve===Se?me.merge(Te):Ce.merge(Te)}var tt=a(function(dt){var wt=l.spawn();return dt.forEach(function(it){wt.merge(it),it.connectedEdges().forEach(function(xt){l.contains(xt)&&!ke.contains(xt)&&wt.merge(xt)})}),wt},"constructComponent"),We=[tt(me),tt(Ce)],qe={cut:ke,components:We,partition1:me,partition2:Ce};return qe},"kargerStein")},dve=a(function(l){return{x:l.x,y:l.y}},"copyPosition"),y4=a(function(l,d,m){return{x:l.x*d+m.x,y:l.y*d+m.y}},"modelToRenderedPosition"),iF=a(function(l,d,m){return{x:(l.x-m.x)/d,y:(l.y-m.y)/d}},"renderedToModelPosition"),mm=a(function(l){return{x:l[0],y:l[1]}},"array2point"),pve=a(function(l){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.length,y=1/0,b=d;b<m;b++){var w=l[b];isFinite(w)&&(y=Math.min(w,y))}return y},"min"),mve=a(function(l){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.length,y=-1/0,b=d;b<m;b++){var w=l[b];isFinite(w)&&(y=Math.max(w,y))}return y},"max"),gve=a(function(l){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.length,y=0,b=0,w=d;w<m;w++){var T=l[w];isFinite(T)&&(y+=T,b++)}return y/b},"mean"),yve=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.length,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;y?l=l.slice(d,m):(m<l.length&&l.splice(m,l.length-m),d>0&&l.splice(0,d));for(var T=0,S=l.length-1;S>=0;S--){var C=l[S];w?isFinite(C)||(l[S]=-1/0,T++):l.splice(S,1)}b&&l.sort(function($,U){return $-U});var A=l.length,R=Math.floor(A/2);return A%2!==0?l[R+1+T]:(l[R-1+T]+l[R+T])/2},"median"),vve=a(function(l){return Math.PI*l/180},"deg2rad"),v4=a(function(l,d){return Math.atan2(d,l)-Math.PI/2},"getAngleFromDisp"),eC=Math.log2||function(f){return Math.log(f)/Math.log(2)},aF=a(function(l){return l>0?1:l<0?-1:0},"signum"),o0=a(function(l,d){return Math.sqrt(l0(l,d))},"dist"),l0=a(function(l,d){var m=d.x-l.x,y=d.y-l.y;return m*m+y*y},"sqdist"),xve=a(function(l){for(var d=l.length,m=0,y=0;y<d;y++)m+=l[y];for(var b=0;b<d;b++)l[b]=l[b]/m;return l},"inPlaceSumNormalize"),is=a(function(l,d,m,y){return(1-y)*(1-y)*l+2*(1-y)*y*d+y*y*m},"qbezierAt"),gm=a(function(l,d,m,y){return{x:is(l.x,d.x,m.x,y),y:is(l.y,d.y,m.y,y)}},"qbezierPtAt"),bve=a(function(l,d,m,y){var b={x:d.x-l.x,y:d.y-l.y},w=o0(l,d),T={x:b.x/w,y:b.y/w};return m=m??0,y=y??m*w,{x:l.x+T.x*y,y:l.y+T.y*y}},"lineAt"),Ny=a(function(l,d,m){return Math.max(l,Math.min(m,d))},"bound"),zo=a(function(l){if(l==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(l.x1!=null&&l.y1!=null){if(l.x2!=null&&l.y2!=null&&l.x2>=l.x1&&l.y2>=l.y1)return{x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,w:l.x2-l.x1,h:l.y2-l.y1};if(l.w!=null&&l.h!=null&&l.w>=0&&l.h>=0)return{x1:l.x1,y1:l.y1,x2:l.x1+l.w,y2:l.y1+l.h,w:l.w,h:l.h}}},"makeBoundingBox"),kve=a(function(l){return{x1:l.x1,x2:l.x2,w:l.w,y1:l.y1,y2:l.y2,h:l.h}},"copyBoundingBox"),wve=a(function(l){l.x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0},"clearBoundingBox"),Tve=a(function(l,d,m){return{x1:l.x1+d,x2:l.x2+d,y1:l.y1+m,y2:l.y2+m,w:l.w,h:l.h}},"shiftBoundingBox"),sF=a(function(l,d){l.x1=Math.min(l.x1,d.x1),l.x2=Math.max(l.x2,d.x2),l.w=l.x2-l.x1,l.y1=Math.min(l.y1,d.y1),l.y2=Math.max(l.y2,d.y2),l.h=l.y2-l.y1},"updateBoundingBox"),Eve=a(function(l,d,m){l.x1=Math.min(l.x1,d),l.x2=Math.max(l.x2,d),l.w=l.x2-l.x1,l.y1=Math.min(l.y1,m),l.y2=Math.max(l.y2,m),l.h=l.y2-l.y1},"expandBoundingBoxByPoint"),x4=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return l.x1-=d,l.x2+=d,l.y1-=d,l.y2+=d,l.w=l.x2-l.x1,l.h=l.y2-l.y1,l},"expandBoundingBox"),b4=a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],m,y,b,w;if(d.length===1)m=y=b=w=d[0];else if(d.length===2)m=b=d[0],w=y=d[1];else if(d.length===4){var T=s(d,4);m=T[0],y=T[1],b=T[2],w=T[3]}return l.x1-=w,l.x2+=y,l.y1-=m,l.y2+=b,l.w=l.x2-l.x1,l.h=l.y2-l.y1,l},"expandBoundingBoxSides"),oF=a(function(l,d){l.x1=d.x1,l.y1=d.y1,l.x2=d.x2,l.y2=d.y2,l.w=l.x2-l.x1,l.h=l.y2-l.y1},"assignBoundingBox"),tC=a(function(l,d){return!(l.x1>d.x2||d.x1>l.x2||l.x2<d.x1||d.x2<l.x1||l.y2<d.y1||d.y2<l.y1||l.y1>d.y2||d.y1>l.y2)},"boundingBoxesIntersect"),ym=a(function(l,d,m){return l.x1<=d&&d<=l.x2&&l.y1<=m&&m<=l.y2},"inBoundingBox"),Cve=a(function(l,d){return ym(l,d.x,d.y)},"pointInBoundingBox"),lF=a(function(l,d){return ym(l,d.x1,d.y1)&&ym(l,d.x2,d.y2)},"boundingBoxInBoundingBox"),uF=a(function(l,d,m,y,b,w,T){var S=By(b,w),C=b/2,A=w/2,R;{var $=m-C+S-T,U=y-A-T,q=m+C-S+T,ne=U;if(R=Mf(l,d,m,y,$,U,q,ne,!1),R.length>0)return R}{var ee=m+C+T,K=y-A+S-T,se=ee,oe=y+A-S+T;if(R=Mf(l,d,m,y,ee,K,se,oe,!1),R.length>0)return R}{var fe=m-C+S-T,be=y+A+T,ye=m+C-S+T,de=be;if(R=Mf(l,d,m,y,fe,be,ye,de,!1),R.length>0)return R}{var ke=m-C-T,me=y-A+S-T,Ce=ke,Se=y+A-S+T;if(R=Mf(l,d,m,y,ke,me,Ce,Se,!1),R.length>0)return R}var xe;{var Ve=m-C+S,Te=y-A+S;if(xe=Oy(l,d,m,y,Ve,Te,S+T),xe.length>0&&xe[0]<=Ve&&xe[1]<=Te)return[xe[0],xe[1]]}{var tt=m+C-S,We=y-A+S;if(xe=Oy(l,d,m,y,tt,We,S+T),xe.length>0&&xe[0]>=tt&&xe[1]<=We)return[xe[0],xe[1]]}{var qe=m+C-S,nt=y+A-S;if(xe=Oy(l,d,m,y,qe,nt,S+T),xe.length>0&&xe[0]>=qe&&xe[1]>=nt)return[xe[0],xe[1]]}{var dt=m-C+S,wt=y+A-S;if(xe=Oy(l,d,m,y,dt,wt,S+T),xe.length>0&&xe[0]<=dt&&xe[1]>=wt)return[xe[0],xe[1]]}return[]},"roundRectangleIntersectLine"),Sve=a(function(l,d,m,y,b,w,T){var S=T,C=Math.min(m,b),A=Math.max(m,b),R=Math.min(y,w),$=Math.max(y,w);return C-S<=l&&l<=A+S&&R-S<=d&&d<=$+S},"inLineVicinity"),_ve=a(function(l,d,m,y,b,w,T,S,C){var A={x1:Math.min(m,T,b)-C,x2:Math.max(m,T,b)+C,y1:Math.min(y,S,w)-C,y2:Math.max(y,S,w)+C};return!(l<A.x1||l>A.x2||d<A.y1||d>A.y2)},"inBezierVicinity"),Ave=a(function(l,d,m,y){m-=y;var b=d*d-4*l*m;if(b<0)return[];var w=Math.sqrt(b),T=2*l,S=(-d+w)/T,C=(-d-w)/T;return[S,C]},"solveQuadratic"),Lve=a(function(l,d,m,y,b){var w=1e-5;l===0&&(l=w),d/=l,m/=l,y/=l;var T,S,C,A,R,$,U,q;if(S=(3*m-d*d)/9,C=-(27*y)+d*(9*m-2*(d*d)),C/=54,T=S*S*S+C*C,b[1]=0,U=d/3,T>0){R=C+Math.sqrt(T),R=R<0?-Math.pow(-R,1/3):Math.pow(R,1/3),$=C-Math.sqrt(T),$=$<0?-Math.pow(-$,1/3):Math.pow($,1/3),b[0]=-U+R+$,U+=(R+$)/2,b[4]=b[2]=-U,U=Math.sqrt(3)*(-$+R)/2,b[3]=U,b[5]=-U;return}if(b[5]=b[3]=0,T===0){q=C<0?-Math.pow(-C,1/3):Math.pow(C,1/3),b[0]=-U+2*q,b[4]=b[2]=-(q+U);return}S=-S,A=S*S*S,A=Math.acos(C/Math.sqrt(A)),q=2*Math.sqrt(S),b[0]=-U+q*Math.cos(A/3),b[2]=-U+q*Math.cos((A+2*Math.PI)/3),b[4]=-U+q*Math.cos((A+4*Math.PI)/3)},"solveCubic"),Dve=a(function(l,d,m,y,b,w,T,S){var C=1*m*m-4*m*b+2*m*T+4*b*b-4*b*T+T*T+y*y-4*y*w+2*y*S+4*w*w-4*w*S+S*S,A=1*9*m*b-3*m*m-3*m*T-6*b*b+3*b*T+9*y*w-3*y*y-3*y*S-6*w*w+3*w*S,R=1*3*m*m-6*m*b+m*T-m*l+2*b*b+2*b*l-T*l+3*y*y-6*y*w+y*S-y*d+2*w*w+2*w*d-S*d,$=1*m*b-m*m+m*l-b*l+y*w-y*y+y*d-w*d,U=[];Lve(C,A,R,$,U);for(var q=1e-7,ne=[],ee=0;ee<6;ee+=2)Math.abs(U[ee+1])<q&&U[ee]>=0&&U[ee]<=1&&ne.push(U[ee]);ne.push(1),ne.push(0);for(var K=-1,se,oe,fe,be=0;be<ne.length;be++)se=Math.pow(1-ne[be],2)*m+2*(1-ne[be])*ne[be]*b+ne[be]*ne[be]*T,oe=Math.pow(1-ne[be],2)*y+2*(1-ne[be])*ne[be]*w+ne[be]*ne[be]*S,fe=Math.pow(se-l,2)+Math.pow(oe-d,2),K>=0?fe<K&&(K=fe):K=fe;return K},"sqdistToQuadraticBezier"),Rve=a(function(l,d,m,y,b,w){var T=[l-m,d-y],S=[b-m,w-y],C=S[0]*S[0]+S[1]*S[1],A=T[0]*T[0]+T[1]*T[1],R=T[0]*S[0]+T[1]*S[1],$=R*R/C;return R<0?A:$>C?(l-b)*(l-b)+(d-w)*(d-w):A-$},"sqdistToFiniteLine"),$o=a(function(l,d,m){for(var y,b,w,T,S,C=0,A=0;A<m.length/2;A++)if(y=m[A*2],b=m[A*2+1],A+1<m.length/2?(w=m[(A+1)*2],T=m[(A+1)*2+1]):(w=m[(A+1-m.length/2)*2],T=m[(A+1-m.length/2)*2+1]),!(y==l&&w==l))if(y>=l&&l>=w||y<=l&&l<=w)S=(l-y)/(w-y)*(T-b)+b,S>d&&C++;else continue;return C%2!==0},"pointInsidePolygonPoints"),Th=a(function(l,d,m,y,b,w,T,S,C){var A=new Array(m.length),R;S[0]!=null?(R=Math.atan(S[1]/S[0]),S[0]<0?R=R+Math.PI/2:R=-R-Math.PI/2):R=S;for(var $=Math.cos(-R),U=Math.sin(-R),q=0;q<A.length/2;q++)A[q*2]=w/2*(m[q*2]*$-m[q*2+1]*U),A[q*2+1]=T/2*(m[q*2+1]*$+m[q*2]*U),A[q*2]+=y,A[q*2+1]+=b;var ne;if(C>0){var ee=w4(A,-C);ne=k4(ee)}else ne=A;return $o(l,d,ne)},"pointInsidePolygon"),Ive=a(function(l,d,m,y,b,w,T){for(var S=new Array(m.length),C=w/2,A=T/2,R=iC(w,T),$=R*R,U=0;U<m.length/4;U++){var q=void 0,ne=void 0;U===0?q=m.length-2:q=U*4-2,ne=U*4+2;var ee=y+C*m[U*4],K=b+A*m[U*4+1],se=-m[q]*m[ne]-m[q+1]*m[ne+1],oe=R/Math.tan(Math.acos(se)/2),fe=ee-oe*m[q],be=K-oe*m[q+1],ye=ee+oe*m[ne],de=K+oe*m[ne+1];S[U*4]=fe,S[U*4+1]=be,S[U*4+2]=ye,S[U*4+3]=de;var ke=m[q+1],me=-m[q],Ce=ke*m[ne]+me*m[ne+1];Ce<0&&(ke*=-1,me*=-1);var Se=fe+ke*R,xe=be+me*R,Ve=Math.pow(Se-l,2)+Math.pow(xe-d,2);if(Ve<=$)return!0}return $o(l,d,S)},"pointInsideRoundPolygon"),k4=a(function(l){for(var d=new Array(l.length/2),m,y,b,w,T,S,C,A,R=0;R<l.length/4;R++){m=l[R*4],y=l[R*4+1],b=l[R*4+2],w=l[R*4+3],R<l.length/4-1?(T=l[(R+1)*4],S=l[(R+1)*4+1],C=l[(R+1)*4+2],A=l[(R+1)*4+3]):(T=l[0],S=l[1],C=l[2],A=l[3]);var $=Mf(m,y,b,w,T,S,C,A,!0);d[R*2]=$[0],d[R*2+1]=$[1]}return d},"joinLines"),w4=a(function(l,d){for(var m=new Array(l.length*2),y,b,w,T,S=0;S<l.length/2;S++){y=l[S*2],b=l[S*2+1],S<l.length/2-1?(w=l[(S+1)*2],T=l[(S+1)*2+1]):(w=l[0],T=l[1]);var C=T-b,A=-(w-y),R=Math.sqrt(C*C+A*A),$=C/R,U=A/R;m[S*4]=y+$*d,m[S*4+1]=b+U*d,m[S*4+2]=w+$*d,m[S*4+3]=T+U*d}return m},"expandPolygon"),Mve=a(function(l,d,m,y,b,w){var T=m-l,S=y-d;T/=b,S/=w;var C=Math.sqrt(T*T+S*S),A=C-1;if(A<0)return[];var R=A/C;return[(m-l)*R+l,(y-d)*R+d]},"intersectLineEllipse"),u0=a(function(l,d,m,y,b,w,T){return l-=b,d-=w,l/=m/2+T,d/=y/2+T,l*l+d*d<=1},"checkInEllipse"),Oy=a(function(l,d,m,y,b,w,T){var S=[m-l,y-d],C=[l-b,d-w],A=S[0]*S[0]+S[1]*S[1],R=2*(C[0]*S[0]+C[1]*S[1]),$=C[0]*C[0]+C[1]*C[1]-T*T,U=R*R-4*A*$;if(U<0)return[];var q=(-R+Math.sqrt(U))/(2*A),ne=(-R-Math.sqrt(U))/(2*A),ee=Math.min(q,ne),K=Math.max(q,ne),se=[];if(ee>=0&&ee<=1&&se.push(ee),K>=0&&K<=1&&se.push(K),se.length===0)return[];var oe=se[0]*S[0]+l,fe=se[0]*S[1]+d;if(se.length>1){if(se[0]==se[1])return[oe,fe];var be=se[1]*S[0]+l,ye=se[1]*S[1]+d;return[oe,fe,be,ye]}else return[oe,fe]},"intersectLineCircle"),rC=a(function(l,d,m){return d<=l&&l<=m||m<=l&&l<=d?l:l<=d&&d<=m||m<=d&&d<=l?d:m},"midOfThree"),Mf=a(function(l,d,m,y,b,w,T,S,C){var A=l-b,R=m-l,$=T-b,U=d-w,q=y-d,ne=S-w,ee=$*U-ne*A,K=R*U-q*A,se=ne*R-$*q;if(se!==0){var oe=ee/se,fe=K/se,be=.001,ye=0-be,de=1+be;return ye<=oe&&oe<=de&&ye<=fe&&fe<=de?[l+oe*R,d+oe*q]:C?[l+oe*R,d+oe*q]:[]}else return ee===0||K===0?rC(l,m,T)===T?[T,S]:rC(l,m,b)===b?[b,w]:rC(b,T,m)===m?[m,y]:[]:[]},"finiteLinesIntersect"),Py=a(function(l,d,m,y,b,w,T,S){var C=[],A,R=new Array(m.length),$=!0;w==null&&($=!1);var U;if($){for(var q=0;q<R.length/2;q++)R[q*2]=m[q*2]*w+y,R[q*2+1]=m[q*2+1]*T+b;if(S>0){var ne=w4(R,-S);U=k4(ne)}else U=R}else U=m;for(var ee,K,se,oe,fe=0;fe<U.length/2;fe++)ee=U[fe*2],K=U[fe*2+1],fe<U.length/2-1?(se=U[(fe+1)*2],oe=U[(fe+1)*2+1]):(se=U[0],oe=U[1]),A=Mf(l,d,y,b,ee,K,se,oe),A.length!==0&&C.push(A[0],A[1]);return C},"polygonIntersectLine"),Nve=a(function(l,d,m,y,b,w,T,S){for(var C=[],A,R=new Array(m.length),$=w/2,U=T/2,q=iC(w,T),ne=0;ne<m.length/4;ne++){var ee=void 0,K=void 0;ne===0?ee=m.length-2:ee=ne*4-2,K=ne*4+2;var se=y+$*m[ne*4],oe=b+U*m[ne*4+1],fe=-m[ee]*m[K]-m[ee+1]*m[K+1],be=q/Math.tan(Math.acos(fe)/2),ye=se-be*m[ee],de=oe-be*m[ee+1],ke=se+be*m[K],me=oe+be*m[K+1];ne===0?(R[m.length-2]=ye,R[m.length-1]=de):(R[ne*4-2]=ye,R[ne*4-1]=de),R[ne*4]=ke,R[ne*4+1]=me;var Ce=m[ee+1],Se=-m[ee],xe=Ce*m[K]+Se*m[K+1];xe<0&&(Ce*=-1,Se*=-1);var Ve=ye+Ce*q,Te=de+Se*q;A=Oy(l,d,y,b,Ve,Te,q),A.length!==0&&C.push(A[0],A[1])}for(var tt=0;tt<R.length/4;tt++)A=Mf(l,d,y,b,R[tt*4],R[tt*4+1],R[tt*4+2],R[tt*4+3],!1),A.length!==0&&C.push(A[0],A[1]);if(C.length>2){for(var We=[C[0],C[1]],qe=Math.pow(We[0]-l,2)+Math.pow(We[1]-d,2),nt=1;nt<C.length/2;nt++){var dt=Math.pow(C[nt*2]-l,2)+Math.pow(C[nt*2+1]-d,2);dt<=qe&&(We[0]=C[nt*2],We[1]=C[nt*2+1],qe=dt)}return We}return C},"roundPolygonIntersectLine"),T4=a(function(l,d,m){var y=[l[0]-d[0],l[1]-d[1]],b=Math.sqrt(y[0]*y[0]+y[1]*y[1]),w=(b-m)/b;return w<0&&(w=1e-5),[d[0]+w*y[0],d[1]+w*y[1]]},"shortenIntersection"),fo=a(function(l,d){var m=nC(l,d);return m=cF(m),m},"generateUnitNgonPointsFitToSquare"),cF=a(function(l){for(var d,m,y=l.length/2,b=1/0,w=1/0,T=-1/0,S=-1/0,C=0;C<y;C++)d=l[2*C],m=l[2*C+1],b=Math.min(b,d),T=Math.max(T,d),w=Math.min(w,m),S=Math.max(S,m);for(var A=2/(T-b),R=2/(S-w),$=0;$<y;$++)d=l[2*$]=l[2*$]*A,m=l[2*$+1]=l[2*$+1]*R,b=Math.min(b,d),T=Math.max(T,d),w=Math.min(w,m),S=Math.max(S,m);if(w<-1)for(var U=0;U<y;U++)m=l[2*U+1]=l[2*U+1]+(-1-w);return l},"fitPolygonToSquare"),nC=a(function(l,d){var m=1/l*2*Math.PI,y=l%2===0?Math.PI/2+m/2:Math.PI/2;y+=d;for(var b=new Array(l*2),w,T=0;T<l;T++)w=T*m+y,b[2*T]=Math.cos(w),b[2*T+1]=Math.sin(-w);return b},"generateUnitNgonPoints"),By=a(function(l,d){return Math.min(l/4,d/4,8)},"getRoundRectangleRadius"),iC=a(function(l,d){return Math.min(l/10,d/10,8)},"getRoundPolygonRadius"),hF=a(function(){return 8},"getCutRectangleCornerLength"),Ove=a(function(l,d,m){return[l-2*d+m,2*(d-l),l]},"bezierPtsToQuadCoeff"),aC=a(function(l,d){return{heightOffset:Math.min(15,.05*d),widthOffset:Math.min(100,.25*l),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants"),Pve=Sa({dampingFactor:.8,precision:1e-6,iterations:200,weight:a(function(l){return 1},"weight")}),Bve={pageRank:a(function(l){for(var d=Pve(l),m=d.dampingFactor,y=d.precision,b=d.iterations,w=d.weight,T=this._private.cy,S=this.byGroup(),C=S.nodes,A=S.edges,R=C.length,$=R*R,U=A.length,q=new Array($),ne=new Array(R),ee=(1-m)/R,K=0;K<R;K++){for(var se=0;se<R;se++){var oe=K*R+se;q[oe]=0}ne[K]=0}for(var fe=0;fe<U;fe++){var be=A[fe],ye=be.data("source"),de=be.data("target");if(ye!==de){var ke=C.indexOfId(ye),me=C.indexOfId(de),Ce=w(be),Se=me*R+ke;q[Se]+=Ce,ne[ke]+=Ce}}for(var xe=1/R+ee,Ve=0;Ve<R;Ve++)if(ne[Ve]===0)for(var Te=0;Te<R;Te++){var tt=Te*R+Ve;q[tt]=xe}else for(var We=0;We<R;We++){var qe=We*R+Ve;q[qe]=q[qe]/ne[Ve]+ee}for(var nt=new Array(R),dt=new Array(R),wt,it=0;it<R;it++)nt[it]=1;for(var xt=0;xt<b;xt++){for(var Et=0;Et<R;Et++)dt[Et]=0;for(var Dt=0;Dt<R;Dt++)for(var St=0;St<R;St++){var Rt=Dt*R+St;dt[Dt]+=q[Rt]*nt[St]}xve(dt),wt=nt,nt=dt,dt=wt;for(var ht=0,_t=0;_t<R;_t++){var Ot=wt[_t]-nt[_t];ht+=Ot*Ot}if(ht<y)break}var Mt={rank:a(function(mr){return mr=T.collection(mr)[0],nt[C.indexOf(mr)]},"rank")};return Mt},"pageRank")},fF=Sa({root:null,weight:a(function(l){return 1},"weight"),directed:!1,alpha:0}),vm={degreeCentralityNormalized:a(function(l){l=fF(l);var d=this.cy(),m=this.nodes(),y=m.length;if(l.directed){for(var A={},R={},$=0,U=0,q=0;q<y;q++){var ne=m[q],ee=ne.id();l.root=ne;var K=this.degreeCentrality(l);$<K.indegree&&($=K.indegree),U<K.outdegree&&(U=K.outdegree),A[ee]=K.indegree,R[ee]=K.outdegree}return{indegree:a(function(oe){return $==0?0:(P(oe)&&(oe=d.filter(oe)),A[oe.id()]/$)},"indegree"),outdegree:a(function(oe){return U===0?0:(P(oe)&&(oe=d.filter(oe)),R[oe.id()]/U)},"outdegree")}}else{for(var b={},w=0,T=0;T<y;T++){var S=m[T];l.root=S;var C=this.degreeCentrality(l);w<C.degree&&(w=C.degree),b[S.id()]=C.degree}return{degree:a(function(oe){return w===0?0:(P(oe)&&(oe=d.filter(oe)),b[oe.id()]/w)},"degree")}}},"degreeCentralityNormalized"),degreeCentrality:a(function(l){l=fF(l);var d=this.cy(),m=this,y=l,b=y.root,w=y.weight,T=y.directed,S=y.alpha;if(b=d.collection(b)[0],T){for(var U=b.connectedEdges(),q=U.filter(function(ye){return ye.target().same(b)&&m.has(ye)}),ne=U.filter(function(ye){return ye.source().same(b)&&m.has(ye)}),ee=q.length,K=ne.length,se=0,oe=0,fe=0;fe<q.length;fe++)se+=w(q[fe]);for(var be=0;be<ne.length;be++)oe+=w(ne[be]);return{indegree:Math.pow(ee,1-S)*Math.pow(se,S),outdegree:Math.pow(K,1-S)*Math.pow(oe,S)}}else{for(var C=b.connectedEdges().intersection(m),A=C.length,R=0,$=0;$<C.length;$++)R+=w(C[$]);return{degree:Math.pow(A,1-S)*Math.pow(R,S)}}},"degreeCentrality")};vm.dc=vm.degreeCentrality,vm.dcn=vm.degreeCentralityNormalised=vm.degreeCentralityNormalized;var dF=Sa({harmonic:!0,weight:a(function(){return 1},"weight"),directed:!1,root:null}),xm={closenessCentralityNormalized:a(function(l){for(var d=dF(l),m=d.harmonic,y=d.weight,b=d.directed,w=this.cy(),T={},S=0,C=this.nodes(),A=this.floydWarshall({weight:y,directed:b}),R=0;R<C.length;R++){for(var $=0,U=C[R],q=0;q<C.length;q++)if(R!==q){var ne=A.distance(U,C[q]);m?$+=1/ne:$+=ne}m||($=1/$),S<$&&(S=$),T[U.id()]=$}return{closeness:a(function(K){return S==0?0:(P(K)?K=w.filter(K)[0].id():K=K.id(),T[K]/S)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:a(function(l){var d=dF(l),m=d.root,y=d.weight,b=d.directed,w=d.harmonic;m=this.filter(m)[0];for(var T=this.dijkstra({root:m,weight:y,directed:b}),S=0,C=this.nodes(),A=0;A<C.length;A++){var R=C[A];if(!R.same(m)){var $=T.distanceTo(R);w?S+=1/$:S+=$}}return w?S:1/S},"closenessCentrality")};xm.cc=xm.closenessCentrality,xm.ccn=xm.closenessCentralityNormalised=xm.closenessCentralityNormalized;var Fve=Sa({weight:null,directed:!1}),sC={betweennessCentrality:a(function(l){for(var d=Fve(l),m=d.directed,y=d.weight,b=y!=null,w=this.cy(),T=this.nodes(),S={},C={},A=0,R={set:a(function(oe,fe){C[oe]=fe,fe>A&&(A=fe)},"set"),get:a(function(oe){return C[oe]},"get")},$=0;$<T.length;$++){var U=T[$],q=U.id();m?S[q]=U.outgoers().nodes():S[q]=U.openNeighborhood().nodes(),R.set(q,0)}for(var ne=a(function(oe){for(var fe=T[oe].id(),be=[],ye={},de={},ke={},me=new ea(function(St,Rt){return ke[St]-ke[Rt]}),Ce=0;Ce<T.length;Ce++){var Se=T[Ce].id();ye[Se]=[],de[Se]=0,ke[Se]=1/0}for(de[fe]=1,ke[fe]=0,me.push(fe);!me.empty();){var xe=me.pop();if(be.push(xe),b)for(var Ve=0;Ve<S[xe].length;Ve++){var Te=S[xe][Ve],tt=w.getElementById(xe),We=void 0;tt.edgesTo(Te).length>0?We=tt.edgesTo(Te)[0]:We=Te.edgesTo(tt)[0];var qe=y(We);Te=Te.id(),ke[Te]>ke[xe]+qe&&(ke[Te]=ke[xe]+qe,me.nodes.indexOf(Te)<0?me.push(Te):me.updateItem(Te),de[Te]=0,ye[Te]=[]),ke[Te]==ke[xe]+qe&&(de[Te]=de[Te]+de[xe],ye[Te].push(xe))}else for(var nt=0;nt<S[xe].length;nt++){var dt=S[xe][nt].id();ke[dt]==1/0&&(me.push(dt),ke[dt]=ke[xe]+1),ke[dt]==ke[xe]+1&&(de[dt]=de[dt]+de[xe],ye[dt].push(xe))}}for(var wt={},it=0;it<T.length;it++)wt[T[it].id()]=0;for(;be.length>0;){for(var xt=be.pop(),Et=0;Et<ye[xt].length;Et++){var Dt=ye[xt][Et];wt[Dt]=wt[Dt]+de[Dt]/de[xt]*(1+wt[xt])}xt!=T[oe].id()&&R.set(xt,R.get(xt)+wt[xt])}},"_loop"),ee=0;ee<T.length;ee++)ne(ee);var K={betweenness:a(function(oe){var fe=w.collection(oe).id();return R.get(fe)},"betweenness"),betweennessNormalized:a(function(oe){if(A==0)return 0;var fe=w.collection(oe).id();return R.get(fe)/A},"betweennessNormalized")};return K.betweennessNormalised=K.betweennessNormalized,K},"betweennessCentrality")};sC.bc=sC.betweennessCentrality;var zve=Sa({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(f){return 1}]}),$ve=a(function(l){return zve(l)},"setOptions"),Gve=a(function(l,d){for(var m=0,y=0;y<d.length;y++)m+=d[y](l);return m},"getSimilarity"),Vve=a(function(l,d,m){for(var y=0;y<d;y++)l[y*d+y]=m},"addLoops"),pF=a(function(l,d){for(var m,y=0;y<d;y++){m=0;for(var b=0;b<d;b++)m+=l[b*d+y];for(var w=0;w<d;w++)l[w*d+y]=l[w*d+y]/m}},"normalize"),qve=a(function(l,d,m){for(var y=new Array(m*m),b=0;b<m;b++){for(var w=0;w<m;w++)y[b*m+w]=0;for(var T=0;T<m;T++)for(var S=0;S<m;S++)y[b*m+S]+=l[b*m+T]*d[T*m+S]}return y},"mmult"),Uve=a(function(l,d,m){for(var y=l.slice(0),b=1;b<m;b++)l=qve(l,y,d);return l},"expand"),Hve=a(function(l,d,m){for(var y=new Array(d*d),b=0;b<d*d;b++)y[b]=Math.pow(l[b],m);return pF(y,d),y},"inflate"),Wve=a(function(l,d,m,y){for(var b=0;b<m;b++){var w=Math.round(l[b]*Math.pow(10,y))/Math.pow(10,y),T=Math.round(d[b]*Math.pow(10,y))/Math.pow(10,y);if(w!==T)return!1}return!0},"hasConverged"),Yve=a(function(l,d,m,y){for(var b=[],w=0;w<d;w++){for(var T=[],S=0;S<d;S++)Math.round(l[w*d+S]*1e3)/1e3>0&&T.push(m[S]);T.length!==0&&b.push(y.collection(T))}return b},"assign"),Xve=a(function(l,d){for(var m=0;m<l.length;m++)if(!d[m]||l[m].id()!==d[m].id())return!1;return!0},"isDuplicate"),jve=a(function(l){for(var d=0;d<l.length;d++)for(var m=0;m<l.length;m++)d!=m&&Xve(l[d],l[m])&&l.splice(m,1);return l},"removeDuplicates"),mF=a(function(l){for(var d=this.nodes(),m=this.edges(),y=this.cy(),b=$ve(l),w={},T=0;T<d.length;T++)w[d[T].id()]=T;for(var S=d.length,C=S*S,A=new Array(C),R,$=0;$<C;$++)A[$]=0;for(var U=0;U<m.length;U++){var q=m[U],ne=w[q.source().id()],ee=w[q.target().id()],K=Gve(q,b.attributes);A[ne*S+ee]+=K,A[ee*S+ne]+=K}Vve(A,S,b.multFactor),pF(A,S);for(var se=!0,oe=0;se&&oe<b.maxIterations;)se=!1,R=Uve(A,S,b.expandFactor),A=Hve(R,S,b.inflateFactor),Wve(A,R,C,4)||(se=!0),oe++;var fe=Yve(A,S,d,y);return fe=jve(fe),fe},"markovClustering"),Kve={markovClustering:mF,mcl:mF},Qve=a(function(l){return l},"identity"),gF=a(function(l,d){return Math.abs(d-l)},"absDiff"),yF=a(function(l,d,m){return l+gF(d,m)},"addAbsDiff"),vF=a(function(l,d,m){return l+Math.pow(m-d,2)},"addSquaredDiff"),Zve=a(function(l){return Math.sqrt(l)},"sqrt"),Jve=a(function(l,d,m){return Math.max(l,gF(d,m))},"maxAbsDiff"),Fy=a(function(l,d,m,y,b){for(var w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Qve,T=y,S,C,A=0;A<l;A++)S=d(A),C=m(A),T=b(T,S,C);return w(T)},"getDistance"),bm={euclidean:a(function(l,d,m){return l>=2?Fy(l,d,m,0,vF,Zve):Fy(l,d,m,0,yF)},"euclidean"),squaredEuclidean:a(function(l,d,m){return Fy(l,d,m,0,vF)},"squaredEuclidean"),manhattan:a(function(l,d,m){return Fy(l,d,m,0,yF)},"manhattan"),max:a(function(l,d,m){return Fy(l,d,m,-1/0,Jve)},"max")};bm["squared-euclidean"]=bm.squaredEuclidean,bm.squaredeuclidean=bm.squaredEuclidean;function E4(f,l,d,m,y,b){var w;return V(f)?w=f:w=bm[f]||bm.euclidean,l===0&&V(f)?w(y,b):w(l,d,m,y,b)}a(E4,"clusteringDistance");var e2e=Sa({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),oC=a(function(l){return e2e(l)},"setOptions"),C4=a(function(l,d,m,y,b){var w=b!=="kMedoids",T=w?function(R){return m[R]}:function(R){return y[R](m)},S=a(function($){return y[$](d)},"getQ"),C=m,A=d;return E4(l,y.length,T,S,C,A)},"getDist"),lC=a(function(l,d,m){for(var y=m.length,b=new Array(y),w=new Array(y),T=new Array(d),S=null,C=0;C<y;C++)b[C]=l.min(m[C]).value,w[C]=l.max(m[C]).value;for(var A=0;A<d;A++){S=[];for(var R=0;R<y;R++)S[R]=Math.random()*(w[R]-b[R])+b[R];T[A]=S}return T},"randomCentroids"),xF=a(function(l,d,m,y,b){for(var w=1/0,T=0,S=0;S<d.length;S++){var C=C4(m,l,d[S],y,b);C<w&&(w=C,T=S)}return T},"classify"),bF=a(function(l,d,m){for(var y=[],b=null,w=0;w<d.length;w++)b=d[w],m[b.id()]===l&&y.push(b);return y},"buildCluster"),t2e=a(function(l,d,m){return Math.abs(d-l)<=m},"haveValuesConverged"),r2e=a(function(l,d,m){for(var y=0;y<l.length;y++)for(var b=0;b<l[y].length;b++){var w=Math.abs(l[y][b]-d[y][b]);if(w>m)return!1}return!0},"haveMatricesConverged"),n2e=a(function(l,d,m){for(var y=0;y<m;y++)if(l===d[y])return!0;return!1},"seenBefore"),kF=a(function(l,d){var m=new Array(d);if(l.length<50)for(var y=0;y<d;y++){for(var b=l[Math.floor(Math.random()*l.length)];n2e(b,m,y);)b=l[Math.floor(Math.random()*l.length)];m[y]=b}else for(var w=0;w<d;w++)m[w]=l[Math.floor(Math.random()*l.length)];return m},"randomMedoids"),wF=a(function(l,d,m){for(var y=0,b=0;b<d.length;b++)y+=C4("manhattan",d[b],l,m,"kMedoids");return y},"findCost"),i2e=a(function(l){var d=this.cy(),m=this.nodes(),y=null,b=oC(l),w=new Array(b.k),T={},S;b.testMode?typeof b.testCentroids=="number"?(b.testCentroids,S=lC(m,b.k,b.attributes)):e(b.testCentroids)==="object"?S=b.testCentroids:S=lC(m,b.k,b.attributes):S=lC(m,b.k,b.attributes);for(var C=!0,A=0;C&&A<b.maxIterations;){for(var R=0;R<m.length;R++)y=m[R],T[y.id()]=xF(y,S,b.distance,b.attributes,"kMeans");C=!1;for(var $=0;$<b.k;$++){var U=bF($,m,T);if(U.length!==0){for(var q=b.attributes.length,ne=S[$],ee=new Array(q),K=new Array(q),se=0;se<q;se++){K[se]=0;for(var oe=0;oe<U.length;oe++)y=U[oe],K[se]+=b.attributes[se](y);ee[se]=K[se]/U.length,t2e(ee[se],ne[se],b.sensitivityThreshold)||(C=!0)}S[$]=ee,w[$]=d.collection(U)}}A++}return w},"kMeans"),a2e=a(function(l){var d=this.cy(),m=this.nodes(),y=null,b=oC(l),w=new Array(b.k),T,S={},C,A=new Array(b.k);b.testMode?typeof b.testCentroids=="number"||(e(b.testCentroids)==="object"?T=b.testCentroids:T=kF(m,b.k)):T=kF(m,b.k);for(var R=!0,$=0;R&&$<b.maxIterations;){for(var U=0;U<m.length;U++)y=m[U],S[y.id()]=xF(y,T,b.distance,b.attributes,"kMedoids");R=!1;for(var q=0;q<T.length;q++){var ne=bF(q,m,S);if(ne.length!==0){A[q]=wF(T[q],ne,b.attributes);for(var ee=0;ee<ne.length;ee++)C=wF(ne[ee],ne,b.attributes),C<A[q]&&(A[q]=C,T[q]=ne[ee],R=!0);w[q]=d.collection(ne)}}$++}return w},"kMedoids"),s2e=a(function(l,d,m,y,b){for(var w,T,S=0;S<d.length;S++)for(var C=0;C<l.length;C++)y[S][C]=Math.pow(m[S][C],b.m);for(var A=0;A<l.length;A++)for(var R=0;R<b.attributes.length;R++){w=0,T=0;for(var $=0;$<d.length;$++)w+=y[$][A]*b.attributes[R](d[$]),T+=y[$][A];l[A][R]=w/T}},"updateCentroids"),o2e=a(function(l,d,m,y,b){for(var w=0;w<l.length;w++)d[w]=l[w].slice();for(var T,S,C,A=2/(b.m-1),R=0;R<m.length;R++)for(var $=0;$<y.length;$++){T=0;for(var U=0;U<m.length;U++)S=C4(b.distance,y[$],m[R],b.attributes,"cmeans"),C=C4(b.distance,y[$],m[U],b.attributes,"cmeans"),T+=Math.pow(S/C,A);l[$][R]=1/T}},"updateMembership"),l2e=a(function(l,d,m,y){for(var b=new Array(m.k),w=0;w<b.length;w++)b[w]=[];for(var T,S,C=0;C<d.length;C++){T=-1/0,S=-1;for(var A=0;A<d[0].length;A++)d[C][A]>T&&(T=d[C][A],S=A);b[S].push(l[C])}for(var R=0;R<b.length;R++)b[R]=y.collection(b[R]);return b},"assign"),TF=a(function(l){var d=this.cy(),m=this.nodes(),y=oC(l),b,w,T,S,C;S=new Array(m.length);for(var A=0;A<m.length;A++)S[A]=new Array(y.k);T=new Array(m.length);for(var R=0;R<m.length;R++)T[R]=new Array(y.k);for(var $=0;$<m.length;$++){for(var U=0,q=0;q<y.k;q++)T[$][q]=Math.random(),U+=T[$][q];for(var ne=0;ne<y.k;ne++)T[$][ne]=T[$][ne]/U}w=new Array(y.k);for(var ee=0;ee<y.k;ee++)w[ee]=new Array(y.attributes.length);C=new Array(m.length);for(var K=0;K<m.length;K++)C[K]=new Array(y.k);for(var se=!0,oe=0;se&&oe<y.maxIterations;)se=!1,s2e(w,m,T,C,y),o2e(T,S,w,m,y),r2e(T,S,y.sensitivityThreshold)||(se=!0),oe++;return b=l2e(m,T,y,d),{clusters:b,degreeOfMembership:T}},"fuzzyCMeans"),u2e={kMeans:i2e,kMedoids:a2e,fuzzyCMeans:TF,fcm:TF},c2e=Sa({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),h2e={single:"min",complete:"max"},f2e=a(function(l){var d=c2e(l),m=h2e[d.linkage];return m!=null&&(d.linkage=m),d},"setOptions"),EF=a(function(l,d,m,y,b){for(var w=0,T=1/0,S,C=b.attributes,A=a(function(me,Ce){return E4(b.distance,C.length,function(Se){return C[Se](me)},function(Se){return C[Se](Ce)},me,Ce)},"getDist"),R=0;R<l.length;R++){var $=l[R].key,U=m[$][y[$]];U<T&&(w=$,T=U)}if(b.mode==="threshold"&&T>=b.threshold||b.mode==="dendrogram"&&l.length===1)return!1;var q=d[w],ne=d[y[w]],ee;b.mode==="dendrogram"?ee={left:q,right:ne,key:q.key}:ee={value:q.value.concat(ne.value),key:q.key},l[q.index]=ee,l.splice(ne.index,1),d[q.key]=ee;for(var K=0;K<l.length;K++){var se=l[K];q.key===se.key?S=1/0:b.linkage==="min"?(S=m[q.key][se.key],m[q.key][se.key]>m[ne.key][se.key]&&(S=m[ne.key][se.key])):b.linkage==="max"?(S=m[q.key][se.key],m[q.key][se.key]<m[ne.key][se.key]&&(S=m[ne.key][se.key])):b.linkage==="mean"?S=(m[q.key][se.key]*q.size+m[ne.key][se.key]*ne.size)/(q.size+ne.size):b.mode==="dendrogram"?S=A(se.value,q.value):S=A(se.value[0],q.value[0]),m[q.key][se.key]=m[se.key][q.key]=S}for(var oe=0;oe<l.length;oe++){var fe=l[oe].key;if(y[fe]===q.key||y[fe]===ne.key){for(var be=fe,ye=0;ye<l.length;ye++){var de=l[ye].key;m[fe][de]<m[fe][be]&&(be=de)}y[fe]=be}l[oe].index=oe}return q.key=ne.key=q.index=ne.index=null,!0},"mergeClosest"),S4=a(function f(l,d,m){l&&(l.value?d.push(l.value):(l.left&&f(l.left,d),l.right&&f(l.right,d)))},"getAllChildren"),d2e=a(function f(l,d){if(!l)return"";if(l.left&&l.right){var m=f(l.left,d),y=f(l.right,d),b=d.add({group:"nodes",data:{id:m+","+y}});return d.add({group:"edges",data:{source:m,target:b.id()}}),d.add({group:"edges",data:{source:y,target:b.id()}}),b.id()}else if(l.value)return l.value.id()},"buildDendrogram"),p2e=a(function f(l,d,m){if(!l)return[];var y=[],b=[],w=[];return d===0?(l.left&&S4(l.left,y),l.right&&S4(l.right,b),w=y.concat(b),[m.collection(w)]):d===1?l.value?[m.collection(l.value)]:(l.left&&S4(l.left,y),l.right&&S4(l.right,b),[m.collection(y),m.collection(b)]):l.value?[m.collection(l.value)]:(l.left&&(y=f(l.left,d-1,m)),l.right&&(b=f(l.right,d-1,m)),y.concat(b))},"buildClustersFromTree"),CF=a(function(l){for(var d=this.cy(),m=this.nodes(),y=f2e(l),b=y.attributes,w=a(function(oe,fe){return E4(y.distance,b.length,function(be){return b[be](oe)},function(be){return b[be](fe)},oe,fe)},"getDist"),T=[],S=[],C=[],A=[],R=0;R<m.length;R++){var $={value:y.mode==="dendrogram"?m[R]:[m[R]],key:R,index:R};T[R]=$,A[R]=$,S[R]=[],C[R]=0}for(var U=0;U<T.length;U++)for(var q=0;q<=U;q++){var ne=void 0;y.mode==="dendrogram"?ne=U===q?1/0:w(T[U].value,T[q].value):ne=U===q?1/0:w(T[U].value[0],T[q].value[0]),S[U][q]=ne,S[q][U]=ne,ne<S[U][C[U]]&&(C[U]=q)}for(var ee=EF(T,A,S,C,y);ee;)ee=EF(T,A,S,C,y);var K;return y.mode==="dendrogram"?(K=p2e(T[0],y.dendrogramDepth,d),y.addDendrogram&&d2e(T[0],d)):(K=new Array(T.length),T.forEach(function(se,oe){se.key=se.index=null,K[oe]=d.collection(se.value)})),K},"hierarchicalClustering"),m2e={hierarchicalClustering:CF,hca:CF},g2e=Sa({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),y2e=a(function(l){var d=l.damping,m=l.preference;.5<=d&&d<1||Mn("Damping must range on [0.5, 1).  Got: ".concat(d));var y=["median","mean","min","max"];return y.some(function(b){return b===m})||z(m)||Mn("Preference must be one of [".concat(y.map(function(b){return"'".concat(b,"'")}).join(", "),"] or a number.  Got: ").concat(m)),g2e(l)},"setOptions"),v2e=a(function(l,d,m,y){var b=a(function(T,S){return y[S](T)},"attr");return-E4(l,y.length,function(w){return b(d,w)},function(w){return b(m,w)},d,m)},"getSimilarity"),x2e=a(function(l,d){var m=null;return d==="median"?m=yve(l):d==="mean"?m=gve(l):d==="min"?m=pve(l):d==="max"?m=mve(l):m=d,m},"getPreference"),b2e=a(function(l,d,m){for(var y=[],b=0;b<l;b++)d[b*l+b]+m[b*l+b]>0&&y.push(b);return y},"findExemplars"),SF=a(function(l,d,m){for(var y=[],b=0;b<l;b++){for(var w=-1,T=-1/0,S=0;S<m.length;S++){var C=m[S];d[b*l+C]>T&&(w=C,T=d[b*l+C])}w>0&&y.push(w)}for(var A=0;A<m.length;A++)y[m[A]]=m[A];return y},"assignClusters"),k2e=a(function(l,d,m){for(var y=SF(l,d,m),b=0;b<m.length;b++){for(var w=[],T=0;T<y.length;T++)y[T]===m[b]&&w.push(T);for(var S=-1,C=-1/0,A=0;A<w.length;A++){for(var R=0,$=0;$<w.length;$++)R+=d[w[$]*l+w[A]];R>C&&(S=A,C=R)}m[b]=w[S]}return y=SF(l,d,m),y},"assign"),_F=a(function(l){for(var d=this.cy(),m=this.nodes(),y=y2e(l),b={},w=0;w<m.length;w++)b[m[w].id()]=w;var T,S,C,A,R,$;T=m.length,S=T*T,C=new Array(S);for(var U=0;U<S;U++)C[U]=-1/0;for(var q=0;q<T;q++)for(var ne=0;ne<T;ne++)q!==ne&&(C[q*T+ne]=v2e(y.distance,m[q],m[ne],y.attributes));A=x2e(C,y.preference);for(var ee=0;ee<T;ee++)C[ee*T+ee]=A;R=new Array(S);for(var K=0;K<S;K++)R[K]=0;$=new Array(S);for(var se=0;se<S;se++)$[se]=0;for(var oe=new Array(T),fe=new Array(T),be=new Array(T),ye=0;ye<T;ye++)oe[ye]=0,fe[ye]=0,be[ye]=0;for(var de=new Array(T*y.minIterations),ke=0;ke<de.length;ke++)de[ke]=0;var me;for(me=0;me<y.maxIterations;me++){for(var Ce=0;Ce<T;Ce++){for(var Se=-1/0,xe=-1/0,Ve=-1,Te=0,tt=0;tt<T;tt++)oe[tt]=R[Ce*T+tt],Te=$[Ce*T+tt]+C[Ce*T+tt],Te>=Se?(xe=Se,Se=Te,Ve=tt):Te>xe&&(xe=Te);for(var We=0;We<T;We++)R[Ce*T+We]=(1-y.damping)*(C[Ce*T+We]-Se)+y.damping*oe[We];R[Ce*T+Ve]=(1-y.damping)*(C[Ce*T+Ve]-xe)+y.damping*oe[Ve]}for(var qe=0;qe<T;qe++){for(var nt=0,dt=0;dt<T;dt++)oe[dt]=$[dt*T+qe],fe[dt]=Math.max(0,R[dt*T+qe]),nt+=fe[dt];nt-=fe[qe],fe[qe]=R[qe*T+qe],nt+=fe[qe];for(var wt=0;wt<T;wt++)$[wt*T+qe]=(1-y.damping)*Math.min(0,nt-fe[wt])+y.damping*oe[wt];$[qe*T+qe]=(1-y.damping)*(nt-fe[qe])+y.damping*oe[qe]}for(var it=0,xt=0;xt<T;xt++){var Et=$[xt*T+xt]+R[xt*T+xt]>0?1:0;de[me%y.minIterations*T+xt]=Et,it+=Et}if(it>0&&(me>=y.minIterations-1||me==y.maxIterations-1)){for(var Dt=0,St=0;St<T;St++){be[St]=0;for(var Rt=0;Rt<y.minIterations;Rt++)be[St]+=de[Rt*T+St];(be[St]===0||be[St]===y.minIterations)&&Dt++}if(Dt===T)break}}for(var ht=b2e(T,R,$),_t=k2e(T,C,ht),Ot={},Mt=0;Mt<ht.length;Mt++)Ot[ht[Mt]]=[];for(var Wt=0;Wt<m.length;Wt++){var mr=b[m[Wt].id()],Ur=_t[mr];Ur!=null&&Ot[Ur].push(m[Wt])}for(var Qt=new Array(ht.length),Zt=0;Zt<ht.length;Zt++)Qt[Zt]=d.collection(Ot[ht[Zt]]);return Qt},"affinityPropagation"),w2e={affinityPropagation:_F,ap:_F},T2e=Sa({root:void 0,directed:!1}),E2e={hierholzer:a(function(l){if(!O(l)){var d=arguments;l={root:d[0],directed:d[1]}}var m=T2e(l),y=m.root,b=m.directed,w=this,T=!1,S,C,A;y&&(A=P(y)?this.filter(y)[0].id():y[0].id());var R={},$={};b?w.forEach(function(se){var oe=se.id();if(se.isNode()){var fe=se.indegree(!0),be=se.outdegree(!0),ye=fe-be,de=be-fe;ye==1?S?T=!0:S=oe:de==1?C?T=!0:C=oe:(de>1||ye>1)&&(T=!0),R[oe]=[],se.outgoers().forEach(function(ke){ke.isEdge()&&R[oe].push(ke.id())})}else $[oe]=[void 0,se.target().id()]}):w.forEach(function(se){var oe=se.id();if(se.isNode()){var fe=se.degree(!0);fe%2&&(S?C?T=!0:C=oe:S=oe),R[oe]=[],se.connectedEdges().forEach(function(be){return R[oe].push(be.id())})}else $[oe]=[se.source().id(),se.target().id()]});var U={found:!1,trail:void 0};if(T)return U;if(C&&S)if(b){if(A&&C!=A)return U;A=C}else{if(A&&C!=A&&S!=A)return U;A||(A=C)}else A||(A=w[0].id());var q=a(function(oe){for(var fe=oe,be=[oe],ye,de,ke;R[fe].length;)ye=R[fe].shift(),de=$[ye][0],ke=$[ye][1],fe!=ke?(R[ke]=R[ke].filter(function(me){return me!=ye}),fe=ke):!b&&fe!=de&&(R[de]=R[de].filter(function(me){return me!=ye}),fe=de),be.unshift(ye),be.unshift(fe);return be},"walk"),ne=[],ee=[];for(ee=q(A);ee.length!=1;)R[ee[0]].length==0?(ne.unshift(w.getElementById(ee.shift())),ne.unshift(w.getElementById(ee.shift()))):ee=q(ee.shift()).concat(ee);ne.unshift(w.getElementById(ee.shift()));for(var K in R)if(R[K].length)return U;return U.found=!0,U.trail=this.spawn(ne,!0),U},"hierholzer")},_4=a(function(){var l=this,d={},m=0,y=0,b=[],w=[],T={},S=a(function($,U){for(var q=w.length-1,ne=[],ee=l.spawn();w[q].x!=$||w[q].y!=U;)ne.push(w.pop().edge),q--;ne.push(w.pop().edge),ne.forEach(function(K){var se=K.connectedNodes().intersection(l);ee.merge(K),se.forEach(function(oe){var fe=oe.id(),be=oe.connectedEdges().intersection(l);ee.merge(oe),d[fe].cutVertex?ee.merge(be.filter(function(ye){return ye.isLoop()})):ee.merge(be)})}),b.push(ee)},"buildComponent"),C=a(function R($,U,q){$===q&&(y+=1),d[U]={id:m,low:m++,cutVertex:!1};var ne=l.getElementById(U).connectedEdges().intersection(l);if(ne.size()===0)b.push(l.spawn(l.getElementById(U)));else{var ee,K,se,oe;ne.forEach(function(fe){ee=fe.source().id(),K=fe.target().id(),se=ee===U?K:ee,se!==q&&(oe=fe.id(),T[oe]||(T[oe]=!0,w.push({x:U,y:se,edge:fe})),se in d?d[U].low=Math.min(d[U].low,d[se].id):(R($,se,U),d[U].low=Math.min(d[U].low,d[se].low),d[U].id<=d[se].low&&(d[U].cutVertex=!0,S(U,se))))})}},"biconnectedSearch");l.forEach(function(R){if(R.isNode()){var $=R.id();$ in d||(y=0,C($,$),d[$].cutVertex=y>1)}});var A=Object.keys(d).filter(function(R){return d[R].cutVertex}).map(function(R){return l.getElementById(R)});return{cut:l.spawn(A),components:b}},"hopcroftTarjanBiconnected"),C2e={hopcroftTarjanBiconnected:_4,htbc:_4,htb:_4,hopcroftTarjanBiconnectedComponents:_4},A4=a(function(){var l=this,d={},m=0,y=[],b=[],w=l.spawn(l),T=a(function S(C){b.push(C),d[C]={index:m,low:m++,explored:!1};var A=l.getElementById(C).connectedEdges().intersection(l);if(A.forEach(function(ne){var ee=ne.target().id();ee!==C&&(ee in d||S(ee),d[ee].explored||(d[C].low=Math.min(d[C].low,d[ee].low)))}),d[C].index===d[C].low){for(var R=l.spawn();;){var $=b.pop();if(R.merge(l.getElementById($)),d[$].low=d[C].index,d[$].explored=!0,$===C)break}var U=R.edgesWith(R),q=R.merge(U);y.push(q),w=w.difference(q)}},"stronglyConnectedSearch");return l.forEach(function(S){if(S.isNode()){var C=S.id();C in d||T(C)}}),{cut:w,components:y}},"tarjanStronglyConnected"),S2e={tarjanStronglyConnected:A4,tsc:A4,tscc:A4,tarjanStronglyConnectedComponents:A4},AF={};[Kr,Ws,s0,m4,ove,uve,fve,Bve,vm,xm,sC,Kve,u2e,m2e,w2e,E2e,C2e,S2e].forEach(function(f){pe(AF,f)});var LF=0,DF=1,RF=2,Eh=a(function f(l){if(!(this instanceof f))return new f(l);this.id="Thenable/1.0.7",this.state=LF,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof l=="function"&&l.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api");Eh.prototype={fulfill:a(function(l){return IF(this,DF,"fulfillValue",l)},"fulfill"),reject:a(function(l){return IF(this,RF,"rejectReason",l)},"reject"),then:a(function(l,d){var m=this,y=new Eh;return m.onFulfilled.push(OF(l,y,"fulfill")),m.onRejected.push(OF(d,y,"reject")),MF(m),y.proxy},"then")};var IF=a(function(l,d,m,y){return l.state===LF&&(l.state=d,l[m]=y,MF(l)),l},"deliver"),MF=a(function(l){l.state===DF?NF(l,"onFulfilled",l.fulfillValue):l.state===RF&&NF(l,"onRejected",l.rejectReason)},"execute"),NF=a(function(l,d,m){if(l[d].length!==0){var y=l[d];l[d]=[];var b=a(function(){for(var T=0;T<y.length;T++)y[T](m)},"func");typeof setImmediate=="function"?setImmediate(b):setTimeout(b,0)}},"execute_handlers"),OF=a(function(l,d,m){return function(y){if(typeof l!="function")d[m].call(d,y);else{var b;try{b=l(y)}catch(w){d.reject(w);return}_2e(d,b)}}},"resolver"),_2e=a(function f(l,d){if(l===d||l.proxy===d){l.reject(new TypeError("cannot resolve promise with itself"));return}var m;if(e(d)==="object"&&d!==null||typeof d=="function")try{m=d.then}catch(b){l.reject(b);return}if(typeof m=="function"){var y=!1;try{m.call(d,function(b){y||(y=!0,b===d?l.reject(new TypeError("circular thenable chain")):f(l,b))},function(b){y||(y=!0,l.reject(b))})}catch(b){y||l.reject(b)}return}l.fulfill(d)},"resolve");Eh.all=function(f){return new Eh(function(l,d){for(var m=new Array(f.length),y=0,b=a(function(S,C){m[S]=C,y++,y===f.length&&l(m)},"fulfill"),w=0;w<f.length;w++)(function(T){var S=f[T],C=S!=null&&S.then!=null;if(C)S.then(function(R){b(T,R)},function(R){d(R)});else{var A=S;b(T,A)}})(w)})},Eh.resolve=function(f){return new Eh(function(l,d){l(f)})},Eh.reject=function(f){return new Eh(function(l,d){d(f)})};var km=typeof Promise<"u"?Promise:Eh,uC=a(function(l,d,m){var y=B(l),b=!y,w=this._private=pe({duration:1e3},d,m);if(w.target=l,w.style=w.style||w.css,w.started=!1,w.playing=!1,w.hooked=!1,w.applying=!1,w.progress=0,w.completes=[],w.frames=[],w.complete&&V(w.complete)&&w.completes.push(w.complete),b){var T=l.position();w.startPosition=w.startPosition||{x:T.x,y:T.y},w.startStyle=w.startStyle||l.cy().style().getAnimationStartStyle(l,w.style)}if(y){var S=l.pan();w.startPan={x:S.x,y:S.y},w.startZoom=l.zoom()}this.length=1,this[0]=this},"Animation"),c0=uC.prototype;pe(c0,{instanceString:a(function(){return"animation"},"instanceString"),hook:a(function(){var l=this._private;if(!l.hooked){var d,m=l.target._private.animation;l.queue?d=m.queue:d=m.current,d.push(this),j(l.target)&&l.target.cy().addToAnimationPool(l.target),l.hooked=!0}return this},"hook"),play:a(function(){var l=this._private;return l.progress===1&&(l.progress=0),l.playing=!0,l.started=!1,l.stopped=!1,this.hook(),this},"play"),playing:a(function(){return this._private.playing},"playing"),apply:a(function(){var l=this._private;return l.applying=!0,l.started=!1,l.stopped=!1,this.hook(),this},"apply"),applying:a(function(){return this._private.applying},"applying"),pause:a(function(){var l=this._private;return l.playing=!1,l.started=!1,this},"pause"),stop:a(function(){var l=this._private;return l.playing=!1,l.started=!1,l.stopped=!0,this},"stop"),rewind:a(function(){return this.progress(0)},"rewind"),fastforward:a(function(){return this.progress(1)},"fastforward"),time:a(function(l){var d=this._private;return l===void 0?d.progress*d.duration:this.progress(l/d.duration)},"time"),progress:a(function(l){var d=this._private,m=d.playing;return l===void 0?d.progress:(m&&this.pause(),d.progress=l,d.started=!1,m&&this.play(),this)},"progress"),completed:a(function(){return this._private.progress===1},"completed"),reverse:a(function(){var l=this._private,d=l.playing;d&&this.pause(),l.progress=1-l.progress,l.started=!1;var m=a(function(C,A){var R=l[C];R!=null&&(l[C]=l[A],l[A]=R)},"swap");if(m("zoom","startZoom"),m("pan","startPan"),m("position","startPosition"),l.style)for(var y=0;y<l.style.length;y++){var b=l.style[y],w=b.name,T=l.startStyle[w];l.startStyle[w]=b,l.style[y]=T}return d&&this.play(),this},"reverse"),promise:a(function(l){var d=this._private,m;switch(l){case"frame":m=d.frames;break;default:case"complete":case"completed":m=d.completes}return new km(function(y,b){m.push(function(){y()})})},"promise")}),c0.complete=c0.completed,c0.run=c0.play,c0.running=c0.playing;var A2e={animated:a(function(){return a(function(){var d=this,m=d.length!==void 0,y=m?d:[d],b=this._private.cy||this;if(!b.styleEnabled())return!1;var w=y[0];if(w)return w._private.animation.current.length>0},"animatedImpl")},"animated"),clearQueue:a(function(){return a(function(){var d=this,m=d.length!==void 0,y=m?d:[d],b=this._private.cy||this;if(!b.styleEnabled())return this;for(var w=0;w<y.length;w++){var T=y[w];T._private.animation.queue=[]}return this},"clearQueueImpl")},"clearQueue"),delay:a(function(){return a(function(d,m){var y=this._private.cy||this;return y.styleEnabled()?this.animate({delay:d,duration:d,complete:m}):this},"delayImpl")},"delay"),delayAnimation:a(function(){return a(function(d,m){var y=this._private.cy||this;return y.styleEnabled()?this.animation({delay:d,duration:d,complete:m}):this},"delayAnimationImpl")},"delayAnimation"),animation:a(function(){return a(function(d,m){var y=this,b=y.length!==void 0,w=b?y:[y],T=this._private.cy||this,S=!b,C=!S;if(!T.styleEnabled())return this;var A=T.style();d=pe({},d,m);var R=Object.keys(d).length===0;if(R)return new uC(w[0],d);switch(d.duration===void 0&&(d.duration=400),d.duration){case"slow":d.duration=600;break;case"fast":d.duration=200;break}if(C&&(d.style=A.getPropsList(d.style||d.css),d.css=void 0),C&&d.renderedPosition!=null){var $=d.renderedPosition,U=T.pan(),q=T.zoom();d.position=iF($,q,U)}if(S&&d.panBy!=null){var ne=d.panBy,ee=T.pan();d.pan={x:ee.x+ne.x,y:ee.y+ne.y}}var K=d.center||d.centre;if(S&&K!=null){var se=T.getCenterPan(K.eles,d.zoom);se!=null&&(d.pan=se)}if(S&&d.fit!=null){var oe=d.fit,fe=T.getFitViewport(oe.eles||oe.boundingBox,oe.padding);fe!=null&&(d.pan=fe.pan,d.zoom=fe.zoom)}if(S&&O(d.zoom)){var be=T.getZoomedViewport(d.zoom);be!=null?(be.zoomed&&(d.zoom=be.zoom),be.panned&&(d.pan=be.pan)):d.zoom=null}return new uC(w[0],d)},"animationImpl")},"animation"),animate:a(function(){return a(function(d,m){var y=this,b=y.length!==void 0,w=b?y:[y],T=this._private.cy||this;if(!T.styleEnabled())return this;m&&(d=pe({},d,m));for(var S=0;S<w.length;S++){var C=w[S],A=C.animated()&&(d.queue===void 0||d.queue),R=C.animation(d,A?{queue:!0}:void 0);R.play()}return this},"animateImpl")},"animate"),stop:a(function(){return a(function(d,m){var y=this,b=y.length!==void 0,w=b?y:[y],T=this._private.cy||this;if(!T.styleEnabled())return this;for(var S=0;S<w.length;S++){for(var C=w[S],A=C._private,R=A.animation.current,$=0;$<R.length;$++){var U=R[$],q=U._private;m&&(q.duration=0)}d&&(A.animation.queue=[]),m||(A.animation.current=[])}return T.notify("draw"),this},"stopImpl")},"stop")},L2e=Array.isArray,L4=L2e,D2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R2e=/^\w*$/;function I2e(f,l){if(L4(f))return!1;var d=typeof f;return d=="number"||d=="symbol"||d=="boolean"||f==null||ii(f)?!0:R2e.test(f)||!D2e.test(f)||l!=null&&f in Object(l)}a(I2e,"isKey");var M2e=I2e,N2e="[object AsyncFunction]",O2e="[object Function]",P2e="[object GeneratorFunction]",B2e="[object Proxy]";function F2e(f){if(!De(f))return!1;var l=ln(f);return l==O2e||l==P2e||l==N2e||l==B2e}a(F2e,"isFunction");var z2e=F2e,$2e=Br["__core-js_shared__"],cC=$2e,PF=function(){var f=/[^.]+$/.exec(cC&&cC.keys&&cC.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}();function G2e(f){return!!PF&&PF in f}a(G2e,"isMasked");var V2e=G2e,q2e=Function.prototype,U2e=q2e.toString;function H2e(f){if(f!=null){try{return U2e.call(f)}catch{}try{return f+""}catch{}}return""}a(H2e,"toSource");var W2e=H2e,Y2e=/[\\^$.*+?()[\]{}|]/g,X2e=/^\[object .+?Constructor\]$/,j2e=Function.prototype,K2e=Object.prototype,Q2e=j2e.toString,Z2e=K2e.hasOwnProperty,J2e=RegExp("^"+Q2e.call(Z2e).replace(Y2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function exe(f){if(!De(f)||V2e(f))return!1;var l=z2e(f)?J2e:X2e;return l.test(W2e(f))}a(exe,"baseIsNative");var txe=exe;function rxe(f,l){return f?.[l]}a(rxe,"getValue$1");var nxe=rxe;function ixe(f,l){var d=nxe(f,l);return txe(d)?d:void 0}a(ixe,"getNative");var hC=ixe,axe=hC(Object,"create"),zy=axe;function sxe(){this.__data__=zy?zy(null):{},this.size=0}a(sxe,"hashClear");var oxe=sxe;function lxe(f){var l=this.has(f)&&delete this.__data__[f];return this.size-=l?1:0,l}a(lxe,"hashDelete");var uxe=lxe,cxe="__lodash_hash_undefined__",hxe=Object.prototype,fxe=hxe.hasOwnProperty;function dxe(f){var l=this.__data__;if(zy){var d=l[f];return d===cxe?void 0:d}return fxe.call(l,f)?l[f]:void 0}a(dxe,"hashGet");var pxe=dxe,mxe=Object.prototype,gxe=mxe.hasOwnProperty;function yxe(f){var l=this.__data__;return zy?l[f]!==void 0:gxe.call(l,f)}a(yxe,"hashHas");var vxe=yxe,xxe="__lodash_hash_undefined__";function bxe(f,l){var d=this.__data__;return this.size+=this.has(f)?0:1,d[f]=zy&&l===void 0?xxe:l,this}a(bxe,"hashSet");var kxe=bxe;function wm(f){var l=-1,d=f==null?0:f.length;for(this.clear();++l<d;){var m=f[l];this.set(m[0],m[1])}}a(wm,"Hash"),wm.prototype.clear=oxe,wm.prototype.delete=uxe,wm.prototype.get=pxe,wm.prototype.has=vxe,wm.prototype.set=kxe;var BF=wm;function wxe(){this.__data__=[],this.size=0}a(wxe,"listCacheClear");var Txe=wxe;function Exe(f,l){return f===l||f!==f&&l!==l}a(Exe,"eq");var FF=Exe;function Cxe(f,l){for(var d=f.length;d--;)if(FF(f[d][0],l))return d;return-1}a(Cxe,"assocIndexOf");var D4=Cxe,Sxe=Array.prototype,_xe=Sxe.splice;function Axe(f){var l=this.__data__,d=D4(l,f);if(d<0)return!1;var m=l.length-1;return d==m?l.pop():_xe.call(l,d,1),--this.size,!0}a(Axe,"listCacheDelete");var Lxe=Axe;function Dxe(f){var l=this.__data__,d=D4(l,f);return d<0?void 0:l[d][1]}a(Dxe,"listCacheGet");var Rxe=Dxe;function Ixe(f){return D4(this.__data__,f)>-1}a(Ixe,"listCacheHas");var Mxe=Ixe;function Nxe(f,l){var d=this.__data__,m=D4(d,f);return m<0?(++this.size,d.push([f,l])):d[m][1]=l,this}a(Nxe,"listCacheSet");var Oxe=Nxe;function Tm(f){var l=-1,d=f==null?0:f.length;for(this.clear();++l<d;){var m=f[l];this.set(m[0],m[1])}}a(Tm,"ListCache"),Tm.prototype.clear=Txe,Tm.prototype.delete=Lxe,Tm.prototype.get=Rxe,Tm.prototype.has=Mxe,Tm.prototype.set=Oxe;var Pxe=Tm,Bxe=hC(Br,"Map"),Fxe=Bxe;function zxe(){this.size=0,this.__data__={hash:new BF,map:new(Fxe||Pxe),string:new BF}}a(zxe,"mapCacheClear");var $xe=zxe;function Gxe(f){var l=typeof f;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?f!=="__proto__":f===null}a(Gxe,"isKeyable");var Vxe=Gxe;function qxe(f,l){var d=f.__data__;return Vxe(l)?d[typeof l=="string"?"string":"hash"]:d.map}a(qxe,"getMapData");var R4=qxe;function Uxe(f){var l=R4(this,f).delete(f);return this.size-=l?1:0,l}a(Uxe,"mapCacheDelete");var Hxe=Uxe;function Wxe(f){return R4(this,f).get(f)}a(Wxe,"mapCacheGet");var Yxe=Wxe;function Xxe(f){return R4(this,f).has(f)}a(Xxe,"mapCacheHas");var jxe=Xxe;function Kxe(f,l){var d=R4(this,f),m=d.size;return d.set(f,l),this.size+=d.size==m?0:1,this}a(Kxe,"mapCacheSet");var Qxe=Kxe;function Em(f){var l=-1,d=f==null?0:f.length;for(this.clear();++l<d;){var m=f[l];this.set(m[0],m[1])}}a(Em,"MapCache"),Em.prototype.clear=$xe,Em.prototype.delete=Hxe,Em.prototype.get=Yxe,Em.prototype.has=jxe,Em.prototype.set=Qxe;var zF=Em,Zxe="Expected a function";function fC(f,l){if(typeof f!="function"||l!=null&&typeof l!="function")throw new TypeError(Zxe);var d=a(function(){var m=arguments,y=l?l.apply(this,m):m[0],b=d.cache;if(b.has(y))return b.get(y);var w=f.apply(this,m);return d.cache=b.set(y,w)||b,w},"memoized");return d.cache=new(fC.Cache||zF),d}a(fC,"memoize"),fC.Cache=zF;var Jxe=fC,ebe=500;function tbe(f){var l=Jxe(f,function(m){return d.size===ebe&&d.clear(),m}),d=l.cache;return l}a(tbe,"memoizeCapped");var rbe=tbe,nbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ibe=/\\(\\)?/g,abe=rbe(function(f){var l=[];return f.charCodeAt(0)===46&&l.push(""),f.replace(nbe,function(d,m,y,b){l.push(y?b.replace(ibe,"$1"):m||d)}),l}),$F=abe;function sbe(f,l){for(var d=-1,m=f==null?0:f.length,y=Array(m);++d<m;)y[d]=l(f[d],d,f);return y}a(sbe,"arrayMap");var GF=sbe,obe=1/0,VF=pa?pa.prototype:void 0,qF=VF?VF.toString:void 0;function UF(f){if(typeof f=="string")return f;if(L4(f))return GF(f,UF)+"";if(ii(f))return qF?qF.call(f):"";var l=f+"";return l=="0"&&1/f==-obe?"-0":l}a(UF,"baseToString");var lbe=UF;function ube(f){return f==null?"":lbe(f)}a(ube,"toString$1");var HF=ube;function cbe(f,l){return L4(f)?f:M2e(f,l)?[f]:$F(HF(f))}a(cbe,"castPath");var WF=cbe,hbe=1/0;function fbe(f){if(typeof f=="string"||ii(f))return f;var l=f+"";return l=="0"&&1/f==-hbe?"-0":l}a(fbe,"toKey");var dC=fbe;function dbe(f,l){l=WF(l,f);for(var d=0,m=l.length;f!=null&&d<m;)f=f[dC(l[d++])];return d&&d==m?f:void 0}a(dbe,"baseGet");var pbe=dbe;function mbe(f,l,d){var m=f==null?void 0:pbe(f,l);return m===void 0?d:m}a(mbe,"get");var gbe=mbe,ybe=function(){try{var f=hC(Object,"defineProperty");return f({},"",{}),f}catch{}}(),YF=ybe;function vbe(f,l,d){l=="__proto__"&&YF?YF(f,l,{configurable:!0,enumerable:!0,value:d,writable:!0}):f[l]=d}a(vbe,"baseAssignValue");var xbe=vbe,bbe=Object.prototype,kbe=bbe.hasOwnProperty;function wbe(f,l,d){var m=f[l];(!(kbe.call(f,l)&&FF(m,d))||d===void 0&&!(l in f))&&xbe(f,l,d)}a(wbe,"assignValue");var Tbe=wbe,Ebe=9007199254740991,Cbe=/^(?:0|[1-9]\d*)$/;function Sbe(f,l){var d=typeof f;return l=l??Ebe,!!l&&(d=="number"||d!="symbol"&&Cbe.test(f))&&f>-1&&f%1==0&&f<l}a(Sbe,"isIndex");var _be=Sbe;function Abe(f,l,d,m){if(!De(f))return f;l=WF(l,f);for(var y=-1,b=l.length,w=b-1,T=f;T!=null&&++y<b;){var S=dC(l[y]),C=d;if(S==="__proto__"||S==="constructor"||S==="prototype")return f;if(y!=w){var A=T[S];C=m?m(A,S,T):void 0,C===void 0&&(C=De(A)?A:_be(l[y+1])?[]:{})}Tbe(T,S,C),T=T[S]}return f}a(Abe,"baseSet");var Lbe=Abe;function Dbe(f,l,d){return f==null?f:Lbe(f,l,d)}a(Dbe,"set");var Rbe=Dbe;function Ibe(f,l){var d=-1,m=f.length;for(l||(l=Array(m));++d<m;)l[d]=f[d];return l}a(Ibe,"copyArray");var Mbe=Ibe;function Nbe(f){return L4(f)?GF(f,dC):ii(f)?[f]:Mbe($F(HF(f)))}a(Nbe,"toPath");var Obe=Nbe,Pbe={data:a(function(l){var d={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:a(function(y){},"beforeGet"),beforeSet:a(function(y,b){},"beforeSet"),onSet:a(function(y){},"onSet"),canSet:a(function(y){return!0},"canSet")};return l=pe({},d,l),a(function(y,b){var w=l,T=this,S=T.length!==void 0,C=S?T:[T],A=S?T[0]:T;if(P(y)){var R=y.indexOf(".")!==-1,$=R&&Obe(y);if(w.allowGetting&&b===void 0){var U;return A&&(w.beforeGet(A),$&&A._private[w.field][y]===void 0?U=gbe(A._private[w.field],$):U=A._private[w.field][y]),U}else if(w.allowSetting&&b!==void 0){var q=!w.immutableKeys[y];if(q){var ne=i({},y,b);w.beforeSet(T,ne);for(var ee=0,K=C.length;ee<K;ee++){var se=C[ee];w.canSet(se)&&($&&A._private[w.field][y]===void 0?Rbe(se._private[w.field],$,b):se._private[w.field][y]=b)}w.updateStyle&&T.updateStyle(),w.onSet(T),w.settingTriggersEvent&&T[w.triggerFnName](w.settingEvent)}}}else if(w.allowSetting&&O(y)){var oe=y,fe,be,ye=Object.keys(oe);w.beforeSet(T,oe);for(var de=0;de<ye.length;de++){fe=ye[de],be=oe[fe];var ke=!w.immutableKeys[fe];if(ke)for(var me=0;me<C.length;me++){var Ce=C[me];w.canSet(Ce)&&(Ce._private[w.field][fe]=be)}}w.updateStyle&&T.updateStyle(),w.onSet(T),w.settingTriggersEvent&&T[w.triggerFnName](w.settingEvent)}else if(w.allowBinding&&V(y)){var Se=y;T.on(w.bindingEvent,Se)}else if(w.allowGetting&&y===void 0){var xe;return A&&(w.beforeGet(A),xe=A._private[w.field]),xe}return T},"dataImpl")},"data"),removeData:a(function(l){var d={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return l=pe({},d,l),a(function(y){var b=l,w=this,T=w.length!==void 0,S=T?w:[w];if(P(y)){for(var C=y.split(/\s+/),A=C.length,R=0;R<A;R++){var $=C[R];if(!J($)){var U=!b.immutableKeys[$];if(U)for(var q=0,ne=S.length;q<ne;q++)S[q]._private[b.field][$]=void 0}}b.triggerEvent&&w[b.triggerFnName](b.event)}else if(y===void 0){for(var ee=0,K=S.length;ee<K;ee++)for(var se=S[ee]._private[b.field],oe=Object.keys(se),fe=0;fe<oe.length;fe++){var be=oe[fe],ye=!b.immutableKeys[be];ye&&(se[be]=void 0)}b.triggerEvent&&w[b.triggerFnName](b.event)}return w},"removeDataImpl")},"removeData")},Bbe={eventAliasesOn:a(function(l){var d=l;d.addListener=d.listen=d.bind=d.on,d.unlisten=d.unbind=d.off=d.removeListener,d.trigger=d.emit,d.pon=d.promiseOn=function(m,y){var b=this,w=Array.prototype.slice.call(arguments,0);return new km(function(T,S){var C=a(function(U){b.off.apply(b,R),T(U)},"callback"),A=w.concat([C]),R=A.concat([]);b.on.apply(b,A)})}},"eventAliasesOn")},Jn={};[A2e,Pbe,Bbe].forEach(function(f){pe(Jn,f)});var Fbe={animate:Jn.animate(),animation:Jn.animation(),animated:Jn.animated(),clearQueue:Jn.clearQueue(),delay:Jn.delay(),delayAnimation:Jn.delayAnimation(),stop:Jn.stop()},I4={classes:a(function(l){var d=this;if(l===void 0){var m=[];return d[0]._private.classes.forEach(function(q){return m.push(q)}),m}else H(l)||(l=(l||"").match(/\S+/g)||[]);for(var y=[],b=new Ze(l),w=0;w<d.length;w++){for(var T=d[w],S=T._private,C=S.classes,A=!1,R=0;R<l.length;R++){var $=l[R],U=C.has($);if(!U){A=!0;break}}A||(A=C.size!==l.length),A&&(S.classes=b,y.push(T))}return y.length>0&&this.spawn(y).updateStyle().emit("class"),d},"classes"),addClass:a(function(l){return this.toggleClass(l,!0)},"addClass"),hasClass:a(function(l){var d=this[0];return d!=null&&d._private.classes.has(l)},"hasClass"),toggleClass:a(function(l,d){H(l)||(l=l.match(/\S+/g)||[]);for(var m=this,y=d===void 0,b=[],w=0,T=m.length;w<T;w++)for(var S=m[w],C=S._private.classes,A=!1,R=0;R<l.length;R++){var $=l[R],U=C.has($),q=!1;d||y&&!U?(C.add($),q=!0):(!d||y&&U)&&(C.delete($),q=!0),!A&&q&&(b.push(S),A=!0)}return b.length>0&&this.spawn(b).updateStyle().emit("class"),m},"toggleClass"),removeClass:a(function(l){return this.toggleClass(l,!1)},"removeClass"),flashClass:a(function(l,d){var m=this;if(d==null)d=250;else if(d===0)return m;return m.addClass(l),setTimeout(function(){m.removeClass(l)},d),m},"flashClass")};I4.className=I4.classNames=I4.classes;var zn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:$e,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};zn.variable="(?:[\\w-.]|(?:\\\\"+zn.metaChar+"))+",zn.className="(?:[\\w-]|(?:\\\\"+zn.metaChar+"))+",zn.value=zn.string+"|"+zn.number,zn.id=zn.variable,function(){var f,l,d;for(f=zn.comparatorOp.split("|"),d=0;d<f.length;d++)l=f[d],zn.comparatorOp+="|@"+l;for(f=zn.comparatorOp.split("|"),d=0;d<f.length;d++)l=f[d],!(l.indexOf("!")>=0)&&l!=="="&&(zn.comparatorOp+="|\\!"+l)}();var ci=a(function(){return{checks:[]}},"newQuery"),lr={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},pC=[{selector:":selected",matches:a(function(l){return l.selected()},"matches")},{selector:":unselected",matches:a(function(l){return!l.selected()},"matches")},{selector:":selectable",matches:a(function(l){return l.selectable()},"matches")},{selector:":unselectable",matches:a(function(l){return!l.selectable()},"matches")},{selector:":locked",matches:a(function(l){return l.locked()},"matches")},{selector:":unlocked",matches:a(function(l){return!l.locked()},"matches")},{selector:":visible",matches:a(function(l){return l.visible()},"matches")},{selector:":hidden",matches:a(function(l){return!l.visible()},"matches")},{selector:":transparent",matches:a(function(l){return l.transparent()},"matches")},{selector:":grabbed",matches:a(function(l){return l.grabbed()},"matches")},{selector:":free",matches:a(function(l){return!l.grabbed()},"matches")},{selector:":removed",matches:a(function(l){return l.removed()},"matches")},{selector:":inside",matches:a(function(l){return!l.removed()},"matches")},{selector:":grabbable",matches:a(function(l){return l.grabbable()},"matches")},{selector:":ungrabbable",matches:a(function(l){return!l.grabbable()},"matches")},{selector:":animated",matches:a(function(l){return l.animated()},"matches")},{selector:":unanimated",matches:a(function(l){return!l.animated()},"matches")},{selector:":parent",matches:a(function(l){return l.isParent()},"matches")},{selector:":childless",matches:a(function(l){return l.isChildless()},"matches")},{selector:":child",matches:a(function(l){return l.isChild()},"matches")},{selector:":orphan",matches:a(function(l){return l.isOrphan()},"matches")},{selector:":nonorphan",matches:a(function(l){return l.isChild()},"matches")},{selector:":compound",matches:a(function(l){return l.isNode()?l.isParent():l.source().isParent()||l.target().isParent()},"matches")},{selector:":loop",matches:a(function(l){return l.isLoop()},"matches")},{selector:":simple",matches:a(function(l){return l.isSimple()},"matches")},{selector:":active",matches:a(function(l){return l.active()},"matches")},{selector:":inactive",matches:a(function(l){return!l.active()},"matches")},{selector:":backgrounding",matches:a(function(l){return l.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:a(function(l){return!l.backgrounding()},"matches")}].sort(function(f,l){return at(f.selector,l.selector)}),zbe=function(){for(var f={},l,d=0;d<pC.length;d++)l=pC[d],f[l.selector]=l.matches;return f}(),$be=a(function(l,d){return zbe[l](d)},"stateSelectorMatches"),Gbe="("+pC.map(function(f){return f.selector}).join("|")+")",Cm=a(function(l){return l.replace(new RegExp("\\\\("+zn.metaChar+")","g"),function(d,m){return m})},"cleanMetaChars"),Nf=a(function(l,d,m){l[l.length-1]=m},"replaceLastQuery"),mC=[{name:"group",query:!0,regex:"("+zn.group+")",populate:a(function(l,d,m){var y=s(m,1),b=y[0];d.checks.push({type:lr.GROUP,value:b==="*"?b:b+"s"})},"populate")},{name:"state",query:!0,regex:Gbe,populate:a(function(l,d,m){var y=s(m,1),b=y[0];d.checks.push({type:lr.STATE,value:b})},"populate")},{name:"id",query:!0,regex:"\\#("+zn.id+")",populate:a(function(l,d,m){var y=s(m,1),b=y[0];d.checks.push({type:lr.ID,value:Cm(b)})},"populate")},{name:"className",query:!0,regex:"\\.("+zn.className+")",populate:a(function(l,d,m){var y=s(m,1),b=y[0];d.checks.push({type:lr.CLASS,value:Cm(b)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+zn.variable+")\\s*\\]",populate:a(function(l,d,m){var y=s(m,1),b=y[0];d.checks.push({type:lr.DATA_EXIST,field:Cm(b)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+zn.variable+")\\s*("+zn.comparatorOp+")\\s*("+zn.value+")\\s*\\]",populate:a(function(l,d,m){var y=s(m,3),b=y[0],w=y[1],T=y[2],S=new RegExp("^"+zn.string+"$").exec(T)!=null;S?T=T.substring(1,T.length-1):T=parseFloat(T),d.checks.push({type:lr.DATA_COMPARE,field:Cm(b),operator:w,value:T})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+zn.boolOp+")\\s*("+zn.variable+")\\s*\\]",populate:a(function(l,d,m){var y=s(m,2),b=y[0],w=y[1];d.checks.push({type:lr.DATA_BOOL,field:Cm(w),operator:b})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+zn.meta+")\\s*("+zn.comparatorOp+")\\s*("+zn.number+")\\s*\\]\\]",populate:a(function(l,d,m){var y=s(m,3),b=y[0],w=y[1],T=y[2];d.checks.push({type:lr.META_COMPARE,field:Cm(b),operator:w,value:parseFloat(T)})},"populate")},{name:"nextQuery",separator:!0,regex:zn.separator,populate:a(function(l,d){var m=l.currentSubject,y=l.edgeCount,b=l.compoundCount,w=l[l.length-1];m!=null&&(w.subject=m,l.currentSubject=null),w.edgeCount=y,w.compoundCount=b,l.edgeCount=0,l.compoundCount=0;var T=l[l.length++]=ci();return T},"populate")},{name:"directedEdge",separator:!0,regex:zn.directedEdge,populate:a(function(l,d){if(l.currentSubject==null){var m=ci(),y=d,b=ci();return m.checks.push({type:lr.DIRECTED_EDGE,source:y,target:b}),Nf(l,d,m),l.edgeCount++,b}else{var w=ci(),T=d,S=ci();return w.checks.push({type:lr.NODE_SOURCE,source:T,target:S}),Nf(l,d,w),l.edgeCount++,S}},"populate")},{name:"undirectedEdge",separator:!0,regex:zn.undirectedEdge,populate:a(function(l,d){if(l.currentSubject==null){var m=ci(),y=d,b=ci();return m.checks.push({type:lr.UNDIRECTED_EDGE,nodes:[y,b]}),Nf(l,d,m),l.edgeCount++,b}else{var w=ci(),T=d,S=ci();return w.checks.push({type:lr.NODE_NEIGHBOR,node:T,neighbor:S}),Nf(l,d,w),S}},"populate")},{name:"child",separator:!0,regex:zn.child,populate:a(function(l,d){if(l.currentSubject==null){var m=ci(),y=ci(),b=l[l.length-1];return m.checks.push({type:lr.CHILD,parent:b,child:y}),Nf(l,d,m),l.compoundCount++,y}else if(l.currentSubject===d){var w=ci(),T=l[l.length-1],S=ci(),C=ci(),A=ci(),R=ci();return w.checks.push({type:lr.COMPOUND_SPLIT,left:T,right:S,subject:C}),C.checks=d.checks,d.checks=[{type:lr.TRUE}],R.checks.push({type:lr.TRUE}),S.checks.push({type:lr.PARENT,parent:R,child:A}),Nf(l,T,w),l.currentSubject=C,l.compoundCount++,A}else{var $=ci(),U=ci(),q=[{type:lr.PARENT,parent:$,child:U}];return $.checks=d.checks,d.checks=q,l.compoundCount++,U}},"populate")},{name:"descendant",separator:!0,regex:zn.descendant,populate:a(function(l,d){if(l.currentSubject==null){var m=ci(),y=ci(),b=l[l.length-1];return m.checks.push({type:lr.DESCENDANT,ancestor:b,descendant:y}),Nf(l,d,m),l.compoundCount++,y}else if(l.currentSubject===d){var w=ci(),T=l[l.length-1],S=ci(),C=ci(),A=ci(),R=ci();return w.checks.push({type:lr.COMPOUND_SPLIT,left:T,right:S,subject:C}),C.checks=d.checks,d.checks=[{type:lr.TRUE}],R.checks.push({type:lr.TRUE}),S.checks.push({type:lr.ANCESTOR,ancestor:R,descendant:A}),Nf(l,T,w),l.currentSubject=C,l.compoundCount++,A}else{var $=ci(),U=ci(),q=[{type:lr.ANCESTOR,ancestor:$,descendant:U}];return $.checks=d.checks,d.checks=q,l.compoundCount++,U}},"populate")},{name:"subject",modifier:!0,regex:zn.subject,populate:a(function(l,d){if(l.currentSubject!=null&&l.currentSubject!==d)return An("Redefinition of subject in selector `"+l.toString()+"`"),!1;l.currentSubject=d;var m=l[l.length-1],y=m.checks[0],b=y==null?null:y.type;b===lr.DIRECTED_EDGE?y.type=lr.NODE_TARGET:b===lr.UNDIRECTED_EDGE&&(y.type=lr.NODE_NEIGHBOR,y.node=y.nodes[1],y.neighbor=y.nodes[0],y.nodes=null)},"populate")}];mC.forEach(function(f){return f.regexObj=new RegExp("^"+f.regex)});var Vbe=a(function(l){for(var d,m,y,b=0;b<mC.length;b++){var w=mC[b],T=w.name,S=l.match(w.regexObj);if(S!=null){m=S,d=w,y=T;var C=S[0];l=l.substring(C.length);break}}return{expr:d,match:m,name:y,remaining:l}},"consumeExpr"),qbe=a(function(l){var d=l.match(/^\s+/);if(d){var m=d[0];l=l.substring(m.length)}return l},"consumeWhitespace"),Ube=a(function(l){var d=this,m=d.inputText=l,y=d[0]=ci();for(d.length=1,m=qbe(m);;){var b=Vbe(m);if(b.expr==null)return An("The selector `"+l+"`is invalid"),!1;var w=b.match.slice(1),T=b.expr.populate(d,y,w);if(T===!1)return!1;if(T!=null&&(y=T),m=b.remaining,m.match(/^\s*$/))break}var S=d[d.length-1];d.currentSubject!=null&&(S.subject=d.currentSubject),S.edgeCount=d.edgeCount,S.compoundCount=d.compoundCount;for(var C=0;C<d.length;C++){var A=d[C];if(A.compoundCount>0&&A.edgeCount>0)return An("The selector `"+l+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(A.edgeCount>1)return An("The selector `"+l+"` is invalid because it uses multiple edge selectors"),!1;A.edgeCount===1&&An("The selector `"+l+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),Hbe=a(function(){if(this.toStringCache!=null)return this.toStringCache;for(var l=a(function(A){return A??""},"clean"),d=a(function(A){return P(A)?'"'+A+'"':l(A)},"cleanVal"),m=a(function(A){return" "+A+" "},"space"),y=a(function(A,R){var $=A.type,U=A.value;switch($){case lr.GROUP:{var q=l(U);return q.substring(0,q.length-1)}case lr.DATA_COMPARE:{var ne=A.field,ee=A.operator;return"["+ne+m(l(ee))+d(U)+"]"}case lr.DATA_BOOL:{var K=A.operator,se=A.field;return"["+l(K)+se+"]"}case lr.DATA_EXIST:{var oe=A.field;return"["+oe+"]"}case lr.META_COMPARE:{var fe=A.operator,be=A.field;return"[["+be+m(l(fe))+d(U)+"]]"}case lr.STATE:return U;case lr.ID:return"#"+U;case lr.CLASS:return"."+U;case lr.PARENT:case lr.CHILD:return b(A.parent,R)+m(">")+b(A.child,R);case lr.ANCESTOR:case lr.DESCENDANT:return b(A.ancestor,R)+" "+b(A.descendant,R);case lr.COMPOUND_SPLIT:{var ye=b(A.left,R),de=b(A.subject,R),ke=b(A.right,R);return ye+(ye.length>0?" ":"")+de+ke}case lr.TRUE:return""}},"checkToString"),b=a(function(A,R){return A.checks.reduce(function($,U,q){return $+(R===A&&q===0?"$":"")+y(U,R)},"")},"queryToString"),w="",T=0;T<this.length;T++){var S=this[T];w+=b(S,S.subject),this.length>1&&T<this.length-1&&(w+=", ")}return this.toStringCache=w,w},"toString"),Wbe={parse:Ube,toString:Hbe},XF=a(function(l,d,m){var y,b=P(l),w=z(l),T=P(m),S,C,A=!1,R=!1,$=!1;switch(d.indexOf("!")>=0&&(d=d.replace("!",""),R=!0),d.indexOf("@")>=0&&(d=d.replace("@",""),A=!0),(b||T||A)&&(S=!b&&!w?"":""+l,C=""+m),A&&(l=S=S.toLowerCase(),m=C=C.toLowerCase()),d){case"*=":y=S.indexOf(C)>=0;break;case"$=":y=S.indexOf(C,S.length-C.length)>=0;break;case"^=":y=S.indexOf(C)===0;break;case"=":y=l===m;break;case">":$=!0,y=l>m;break;case">=":$=!0,y=l>=m;break;case"<":$=!0,y=l<m;break;case"<=":$=!0,y=l<=m;break;default:y=!1;break}return R&&(l!=null||!$)&&(y=!y),y},"valCmp"),Ybe=a(function(l,d){switch(d){case"?":return!!l;case"!":return!l;case"^":return l===void 0}},"boolCmp"),Xbe=a(function(l){return l!==void 0},"existCmp"),gC=a(function(l,d){return l.data(d)},"data"),jbe=a(function(l,d){return l[d]()},"meta"),ta=[],Ni=a(function(l,d){return l.checks.every(function(m){return ta[m.type](m,d)})},"matches");ta[lr.GROUP]=function(f,l){var d=f.value;return d==="*"||d===l.group()},ta[lr.STATE]=function(f,l){var d=f.value;return $be(d,l)},ta[lr.ID]=function(f,l){var d=f.value;return l.id()===d},ta[lr.CLASS]=function(f,l){var d=f.value;return l.hasClass(d)},ta[lr.META_COMPARE]=function(f,l){var d=f.field,m=f.operator,y=f.value;return XF(jbe(l,d),m,y)},ta[lr.DATA_COMPARE]=function(f,l){var d=f.field,m=f.operator,y=f.value;return XF(gC(l,d),m,y)},ta[lr.DATA_BOOL]=function(f,l){var d=f.field,m=f.operator;return Ybe(gC(l,d),m)},ta[lr.DATA_EXIST]=function(f,l){var d=f.field;return f.operator,Xbe(gC(l,d))},ta[lr.UNDIRECTED_EDGE]=function(f,l){var d=f.nodes[0],m=f.nodes[1],y=l.source(),b=l.target();return Ni(d,y)&&Ni(m,b)||Ni(m,y)&&Ni(d,b)},ta[lr.NODE_NEIGHBOR]=function(f,l){return Ni(f.node,l)&&l.neighborhood().some(function(d){return d.isNode()&&Ni(f.neighbor,d)})},ta[lr.DIRECTED_EDGE]=function(f,l){return Ni(f.source,l.source())&&Ni(f.target,l.target())},ta[lr.NODE_SOURCE]=function(f,l){return Ni(f.source,l)&&l.outgoers().some(function(d){return d.isNode()&&Ni(f.target,d)})},ta[lr.NODE_TARGET]=function(f,l){return Ni(f.target,l)&&l.incomers().some(function(d){return d.isNode()&&Ni(f.source,d)})},ta[lr.CHILD]=function(f,l){return Ni(f.child,l)&&Ni(f.parent,l.parent())},ta[lr.PARENT]=function(f,l){return Ni(f.parent,l)&&l.children().some(function(d){return Ni(f.child,d)})},ta[lr.DESCENDANT]=function(f,l){return Ni(f.descendant,l)&&l.ancestors().some(function(d){return Ni(f.ancestor,d)})},ta[lr.ANCESTOR]=function(f,l){return Ni(f.ancestor,l)&&l.descendants().some(function(d){return Ni(f.descendant,d)})},ta[lr.COMPOUND_SPLIT]=function(f,l){return Ni(f.subject,l)&&Ni(f.left,l)&&Ni(f.right,l)},ta[lr.TRUE]=function(){return!0},ta[lr.COLLECTION]=function(f,l){var d=f.value;return d.has(l)},ta[lr.FILTER]=function(f,l){var d=f.value;return d(l)};var Kbe=a(function(l){var d=this;if(d.length===1&&d[0].checks.length===1&&d[0].checks[0].type===lr.ID)return l.getElementById(d[0].checks[0].value).collection();var m=a(function(b){for(var w=0;w<d.length;w++){var T=d[w];if(Ni(T,b))return!0}return!1},"selectorFunction");return d.text()==null&&(m=a(function(){return!0},"selectorFunction")),l.filter(m)},"filter"),Qbe=a(function(l){for(var d=this,m=0;m<d.length;m++){var y=d[m];if(Ni(y,l))return!0}return!1},"matches"),Zbe={matches:Qbe,filter:Kbe},Of=a(function(l){this.inputText=l,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,l==null||P(l)&&l.match(/^\s*$/)||(j(l)?this.addQuery({checks:[{type:lr.COLLECTION,value:l.collection()}]}):V(l)?this.addQuery({checks:[{type:lr.FILTER,value:l}]}):P(l)?this.parse(l)||(this.invalid=!0):Mn("A selector must be created from a string; found "))},"Selector"),Pf=Of.prototype;[Wbe,Zbe].forEach(function(f){return pe(Pf,f)}),Pf.text=function(){return this.inputText},Pf.size=function(){return this.length},Pf.eq=function(f){return this[f]},Pf.sameText=function(f){return!this.invalid&&!f.invalid&&this.text()===f.text()},Pf.addQuery=function(f){this[this.length++]=f},Pf.selector=Pf.toString;var Bf={allAre:a(function(l){var d=new Of(l);return this.every(function(m){return d.matches(m)})},"allAre"),is:a(function(l){var d=new Of(l);return this.some(function(m){return d.matches(m)})},"is"),some:a(function(l,d){for(var m=0;m<this.length;m++){var y=d?l.apply(d,[this[m],m,this]):l(this[m],m,this);if(y)return!0}return!1},"some"),every:a(function(l,d){for(var m=0;m<this.length;m++){var y=d?l.apply(d,[this[m],m,this]):l(this[m],m,this);if(!y)return!1}return!0},"every"),same:a(function(l){if(this===l)return!0;l=this.cy().collection(l);var d=this.length,m=l.length;return d!==m?!1:d===1?this[0]===l[0]:this.every(function(y){return l.hasElementWithId(y.id())})},"same"),anySame:a(function(l){return l=this.cy().collection(l),this.some(function(d){return l.hasElementWithId(d.id())})},"anySame"),allAreNeighbors:a(function(l){l=this.cy().collection(l);var d=this.neighborhood();return l.every(function(m){return d.hasElementWithId(m.id())})},"allAreNeighbors"),contains:a(function(l){l=this.cy().collection(l);var d=this;return l.every(function(m){return d.hasElementWithId(m.id())})},"contains")};Bf.allAreNeighbours=Bf.allAreNeighbors,Bf.has=Bf.contains,Bf.equal=Bf.equals=Bf.same;var Yl=a(function(l,d){return a(function(y,b,w,T){var S=y,C=this,A;if(S==null?A="":j(S)&&S.length===1&&(A=S.id()),C.length===1&&A){var R=C[0]._private,$=R.traversalCache=R.traversalCache||{},U=$[d]=$[d]||[],q=vl(A),ne=U[q];return ne||(U[q]=l.call(C,y,b,w,T))}else return l.call(C,y,b,w,T)},"traversalCache")},"cache"),Sm={parent:a(function(l){var d=[];if(this.length===1){var m=this[0]._private.parent;if(m)return m}for(var y=0;y<this.length;y++){var b=this[y],w=b._private.parent;w&&d.push(w)}return this.spawn(d,!0).filter(l)},"parent"),parents:a(function(l){for(var d=[],m=this.parent();m.nonempty();){for(var y=0;y<m.length;y++){var b=m[y];d.push(b)}m=m.parent()}return this.spawn(d,!0).filter(l)},"parents"),commonAncestors:a(function(l){for(var d,m=0;m<this.length;m++){var y=this[m],b=y.parents();d=d||b,d=d.intersect(b)}return d.filter(l)},"commonAncestors"),orphans:a(function(l){return this.stdFilter(function(d){return d.isOrphan()}).filter(l)},"orphans"),nonorphans:a(function(l){return this.stdFilter(function(d){return d.isChild()}).filter(l)},"nonorphans"),children:Yl(function(f){for(var l=[],d=0;d<this.length;d++)for(var m=this[d],y=m._private.children,b=0;b<y.length;b++)l.push(y[b]);return this.spawn(l,!0).filter(f)},"children"),siblings:a(function(l){return this.parent().children().not(this).filter(l)},"siblings"),isParent:a(function(){var l=this[0];if(l)return l.isNode()&&l._private.children.length!==0},"isParent"),isChildless:a(function(){var l=this[0];if(l)return l.isNode()&&l._private.children.length===0},"isChildless"),isChild:a(function(){var l=this[0];if(l)return l.isNode()&&l._private.parent!=null},"isChild"),isOrphan:a(function(){var l=this[0];if(l)return l.isNode()&&l._private.parent==null},"isOrphan"),descendants:a(function(l){var d=[];function m(y){for(var b=0;b<y.length;b++){var w=y[b];d.push(w),w.children().nonempty()&&m(w.children())}}return a(m,"add"),m(this.children()),this.spawn(d,!0).filter(l)},"descendants")};function yC(f,l,d,m){for(var y=[],b=new Ze,w=f.cy(),T=w.hasCompoundNodes(),S=0;S<f.length;S++){var C=f[S];d?y.push(C):T&&m(y,b,C)}for(;y.length>0;){var A=y.shift();l(A),b.add(A.id()),T&&m(y,b,A)}return f}a(yC,"forEachCompound");function jF(f,l,d){if(d.isParent())for(var m=d._private.children,y=0;y<m.length;y++){var b=m[y];l.has(b.id())||f.push(b)}}a(jF,"addChildren"),Sm.forEachDown=function(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return yC(this,f,l,jF)};function KF(f,l,d){if(d.isChild()){var m=d._private.parent;l.has(m.id())||f.push(m)}}a(KF,"addParent"),Sm.forEachUp=function(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return yC(this,f,l,KF)};function Jbe(f,l,d){KF(f,l,d),jF(f,l,d)}a(Jbe,"addParentAndChildren"),Sm.forEachUpAndDown=function(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return yC(this,f,l,Jbe)},Sm.ancestors=Sm.parents;var $y,QF;$y=QF={data:Jn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Jn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Jn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Jn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Jn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Jn.removeData({field:"rscratch",triggerEvent:!1}),id:a(function(){var l=this[0];if(l)return l._private.data.id},"id")},$y.attr=$y.data,$y.removeAttr=$y.removeData;var e4e=QF,M4={};function vC(f){return function(l){var d=this;if(l===void 0&&(l=!0),d.length!==0)if(d.isNode()&&!d.removed()){for(var m=0,y=d[0],b=y._private.edges,w=0;w<b.length;w++){var T=b[w];!l&&T.isLoop()||(m+=f(y,T))}return m}else return}}a(vC,"defineDegreeFunction"),pe(M4,{degree:vC(function(f,l){return l.source().same(l.target())?2:1}),indegree:vC(function(f,l){return l.target().same(f)?1:0}),outdegree:vC(function(f,l){return l.source().same(f)?1:0})});function _m(f,l){return function(d){for(var m,y=this.nodes(),b=0;b<y.length;b++){var w=y[b],T=w[f](d);T!==void 0&&(m===void 0||l(T,m))&&(m=T)}return m}}a(_m,"defineDegreeBoundsFunction"),pe(M4,{minDegree:_m("degree",function(f,l){return f<l}),maxDegree:_m("degree",function(f,l){return f>l}),minIndegree:_m("indegree",function(f,l){return f<l}),maxIndegree:_m("indegree",function(f,l){return f>l}),minOutdegree:_m("outdegree",function(f,l){return f<l}),maxOutdegree:_m("outdegree",function(f,l){return f>l})}),pe(M4,{totalDegree:a(function(l){for(var d=0,m=this.nodes(),y=0;y<m.length;y++)d+=m[y].degree(l);return d},"totalDegree")});var Nu,ZF,JF=a(function(l,d,m){for(var y=0;y<l.length;y++){var b=l[y];if(!b.locked()){var w=b._private.position,T={x:d.x!=null?d.x-w.x:0,y:d.y!=null?d.y-w.y:0};b.isParent()&&!(T.x===0&&T.y===0)&&b.children().shift(T,m),b.dirtyBoundingBoxCache()}}},"beforePositionSet"),ez={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:a(function(l){l.updateCompoundBounds()},"beforeGet"),beforeSet:a(function(l,d){JF(l,d,!1)},"beforeSet"),onSet:a(function(l){l.dirtyCompoundBoundsCache()},"onSet"),canSet:a(function(l){return!l.locked()},"canSet")};Nu=ZF={position:Jn.data(ez),silentPosition:Jn.data(pe({},ez,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:a(function(l,d){JF(l,d,!0)},"beforeSet"),onSet:a(function(l){l.dirtyCompoundBoundsCache()},"onSet")})),positions:a(function(l,d){if(O(l))d?this.silentPosition(l):this.position(l);else if(V(l)){var m=l,y=this.cy();y.startBatch();for(var b=0;b<this.length;b++){var w=this[b],T=void 0;(T=m(w,b))&&(d?w.silentPosition(T):w.position(T))}y.endBatch()}return this},"positions"),silentPositions:a(function(l){return this.positions(l,!0)},"silentPositions"),shift:a(function(l,d,m){var y;if(O(l)?(y={x:z(l.x)?l.x:0,y:z(l.y)?l.y:0},m=d):P(l)&&z(d)&&(y={x:0,y:0},y[l]=d),y!=null){var b=this.cy();b.startBatch();for(var w=0;w<this.length;w++){var T=this[w];if(!(b.hasCompoundNodes()&&T.isChild()&&T.ancestors().anySame(this))){var S=T.position(),C={x:S.x+y.x,y:S.y+y.y};m?T.silentPosition(C):T.position(C)}}b.endBatch()}return this},"shift"),silentShift:a(function(l,d){return O(l)?this.shift(l,!0):P(l)&&z(d)&&this.shift(l,d,!0),this},"silentShift"),renderedPosition:a(function(l,d){var m=this[0],y=this.cy(),b=y.zoom(),w=y.pan(),T=O(l)?l:void 0,S=T!==void 0||d!==void 0&&P(l);if(m&&m.isNode())if(S)for(var C=0;C<this.length;C++){var A=this[C];d!==void 0?A.position(l,(d-w[l])/b):T!==void 0&&A.position(iF(T,b,w))}else{var R=m.position();return T=y4(R,b,w),l===void 0?T:T[l]}else if(!S)return;return this},"renderedPosition"),relativePosition:a(function(l,d){var m=this[0],y=this.cy(),b=O(l)?l:void 0,w=b!==void 0||d!==void 0&&P(l),T=y.hasCompoundNodes();if(m&&m.isNode())if(w)for(var S=0;S<this.length;S++){var C=this[S],A=T?C.parent():null,R=A&&A.length>0,$=R;R&&(A=A[0]);var U=$?A.position():{x:0,y:0};d!==void 0?C.position(l,d+U[l]):b!==void 0&&C.position({x:b.x+U.x,y:b.y+U.y})}else{var q=m.position(),ne=T?m.parent():null,ee=ne&&ne.length>0,K=ee;ee&&(ne=ne[0]);var se=K?ne.position():{x:0,y:0};return b={x:q.x-se.x,y:q.y-se.y},l===void 0?b:b[l]}else if(!w)return;return this},"relativePosition")},Nu.modelPosition=Nu.point=Nu.position,Nu.modelPositions=Nu.points=Nu.positions,Nu.renderedPoint=Nu.renderedPosition,Nu.relativePoint=Nu.relativePosition;var t4e=ZF,Am,Ff;Am=Ff={},Ff.renderedBoundingBox=function(f){var l=this.boundingBox(f),d=this.cy(),m=d.zoom(),y=d.pan(),b=l.x1*m+y.x,w=l.x2*m+y.x,T=l.y1*m+y.y,S=l.y2*m+y.y;return{x1:b,x2:w,y1:T,y2:S,w:w-b,h:S-T}},Ff.dirtyCompoundBoundsCache=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=this.cy();return!l.styleEnabled()||!l.hasCompoundNodes()?this:(this.forEachUp(function(d){if(d.isParent()){var m=d._private;m.compoundBoundsClean=!1,m.bbCache=null,f||d.emitAndNotify("bounds")}}),this)},Ff.updateCompoundBounds=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=this.cy();if(!l.styleEnabled()||!l.hasCompoundNodes())return this;if(!f&&l.batching())return this;function d(w){if(!w.isParent())return;var T=w._private,S=w.children(),C=w.pstyle("compound-sizing-wrt-labels").value==="include",A={width:{val:w.pstyle("min-width").pfValue,left:w.pstyle("min-width-bias-left"),right:w.pstyle("min-width-bias-right")},height:{val:w.pstyle("min-height").pfValue,top:w.pstyle("min-height-bias-top"),bottom:w.pstyle("min-height-bias-bottom")}},R=S.boundingBox({includeLabels:C,includeOverlays:!1,useCache:!1}),$=T.position;(R.w===0||R.h===0)&&(R={w:w.pstyle("width").pfValue,h:w.pstyle("height").pfValue},R.x1=$.x-R.w/2,R.x2=$.x+R.w/2,R.y1=$.y-R.h/2,R.y2=$.y+R.h/2);function U(me,Ce,Se){var xe=0,Ve=0,Te=Ce+Se;return me>0&&Te>0&&(xe=Ce/Te*me,Ve=Se/Te*me),{biasDiff:xe,biasComplementDiff:Ve}}a(U,"computeBiasValues");function q(me,Ce,Se,xe){if(Se.units==="%")switch(xe){case"width":return me>0?Se.pfValue*me:0;case"height":return Ce>0?Se.pfValue*Ce:0;case"average":return me>0&&Ce>0?Se.pfValue*(me+Ce)/2:0;case"min":return me>0&&Ce>0?me>Ce?Se.pfValue*Ce:Se.pfValue*me:0;case"max":return me>0&&Ce>0?me>Ce?Se.pfValue*me:Se.pfValue*Ce:0;default:return 0}else return Se.units==="px"?Se.pfValue:0}a(q,"computePaddingValues");var ne=A.width.left.value;A.width.left.units==="px"&&A.width.val>0&&(ne=ne*100/A.width.val);var ee=A.width.right.value;A.width.right.units==="px"&&A.width.val>0&&(ee=ee*100/A.width.val);var K=A.height.top.value;A.height.top.units==="px"&&A.height.val>0&&(K=K*100/A.height.val);var se=A.height.bottom.value;A.height.bottom.units==="px"&&A.height.val>0&&(se=se*100/A.height.val);var oe=U(A.width.val-R.w,ne,ee),fe=oe.biasDiff,be=oe.biasComplementDiff,ye=U(A.height.val-R.h,K,se),de=ye.biasDiff,ke=ye.biasComplementDiff;T.autoPadding=q(R.w,R.h,w.pstyle("padding"),w.pstyle("padding-relative-to").value),T.autoWidth=Math.max(R.w,A.width.val),$.x=(-fe+R.x1+R.x2+be)/2,T.autoHeight=Math.max(R.h,A.height.val),$.y=(-de+R.y1+R.y2+ke)/2}a(d,"update");for(var m=0;m<this.length;m++){var y=this[m],b=y._private;(!b.compoundBoundsClean||f)&&(d(y),l.batching()||(b.compoundBoundsClean=!0))}return this};var Xl=a(function(l){return l===1/0||l===-1/0?0:l},"noninf"),Ou=a(function(l,d,m,y,b){y-d===0||b-m===0||d==null||m==null||y==null||b==null||(l.x1=d<l.x1?d:l.x1,l.x2=y>l.x2?y:l.x2,l.y1=m<l.y1?m:l.y1,l.y2=b>l.y2?b:l.y2,l.w=l.x2-l.x1,l.h=l.y2-l.y1)},"updateBounds"),h0=a(function(l,d){return d==null?l:Ou(l,d.x1,d.y1,d.x2,d.y2)},"updateBoundsFromBox"),Gy=a(function(l,d,m){return Fo(l,d,m)},"prefixedProperty"),N4=a(function(l,d,m){if(!d.cy().headless()){var y=d._private,b=y.rstyle,w=b.arrowWidth/2,T=d.pstyle(m+"-arrow-shape").value,S,C;if(T!=="none"){m==="source"?(S=b.srcX,C=b.srcY):m==="target"?(S=b.tgtX,C=b.tgtY):(S=b.midX,C=b.midY);var A=y.arrowBounds=y.arrowBounds||{},R=A[m]=A[m]||{};R.x1=S-w,R.y1=C-w,R.x2=S+w,R.y2=C+w,R.w=R.x2-R.x1,R.h=R.y2-R.y1,x4(R,1),Ou(l,R.x1,R.y1,R.x2,R.y2)}}},"updateBoundsFromArrow"),xC=a(function(l,d,m){if(!d.cy().headless()){var y;m?y=m+"-":y="";var b=d._private,w=b.rstyle,T=d.pstyle(y+"label").strValue;if(T){var S=d.pstyle("text-halign"),C=d.pstyle("text-valign"),A=Gy(w,"labelWidth",m),R=Gy(w,"labelHeight",m),$=Gy(w,"labelX",m),U=Gy(w,"labelY",m),q=d.pstyle(y+"text-margin-x").pfValue,ne=d.pstyle(y+"text-margin-y").pfValue,ee=d.isEdge(),K=d.pstyle(y+"text-rotation"),se=d.pstyle("text-outline-width").pfValue,oe=d.pstyle("text-border-width").pfValue,fe=oe/2,be=d.pstyle("text-background-padding").pfValue,ye=2,de=R,ke=A,me=ke/2,Ce=de/2,Se,xe,Ve,Te;if(ee)Se=$-me,xe=$+me,Ve=U-Ce,Te=U+Ce;else{switch(S.value){case"left":Se=$-ke,xe=$;break;case"center":Se=$-me,xe=$+me;break;case"right":Se=$,xe=$+ke;break}switch(C.value){case"top":Ve=U-de,Te=U;break;case"center":Ve=U-Ce,Te=U+Ce;break;case"bottom":Ve=U,Te=U+de;break}}Se+=q-Math.max(se,fe)-be-ye,xe+=q+Math.max(se,fe)+be+ye,Ve+=ne-Math.max(se,fe)-be-ye,Te+=ne+Math.max(se,fe)+be+ye;var tt=m||"main",We=b.labelBounds,qe=We[tt]=We[tt]||{};qe.x1=Se,qe.y1=Ve,qe.x2=xe,qe.y2=Te,qe.w=xe-Se,qe.h=Te-Ve;var nt=ee&&K.strValue==="autorotate",dt=K.pfValue!=null&&K.pfValue!==0;if(nt||dt){var wt=nt?Gy(b.rstyle,"labelAngle",m):K.pfValue,it=Math.cos(wt),xt=Math.sin(wt),Et=(Se+xe)/2,Dt=(Ve+Te)/2;if(!ee){switch(S.value){case"left":Et=xe;break;case"right":Et=Se;break}switch(C.value){case"top":Dt=Te;break;case"bottom":Dt=Ve;break}}var St=a(function(Ur,Qt){return Ur=Ur-Et,Qt=Qt-Dt,{x:Ur*it-Qt*xt+Et,y:Ur*xt+Qt*it+Dt}},"rotate"),Rt=St(Se,Ve),ht=St(Se,Te),_t=St(xe,Ve),Ot=St(xe,Te);Se=Math.min(Rt.x,ht.x,_t.x,Ot.x),xe=Math.max(Rt.x,ht.x,_t.x,Ot.x),Ve=Math.min(Rt.y,ht.y,_t.y,Ot.y),Te=Math.max(Rt.y,ht.y,_t.y,Ot.y)}var Mt=tt+"Rot",Wt=We[Mt]=We[Mt]||{};Wt.x1=Se,Wt.y1=Ve,Wt.x2=xe,Wt.y2=Te,Wt.w=xe-Se,Wt.h=Te-Ve,Ou(l,Se,Ve,xe,Te),Ou(b.labelBounds.all,Se,Ve,xe,Te)}return l}},"updateBoundsFromLabel"),r4e=a(function(l,d){if(!d.cy().headless()){var m=d.pstyle("outline-opacity").value,y=d.pstyle("outline-width").value;if(m>0&&y>0){var b=d.pstyle("outline-offset").value,w=d.pstyle("shape").value,T=y+b,S=(l.w+T*2)/l.w,C=(l.h+T*2)/l.h,A=0,R=0;["diamond","pentagon","round-triangle"].includes(w)?(S=(l.w+T*2.4)/l.w,R=-T/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(w)?S=(l.w+T*2.4)/l.w:w==="star"?(S=(l.w+T*2.8)/l.w,C=(l.h+T*2.6)/l.h,R=-T/3.8):w==="triangle"?(S=(l.w+T*2.8)/l.w,C=(l.h+T*2.4)/l.h,R=-T/1.4):w==="vee"&&(S=(l.w+T*4.4)/l.w,C=(l.h+T*3.8)/l.h,R=-T*.5);var $=l.h*C-l.h,U=l.w*S-l.w;if(b4(l,[Math.ceil($/2),Math.ceil(U/2)]),A!=0||R!==0){var q=Tve(l,A,R);sF(l,q)}}}},"updateBoundsFromOutline"),n4e=a(function(l,d){var m=l._private.cy,y=m.styleEnabled(),b=m.headless(),w=zo(),T=l._private,S=l.isNode(),C=l.isEdge(),A,R,$,U,q,ne,ee=T.rstyle,K=S&&y?l.pstyle("bounds-expansion").pfValue:[0],se=a(function(Tr){return Tr.pstyle("display").value!=="none"},"isDisplayed"),oe=!y||se(l)&&(!C||se(l.source())&&se(l.target()));if(oe){var fe=0,be=0;y&&d.includeOverlays&&(fe=l.pstyle("overlay-opacity").value,fe!==0&&(be=l.pstyle("overlay-padding").value));var ye=0,de=0;y&&d.includeUnderlays&&(ye=l.pstyle("underlay-opacity").value,ye!==0&&(de=l.pstyle("underlay-padding").value));var ke=Math.max(be,de),me=0,Ce=0;if(y&&(me=l.pstyle("width").pfValue,Ce=me/2),S&&d.includeNodes){var Se=l.position();q=Se.x,ne=Se.y;var xe=l.outerWidth(),Ve=xe/2,Te=l.outerHeight(),tt=Te/2;A=q-Ve,R=q+Ve,$=ne-tt,U=ne+tt,Ou(w,A,$,R,U),y&&d.includeOutlines&&r4e(w,l)}else if(C&&d.includeEdges)if(y&&!b){var We=l.pstyle("curve-style").strValue;if(A=Math.min(ee.srcX,ee.midX,ee.tgtX),R=Math.max(ee.srcX,ee.midX,ee.tgtX),$=Math.min(ee.srcY,ee.midY,ee.tgtY),U=Math.max(ee.srcY,ee.midY,ee.tgtY),A-=Ce,R+=Ce,$-=Ce,U+=Ce,Ou(w,A,$,R,U),We==="haystack"){var qe=ee.haystackPts;if(qe&&qe.length===2){if(A=qe[0].x,$=qe[0].y,R=qe[1].x,U=qe[1].y,A>R){var nt=A;A=R,R=nt}if($>U){var dt=$;$=U,U=dt}Ou(w,A-Ce,$-Ce,R+Ce,U+Ce)}}else if(We==="bezier"||We==="unbundled-bezier"||We==="segments"||We==="taxi"){var wt;switch(We){case"bezier":case"unbundled-bezier":wt=ee.bezierPts;break;case"segments":case"taxi":wt=ee.linePts;break}if(wt!=null)for(var it=0;it<wt.length;it++){var xt=wt[it];A=xt.x-Ce,R=xt.x+Ce,$=xt.y-Ce,U=xt.y+Ce,Ou(w,A,$,R,U)}}}else{var Et=l.source(),Dt=Et.position(),St=l.target(),Rt=St.position();if(A=Dt.x,R=Rt.x,$=Dt.y,U=Rt.y,A>R){var ht=A;A=R,R=ht}if($>U){var _t=$;$=U,U=_t}A-=Ce,R+=Ce,$-=Ce,U+=Ce,Ou(w,A,$,R,U)}if(y&&d.includeEdges&&C&&(N4(w,l,"mid-source"),N4(w,l,"mid-target"),N4(w,l,"source"),N4(w,l,"target")),y){var Ot=l.pstyle("ghost").value==="yes";if(Ot){var Mt=l.pstyle("ghost-offset-x").pfValue,Wt=l.pstyle("ghost-offset-y").pfValue;Ou(w,w.x1+Mt,w.y1+Wt,w.x2+Mt,w.y2+Wt)}}var mr=T.bodyBounds=T.bodyBounds||{};oF(mr,w),b4(mr,K),x4(mr,1),y&&(A=w.x1,R=w.x2,$=w.y1,U=w.y2,Ou(w,A-ke,$-ke,R+ke,U+ke));var Ur=T.overlayBounds=T.overlayBounds||{};oF(Ur,w),b4(Ur,K),x4(Ur,1);var Qt=T.labelBounds=T.labelBounds||{};Qt.all!=null?wve(Qt.all):Qt.all=zo(),y&&d.includeLabels&&(d.includeMainLabels&&xC(w,l,null),C&&(d.includeSourceLabels&&xC(w,l,"source"),d.includeTargetLabels&&xC(w,l,"target")))}return w.x1=Xl(w.x1),w.y1=Xl(w.y1),w.x2=Xl(w.x2),w.y2=Xl(w.y2),w.w=Xl(w.x2-w.x1),w.h=Xl(w.y2-w.y1),w.w>0&&w.h>0&&oe&&(b4(w,K),x4(w,1)),w},"boundingBoxImpl"),tz=a(function(l){var d=0,m=a(function(w){return(w?1:0)<<d++},"tf"),y=0;return y+=m(l.incudeNodes),y+=m(l.includeEdges),y+=m(l.includeLabels),y+=m(l.includeMainLabels),y+=m(l.includeSourceLabels),y+=m(l.includeTargetLabels),y+=m(l.includeOverlays),y+=m(l.includeOutlines),y},"getKey"),rz=a(function(l){if(l.isEdge()){var d=l.source().position(),m=l.target().position(),y=a(function(w){return Math.round(w)},"r");return kh([y(d.x),y(d.y),y(m.x),y(m.y)])}else return 0},"getBoundingBoxPosKey"),nz=a(function(l,d){var m=l._private,y,b=l.isEdge(),w=d==null?iz:tz(d),T=w===iz,S=rz(l),C=m.bbCachePosKey===S,A=d.useCache&&C,R=a(function(ne){return ne._private.bbCache==null||ne._private.styleDirty},"isDirty"),$=!A||R(l)||b&&R(l.source())||R(l.target());if($?(C||l.recalculateRenderedStyle(A),y=n4e(l,Vy),m.bbCache=y,m.bbCachePosKey=S):y=m.bbCache,!T){var U=l.isNode();y=zo(),(d.includeNodes&&U||d.includeEdges&&!U)&&(d.includeOverlays?h0(y,m.overlayBounds):h0(y,m.bodyBounds)),d.includeLabels&&(d.includeMainLabels&&(!b||d.includeSourceLabels&&d.includeTargetLabels)?h0(y,m.labelBounds.all):(d.includeMainLabels&&h0(y,m.labelBounds.mainRot),d.includeSourceLabels&&h0(y,m.labelBounds.sourceRot),d.includeTargetLabels&&h0(y,m.labelBounds.targetRot))),y.w=y.x2-y.x1,y.h=y.y2-y.y1}return y},"cachedBoundingBoxImpl"),Vy={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},iz=tz(Vy),az=Sa(Vy);Ff.boundingBox=function(f){var l;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(f===void 0||f.useCache===void 0||f.useCache===!0))f===void 0?f=Vy:f=az(f),l=nz(this[0],f);else{l=zo(),f=f||Vy;var d=az(f),m=this,y=m.cy(),b=y.styleEnabled();if(b)for(var w=0;w<m.length;w++){var T=m[w],S=T._private,C=rz(T),A=S.bbCachePosKey===C,R=d.useCache&&A&&!S.styleDirty;T.recalculateRenderedStyle(R)}this.updateCompoundBounds(!f.useCache);for(var $=0;$<m.length;$++){var U=m[$];h0(l,nz(U,d))}}return l.x1=Xl(l.x1),l.y1=Xl(l.y1),l.x2=Xl(l.x2),l.y2=Xl(l.y2),l.w=Xl(l.x2-l.x1),l.h=Xl(l.y2-l.y1),l},Ff.dirtyBoundingBoxCache=function(){for(var f=0;f<this.length;f++){var l=this[f]._private;l.bbCache=null,l.bbCachePosKey=null,l.bodyBounds=null,l.overlayBounds=null,l.labelBounds.all=null,l.labelBounds.source=null,l.labelBounds.target=null,l.labelBounds.main=null,l.labelBounds.sourceRot=null,l.labelBounds.targetRot=null,l.labelBounds.mainRot=null,l.arrowBounds.source=null,l.arrowBounds.target=null,l.arrowBounds["mid-source"]=null,l.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ff.boundingBoxAt=function(f){var l=this.nodes(),d=this.cy(),m=d.hasCompoundNodes(),y=d.collection();if(m&&(y=l.filter(function(C){return C.isParent()}),l=l.not(y)),O(f)){var b=f;f=a(function(){return b},"fn")}var w=a(function(A,R){return A._private.bbAtOldPos=f(A,R)},"storeOldPos"),T=a(function(A){return A._private.bbAtOldPos},"getOldPos");d.startBatch(),l.forEach(w).silentPositions(f),m&&(y.dirtyCompoundBoundsCache(),y.dirtyBoundingBoxCache(),y.updateCompoundBounds(!0));var S=kve(this.boundingBox({useCache:!1}));return l.silentPositions(T),m&&(y.dirtyCompoundBoundsCache(),y.dirtyBoundingBoxCache(),y.updateCompoundBounds(!0)),d.endBatch(),S},Am.boundingbox=Am.bb=Am.boundingBox,Am.renderedBoundingbox=Am.renderedBoundingBox;var i4e=Ff,qy,Uy;qy=Uy={};var sz=a(function(l){l.uppercaseName=Ie(l.name),l.autoName="auto"+l.uppercaseName,l.labelName="label"+l.uppercaseName,l.outerName="outer"+l.uppercaseName,l.uppercaseOuterName=Ie(l.outerName),qy[l.name]=a(function(){var m=this[0],y=m._private,b=y.cy,w=b._private.styleEnabled;if(m)if(w){if(m.isParent())return m.updateCompoundBounds(),y[l.autoName]||0;var T=m.pstyle(l.name);switch(T.strValue){case"label":return m.recalculateRenderedStyle(),y.rstyle[l.labelName]||0;default:return T.pfValue}}else return 1},"dimImpl"),qy["outer"+l.uppercaseName]=a(function(){var m=this[0],y=m._private,b=y.cy,w=b._private.styleEnabled;if(m)if(w){var T=m[l.name](),S=m.pstyle("border-width").pfValue,C=2*m.padding();return T+S+C}else return 1},"outerDimImpl"),qy["rendered"+l.uppercaseName]=a(function(){var m=this[0];if(m){var y=m[l.name]();return y*this.cy().zoom()}},"renderedDimImpl"),qy["rendered"+l.uppercaseOuterName]=a(function(){var m=this[0];if(m){var y=m[l.outerName]();return y*this.cy().zoom()}},"renderedOuterDimImpl")},"defineDimFns");sz({name:"width"}),sz({name:"height"}),Uy.padding=function(){var f=this[0],l=f._private;return f.isParent()?(f.updateCompoundBounds(),l.autoPadding!==void 0?l.autoPadding:f.pstyle("padding").pfValue):f.pstyle("padding").pfValue},Uy.paddedHeight=function(){var f=this[0];return f.height()+2*f.padding()},Uy.paddedWidth=function(){var f=this[0];return f.width()+2*f.padding()};var a4e=Uy,s4e=a(function(l,d){if(l.isEdge())return d(l)},"ifEdge"),o4e=a(function(l,d){if(l.isEdge()){var m=l.cy();return y4(d(l),m.zoom(),m.pan())}},"ifEdgeRenderedPosition"),l4e=a(function(l,d){if(l.isEdge()){var m=l.cy(),y=m.pan(),b=m.zoom();return d(l).map(function(w){return y4(w,b,y)})}},"ifEdgeRenderedPositions"),u4e=a(function(l){return l.renderer().getControlPoints(l)},"controlPoints"),c4e=a(function(l){return l.renderer().getSegmentPoints(l)},"segmentPoints"),h4e=a(function(l){return l.renderer().getSourceEndpoint(l)},"sourceEndpoint"),f4e=a(function(l){return l.renderer().getTargetEndpoint(l)},"targetEndpoint"),d4e=a(function(l){return l.renderer().getEdgeMidpoint(l)},"midpoint"),oz={controlPoints:{get:u4e,mult:!0},segmentPoints:{get:c4e,mult:!0},sourceEndpoint:{get:h4e},targetEndpoint:{get:f4e},midpoint:{get:d4e}},p4e=a(function(l){return"rendered"+l[0].toUpperCase()+l.substr(1)},"renderedName"),m4e=Object.keys(oz).reduce(function(f,l){var d=oz[l],m=p4e(l);return f[l]=function(){return s4e(this,d.get)},d.mult?f[m]=function(){return l4e(this,d.get)}:f[m]=function(){return o4e(this,d.get)},f},{}),g4e=pe({},t4e,i4e,a4e,m4e);var lz=a(function(l,d){this.recycle(l,d)},"Event");function Hy(){return!1}a(Hy,"returnFalse");function O4(){return!0}a(O4,"returnTrue"),lz.prototype={instanceString:a(function(){return"event"},"instanceString"),recycle:a(function(l,d){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Hy,l!=null&&l.preventDefault?(this.type=l.type,this.isDefaultPrevented=l.defaultPrevented?O4:Hy):l!=null&&l.type?d=l:this.type=l,d!=null&&(this.originalEvent=d.originalEvent,this.type=d.type!=null?d.type:this.type,this.cy=d.cy,this.target=d.target,this.position=d.position,this.renderedPosition=d.renderedPosition,this.namespace=d.namespace,this.layout=d.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var m=this.position,y=this.cy.zoom(),b=this.cy.pan();this.renderedPosition={x:m.x*y+b.x,y:m.y*y+b.y}}this.timeStamp=l&&l.timeStamp||Date.now()},"recycle"),preventDefault:a(function(){this.isDefaultPrevented=O4;var l=this.originalEvent;l&&l.preventDefault&&l.preventDefault()},"preventDefault"),stopPropagation:a(function(){this.isPropagationStopped=O4;var l=this.originalEvent;l&&l.stopPropagation&&l.stopPropagation()},"stopPropagation"),stopImmediatePropagation:a(function(){this.isImmediatePropagationStopped=O4,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:Hy,isPropagationStopped:Hy,isImmediatePropagationStopped:Hy};var uz=/^([^.]+)(\.(?:[^.]+))?$/,y4e=".*",cz={qualifierCompare:a(function(l,d){return l===d},"qualifierCompare"),eventMatches:a(function(){return!0},"eventMatches"),addEventFields:a(function(){},"addEventFields"),callbackContext:a(function(l){return l},"callbackContext"),beforeEmit:a(function(){},"beforeEmit"),afterEmit:a(function(){},"afterEmit"),bubble:a(function(){return!1},"bubble"),parent:a(function(){return null},"parent"),context:null},hz=Object.keys(cz),v4e={};function P4(){for(var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v4e,l=arguments.length>1?arguments[1]:void 0,d=0;d<hz.length;d++){var m=hz[d];this[m]=f[m]||cz[m]}this.context=l||this.context,this.listeners=[],this.emitting=0}a(P4,"Emitter");var zf=P4.prototype,fz=a(function(l,d,m,y,b,w,T){V(y)&&(b=y,y=null),T&&(w==null?w=T:w=pe({},w,T));for(var S=H(m)?m:m.split(/\s+/),C=0;C<S.length;C++){var A=S[C];if(!J(A)){var R=A.match(uz);if(R){var $=R[1],U=R[2]?R[2]:null,q=d(l,A,$,U,y,b,w);if(q===!1)break}}}},"forEachEvent"),dz=a(function(l,d){return l.addEventFields(l.context,d),new lz(d.type,d)},"makeEventObj"),x4e=a(function(l,d,m){if(le(m)){d(l,m);return}else if(O(m)){d(l,dz(l,m));return}for(var y=H(m)?m:m.split(/\s+/),b=0;b<y.length;b++){var w=y[b];if(!J(w)){var T=w.match(uz);if(T){var S=T[1],C=T[2]?T[2]:null,A=dz(l,{type:S,namespace:C,target:l.context});d(l,A)}}}},"forEachEventObj");zf.on=zf.addListener=function(f,l,d,m,y){return fz(this,function(b,w,T,S,C,A,R){V(A)&&b.listeners.push({event:w,callback:A,type:T,namespace:S,qualifier:C,conf:R})},f,l,d,m,y),this},zf.one=function(f,l,d,m){return this.on(f,l,d,m,{one:!0})},zf.removeListener=zf.off=function(f,l,d,m){var y=this;this.emitting!==0&&(this.listeners=Q7(this.listeners));for(var b=this.listeners,w=a(function(C){var A=b[C];fz(y,function(R,$,U,q,ne,ee){if((A.type===U||f==="*")&&(!q&&A.namespace!==".*"||A.namespace===q)&&(!ne||R.qualifierCompare(A.qualifier,ne))&&(!ee||A.callback===ee))return b.splice(C,1),!1},f,l,d,m)},"_loop"),T=b.length-1;T>=0;T--)w(T);return this},zf.removeAllListeners=function(){return this.removeListener("*")},zf.emit=zf.trigger=function(f,l,d){var m=this.listeners,y=m.length;return this.emitting++,H(l)||(l=[l]),x4e(this,function(b,w){d!=null&&(m=[{event:w.event,type:w.type,namespace:w.namespace,callback:d}],y=m.length);for(var T=a(function(A){var R=m[A];if(R.type===w.type&&(!R.namespace||R.namespace===w.namespace||R.namespace===y4e)&&b.eventMatches(b.context,R,w)){var $=[w];l!=null&&Iu($,l),b.beforeEmit(b.context,R,w),R.conf&&R.conf.one&&(b.listeners=b.listeners.filter(function(ne){return ne!==R}));var U=b.callbackContext(b.context,R,w),q=R.callback.apply(U,$);b.afterEmit(b.context,R,w),q===!1&&(w.stopPropagation(),w.preventDefault())}},"_loop2"),S=0;S<y;S++)T(S);b.bubble(b.context)&&!w.isPropagationStopped()&&b.parent(b.context).emit(w,l)},f),this.emitting--,this};var b4e={qualifierCompare:a(function(l,d){return l==null||d==null?l==null&&d==null:l.sameText(d)},"qualifierCompare"),eventMatches:a(function(l,d,m){var y=d.qualifier;return y!=null?l!==m.target&&D(m.target)&&y.matches(m.target):!0},"eventMatches"),addEventFields:a(function(l,d){d.cy=l.cy(),d.target=l},"addEventFields"),callbackContext:a(function(l,d,m){return d.qualifier!=null?m.target:l},"callbackContext"),beforeEmit:a(function(l,d){d.conf&&d.conf.once&&d.conf.onceCollection.removeListener(d.event,d.qualifier,d.callback)},"beforeEmit"),bubble:a(function(){return!0},"bubble"),parent:a(function(l){return l.isChild()?l.parent():l.cy()},"parent")},B4=a(function(l){return P(l)?new Of(l):l},"argSelector"),pz={createEmitter:a(function(){for(var l=0;l<this.length;l++){var d=this[l],m=d._private;m.emitter||(m.emitter=new P4(b4e,d))}return this},"createEmitter"),emitter:a(function(){return this._private.emitter},"emitter"),on:a(function(l,d,m){for(var y=B4(d),b=0;b<this.length;b++){var w=this[b];w.emitter().on(l,y,m)}return this},"on"),removeListener:a(function(l,d,m){for(var y=B4(d),b=0;b<this.length;b++){var w=this[b];w.emitter().removeListener(l,y,m)}return this},"removeListener"),removeAllListeners:a(function(){for(var l=0;l<this.length;l++){var d=this[l];d.emitter().removeAllListeners()}return this},"removeAllListeners"),one:a(function(l,d,m){for(var y=B4(d),b=0;b<this.length;b++){var w=this[b];w.emitter().one(l,y,m)}return this},"one"),once:a(function(l,d,m){for(var y=B4(d),b=0;b<this.length;b++){var w=this[b];w.emitter().on(l,y,m,{once:!0,onceCollection:this})}},"once"),emit:a(function(l,d){for(var m=0;m<this.length;m++){var y=this[m];y.emitter().emit(l,d)}return this},"emit"),emitAndNotify:a(function(l,d){if(this.length!==0)return this.cy().notify(l,this),this.emit(l,d),this},"emitAndNotify")};Jn.eventAliasesOn(pz);var mz={nodes:a(function(l){return this.filter(function(d){return d.isNode()}).filter(l)},"nodes"),edges:a(function(l){return this.filter(function(d){return d.isEdge()}).filter(l)},"edges"),byGroup:a(function(){for(var l=this.spawn(),d=this.spawn(),m=0;m<this.length;m++){var y=this[m];y.isNode()?l.push(y):d.push(y)}return{nodes:l,edges:d}},"byGroup"),filter:a(function(l,d){if(l===void 0)return this;if(P(l)||j(l))return new Of(l).filter(this);if(V(l)){for(var m=this.spawn(),y=this,b=0;b<y.length;b++){var w=y[b],T=d?l.apply(d,[w,b,y]):l(w,b,y);T&&m.push(w)}return m}return this.spawn()},"filter"),not:a(function(l){if(l){P(l)&&(l=this.filter(l));for(var d=this.spawn(),m=0;m<this.length;m++){var y=this[m],b=l.has(y);b||d.push(y)}return d}else return this},"not"),absoluteComplement:a(function(){var l=this.cy();return l.mutableElements().not(this)},"absoluteComplement"),intersect:a(function(l){if(P(l)){var d=l;return this.filter(d)}for(var m=this.spawn(),y=this,b=l,w=this.length<l.length,T=w?y:b,S=w?b:y,C=0;C<T.length;C++){var A=T[C];S.has(A)&&m.push(A)}return m},"intersect"),xor:a(function(l){var d=this._private.cy;P(l)&&(l=d.$(l));var m=this.spawn(),y=this,b=l,w=a(function(S,C){for(var A=0;A<S.length;A++){var R=S[A],$=R._private.data.id,U=C.hasElementWithId($);U||m.push(R)}},"add");return w(y,b),w(b,y),m},"xor"),diff:a(function(l){var d=this._private.cy;P(l)&&(l=d.$(l));var m=this.spawn(),y=this.spawn(),b=this.spawn(),w=this,T=l,S=a(function(A,R,$){for(var U=0;U<A.length;U++){var q=A[U],ne=q._private.data.id,ee=R.hasElementWithId(ne);ee?b.merge(q):$.push(q)}},"add");return S(w,T,m),S(T,w,y),{left:m,right:y,both:b}},"diff"),add:a(function(l){var d=this._private.cy;if(!l)return this;if(P(l)){var m=l;l=d.mutableElements().filter(m)}for(var y=this.spawnSelf(),b=0;b<l.length;b++){var w=l[b],T=!this.has(w);T&&y.push(w)}return y},"add"),merge:a(function(l){var d=this._private,m=d.cy;if(!l)return this;if(l&&P(l)){var y=l;l=m.mutableElements().filter(y)}for(var b=d.map,w=0;w<l.length;w++){var T=l[w],S=T._private.data.id,C=!b.has(S);if(C){var A=this.length++;this[A]=T,b.set(S,{ele:T,index:A})}}return this},"merge"),unmergeAt:a(function(l){var d=this[l],m=d.id(),y=this._private,b=y.map;this[l]=void 0,b.delete(m);var w=l===this.length-1;if(this.length>1&&!w){var T=this.length-1,S=this[T],C=S._private.data.id;this[T]=void 0,this[l]=S,b.set(C,{ele:S,index:l})}return this.length--,this},"unmergeAt"),unmergeOne:a(function(l){l=l[0];var d=this._private,m=l._private.data.id,y=d.map,b=y.get(m);if(!b)return this;var w=b.index;return this.unmergeAt(w),this},"unmergeOne"),unmerge:a(function(l){var d=this._private.cy;if(!l)return this;if(l&&P(l)){var m=l;l=d.mutableElements().filter(m)}for(var y=0;y<l.length;y++)this.unmergeOne(l[y]);return this},"unmerge"),unmergeBy:a(function(l){for(var d=this.length-1;d>=0;d--){var m=this[d];l(m)&&this.unmergeAt(d)}return this},"unmergeBy"),map:a(function(l,d){for(var m=[],y=this,b=0;b<y.length;b++){var w=y[b],T=d?l.apply(d,[w,b,y]):l(w,b,y);m.push(T)}return m},"map"),reduce:a(function(l,d){for(var m=d,y=this,b=0;b<y.length;b++)m=l(m,y[b],b,y);return m},"reduce"),max:a(function(l,d){for(var m=-1/0,y,b=this,w=0;w<b.length;w++){var T=b[w],S=d?l.apply(d,[T,w,b]):l(T,w,b);S>m&&(m=S,y=T)}return{value:m,ele:y}},"max"),min:a(function(l,d){for(var m=1/0,y,b=this,w=0;w<b.length;w++){var T=b[w],S=d?l.apply(d,[T,w,b]):l(T,w,b);S<m&&(m=S,y=T)}return{value:m,ele:y}},"min")},Un=mz;Un.u=Un["|"]=Un["+"]=Un.union=Un.or=Un.add,Un["\\"]=Un["!"]=Un["-"]=Un.difference=Un.relativeComplement=Un.subtract=Un.not,Un.n=Un["&"]=Un["."]=Un.and=Un.intersection=Un.intersect,Un["^"]=Un["(+)"]=Un["(-)"]=Un.symmetricDifference=Un.symdiff=Un.xor,Un.fnFilter=Un.filterFn=Un.stdFilter=Un.filter,Un.complement=Un.abscomp=Un.absoluteComplement;var k4e={isNode:a(function(){return this.group()==="nodes"},"isNode"),isEdge:a(function(){return this.group()==="edges"},"isEdge"),isLoop:a(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:a(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:a(function(){var l=this[0];if(l)return l._private.group},"group")},gz=a(function(l,d){var m=l.cy(),y=m.hasCompoundNodes();function b(A){var R=A.pstyle("z-compound-depth");return R.value==="auto"?y?A.zDepth():0:R.value==="bottom"?-1:R.value==="top"?Ui:0}a(b,"getDepth");var w=b(l)-b(d);if(w!==0)return w;function T(A){var R=A.pstyle("z-index-compare");return R.value==="auto"&&A.isNode()?1:0}a(T,"getEleDepth");var S=T(l)-T(d);if(S!==0)return S;var C=l.pstyle("z-index").value-d.pstyle("z-index").value;return C!==0?C:l.poolIndex()-d.poolIndex()},"zIndexSort"),F4={forEach:a(function(l,d){if(V(l))for(var m=this.length,y=0;y<m;y++){var b=this[y],w=d?l.apply(d,[b,y,this]):l(b,y,this);if(w===!1)break}return this},"forEach"),toArray:a(function(){for(var l=[],d=0;d<this.length;d++)l.push(this[d]);return l},"toArray"),slice:a(function(l,d){var m=[],y=this.length;d==null&&(d=y),l==null&&(l=0),l<0&&(l=y+l),d<0&&(d=y+d);for(var b=l;b>=0&&b<d&&b<y;b++)m.push(this[b]);return this.spawn(m)},"slice"),size:a(function(){return this.length},"size"),eq:a(function(l){return this[l]||this.spawn()},"eq"),first:a(function(){return this[0]||this.spawn()},"first"),last:a(function(){return this[this.length-1]||this.spawn()},"last"),empty:a(function(){return this.length===0},"empty"),nonempty:a(function(){return!this.empty()},"nonempty"),sort:a(function(l){if(!V(l))return this;var d=this.toArray().sort(l);return this.spawn(d)},"sort"),sortByZIndex:a(function(){return this.sort(gz)},"sortByZIndex"),zDepth:a(function(){var l=this[0];if(l){var d=l._private,m=d.group;if(m==="nodes"){var y=d.data.parent?l.parents().size():0;return l.isParent()?y:Ui-1}else{var b=d.source,w=d.target,T=b.zDepth(),S=w.zDepth();return Math.max(T,S,0)}}},"zDepth")};F4.each=F4.forEach;var w4e=a(function(){var l="undefined",d=(typeof Symbol>"u"?"undefined":e(Symbol))!=l&&e(Symbol.iterator)!=l;d&&(F4[Symbol.iterator]=function(){var m=this,y={value:void 0,done:!1},b=0,w=this.length;return i({next:a(function(){return b<w?y.value=m[b++]:(y.value=void 0,y.done=!0),y},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator");w4e();var T4e=Sa({nodeDimensionsIncludeLabels:!1}),z4={layoutDimensions:a(function(l){l=T4e(l);var d;if(!this.takesUpSpace())d={w:0,h:0};else if(l.nodeDimensionsIncludeLabels){var m=this.boundingBox();d={w:m.w,h:m.h}}else d={w:this.outerWidth(),h:this.outerHeight()};return(d.w===0||d.h===0)&&(d.w=d.h=1),d},"layoutDimensions"),layoutPositions:a(function(l,d,m){var y=this.nodes().filter(function(be){return!be.isParent()}),b=this.cy(),w=d.eles,T=a(function(ye){return ye.id()},"getMemoizeKey"),S=ue(m,T);l.emit({type:"layoutstart",layout:l}),l.animations=[];var C=a(function(ye,de,ke){var me={x:de.x1+de.w/2,y:de.y1+de.h/2},Ce={x:(ke.x-me.x)*ye,y:(ke.y-me.y)*ye};return{x:me.x+Ce.x,y:me.y+Ce.y}},"calculateSpacing"),A=d.spacingFactor&&d.spacingFactor!==1,R=a(function(){if(!A)return null;for(var ye=zo(),de=0;de<y.length;de++){var ke=y[de],me=S(ke,de);Eve(ye,me.x,me.y)}return ye},"spacingBb"),$=R(),U=ue(function(be,ye){var de=S(be,ye);if(A){var ke=Math.abs(d.spacingFactor);de=C(ke,$,de)}return d.transform!=null&&(de=d.transform(be,de)),de},T);if(d.animate){for(var q=0;q<y.length;q++){var ne=y[q],ee=U(ne,q),K=d.animateFilter==null||d.animateFilter(ne,q);if(K){var se=ne.animation({position:ee,duration:d.animationDuration,easing:d.animationEasing});l.animations.push(se)}else ne.position(ee)}if(d.fit){var oe=b.animation({fit:{boundingBox:w.boundingBoxAt(U),padding:d.padding},duration:d.animationDuration,easing:d.animationEasing});l.animations.push(oe)}else if(d.zoom!==void 0&&d.pan!==void 0){var fe=b.animation({zoom:d.zoom,pan:d.pan,duration:d.animationDuration,easing:d.animationEasing});l.animations.push(fe)}l.animations.forEach(function(be){return be.play()}),l.one("layoutready",d.ready),l.emit({type:"layoutready",layout:l}),km.all(l.animations.map(function(be){return be.promise()})).then(function(){l.one("layoutstop",d.stop),l.emit({type:"layoutstop",layout:l})})}else y.positions(U),d.fit&&b.fit(d.eles,d.padding),d.zoom!=null&&b.zoom(d.zoom),d.pan&&b.pan(d.pan),l.one("layoutready",d.ready),l.emit({type:"layoutready",layout:l}),l.one("layoutstop",d.stop),l.emit({type:"layoutstop",layout:l});return this},"layoutPositions"),layout:a(function(l){var d=this.cy();return d.makeLayout(pe({},l,{eles:this}))},"layout")};z4.createLayout=z4.makeLayout=z4.layout;function yz(f,l,d){var m=d._private,y=m.styleCache=m.styleCache||[],b;return(b=y[f])!=null||(b=y[f]=l(d)),b}a(yz,"styleCache");function $4(f,l){return f=vl(f),a(function(m){return yz(f,l,m)},"cachedStyleFunction")}a($4,"cacheStyleFunction");function G4(f,l){f=vl(f);var d=a(function(y){return l.call(y)},"selfFn");return a(function(){var y=this[0];if(y)return yz(f,d,y)},"cachedPrototypeStyleFunction")}a(G4,"cachePrototypeStyleFunction");var ks={recalculateRenderedStyle:a(function(l){var d=this.cy(),m=d.renderer(),y=d.styleEnabled();return m&&y&&m.recalculateRenderedStyle(this,l),this},"recalculateRenderedStyle"),dirtyStyleCache:a(function(){var l=this.cy(),d=a(function(b){return b._private.styleCache=null},"dirty");if(l.hasCompoundNodes()){var m;m=this.spawnSelf().merge(this.descendants()).merge(this.parents()),m.merge(m.connectedEdges()),m.forEach(d)}else this.forEach(function(y){d(y),y.connectedEdges().forEach(d)});return this},"dirtyStyleCache"),updateStyle:a(function(l){var d=this._private.cy;if(!d.styleEnabled())return this;if(d.batching()){var m=d._private.batchStyleEles;return m.merge(this),this}var y=d.hasCompoundNodes(),b=this;l=!!(l||l===void 0),y&&(b=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var w=b;return l?w.emitAndNotify("style"):w.emit("style"),b.forEach(function(T){return T._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:a(function(){var l=this.cy();if(l.styleEnabled())for(var d=0;d<this.length;d++){var m=this[d];m._private.styleDirty&&(m._private.styleDirty=!1,l.style().apply(m))}},"cleanStyle"),parsedStyle:a(function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=this[0],y=m.cy();if(y.styleEnabled()&&m){this.cleanStyle();var b=m._private.style[l];return b??(d?y.style().getDefaultProperty(l):null)}},"parsedStyle"),numericStyle:a(function(l){var d=this[0];if(d.cy().styleEnabled()&&d){var m=d.pstyle(l);return m.pfValue!==void 0?m.pfValue:m.value}},"numericStyle"),numericStyleUnits:a(function(l){var d=this[0];if(d.cy().styleEnabled()&&d)return d.pstyle(l).units},"numericStyleUnits"),renderedStyle:a(function(l){var d=this.cy();if(!d.styleEnabled())return this;var m=this[0];if(m)return d.style().getRenderedStyle(m,l)},"renderedStyle"),style:a(function(l,d){var m=this.cy();if(!m.styleEnabled())return this;var y=!1,b=m.style();if(O(l)){var w=l;b.applyBypass(this,w,y),this.emitAndNotify("style")}else if(P(l))if(d===void 0){var T=this[0];return T?b.getStylePropertyValue(T,l):void 0}else b.applyBypass(this,l,d,y),this.emitAndNotify("style");else if(l===void 0){var S=this[0];return S?b.getRawStyle(S):void 0}return this},"style"),removeStyle:a(function(l){var d=this.cy();if(!d.styleEnabled())return this;var m=!1,y=d.style(),b=this;if(l===void 0)for(var w=0;w<b.length;w++){var T=b[w];y.removeAllBypasses(T,m)}else{l=l.split(/\s+/);for(var S=0;S<b.length;S++){var C=b[S];y.removeBypasses(C,l,m)}}return this.emitAndNotify("style"),this},"removeStyle"),show:a(function(){return this.css("display","element"),this},"show"),hide:a(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:a(function(){var l=this.cy();if(!l.styleEnabled())return 1;var d=l.hasCompoundNodes(),m=this[0];if(m){var y=m._private,b=m.pstyle("opacity").value;if(!d)return b;var w=y.data.parent?m.parents():null;if(w)for(var T=0;T<w.length;T++){var S=w[T],C=S.pstyle("opacity").value;b=C*b}return b}},"effectiveOpacity"),transparent:a(function(){var l=this.cy();if(!l.styleEnabled())return!1;var d=this[0],m=d.cy().hasCompoundNodes();if(d)return m?d.effectiveOpacity()===0:d.pstyle("opacity").value===0},"transparent"),backgrounding:a(function(){var l=this.cy();if(!l.styleEnabled())return!1;var d=this[0];return!!d._private.backgrounding},"backgrounding")};function bC(f,l){var d=f._private,m=d.data.parent?f.parents():null;if(m)for(var y=0;y<m.length;y++){var b=m[y];if(!l(b))return!1}return!0}a(bC,"checkCompound");function kC(f){var l=f.ok,d=f.edgeOkViaNode||f.ok,m=f.parentOk||f.ok;return function(){var y=this.cy();if(!y.styleEnabled())return!0;var b=this[0],w=y.hasCompoundNodes();if(b){var T=b._private;if(!l(b))return!1;if(b.isNode())return!w||bC(b,m);var S=T.source,C=T.target;return d(S)&&(!w||bC(S,d))&&(S===C||d(C)&&(!w||bC(C,d)))}}}a(kC,"defineDerivedStateFunction");var Lm=$4("eleTakesUpSpace",function(f){return f.pstyle("display").value==="element"&&f.width()!==0&&(f.isNode()?f.height()!==0:!0)});ks.takesUpSpace=G4("takesUpSpace",kC({ok:Lm}));var E4e=$4("eleInteractive",function(f){return f.pstyle("events").value==="yes"&&f.pstyle("visibility").value==="visible"&&Lm(f)}),C4e=$4("parentInteractive",function(f){return f.pstyle("visibility").value==="visible"&&Lm(f)});ks.interactive=G4("interactive",kC({ok:E4e,parentOk:C4e,edgeOkViaNode:Lm})),ks.noninteractive=function(){var f=this[0];if(f)return!f.interactive()};var S4e=$4("eleVisible",function(f){return f.pstyle("visibility").value==="visible"&&f.pstyle("opacity").pfValue!==0&&Lm(f)}),_4e=Lm;ks.visible=G4("visible",kC({ok:S4e,edgeOkViaNode:_4e})),ks.hidden=function(){var f=this[0];if(f)return!f.visible()},ks.isBundledBezier=G4("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1}),ks.bypass=ks.css=ks.style,ks.renderedCss=ks.renderedStyle,ks.removeBypass=ks.removeCss=ks.removeStyle,ks.pstyle=ks.parsedStyle;var $f={};function vz(f){return function(){var l=arguments,d=[];if(l.length===2){var m=l[0],y=l[1];this.on(f.event,m,y)}else if(l.length===1&&V(l[0])){var b=l[0];this.on(f.event,b)}else if(l.length===0||l.length===1&&H(l[0])){for(var w=l.length===1?l[0]:null,T=0;T<this.length;T++){var S=this[T],C=!f.ableField||S._private[f.ableField],A=S._private[f.field]!=f.value;if(f.overrideAble){var R=f.overrideAble(S);if(R!==void 0&&(C=R,!R))return this}C&&(S._private[f.field]=f.value,A&&d.push(S))}var $=this.spawn(d);$.updateStyle(),$.emit(f.event),w&&$.emit(w)}return this}}a(vz,"defineSwitchFunction");function Dm(f){$f[f.field]=function(){var l=this[0];if(l){if(f.overrideField){var d=f.overrideField(l);if(d!==void 0)return d}return l._private[f.field]}},$f[f.on]=vz({event:f.on,field:f.field,ableField:f.ableField,overrideAble:f.overrideAble,value:!0}),$f[f.off]=vz({event:f.off,field:f.field,ableField:f.ableField,overrideAble:f.overrideAble,value:!1})}a(Dm,"defineSwitchSet"),Dm({field:"locked",overrideField:a(function(l){return l.cy().autolock()?!0:void 0},"overrideField"),on:"lock",off:"unlock"}),Dm({field:"grabbable",overrideField:a(function(l){return l.cy().autoungrabify()||l.pannable()?!1:void 0},"overrideField"),on:"grabify",off:"ungrabify"}),Dm({field:"selected",ableField:"selectable",overrideAble:a(function(l){return l.cy().autounselectify()?!1:void 0},"overrideAble"),on:"select",off:"unselect"}),Dm({field:"selectable",overrideField:a(function(l){return l.cy().autounselectify()?!1:void 0},"overrideField"),on:"selectify",off:"unselectify"}),$f.deselect=$f.unselect,$f.grabbed=function(){var f=this[0];if(f)return f._private.grabbed},Dm({field:"active",on:"activate",off:"unactivate"}),Dm({field:"pannable",on:"panify",off:"unpanify"}),$f.inactive=function(){var f=this[0];if(f)return!f._private.active};var Xs={},xz=a(function(l){return a(function(m){for(var y=this,b=[],w=0;w<y.length;w++){var T=y[w];if(T.isNode()){for(var S=!1,C=T.connectedEdges(),A=0;A<C.length;A++){var R=C[A],$=R.source(),U=R.target();if(l.noIncomingEdges&&U===T&&$!==T||l.noOutgoingEdges&&$===T&&U!==T){S=!0;break}}S||b.push(T)}}return this.spawn(b,!0).filter(m)},"dagExtremityImpl")},"defineDagExtremity"),bz=a(function(l){return function(d){for(var m=this,y=[],b=0;b<m.length;b++){var w=m[b];if(w.isNode())for(var T=w.connectedEdges(),S=0;S<T.length;S++){var C=T[S],A=C.source(),R=C.target();l.outgoing&&A===w?(y.push(C),y.push(R)):l.incoming&&R===w&&(y.push(C),y.push(A))}}return this.spawn(y,!0).filter(d)}},"defineDagOneHop"),kz=a(function(l){return function(d){for(var m=this,y=[],b={};;){var w=l.outgoing?m.outgoers():m.incomers();if(w.length===0)break;for(var T=!1,S=0;S<w.length;S++){var C=w[S],A=C.id();b[A]||(b[A]=!0,y.push(C),T=!0)}if(!T)break;m=w}return this.spawn(y,!0).filter(d)}},"defineDagAllHops");Xs.clearTraversalCache=function(){for(var f=0;f<this.length;f++)this[f]._private.traversalCache=null},pe(Xs,{roots:xz({noIncomingEdges:!0}),leaves:xz({noOutgoingEdges:!0}),outgoers:Yl(bz({outgoing:!0}),"outgoers"),successors:kz({outgoing:!0}),incomers:Yl(bz({incoming:!0}),"incomers"),predecessors:kz({incoming:!0})}),pe(Xs,{neighborhood:Yl(function(f){for(var l=[],d=this.nodes(),m=0;m<d.length;m++)for(var y=d[m],b=y.connectedEdges(),w=0;w<b.length;w++){var T=b[w],S=T.source(),C=T.target(),A=y===S?C:S;A.length>0&&l.push(A[0]),l.push(T[0])}return this.spawn(l,!0).filter(f)},"neighborhood"),closedNeighborhood:a(function(l){return this.neighborhood().add(this).filter(l)},"closedNeighborhood"),openNeighborhood:a(function(l){return this.neighborhood(l)},"openNeighborhood")}),Xs.neighbourhood=Xs.neighborhood,Xs.closedNeighbourhood=Xs.closedNeighborhood,Xs.openNeighbourhood=Xs.openNeighborhood,pe(Xs,{source:Yl(a(function(l){var d=this[0],m;return d&&(m=d._private.source||d.cy().collection()),m&&l?m.filter(l):m},"sourceImpl"),"source"),target:Yl(a(function(l){var d=this[0],m;return d&&(m=d._private.target||d.cy().collection()),m&&l?m.filter(l):m},"targetImpl"),"target"),sources:wz({attr:"source"}),targets:wz({attr:"target"})});function wz(f){return a(function(d){for(var m=[],y=0;y<this.length;y++){var b=this[y],w=b._private[f.attr];w&&m.push(w)}return this.spawn(m,!0).filter(d)},"sourceImpl")}a(wz,"defineSourceFunction"),pe(Xs,{edgesWith:Yl(Tz(),"edgesWith"),edgesTo:Yl(Tz({thisIsSrc:!0}),"edgesTo")});function Tz(f){return a(function(d){var m=[],y=this._private.cy,b=f||{};P(d)&&(d=y.$(d));for(var w=0;w<d.length;w++)for(var T=d[w]._private.edges,S=0;S<T.length;S++){var C=T[S],A=C._private.data,R=this.hasElementWithId(A.source)&&d.hasElementWithId(A.target),$=d.hasElementWithId(A.source)&&this.hasElementWithId(A.target),U=R||$;U&&((b.thisIsSrc||b.thisIsTgt)&&(b.thisIsSrc&&!R||b.thisIsTgt&&!$)||m.push(C))}return this.spawn(m,!0)},"edgesWithImpl")}a(Tz,"defineEdgesWithFunction"),pe(Xs,{connectedEdges:Yl(function(f){for(var l=[],d=this,m=0;m<d.length;m++){var y=d[m];if(y.isNode())for(var b=y._private.edges,w=0;w<b.length;w++){var T=b[w];l.push(T)}}return this.spawn(l,!0).filter(f)},"connectedEdges"),connectedNodes:Yl(function(f){for(var l=[],d=this,m=0;m<d.length;m++){var y=d[m];y.isEdge()&&(l.push(y.source()[0]),l.push(y.target()[0]))}return this.spawn(l,!0).filter(f)},"connectedNodes"),parallelEdges:Yl(Ez(),"parallelEdges"),codirectedEdges:Yl(Ez({codirected:!0}),"codirectedEdges")});function Ez(f){var l={codirected:!1};return f=pe({},l,f),a(function(m){for(var y=[],b=this.edges(),w=f,T=0;T<b.length;T++)for(var S=b[T],C=S._private,A=C.source,R=A._private.data.id,$=C.data.target,U=A._private.edges,q=0;q<U.length;q++){var ne=U[q],ee=ne._private.data,K=ee.target,se=ee.source,oe=K===$&&se===R,fe=R===K&&$===se;(w.codirected&&oe||!w.codirected&&(oe||fe))&&y.push(ne)}return this.spawn(y,!0).filter(m)},"parallelEdgesImpl")}a(Ez,"defineParallelEdgesFunction"),pe(Xs,{components:a(function(l){var d=this,m=d.cy(),y=m.collection(),b=l==null?d.nodes():l.nodes(),w=[];l!=null&&b.empty()&&(b=l.sources());var T=a(function(A,R){y.merge(A),b.unmerge(A),R.merge(A)},"visitInComponent");if(b.empty())return d.spawn();var S=a(function(){var A=m.collection();w.push(A);var R=b[0];T(R,A),d.bfs({directed:!1,roots:R,visit:a(function(U){return T(U,A)},"visit")}),A.forEach(function($){$.connectedEdges().forEach(function(U){d.has(U)&&A.has(U.source())&&A.has(U.target())&&A.merge(U)})})},"_loop");do S();while(b.length>0);return w},"components"),component:a(function(){var l=this[0];return l.cy().mutableElements().components(l)[0]},"component")}),Xs.componentsOf=Xs.components;var ws=a(function(l,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(l===void 0){Mn("A collection must have a reference to the core");return}var b=new xl,w=!1;if(!d)d=[];else if(d.length>0&&O(d[0])&&!D(d[0])){w=!0;for(var T=[],S=new Ze,C=0,A=d.length;C<A;C++){var R=d[C];R.data==null&&(R.data={});var $=R.data;if($.id==null)$.id=Bo();else if(l.hasElementWithId($.id)||S.has($.id))continue;var U=new zt(l,R,!1);T.push(U),S.add($.id)}d=T}this.length=0;for(var q=0,ne=d.length;q<ne;q++){var ee=d[q][0];if(ee!=null){var K=ee._private.data.id;(!m||!b.has(K))&&(m&&b.set(K,{index:this.length,ele:ee}),this[this.length]=ee,this.length++)}}this._private={eles:this,cy:l,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(se){this.lazyMap=se},rebuildMap:a(function(){for(var oe=this.lazyMap=new xl,fe=this.eles,be=0;be<fe.length;be++){var ye=fe[be];oe.set(ye.id(),{index:be,ele:ye})}},"rebuildMap")},m&&(this._private.map=b),w&&!y&&this.restore()},"Collection"),Ei=zt.prototype=ws.prototype=Object.create(Array.prototype);Ei.instanceString=function(){return"collection"},Ei.spawn=function(f,l){return new ws(this.cy(),f,l)},Ei.spawnSelf=function(){return this.spawn(this)},Ei.cy=function(){return this._private.cy},Ei.renderer=function(){return this._private.cy.renderer()},Ei.element=function(){return this[0]},Ei.collection=function(){return X(this)?this:new ws(this._private.cy,[this])},Ei.unique=function(){return new ws(this._private.cy,this,!0)},Ei.hasElementWithId=function(f){return f=""+f,this._private.map.has(f)},Ei.getElementById=function(f){f=""+f;var l=this._private.cy,d=this._private.map.get(f);return d?d.ele:new ws(l)},Ei.$id=Ei.getElementById,Ei.poolIndex=function(){var f=this._private.cy,l=f._private.elements,d=this[0]._private.data.id;return l._private.map.get(d).index},Ei.indexOf=function(f){var l=f[0]._private.data.id;return this._private.map.get(l).index},Ei.indexOfId=function(f){return f=""+f,this._private.map.get(f).index},Ei.json=function(f){var l=this.element(),d=this.cy();if(l==null&&f)return this;if(l!=null){var m=l._private;if(O(f)){if(d.startBatch(),f.data){l.data(f.data);var y=m.data;if(l.isEdge()){var b=!1,w={},T=f.data.source,S=f.data.target;T!=null&&T!=y.source&&(w.source=""+T,b=!0),S!=null&&S!=y.target&&(w.target=""+S,b=!0),b&&(l=l.move(w))}else{var C="parent"in f.data,A=f.data.parent;C&&(A!=null||y.parent!=null)&&A!=y.parent&&(A===void 0&&(A=null),A!=null&&(A=""+A),l=l.move({parent:A}))}}f.position&&l.position(f.position);var R=a(function(ne,ee,K){var se=f[ne];se!=null&&se!==m[ne]&&(se?l[ee]():l[K]())},"checkSwitch");return R("removed","remove","restore"),R("selected","select","unselect"),R("selectable","selectify","unselectify"),R("locked","lock","unlock"),R("grabbable","grabify","ungrabify"),R("pannable","panify","unpanify"),f.classes!=null&&l.classes(f.classes),d.endBatch(),this}else if(f===void 0){var $={data:pi(m.data),position:pi(m.position),group:m.group,removed:m.removed,selected:m.selected,selectable:m.selectable,locked:m.locked,grabbable:m.grabbable,pannable:m.pannable,classes:null};$.classes="";var U=0;return m.classes.forEach(function(q){return $.classes+=U++===0?q:" "+q}),$}}},Ei.jsons=function(){for(var f=[],l=0;l<this.length;l++){var d=this[l],m=d.json();f.push(m)}return f},Ei.clone=function(){for(var f=this.cy(),l=[],d=0;d<this.length;d++){var m=this[d],y=m.json(),b=new zt(f,y,!1);l.push(b)}return new ws(f,l)},Ei.copy=Ei.clone,Ei.restore=function(){for(var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=this,m=d.cy(),y=m._private,b=[],w=[],T,S=0,C=d.length;S<C;S++){var A=d[S];l&&!A.removed()||(A.isNode()?b.push(A):w.push(A))}T=b.concat(w);var R,$=a(function(){T.splice(R,1),R--},"removeFromElements");for(R=0;R<T.length;R++){var U=T[R],q=U._private,ne=q.data;if(U.clearTraversalCache(),!(!l&&!q.removed)){if(ne.id===void 0)ne.id=Bo();else if(z(ne.id))ne.id=""+ne.id;else if(J(ne.id)||!P(ne.id)){Mn("Can not create element with invalid string ID `"+ne.id+"`"),$();continue}else if(m.hasElementWithId(ne.id)){Mn("Can not create second element with ID `"+ne.id+"`"),$();continue}}var ee=ne.id;if(U.isNode()){var K=q.position;K.x==null&&(K.x=0),K.y==null&&(K.y=0)}if(U.isEdge()){for(var se=U,oe=["source","target"],fe=oe.length,be=!1,ye=0;ye<fe;ye++){var de=oe[ye],ke=ne[de];z(ke)&&(ke=ne[de]=""+ne[de]),ke==null||ke===""?(Mn("Can not create edge `"+ee+"` with unspecified "+de),be=!0):m.hasElementWithId(ke)||(Mn("Can not create edge `"+ee+"` with nonexistant "+de+" `"+ke+"`"),be=!0)}if(be){$();continue}var me=m.getElementById(ne.source),Ce=m.getElementById(ne.target);me.same(Ce)?me._private.edges.push(se):(me._private.edges.push(se),Ce._private.edges.push(se)),se._private.source=me,se._private.target=Ce}q.map=new xl,q.map.set(ee,{ele:U,index:0}),q.removed=!1,l&&m.addToPool(U)}for(var Se=0;Se<b.length;Se++){var xe=b[Se],Ve=xe._private.data;z(Ve.parent)&&(Ve.parent=""+Ve.parent);var Te=Ve.parent,tt=Te!=null;if(tt||xe._private.parent){var We=xe._private.parent?m.collection().merge(xe._private.parent):m.getElementById(Te);if(We.empty())Ve.parent=void 0;else if(We[0].removed())An("Node added with missing parent, reference to parent removed"),Ve.parent=void 0,xe._private.parent=null;else{for(var qe=!1,nt=We;!nt.empty();){if(xe.same(nt)){qe=!0,Ve.parent=void 0;break}nt=nt.parent()}qe||(We[0]._private.children.push(xe),xe._private.parent=We[0],y.hasCompoundNodes=!0)}}}if(T.length>0){for(var dt=T.length===d.length?d:new ws(m,T),wt=0;wt<dt.length;wt++){var it=dt[wt];it.isNode()||(it.parallelEdges().clearTraversalCache(),it.source().clearTraversalCache(),it.target().clearTraversalCache())}var xt;y.hasCompoundNodes?xt=m.collection().merge(dt).merge(dt.connectedNodes()).merge(dt.parent()):xt=dt,xt.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(f),f?dt.emitAndNotify("add"):l&&dt.emit("add")}return d},Ei.removed=function(){var f=this[0];return f&&f._private.removed},Ei.inside=function(){var f=this[0];return f&&!f._private.removed},Ei.remove=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=this,m=[],y={},b=d._private.cy;function w(Te){for(var tt=Te._private.edges,We=0;We<tt.length;We++)S(tt[We])}a(w,"addConnectedEdges");function T(Te){for(var tt=Te._private.children,We=0;We<tt.length;We++)S(tt[We])}a(T,"addChildren");function S(Te){var tt=y[Te.id()];l&&Te.removed()||tt||(y[Te.id()]=!0,Te.isNode()?(m.push(Te),w(Te),T(Te)):m.unshift(Te))}a(S,"add");for(var C=0,A=d.length;C<A;C++){var R=d[C];S(R)}function $(Te,tt){var We=Te._private.edges;Cc(We,tt),Te.clearTraversalCache()}a($,"removeEdgeRef");function U(Te){Te.clearTraversalCache()}a(U,"removeParallelRef");var q=[];q.ids={};function ne(Te,tt){tt=tt[0],Te=Te[0];var We=Te._private.children,qe=Te.id();Cc(We,tt),tt._private.parent=null,q.ids[qe]||(q.ids[qe]=!0,q.push(Te))}a(ne,"removeChildRef"),d.dirtyCompoundBoundsCache(),l&&b.removeFromPool(m);for(var ee=0;ee<m.length;ee++){var K=m[ee];if(K.isEdge()){var se=K.source()[0],oe=K.target()[0];$(se,K),$(oe,K);for(var fe=K.parallelEdges(),be=0;be<fe.length;be++){var ye=fe[be];U(ye),ye.isBundledBezier()&&ye.dirtyBoundingBoxCache()}}else{var de=K.parent();de.length!==0&&ne(de,K)}l&&(K._private.removed=!0)}var ke=b._private.elements;b._private.hasCompoundNodes=!1;for(var me=0;me<ke.length;me++){var Ce=ke[me];if(Ce.isParent()){b._private.hasCompoundNodes=!0;break}}var Se=new ws(this.cy(),m);Se.size()>0&&(f?Se.emitAndNotify("remove"):l&&Se.emit("remove"));for(var xe=0;xe<q.length;xe++){var Ve=q[xe];(!l||!Ve.removed())&&Ve.updateStyle()}return Se},Ei.move=function(f){var l=this._private.cy,d=this,m=!1,y=!1,b=a(function(q){return q==null?q:""+q},"toString");if(f.source!==void 0||f.target!==void 0){var w=b(f.source),T=b(f.target),S=w!=null&&l.hasElementWithId(w),C=T!=null&&l.hasElementWithId(T);(S||C)&&(l.batch(function(){d.remove(m,y),d.emitAndNotify("moveout");for(var U=0;U<d.length;U++){var q=d[U],ne=q._private.data;q.isEdge()&&(S&&(ne.source=w),C&&(ne.target=T))}d.restore(m,y)}),d.emitAndNotify("move"))}else if(f.parent!==void 0){var A=b(f.parent),R=A===null||l.hasElementWithId(A);if(R){var $=A===null?void 0:A;l.batch(function(){var U=d.remove(m,y);U.emitAndNotify("moveout");for(var q=0;q<d.length;q++){var ne=d[q],ee=ne._private.data;ne.isNode()&&(ee.parent=$)}U.restore(m,y)}),d.emitAndNotify("move")}}return this},[AF,Fbe,I4,Bf,Sm,e4e,M4,g4e,pz,mz,k4e,F4,z4,ks,$f,Xs].forEach(function(f){pe(Ei,f)});var A4e={add:a(function(l){var d,m=this;if(j(l)){var y=l;if(y._private.cy===m)d=y.restore();else{for(var b=[],w=0;w<y.length;w++){var T=y[w];b.push(T.json())}d=new ws(m,b)}}else if(H(l)){var S=l;d=new ws(m,S)}else if(O(l)&&(H(l.nodes)||H(l.edges))){for(var C=l,A=[],R=["nodes","edges"],$=0,U=R.length;$<U;$++){var q=R[$],ne=C[q];if(H(ne))for(var ee=0,K=ne.length;ee<K;ee++){var se=pe({group:q},ne[ee]);A.push(se)}}d=new ws(m,A)}else{var oe=l;d=new zt(m,oe).collection()}return d},"add"),remove:a(function(l){if(!j(l)){if(P(l)){var d=l;l=this.$(d)}}return l.remove()},"remove")};function L4e(f,l,d,m){var y=4,b=.001,w=1e-7,T=10,S=11,C=1/(S-1),A=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var R=0;R<4;++R)if(typeof arguments[R]!="number"||isNaN(arguments[R])||!isFinite(arguments[R]))return!1;f=Math.min(f,1),d=Math.min(d,1),f=Math.max(f,0),d=Math.max(d,0);var $=A?new Float32Array(S):new Array(S);function U(Ce,Se){return 1-3*Se+3*Ce}a(U,"A");function q(Ce,Se){return 3*Se-6*Ce}a(q,"B");function ne(Ce){return 3*Ce}a(ne,"C");function ee(Ce,Se,xe){return((U(Se,xe)*Ce+q(Se,xe))*Ce+ne(Se))*Ce}a(ee,"calcBezier");function K(Ce,Se,xe){return 3*U(Se,xe)*Ce*Ce+2*q(Se,xe)*Ce+ne(Se)}a(K,"getSlope");function se(Ce,Se){for(var xe=0;xe<y;++xe){var Ve=K(Se,f,d);if(Ve===0)return Se;var Te=ee(Se,f,d)-Ce;Se-=Te/Ve}return Se}a(se,"newtonRaphsonIterate");function oe(){for(var Ce=0;Ce<S;++Ce)$[Ce]=ee(Ce*C,f,d)}a(oe,"calcSampleValues");function fe(Ce,Se,xe){var Ve,Te,tt=0;do Te=Se+(xe-Se)/2,Ve=ee(Te,f,d)-Ce,Ve>0?xe=Te:Se=Te;while(Math.abs(Ve)>w&&++tt<T);return Te}a(fe,"binarySubdivide");function be(Ce){for(var Se=0,xe=1,Ve=S-1;xe!==Ve&&$[xe]<=Ce;++xe)Se+=C;--xe;var Te=(Ce-$[xe])/($[xe+1]-$[xe]),tt=Se+Te*C,We=K(tt,f,d);return We>=b?se(Ce,tt):We===0?tt:fe(Ce,Se,Se+C)}a(be,"getTForX");var ye=!1;function de(){ye=!0,(f!==l||d!==m)&&oe()}a(de,"precompute");var ke=a(function(Se){return ye||de(),f===l&&d===m?Se:Se===0?0:Se===1?1:ee(be(Se),l,m)},"f");ke.getControlPoints=function(){return[{x:f,y:l},{x:d,y:m}]};var me="generateBezier("+[f,l,d,m]+")";return ke.toString=function(){return me},ke}a(L4e,"generateCubicBezier");var D4e=function(){function f(m){return-m.tension*m.x-m.friction*m.v}a(f,"springAccelerationForState");function l(m,y,b){var w={x:m.x+b.dx*y,v:m.v+b.dv*y,tension:m.tension,friction:m.friction};return{dx:w.v,dv:f(w)}}a(l,"springEvaluateStateWithDerivative");function d(m,y){var b={dx:m.v,dv:f(m)},w=l(m,y*.5,b),T=l(m,y*.5,w),S=l(m,y,T),C=1/6*(b.dx+2*(w.dx+T.dx)+S.dx),A=1/6*(b.dv+2*(w.dv+T.dv)+S.dv);return m.x=m.x+C*y,m.v=m.v+A*y,m}return a(d,"springIntegrateState"),a(function m(y,b,w){var T={x:-1,v:0,tension:null,friction:null},S=[0],C=0,A=1/1e4,R=16/1e3,$,U,q;for(y=parseFloat(y)||500,b=parseFloat(b)||20,w=w||null,T.tension=y,T.friction=b,$=w!==null,$?(C=m(y,b),U=C/w*R):U=R;q=d(q||T,U),S.push(1+q.x),C+=16,Math.abs(q.x)>A&&Math.abs(q.v)>A;);return $?function(ne){return S[ne*(S.length-1)|0]}:C},"springRK4Factory")}(),Ci=a(function(l,d,m,y){var b=L4e(l,d,m,y);return function(w,T,S){return w+(T-w)*b(S)}},"cubicBezier"),V4={linear:a(function(l,d,m){return l+(d-l)*m},"linear"),ease:Ci(.25,.1,.25,1),"ease-in":Ci(.42,0,1,1),"ease-out":Ci(0,0,.58,1),"ease-in-out":Ci(.42,0,.58,1),"ease-in-sine":Ci(.47,0,.745,.715),"ease-out-sine":Ci(.39,.575,.565,1),"ease-in-out-sine":Ci(.445,.05,.55,.95),"ease-in-quad":Ci(.55,.085,.68,.53),"ease-out-quad":Ci(.25,.46,.45,.94),"ease-in-out-quad":Ci(.455,.03,.515,.955),"ease-in-cubic":Ci(.55,.055,.675,.19),"ease-out-cubic":Ci(.215,.61,.355,1),"ease-in-out-cubic":Ci(.645,.045,.355,1),"ease-in-quart":Ci(.895,.03,.685,.22),"ease-out-quart":Ci(.165,.84,.44,1),"ease-in-out-quart":Ci(.77,0,.175,1),"ease-in-quint":Ci(.755,.05,.855,.06),"ease-out-quint":Ci(.23,1,.32,1),"ease-in-out-quint":Ci(.86,0,.07,1),"ease-in-expo":Ci(.95,.05,.795,.035),"ease-out-expo":Ci(.19,1,.22,1),"ease-in-out-expo":Ci(1,0,0,1),"ease-in-circ":Ci(.6,.04,.98,.335),"ease-out-circ":Ci(.075,.82,.165,1),"ease-in-out-circ":Ci(.785,.135,.15,.86),spring:a(function(l,d,m){if(m===0)return V4.linear;var y=D4e(l,d,m);return function(b,w,T){return b+(w-b)*y(T)}},"spring"),"cubic-bezier":Ci};function Cz(f,l,d,m,y){if(m===1||l===d)return d;var b=y(l,d,m);return f==null||((f.roundValue||f.color)&&(b=Math.round(b)),f.min!==void 0&&(b=Math.max(b,f.min)),f.max!==void 0&&(b=Math.min(b,f.max))),b}a(Cz,"getEasedValue");function Sz(f,l){return f.pfValue!=null||f.value!=null?f.pfValue!=null&&(l==null||l.type.units!=="%")?f.pfValue:f.value:f}a(Sz,"getValue");function Rm(f,l,d,m,y){var b=y!=null?y.type:null;d<0?d=0:d>1&&(d=1);var w=Sz(f,y),T=Sz(l,y);if(z(w)&&z(T))return Cz(b,w,T,d,m);if(H(w)&&H(T)){for(var S=[],C=0;C<T.length;C++){var A=w[C],R=T[C];if(A!=null&&R!=null){var $=Cz(b,A,R,d,m);S.push($)}else S.push(R)}return S}}a(Rm,"ease");function R4e(f,l,d,m){var y=!m,b=f._private,w=l._private,T=w.easing,S=w.startTime,C=m?f:f.cy(),A=C.style();if(!w.easingImpl)if(T==null)w.easingImpl=V4.linear;else{var R;if(P(T)){var $=A.parse("transition-timing-function",T);R=$.value}else R=T;var U,q;P(R)?(U=R,q=[]):(U=R[1],q=R.slice(2).map(function(dt){return+dt})),q.length>0?(U==="spring"&&q.push(w.duration),w.easingImpl=V4[U].apply(null,q)):w.easingImpl=V4[U]}var ne=w.easingImpl,ee;if(w.duration===0?ee=1:ee=(d-S)/w.duration,w.applying&&(ee=w.progress),ee<0?ee=0:ee>1&&(ee=1),w.delay==null){var K=w.startPosition,se=w.position;if(se&&y&&!f.locked()){var oe={};Wy(K.x,se.x)&&(oe.x=Rm(K.x,se.x,ee,ne)),Wy(K.y,se.y)&&(oe.y=Rm(K.y,se.y,ee,ne)),f.position(oe)}var fe=w.startPan,be=w.pan,ye=b.pan,de=be!=null&&m;de&&(Wy(fe.x,be.x)&&(ye.x=Rm(fe.x,be.x,ee,ne)),Wy(fe.y,be.y)&&(ye.y=Rm(fe.y,be.y,ee,ne)),f.emit("pan"));var ke=w.startZoom,me=w.zoom,Ce=me!=null&&m;Ce&&(Wy(ke,me)&&(b.zoom=Ny(b.minZoom,Rm(ke,me,ee,ne),b.maxZoom)),f.emit("zoom")),(de||Ce)&&f.emit("viewport");var Se=w.style;if(Se&&Se.length>0&&y){for(var xe=0;xe<Se.length;xe++){var Ve=Se[xe],Te=Ve.name,tt=Ve,We=w.startStyle[Te],qe=A.properties[We.name],nt=Rm(We,tt,ee,ne,qe);A.overrideBypass(f,Te,nt)}f.emit("style")}}return w.progress=ee,ee}a(R4e,"step$1");function Wy(f,l){return f==null||l==null?!1:z(f)&&z(l)?!0:!!(f&&l)}a(Wy,"valid");function I4e(f,l,d,m){var y=l._private;y.started=!0,y.startTime=d-y.progress*y.duration}a(I4e,"startAnimation");function _z(f,l){var d=l._private.aniEles,m=[];function y(A,R){var $=A._private,U=$.animation.current,q=$.animation.queue,ne=!1;if(U.length===0){var ee=q.shift();ee&&U.push(ee)}for(var K=a(function(ye){for(var de=ye.length-1;de>=0;de--){var ke=ye[de];ke()}ye.splice(0,ye.length)},"callbacks"),se=U.length-1;se>=0;se--){var oe=U[se],fe=oe._private;if(fe.stopped){U.splice(se,1),fe.hooked=!1,fe.playing=!1,fe.started=!1,K(fe.frames);continue}!fe.playing&&!fe.applying||(fe.playing&&fe.applying&&(fe.applying=!1),fe.started||I4e(A,oe,f),R4e(A,oe,f,R),fe.applying&&(fe.applying=!1),K(fe.frames),fe.step!=null&&fe.step(f),oe.completed()&&(U.splice(se,1),fe.hooked=!1,fe.playing=!1,fe.started=!1,K(fe.completes)),ne=!0)}return!R&&U.length===0&&q.length===0&&m.push(A),ne}a(y,"stepOne");for(var b=!1,w=0;w<d.length;w++){var T=d[w],S=y(T);b=b||S}var C=y(l,!0);(b||C)&&(d.length>0?l.notify("draw",d):l.notify("draw")),d.unmerge(m),l.emit("step")}a(_z,"stepAll");var M4e={animate:Jn.animate(),animation:Jn.animation(),animated:Jn.animated(),clearQueue:Jn.clearQueue(),delay:Jn.delay(),delayAnimation:Jn.delayAnimation(),stop:Jn.stop(),addToAnimationPool:a(function(l){var d=this;d.styleEnabled()&&d._private.aniEles.merge(l)},"addToAnimationPool"),stopAnimationLoop:a(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:a(function(){var l=this;if(l._private.animationsRunning=!0,!l.styleEnabled())return;function d(){l._private.animationsRunning&&bs(a(function(b){_z(b,l),d()},"animationStep"))}a(d,"headlessStep");var m=l.renderer();m&&m.beforeRender?m.beforeRender(a(function(b,w){_z(w,l)},"rendererAnimationStep"),m.beforeRenderPriorities.animations):d()},"startAnimationLoop")},N4e={qualifierCompare:a(function(l,d){return l==null||d==null?l==null&&d==null:l.sameText(d)},"qualifierCompare"),eventMatches:a(function(l,d,m){var y=d.qualifier;return y!=null?l!==m.target&&D(m.target)&&y.matches(m.target):!0},"eventMatches"),addEventFields:a(function(l,d){d.cy=l,d.target=l},"addEventFields"),callbackContext:a(function(l,d,m){return d.qualifier!=null?m.target:l},"callbackContext")},q4=a(function(l){return P(l)?new Of(l):l},"argSelector"),Az={createEmitter:a(function(){var l=this._private;return l.emitter||(l.emitter=new P4(N4e,this)),this},"createEmitter"),emitter:a(function(){return this._private.emitter},"emitter"),on:a(function(l,d,m){return this.emitter().on(l,q4(d),m),this},"on"),removeListener:a(function(l,d,m){return this.emitter().removeListener(l,q4(d),m),this},"removeListener"),removeAllListeners:a(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:a(function(l,d,m){return this.emitter().one(l,q4(d),m),this},"one"),once:a(function(l,d,m){return this.emitter().one(l,q4(d),m),this},"once"),emit:a(function(l,d){return this.emitter().emit(l,d),this},"emit"),emitAndNotify:a(function(l,d){return this.emit(l),this.notify(l,d),this},"emitAndNotify")};Jn.eventAliasesOn(Az);var wC={png:a(function(l){var d=this._private.renderer;return l=l||{},d.png(l)},"png"),jpg:a(function(l){var d=this._private.renderer;return l=l||{},l.bg=l.bg||"#fff",d.jpg(l)},"jpg")};wC.jpeg=wC.jpg;var U4={layout:a(function(l){var d=this;if(l==null){Mn("Layout options must be specified to make a layout");return}if(l.name==null){Mn("A `name` must be specified to make a layout");return}var m=l.name,y=d.extension("layout",m);if(y==null){Mn("No such layout `"+m+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var b;P(l.eles)?b=d.$(l.eles):b=l.eles!=null?l.eles:d.$();var w=new y(pe({},l,{cy:d,eles:b}));return w},"layout")};U4.createLayout=U4.makeLayout=U4.layout;var O4e={notify:a(function(l,d){var m=this._private;if(this.batching()){m.batchNotifications=m.batchNotifications||{};var y=m.batchNotifications[l]=m.batchNotifications[l]||this.collection();d!=null&&y.merge(d);return}if(m.notificationsEnabled){var b=this.renderer();this.destroyed()||!b||b.notify(l,d)}},"notify"),notifications:a(function(l){var d=this._private;return l===void 0?d.notificationsEnabled:(d.notificationsEnabled=!!l,this)},"notifications"),noNotifications:a(function(l){this.notifications(!1),l(),this.notifications(!0)},"noNotifications"),batching:a(function(){return this._private.batchCount>0},"batching"),startBatch:a(function(){var l=this._private;return l.batchCount==null&&(l.batchCount=0),l.batchCount===0&&(l.batchStyleEles=this.collection(),l.batchNotifications={}),l.batchCount++,this},"startBatch"),endBatch:a(function(){var l=this._private;if(l.batchCount===0)return this;if(l.batchCount--,l.batchCount===0){l.batchStyleEles.updateStyle();var d=this.renderer();Object.keys(l.batchNotifications).forEach(function(m){var y=l.batchNotifications[m];y.empty()?d.notify(m):d.notify(m,y)})}return this},"endBatch"),batch:a(function(l){return this.startBatch(),l(),this.endBatch(),this},"batch"),batchData:a(function(l){var d=this;return this.batch(function(){for(var m=Object.keys(l),y=0;y<m.length;y++){var b=m[y],w=l[b],T=d.getElementById(b);T.data(w)}})},"batchData")},P4e=Sa({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),TC={renderTo:a(function(l,d,m,y){var b=this._private.renderer;return b.renderTo(l,d,m,y),this},"renderTo"),renderer:a(function(){return this._private.renderer},"renderer"),forceRender:a(function(){return this.notify("draw"),this},"forceRender"),resize:a(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:a(function(l){var d=this,m=d.extension("renderer",l.name);if(m==null){Mn("Can not initialise: No such renderer `".concat(l.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}l.wheelSensitivity!==void 0&&An("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var y=P4e(l);y.cy=d,d._private.renderer=new m(y),this.notify("init")},"initRenderer"),destroyRenderer:a(function(){var l=this;l.notify("destroy");var d=l.container();if(d)for(d._cyreg=null;d.childNodes.length>0;)d.removeChild(d.childNodes[0]);l._private.renderer=null,l.mutableElements().forEach(function(m){var y=m._private;y.rscratch={},y.rstyle={},y.animation.current=[],y.animation.queue=[]})},"destroyRenderer"),onRender:a(function(l){return this.on("render",l)},"onRender"),offRender:a(function(l){return this.off("render",l)},"offRender")};TC.invalidateDimensions=TC.resize;var H4={collection:a(function(l,d){return P(l)?this.$(l):j(l)?l.collection():H(l)?(d||(d={}),new ws(this,l,d.unique,d.removed)):new ws(this)},"collection"),nodes:a(function(l){var d=this.$(function(m){return m.isNode()});return l?d.filter(l):d},"nodes"),edges:a(function(l){var d=this.$(function(m){return m.isEdge()});return l?d.filter(l):d},"edges"),$:a(function(l){var d=this._private.elements;return l?d.filter(l):d.spawnSelf()},"$"),mutableElements:a(function(){return this._private.elements},"mutableElements")};H4.elements=H4.filter=H4.$;var js={},Yy="t",B4e="f";js.apply=function(f){for(var l=this,d=l._private,m=d.cy,y=m.collection(),b=0;b<f.length;b++){var w=f[b],T=l.getContextMeta(w);if(!T.empty){var S=l.getContextStyle(T),C=l.applyContextStyle(T,S,w);w._private.appliedInitStyle?l.updateTransitions(w,C.diffProps):w._private.appliedInitStyle=!0;var A=l.updateStyleHints(w);A&&y.push(w)}}return y},js.getPropertiesDiff=function(f,l){var d=this,m=d._private.propDiffs=d._private.propDiffs||{},y=f+"-"+l,b=m[y];if(b)return b;for(var w=[],T={},S=0;S<d.length;S++){var C=d[S],A=f[S]===Yy,R=l[S]===Yy,$=A!==R,U=C.mappedProperties.length>0;if($||R&&U){var q=void 0;$&&U||$?q=C.properties:U&&(q=C.mappedProperties);for(var ne=0;ne<q.length;ne++){for(var ee=q[ne],K=ee.name,se=!1,oe=S+1;oe<d.length;oe++){var fe=d[oe],be=l[oe]===Yy;if(be&&(se=fe.properties[ee.name]!=null,se))break}!T[K]&&!se&&(T[K]=!0,w.push(K))}}}return m[y]=w,w},js.getContextMeta=function(f){for(var l=this,d="",m,y=f._private.styleCxtKey||"",b=0;b<l.length;b++){var w=l[b],T=w.selector&&w.selector.matches(f);T?d+=Yy:d+=B4e}return m=l.getPropertiesDiff(y,d),f._private.styleCxtKey=d,{key:d,diffPropNames:m,empty:m.length===0}},js.getContextStyle=function(f){var l=f.key,d=this,m=this._private.contextStyles=this._private.contextStyles||{};if(m[l])return m[l];for(var y={_private:{key:l}},b=0;b<d.length;b++){var w=d[b],T=l[b]===Yy;if(T)for(var S=0;S<w.properties.length;S++){var C=w.properties[S];y[C.name]=C}}return m[l]=y,y},js.applyContextStyle=function(f,l,d){for(var m=this,y=f.diffPropNames,b={},w=m.types,T=0;T<y.length;T++){var S=y[T],C=l[S],A=d.pstyle(S);if(!C)if(A)A.bypass?C={name:S,deleteBypassed:!0}:C={name:S,delete:!0};else continue;if(A!==C){if(C.mapped===w.fn&&A!=null&&A.mapping!=null&&A.mapping.value===C.value){var R=A.mapping,$=R.fnValue=C.value(d);if($===R.prevFnValue)continue}var U=b[S]={prev:A};m.applyParsedProperty(d,C),U.next=d.pstyle(S),U.next&&U.next.bypass&&(U.next=U.next.bypassed)}}return{diffProps:b}},js.updateStyleHints=function(f){var l=f._private,d=this,m=d.propertyGroupNames,y=d.propertyGroupKeys,b=a(function(Wt,mr,Ur){return d.getPropertiesHash(Wt,mr,Ur)},"propHash"),w=l.styleKey;if(f.removed())return!1;var T=l.group==="nodes",S=f._private.style;m=Object.keys(S);for(var C=0;C<y.length;C++){var A=y[C];l.styleKeys[A]=[Ji,Du]}for(var R=a(function(Wt,mr){return l.styleKeys[mr][0]=Ru(Wt,l.styleKeys[mr][0])},"updateGrKey1"),$=a(function(Wt,mr){return l.styleKeys[mr][1]=Ul(Wt,l.styleKeys[mr][1])},"updateGrKey2"),U=a(function(Wt,mr){R(Wt,mr),$(Wt,mr)},"updateGrKey"),q=a(function(Wt,mr){for(var Ur=0;Ur<Wt.length;Ur++){var Qt=Wt.charCodeAt(Ur);R(Qt,mr),$(Qt,mr)}},"updateGrKeyWStr"),ne=2e9,ee=a(function(Wt){return-128<Wt&&Wt<128&&Math.floor(Wt)!==Wt?ne-(Wt*1024|0):Wt},"cleanNum"),K=0;K<m.length;K++){var se=m[K],oe=S[se];if(oe!=null){var fe=this.properties[se],be=fe.type,ye=fe.groupKey,de=void 0;fe.hashOverride!=null?de=fe.hashOverride(f,oe):oe.pfValue!=null&&(de=oe.pfValue);var ke=fe.enums==null?oe.value:null,me=de!=null,Ce=ke!=null,Se=me||Ce,xe=oe.units;if(be.number&&Se&&!be.multiple){var Ve=me?de:ke;U(ee(Ve),ye),!me&&xe!=null&&q(xe,ye)}else q(oe.strValue,ye)}}for(var Te=[Ji,Du],tt=0;tt<y.length;tt++){var We=y[tt],qe=l.styleKeys[We];Te[0]=Ru(qe[0],Te[0]),Te[1]=Ul(qe[1],Te[1])}l.styleKey=Mi(Te[0],Te[1]);var nt=l.styleKeys;l.labelDimsKey=Ti(nt.labelDimensions);var dt=b(f,["label"],nt.labelDimensions);if(l.labelKey=Ti(dt),l.labelStyleKey=Ti(ho(nt.commonLabel,dt)),!T){var wt=b(f,["source-label"],nt.labelDimensions);l.sourceLabelKey=Ti(wt),l.sourceLabelStyleKey=Ti(ho(nt.commonLabel,wt));var it=b(f,["target-label"],nt.labelDimensions);l.targetLabelKey=Ti(it),l.targetLabelStyleKey=Ti(ho(nt.commonLabel,it))}if(T){var xt=l.styleKeys,Et=xt.nodeBody,Dt=xt.nodeBorder,St=xt.nodeOutline,Rt=xt.backgroundImage,ht=xt.compound,_t=xt.pie,Ot=[Et,Dt,St,Rt,ht,_t].filter(function(Mt){return Mt!=null}).reduce(ho,[Ji,Du]);l.nodeKey=Ti(Ot),l.hasPie=_t!=null&&_t[0]!==Ji&&_t[1]!==Du}return w!==l.styleKey},js.clearStyleHints=function(f){var l=f._private;l.styleCxtKey="",l.styleKeys={},l.styleKey=null,l.labelKey=null,l.labelStyleKey=null,l.sourceLabelKey=null,l.sourceLabelStyleKey=null,l.targetLabelKey=null,l.targetLabelStyleKey=null,l.nodeKey=null,l.hasPie=null},js.applyParsedProperty=function(f,l){var d=this,m=l,y=f._private.style,b,w=d.types,T=d.properties[m.name].type,S=m.bypass,C=y[m.name],A=C&&C.bypass,R=f._private,$="mapping",U=a(function(Et){return Et==null?null:Et.pfValue!=null?Et.pfValue:Et.value},"getVal"),q=a(function(){var Et=U(C),Dt=U(m);d.checkTriggers(f,m.name,Et,Dt)},"checkTriggers");if(l.name==="curve-style"&&f.isEdge()&&(l.value!=="bezier"&&f.isLoop()||l.value==="haystack"&&(f.source().isParent()||f.target().isParent()))&&(m=l=this.parse(l.name,"bezier",S)),m.delete)return y[m.name]=void 0,q(),!0;if(m.deleteBypassed)return C?C.bypass?(C.bypassed=void 0,q(),!0):!1:(q(),!0);if(m.deleteBypass)return C?C.bypass?(y[m.name]=C.bypassed,q(),!0):!1:(q(),!0);var ne=a(function(){An("Do not assign mappings to elements without corresponding data (i.e. ele `"+f.id()+"` has no mapping for property `"+m.name+"` with data field `"+m.field+"`); try a `["+m.field+"]` selector to limit scope to elements with `"+m.field+"` defined")},"printMappingErr");switch(m.mapped){case w.mapData:{for(var ee=m.field.split("."),K=R.data,se=0;se<ee.length&&K;se++){var oe=ee[se];K=K[oe]}if(K==null)return ne(),!1;var fe;if(z(K)){var be=m.fieldMax-m.fieldMin;be===0?fe=0:fe=(K-m.fieldMin)/be}else return An("Do not use continuous mappers without specifying numeric data (i.e. `"+m.field+": "+K+"` for `"+f.id()+"` is non-numeric)"),!1;if(fe<0?fe=0:fe>1&&(fe=1),T.color){var ye=m.valueMin[0],de=m.valueMax[0],ke=m.valueMin[1],me=m.valueMax[1],Ce=m.valueMin[2],Se=m.valueMax[2],xe=m.valueMin[3]==null?1:m.valueMin[3],Ve=m.valueMax[3]==null?1:m.valueMax[3],Te=[Math.round(ye+(de-ye)*fe),Math.round(ke+(me-ke)*fe),Math.round(Ce+(Se-Ce)*fe),Math.round(xe+(Ve-xe)*fe)];b={bypass:m.bypass,name:m.name,value:Te,strValue:"rgb("+Te[0]+", "+Te[1]+", "+Te[2]+")"}}else if(T.number){var tt=m.valueMin+(m.valueMax-m.valueMin)*fe;b=this.parse(m.name,tt,m.bypass,$)}else return!1;if(!b)return ne(),!1;b.mapping=m,m=b;break}case w.data:{for(var We=m.field.split("."),qe=R.data,nt=0;nt<We.length&&qe;nt++){var dt=We[nt];qe=qe[dt]}if(qe!=null&&(b=this.parse(m.name,qe,m.bypass,$)),!b)return ne(),!1;b.mapping=m,m=b;break}case w.fn:{var wt=m.value,it=m.fnValue!=null?m.fnValue:wt(f);if(m.prevFnValue=it,it==null)return An("Custom function mappers may not return null (i.e. `"+m.name+"` for ele `"+f.id()+"` is null)"),!1;if(b=this.parse(m.name,it,m.bypass,$),!b)return An("Custom function mappers may not return invalid values for the property type (i.e. `"+m.name+"` for ele `"+f.id()+"` is invalid)"),!1;b.mapping=pi(m),m=b;break}case void 0:break;default:return!1}return S?(A?m.bypassed=C.bypassed:m.bypassed=C,y[m.name]=m):A?C.bypassed=m:y[m.name]=m,q(),!0},js.cleanElements=function(f,l){for(var d=0;d<f.length;d++){var m=f[d];if(this.clearStyleHints(m),m.dirtyCompoundBoundsCache(),m.dirtyBoundingBoxCache(),!l)m._private.style={};else for(var y=m._private.style,b=Object.keys(y),w=0;w<b.length;w++){var T=b[w],S=y[T];S!=null&&(S.bypass?S.bypassed=null:y[T]=null)}}},js.update=function(){var f=this._private.cy,l=f.mutableElements();l.updateStyle()},js.updateTransitions=function(f,l){var d=this,m=f._private,y=f.pstyle("transition-property").value,b=f.pstyle("transition-duration").pfValue,w=f.pstyle("transition-delay").pfValue;if(y.length>0&&b>0){for(var T={},S=!1,C=0;C<y.length;C++){var A=y[C],R=f.pstyle(A),$=l[A];if($){var U=$.prev,q=U,ne=$.next!=null?$.next:R,ee=!1,K=void 0,se=1e-6;q&&(z(q.pfValue)&&z(ne.pfValue)?(ee=ne.pfValue-q.pfValue,K=q.pfValue+se*ee):z(q.value)&&z(ne.value)?(ee=ne.value-q.value,K=q.value+se*ee):H(q.value)&&H(ne.value)&&(ee=q.value[0]!==ne.value[0]||q.value[1]!==ne.value[1]||q.value[2]!==ne.value[2],K=q.strValue),ee&&(T[A]=ne.strValue,this.applyBypass(f,A,K),S=!0))}}if(!S)return;m.transitioning=!0,new km(function(oe){w>0?f.delayAnimation(w).play().promise().then(oe):oe()}).then(function(){return f.animation({style:T,duration:b,easing:f.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){d.removeBypasses(f,y),f.emitAndNotify("style"),m.transitioning=!1})}else m.transitioning&&(this.removeBypasses(f,y),f.emitAndNotify("style"),m.transitioning=!1)},js.checkTrigger=function(f,l,d,m,y,b){var w=this.properties[l],T=y(w);T!=null&&T(d,m)&&b(w)},js.checkZOrderTrigger=function(f,l,d,m){var y=this;this.checkTrigger(f,l,d,m,function(b){return b.triggersZOrder},function(){y._private.cy.notify("zorder",f)})},js.checkBoundsTrigger=function(f,l,d,m){this.checkTrigger(f,l,d,m,function(y){return y.triggersBounds},function(y){f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),y.triggersBoundsOfParallelBeziers&&l==="curve-style"&&(d==="bezier"||m==="bezier")&&f.parallelEdges().forEach(function(b){b.isBundledBezier()&&b.dirtyBoundingBoxCache()}),y.triggersBoundsOfConnectedEdges&&l==="display"&&(d==="none"||m==="none")&&f.connectedEdges().forEach(function(b){b.dirtyBoundingBoxCache()})})},js.checkTriggers=function(f,l,d,m){f.dirtyStyleCache(),this.checkZOrderTrigger(f,l,d,m),this.checkBoundsTrigger(f,l,d,m)};var Xy={};Xy.applyBypass=function(f,l,d,m){var y=this,b=[],w=!0;if(l==="*"||l==="**"){if(d!==void 0)for(var T=0;T<y.properties.length;T++){var S=y.properties[T],C=S.name,A=this.parse(C,d,!0);A&&b.push(A)}}else if(P(l)){var R=this.parse(l,d,!0);R&&b.push(R)}else if(O(l)){var $=l;m=d;for(var U=Object.keys($),q=0;q<U.length;q++){var ne=U[q],ee=$[ne];if(ee===void 0&&(ee=$[ae(ne)]),ee!==void 0){var K=this.parse(ne,ee,!0);K&&b.push(K)}}}else return!1;if(b.length===0)return!1;for(var se=!1,oe=0;oe<f.length;oe++){for(var fe=f[oe],be={},ye=void 0,de=0;de<b.length;de++){var ke=b[de];if(m){var me=fe.pstyle(ke.name);ye=be[ke.name]={prev:me}}se=this.applyParsedProperty(fe,pi(ke))||se,m&&(ye.next=fe.pstyle(ke.name))}se&&this.updateStyleHints(fe),m&&this.updateTransitions(fe,be,w)}return se},Xy.overrideBypass=function(f,l,d){l=Ae(l);for(var m=0;m<f.length;m++){var y=f[m],b=y._private.style[l],w=this.properties[l].type,T=w.color,S=w.mutiple,C=b?b.pfValue!=null?b.pfValue:b.value:null;!b||!b.bypass?this.applyBypass(y,l,d):(b.value=d,b.pfValue!=null&&(b.pfValue=d),T?b.strValue="rgb("+d.join(",")+")":S?b.strValue=d.join(" "):b.strValue=""+d,this.updateStyleHints(y)),this.checkTriggers(y,l,C,d)}},Xy.removeAllBypasses=function(f,l){return this.removeBypasses(f,this.propertyNames,l)},Xy.removeBypasses=function(f,l,d){for(var m=!0,y=0;y<f.length;y++){for(var b=f[y],w={},T=0;T<l.length;T++){var S=l[T],C=this.properties[S],A=b.pstyle(C.name);if(!(!A||!A.bypass)){var R="",$=this.parse(S,R,!0),U=w[C.name]={prev:A};this.applyParsedProperty(b,$),U.next=b.pstyle(C.name)}}this.updateStyleHints(b),d&&this.updateTransitions(b,w,m)}};var EC={};EC.getEmSizeInPixels=function(){var f=this.containerCss("font-size");return f!=null?parseFloat(f):1},EC.containerCss=function(f){var l=this._private.cy,d=l.container(),m=l.window();if(m&&d&&m.getComputedStyle)return m.getComputedStyle(d).getPropertyValue(f)};var Sc={};Sc.getRenderedStyle=function(f,l){return l?this.getStylePropertyValue(f,l,!0):this.getRawStyle(f,!0)},Sc.getRawStyle=function(f,l){var d=this;if(f=f[0],f){for(var m={},y=0;y<d.properties.length;y++){var b=d.properties[y],w=d.getStylePropertyValue(f,b.name,l);w!=null&&(m[b.name]=w,m[ae(b.name)]=w)}return m}},Sc.getIndexedStyle=function(f,l,d,m){var y=f.pstyle(l)[d][m];return y??f.cy().style().getDefaultProperty(l)[d][0]},Sc.getStylePropertyValue=function(f,l,d){var m=this;if(f=f[0],f){var y=m.properties[l];y.alias&&(y=y.pointsTo);var b=y.type,w=f.pstyle(y.name);if(w){var T=w.value,S=w.units,C=w.strValue;if(d&&b.number&&T!=null&&z(T)){var A=f.cy().zoom(),R=a(function(ee){return ee*A},"getRenderedValue"),$=a(function(ee,K){return R(ee)+K},"getValueStringWithUnits"),U=H(T),q=U?S.every(function(ne){return ne!=null}):S!=null;return q?U?T.map(function(ne,ee){return $(ne,S[ee])}).join(" "):$(T,S):U?T.map(function(ne){return P(ne)?ne:""+R(ne)}).join(" "):""+R(T)}else if(C!=null)return C}return null}},Sc.getAnimationStartStyle=function(f,l){for(var d={},m=0;m<l.length;m++){var y=l[m],b=y.name,w=f.pstyle(b);w!==void 0&&(O(w)?w=this.parse(b,w.strValue):w=this.parse(b,w)),w&&(d[b]=w)}return d},Sc.getPropsList=function(f){var l=this,d=[],m=f,y=l.properties;if(m)for(var b=Object.keys(m),w=0;w<b.length;w++){var T=b[w],S=m[T],C=y[T]||y[Ae(T)],A=this.parse(C.name,S);A&&d.push(A)}return d},Sc.getNonDefaultPropertiesHash=function(f,l,d){var m=d.slice(),y,b,w,T,S,C;for(S=0;S<l.length;S++)if(y=l[S],b=f.pstyle(y,!1),b!=null)if(b.pfValue!=null)m[0]=Ru(T,m[0]),m[1]=Ul(T,m[1]);else for(w=b.strValue,C=0;C<w.length;C++)T=w.charCodeAt(C),m[0]=Ru(T,m[0]),m[1]=Ul(T,m[1]);return m},Sc.getPropertiesHash=Sc.getNonDefaultPropertiesHash;var W4={};W4.appendFromJson=function(f){for(var l=this,d=0;d<f.length;d++){var m=f[d],y=m.selector,b=m.style||m.css,w=Object.keys(b);l.selector(y);for(var T=0;T<w.length;T++){var S=w[T],C=b[S];l.css(S,C)}}return l},W4.fromJson=function(f){var l=this;return l.resetToDefault(),l.appendFromJson(f),l},W4.json=function(){for(var f=[],l=this.defaultLength;l<this.length;l++){for(var d=this[l],m=d.selector,y=d.properties,b={},w=0;w<y.length;w++){var T=y[w];b[T.name]=T.strValue}f.push({selector:m?m.toString():"core",style:b})}return f};var CC={};CC.appendFromString=function(f){var l=this,d=this,m=""+f,y,b,w;m=m.replace(/[/][*](\s|.)+?[*][/]/g,"");function T(){m.length>y.length?m=m.substr(y.length):m=""}a(T,"removeSelAndBlockFromRemaining");function S(){b.length>w.length?b=b.substr(w.length):b=""}for(a(S,"removePropAndValFromRem");;){var C=m.match(/^\s*$/);if(C)break;var A=m.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!A){An("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+m);break}y=A[0];var R=A[1];if(R!=="core"){var $=new Of(R);if($.invalid){An("Skipping parsing of block: Invalid selector found in string stylesheet: "+R),T();continue}}var U=A[2],q=!1;b=U;for(var ne=[];;){var ee=b.match(/^\s*$/);if(ee)break;var K=b.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!K){An("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+U),q=!0;break}w=K[0];var se=K[1],oe=K[2],fe=l.properties[se];if(!fe){An("Skipping property: Invalid property name in: "+w),S();continue}var be=d.parse(se,oe);if(!be){An("Skipping property: Invalid property definition in: "+w),S();continue}ne.push({name:se,val:oe}),S()}if(q){T();break}d.selector(R);for(var ye=0;ye<ne.length;ye++){var de=ne[ye];d.css(de.name,de.val)}T()}return d},CC.fromString=function(f){var l=this;return l.resetToDefault(),l.appendFromString(f),l};var Ts={};(function(){var f=$e,l=He,d=_e,m=Me,y=Ee,b=a(function(Ot){return"^"+Ot+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),w=a(function(Ot){var Mt=f+"|\\w+|"+l+"|"+d+"|"+m+"|"+y;return"^"+Ot+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+f+")\\s*\\,\\s*("+f+")\\s*,\\s*("+Mt+")\\s*\\,\\s*("+Mt+")\\)$"},"mapData"),T=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Ts.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:b("data")},layoutData:{mapping:!0,regex:b("layoutData")},scratch:{mapping:!0,regex:b("scratch")},mapData:{mapping:!0,regex:w("mapData")},mapLayoutData:{mapping:!0,regex:w("mapLayoutData")},mapScratch:{mapping:!0,regex:w("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:T,singleRegexMatchValue:!0},urls:{regexes:T,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:a(function(Ot,Mt){switch(Ot.length){case 2:return Mt[0]!=="deg"&&Mt[0]!=="rad"&&Mt[1]!=="deg"&&Mt[1]!=="rad";case 1:return P(Ot[0])||Mt[0]==="deg"||Mt[0]==="rad";default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+f+")\\s*,\\s*("+f+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+f+")\\s*,\\s*("+f+")\\s*,\\s*("+f+")\\s*,\\s*("+f+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:a(function(Ot){var Mt=Ot.length;return Mt===1||Mt===2||Mt===4},"validate")}};var S={zeroNonZero:a(function(Ot,Mt){return(Ot==null||Mt==null)&&Ot!==Mt||Ot==0&&Mt!=0?!0:Ot!=0&&Mt==0},"zeroNonZero"),any:a(function(Ot,Mt){return Ot!=Mt},"any"),emptyNonEmpty:a(function(Ot,Mt){var Wt=J(Ot),mr=J(Mt);return Wt&&!mr||!Wt&&mr},"emptyNonEmpty")},C=Ts.types,A=[{name:"label",type:C.text,triggersBounds:S.any,triggersZOrder:S.emptyNonEmpty},{name:"text-rotation",type:C.textRotation,triggersBounds:S.any},{name:"text-margin-x",type:C.bidirectionalSize,triggersBounds:S.any},{name:"text-margin-y",type:C.bidirectionalSize,triggersBounds:S.any}],R=[{name:"source-label",type:C.text,triggersBounds:S.any},{name:"source-text-rotation",type:C.textRotation,triggersBounds:S.any},{name:"source-text-margin-x",type:C.bidirectionalSize,triggersBounds:S.any},{name:"source-text-margin-y",type:C.bidirectionalSize,triggersBounds:S.any},{name:"source-text-offset",type:C.size,triggersBounds:S.any}],$=[{name:"target-label",type:C.text,triggersBounds:S.any},{name:"target-text-rotation",type:C.textRotation,triggersBounds:S.any},{name:"target-text-margin-x",type:C.bidirectionalSize,triggersBounds:S.any},{name:"target-text-margin-y",type:C.bidirectionalSize,triggersBounds:S.any},{name:"target-text-offset",type:C.size,triggersBounds:S.any}],U=[{name:"font-family",type:C.fontFamily,triggersBounds:S.any},{name:"font-style",type:C.fontStyle,triggersBounds:S.any},{name:"font-weight",type:C.fontWeight,triggersBounds:S.any},{name:"font-size",type:C.size,triggersBounds:S.any},{name:"text-transform",type:C.textTransform,triggersBounds:S.any},{name:"text-wrap",type:C.textWrap,triggersBounds:S.any},{name:"text-overflow-wrap",type:C.textOverflowWrap,triggersBounds:S.any},{name:"text-max-width",type:C.size,triggersBounds:S.any},{name:"text-outline-width",type:C.size,triggersBounds:S.any},{name:"line-height",type:C.positiveNumber,triggersBounds:S.any}],q=[{name:"text-valign",type:C.valign,triggersBounds:S.any},{name:"text-halign",type:C.halign,triggersBounds:S.any},{name:"color",type:C.color},{name:"text-outline-color",type:C.color},{name:"text-outline-opacity",type:C.zeroOneNumber},{name:"text-background-color",type:C.color},{name:"text-background-opacity",type:C.zeroOneNumber},{name:"text-background-padding",type:C.size,triggersBounds:S.any},{name:"text-border-opacity",type:C.zeroOneNumber},{name:"text-border-color",type:C.color},{name:"text-border-width",type:C.size,triggersBounds:S.any},{name:"text-border-style",type:C.borderStyle,triggersBounds:S.any},{name:"text-background-shape",type:C.textBackgroundShape,triggersBounds:S.any},{name:"text-justification",type:C.justification}],ne=[{name:"events",type:C.bool,triggersZOrder:S.any},{name:"text-events",type:C.bool,triggersZOrder:S.any}],ee=[{name:"display",type:C.display,triggersZOrder:S.any,triggersBounds:S.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:C.visibility,triggersZOrder:S.any},{name:"opacity",type:C.zeroOneNumber,triggersZOrder:S.zeroNonZero},{name:"text-opacity",type:C.zeroOneNumber},{name:"min-zoomed-font-size",type:C.size},{name:"z-compound-depth",type:C.zCompoundDepth,triggersZOrder:S.any},{name:"z-index-compare",type:C.zIndexCompare,triggersZOrder:S.any},{name:"z-index",type:C.number,triggersZOrder:S.any}],K=[{name:"overlay-padding",type:C.size,triggersBounds:S.any},{name:"overlay-color",type:C.color},{name:"overlay-opacity",type:C.zeroOneNumber,triggersBounds:S.zeroNonZero},{name:"overlay-shape",type:C.overlayShape,triggersBounds:S.any}],se=[{name:"underlay-padding",type:C.size,triggersBounds:S.any},{name:"underlay-color",type:C.color},{name:"underlay-opacity",type:C.zeroOneNumber,triggersBounds:S.zeroNonZero},{name:"underlay-shape",type:C.overlayShape,triggersBounds:S.any}],oe=[{name:"transition-property",type:C.propList},{name:"transition-duration",type:C.time},{name:"transition-delay",type:C.time},{name:"transition-timing-function",type:C.easing}],fe=a(function(Ot,Mt){return Mt.value==="label"?-Ot.poolIndex():Mt.pfValue},"nodeSizeHashOverride"),be=[{name:"height",type:C.nodeSize,triggersBounds:S.any,hashOverride:fe},{name:"width",type:C.nodeSize,triggersBounds:S.any,hashOverride:fe},{name:"shape",type:C.nodeShape,triggersBounds:S.any},{name:"shape-polygon-points",type:C.polygonPointList,triggersBounds:S.any},{name:"background-color",type:C.color},{name:"background-fill",type:C.fill},{name:"background-opacity",type:C.zeroOneNumber},{name:"background-blacken",type:C.nOneOneNumber},{name:"background-gradient-stop-colors",type:C.colors},{name:"background-gradient-stop-positions",type:C.percentages},{name:"background-gradient-direction",type:C.gradientDirection},{name:"padding",type:C.sizeMaybePercent,triggersBounds:S.any},{name:"padding-relative-to",type:C.paddingRelativeTo,triggersBounds:S.any},{name:"bounds-expansion",type:C.boundsExpansion,triggersBounds:S.any}],ye=[{name:"border-color",type:C.color},{name:"border-opacity",type:C.zeroOneNumber},{name:"border-width",type:C.size,triggersBounds:S.any},{name:"border-style",type:C.borderStyle}],de=[{name:"outline-color",type:C.color},{name:"outline-opacity",type:C.zeroOneNumber},{name:"outline-width",type:C.size,triggersBounds:S.any},{name:"outline-style",type:C.borderStyle},{name:"outline-offset",type:C.size,triggersBounds:S.any}],ke=[{name:"background-image",type:C.urls},{name:"background-image-crossorigin",type:C.bgCrossOrigin},{name:"background-image-opacity",type:C.zeroOneNumbers},{name:"background-image-containment",type:C.bgContainment},{name:"background-image-smoothing",type:C.bools},{name:"background-position-x",type:C.bgPos},{name:"background-position-y",type:C.bgPos},{name:"background-width-relative-to",type:C.bgRelativeTo},{name:"background-height-relative-to",type:C.bgRelativeTo},{name:"background-repeat",type:C.bgRepeat},{name:"background-fit",type:C.bgFit},{name:"background-clip",type:C.bgClip},{name:"background-width",type:C.bgWH},{name:"background-height",type:C.bgWH},{name:"background-offset-x",type:C.bgPos},{name:"background-offset-y",type:C.bgPos}],me=[{name:"position",type:C.position,triggersBounds:S.any},{name:"compound-sizing-wrt-labels",type:C.compoundIncludeLabels,triggersBounds:S.any},{name:"min-width",type:C.size,triggersBounds:S.any},{name:"min-width-bias-left",type:C.sizeMaybePercent,triggersBounds:S.any},{name:"min-width-bias-right",type:C.sizeMaybePercent,triggersBounds:S.any},{name:"min-height",type:C.size,triggersBounds:S.any},{name:"min-height-bias-top",type:C.sizeMaybePercent,triggersBounds:S.any},{name:"min-height-bias-bottom",type:C.sizeMaybePercent,triggersBounds:S.any}],Ce=[{name:"line-style",type:C.lineStyle},{name:"line-color",type:C.color},{name:"line-fill",type:C.fill},{name:"line-cap",type:C.lineCap},{name:"line-opacity",type:C.zeroOneNumber},{name:"line-dash-pattern",type:C.numbers},{name:"line-dash-offset",type:C.number},{name:"line-gradient-stop-colors",type:C.colors},{name:"line-gradient-stop-positions",type:C.percentages},{name:"curve-style",type:C.curveStyle,triggersBounds:S.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:C.zeroOneNumber,triggersBounds:S.any},{name:"source-endpoint",type:C.edgeEndpoint,triggersBounds:S.any},{name:"target-endpoint",type:C.edgeEndpoint,triggersBounds:S.any},{name:"control-point-step-size",type:C.size,triggersBounds:S.any},{name:"control-point-distances",type:C.bidirectionalSizes,triggersBounds:S.any},{name:"control-point-weights",type:C.numbers,triggersBounds:S.any},{name:"segment-distances",type:C.bidirectionalSizes,triggersBounds:S.any},{name:"segment-weights",type:C.numbers,triggersBounds:S.any},{name:"taxi-turn",type:C.bidirectionalSizeMaybePercent,triggersBounds:S.any},{name:"taxi-turn-min-distance",type:C.size,triggersBounds:S.any},{name:"taxi-direction",type:C.axisDirection,triggersBounds:S.any},{name:"edge-distances",type:C.edgeDistances,triggersBounds:S.any},{name:"arrow-scale",type:C.positiveNumber,triggersBounds:S.any},{name:"loop-direction",type:C.angle,triggersBounds:S.any},{name:"loop-sweep",type:C.angle,triggersBounds:S.any},{name:"source-distance-from-node",type:C.size,triggersBounds:S.any},{name:"target-distance-from-node",type:C.size,triggersBounds:S.any}],Se=[{name:"ghost",type:C.bool,triggersBounds:S.any},{name:"ghost-offset-x",type:C.bidirectionalSize,triggersBounds:S.any},{name:"ghost-offset-y",type:C.bidirectionalSize,triggersBounds:S.any},{name:"ghost-opacity",type:C.zeroOneNumber}],xe=[{name:"selection-box-color",type:C.color},{name:"selection-box-opacity",type:C.zeroOneNumber},{name:"selection-box-border-color",type:C.color},{name:"selection-box-border-width",type:C.size},{name:"active-bg-color",type:C.color},{name:"active-bg-opacity",type:C.zeroOneNumber},{name:"active-bg-size",type:C.size},{name:"outside-texture-bg-color",type:C.color},{name:"outside-texture-bg-opacity",type:C.zeroOneNumber}],Ve=[];Ts.pieBackgroundN=16,Ve.push({name:"pie-size",type:C.sizeMaybePercent});for(var Te=1;Te<=Ts.pieBackgroundN;Te++)Ve.push({name:"pie-"+Te+"-background-color",type:C.color}),Ve.push({name:"pie-"+Te+"-background-size",type:C.percent}),Ve.push({name:"pie-"+Te+"-background-opacity",type:C.zeroOneNumber});var tt=[],We=Ts.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:C.arrowShape,triggersBounds:S.any},{name:"arrow-color",type:C.color},{name:"arrow-fill",type:C.arrowFill},{name:"arrow-width",type:C.arrowWidth}].forEach(function(_t){We.forEach(function(Ot){var Mt=Ot+"-"+_t.name,Wt=_t.type,mr=_t.triggersBounds;tt.push({name:Mt,type:Wt,triggersBounds:mr})})},{});var qe=Ts.properties=[].concat(ne,oe,ee,K,se,Se,q,U,A,R,$,be,ye,de,ke,Ve,me,Ce,tt,xe),nt=Ts.propertyGroups={behavior:ne,transition:oe,visibility:ee,overlay:K,underlay:se,ghost:Se,commonLabel:q,labelDimensions:U,mainLabel:A,sourceLabel:R,targetLabel:$,nodeBody:be,nodeBorder:ye,nodeOutline:de,backgroundImage:ke,pie:Ve,compound:me,edgeLine:Ce,edgeArrow:tt,core:xe},dt=Ts.propertyGroupNames={},wt=Ts.propertyGroupKeys=Object.keys(nt);wt.forEach(function(_t){dt[_t]=nt[_t].map(function(Ot){return Ot.name}),nt[_t].forEach(function(Ot){return Ot.groupKey=_t})});var it=Ts.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Ts.propertyNames=qe.map(function(_t){return _t.name});for(var xt=0;xt<qe.length;xt++){var Et=qe[xt];qe[Et.name]=Et}for(var Dt=0;Dt<it.length;Dt++){var St=it[Dt],Rt=qe[St.pointsTo],ht={name:St.name,alias:!0,pointsTo:Rt};qe.push(ht),qe[St.name]=ht}})(),Ts.getDefaultProperty=function(f){return this.getDefaultProperties()[f]},Ts.getDefaultProperties=function(){var f=this._private;if(f.defaultProperties!=null)return f.defaultProperties;for(var l=pe({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(S,C){for(var A=1;A<=Ts.pieBackgroundN;A++){var R=C.name.replace("{{i}}",A),$=C.value;S[R]=$}return S},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(S,C){return Ts.arrowPrefixes.forEach(function(A){var R=A+"-"+C.name,$=C.value;S[R]=$}),S},{})),d={},m=0;m<this.properties.length;m++){var y=this.properties[m];if(!y.pointsTo){var b=y.name,w=l[b],T=this.parse(b,w);d[b]=T}}return f.defaultProperties=d,f.defaultProperties},Ts.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Y4={};Y4.parse=function(f,l,d,m){var y=this;if(V(l))return y.parseImplWarn(f,l,d,m);var b=m==="mapping"||m===!0||m===!1||m==null?"dontcare":m,w=d?"t":"f",T=""+l,S=Ry(f,T,w,b),C=y.propCache=y.propCache||[],A;return(A=C[S])||(A=C[S]=y.parseImplWarn(f,l,d,m)),(d||m==="mapping")&&(A=pi(A),A&&(A.value=pi(A.value))),A},Y4.parseImplWarn=function(f,l,d,m){var y=this.parseImpl(f,l,d,m);return!y&&l!=null&&An("The style property `".concat(f,": ").concat(l,"` is invalid")),y&&(y.name==="width"||y.name==="height")&&l==="label"&&An("The style value of `label` is deprecated for `"+y.name+"`"),y},Y4.parseImpl=function(f,l,d,m){var y=this;f=Ae(f);var b=y.properties[f],w=l,T=y.types;if(!b||l===void 0)return null;b.alias&&(b=b.pointsTo,f=b.name);var S=P(l);S&&(l=l.trim());var C=b.type;if(!C)return null;if(d&&(l===""||l===null))return{name:f,value:l,bypass:!0,deleteBypass:!0};if(V(l))return{name:f,value:l,strValue:"fn",mapped:T.fn,bypass:d};var A,R;if(!(!S||m||l.length<7||l[1]!=="a")){if(l.length>=7&&l[0]==="d"&&(A=new RegExp(T.data.regex).exec(l))){if(d)return!1;var $=T.data;return{name:f,value:A,strValue:""+l,mapped:$,field:A[1],bypass:d}}else if(l.length>=10&&l[0]==="m"&&(R=new RegExp(T.mapData.regex).exec(l))){if(d||C.multiple)return!1;var U=T.mapData;if(!(C.color||C.number))return!1;var q=this.parse(f,R[4]);if(!q||q.mapped)return!1;var ne=this.parse(f,R[5]);if(!ne||ne.mapped)return!1;if(q.pfValue===ne.pfValue||q.strValue===ne.strValue)return An("`"+f+": "+l+"` is not a valid mapper because the output range is zero; converting to `"+f+": "+q.strValue+"`"),this.parse(f,q.strValue);if(C.color){var ee=q.value,K=ne.value,se=ee[0]===K[0]&&ee[1]===K[1]&&ee[2]===K[2]&&(ee[3]===K[3]||(ee[3]==null||ee[3]===1)&&(K[3]==null||K[3]===1));if(se)return!1}return{name:f,value:R,strValue:""+l,mapped:U,field:R[1],fieldMin:parseFloat(R[2]),fieldMax:parseFloat(R[3]),valueMin:q.value,valueMax:ne.value,bypass:d}}}if(C.multiple&&m!=="multiple"){var oe;if(S?oe=l.split(/\s+/):H(l)?oe=l:oe=[l],C.evenMultiple&&oe.length%2!==0)return null;for(var fe=[],be=[],ye=[],de="",ke=!1,me=0;me<oe.length;me++){var Ce=y.parse(f,oe[me],d,"multiple");ke=ke||P(Ce.value),fe.push(Ce.value),ye.push(Ce.pfValue!=null?Ce.pfValue:Ce.value),be.push(Ce.units),de+=(me>0?" ":"")+Ce.strValue}return C.validate&&!C.validate(fe,be)?null:C.singleEnum&&ke?fe.length===1&&P(fe[0])?{name:f,value:fe[0],strValue:fe[0],bypass:d}:null:{name:f,value:fe,pfValue:ye,strValue:de,bypass:d,units:be}}var Se=a(function(){for(var Ot=0;Ot<C.enums.length;Ot++){var Mt=C.enums[Ot];if(Mt===l)return{name:f,value:l,strValue:""+l,bypass:d}}return null},"checkEnums");if(C.number){var xe,Ve="px";if(C.units&&(xe=C.units),C.implicitUnits&&(Ve=C.implicitUnits),!C.unitless)if(S){var Te="px|em"+(C.allowPercent?"|\\%":"");xe&&(Te=xe);var tt=l.match("^("+$e+")("+Te+")?$");tt&&(l=tt[1],xe=tt[2]||Ve)}else(!xe||C.implicitUnits)&&(xe=Ve);if(l=parseFloat(l),isNaN(l)&&C.enums===void 0)return null;if(isNaN(l)&&C.enums!==void 0)return l=w,Se();if(C.integer&&!G(l)||C.min!==void 0&&(l<C.min||C.strictMin&&l===C.min)||C.max!==void 0&&(l>C.max||C.strictMax&&l===C.max))return null;var We={name:f,value:l,strValue:""+l+(xe||""),units:xe,bypass:d};return C.unitless||xe!=="px"&&xe!=="em"?We.pfValue=l:We.pfValue=xe==="px"||!xe?l:this.getEmSizeInPixels()*l,(xe==="ms"||xe==="s")&&(We.pfValue=xe==="ms"?l:1e3*l),(xe==="deg"||xe==="rad")&&(We.pfValue=xe==="rad"?l:vve(l)),xe==="%"&&(We.pfValue=l/100),We}else if(C.propList){var qe=[],nt=""+l;if(nt!=="none"){for(var dt=nt.split(/\s*,\s*|\s+/),wt=0;wt<dt.length;wt++){var it=dt[wt].trim();y.properties[it]?qe.push(it):An("`"+it+"` is not a valid property name")}if(qe.length===0)return null}return{name:f,value:qe,strValue:qe.length===0?"none":qe.join(" "),bypass:d}}else if(C.color){var xt=Nt(l);return xt?{name:f,value:xt,pfValue:xt,strValue:"rgb("+xt[0]+","+xt[1]+","+xt[2]+")",bypass:d}:null}else if(C.regex||C.regexes){if(C.enums){var Et=Se();if(Et)return Et}for(var Dt=C.regexes?C.regexes:[C.regex],St=0;St<Dt.length;St++){var Rt=new RegExp(Dt[St]),ht=Rt.exec(l);if(ht)return{name:f,value:C.singleRegexMatchValue?ht[1]:ht,strValue:""+l,bypass:d}}return null}else return C.string?{name:f,value:""+l,strValue:""+l,bypass:d}:C.enums?Se():null};var Ks=a(function f(l){if(!(this instanceof f))return new f(l);if(!B(l)){Mn("A style must have a core reference");return}this._private={cy:l,coreStyle:{}},this.length=0,this.resetToDefault()},"Style"),Qs=Ks.prototype;Qs.instanceString=function(){return"style"},Qs.clear=function(){for(var f=this._private,l=f.cy,d=l.elements(),m=0;m<this.length;m++)this[m]=void 0;return this.length=0,f.contextStyles={},f.propDiffs={},this.cleanElements(d,!0),d.forEach(function(y){var b=y[0]._private;b.styleDirty=!0,b.appliedInitStyle=!1}),this},Qs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Qs.core=function(f){return this._private.coreStyle[f]||this.getDefaultProperty(f)},Qs.selector=function(f){var l=f==="core"?null:new Of(f),d=this.length++;return this[d]={selector:l,properties:[],mappedProperties:[],index:d},this},Qs.css=function(){var f=this,l=arguments;if(l.length===1)for(var d=l[0],m=0;m<f.properties.length;m++){var y=f.properties[m],b=d[y.name];b===void 0&&(b=d[ae(y.name)]),b!==void 0&&this.cssRule(y.name,b)}else l.length===2&&this.cssRule(l[0],l[1]);return this},Qs.style=Qs.css,Qs.cssRule=function(f,l){var d=this.parse(f,l);if(d){var m=this.length-1;this[m].properties.push(d),this[m].properties[d.name]=d,d.name.match(/pie-(\d+)-background-size/)&&d.value&&(this._private.hasPie=!0),d.mapped&&this[m].mappedProperties.push(d);var y=!this[m].selector;y&&(this._private.coreStyle[d.name]=d)}return this},Qs.append=function(f){return Q(f)?f.appendToStyle(this):H(f)?this.appendFromJson(f):P(f)&&this.appendFromString(f),this},Ks.fromJson=function(f,l){var d=new Ks(f);return d.fromJson(l),d},Ks.fromString=function(f,l){return new Ks(f).fromString(l)},[js,Xy,EC,Sc,W4,CC,Ts,Y4].forEach(function(f){pe(Qs,f)}),Ks.types=Qs.types,Ks.properties=Qs.properties,Ks.propertyGroups=Qs.propertyGroups,Ks.propertyGroupNames=Qs.propertyGroupNames,Ks.propertyGroupKeys=Qs.propertyGroupKeys;var F4e={style:a(function(l){if(l){var d=this.setStyle(l);d.update()}return this._private.style},"style"),setStyle:a(function(l){var d=this._private;return Q(l)?d.style=l.generateStyle(this):H(l)?d.style=Ks.fromJson(this,l):P(l)?d.style=Ks.fromString(this,l):d.style=Ks(this),d.style},"setStyle"),updateStyle:a(function(){this.mutableElements().updateStyle()},"updateStyle")},z4e="single",f0={autolock:a(function(l){if(l!==void 0)this._private.autolock=!!l;else return this._private.autolock;return this},"autolock"),autoungrabify:a(function(l){if(l!==void 0)this._private.autoungrabify=!!l;else return this._private.autoungrabify;return this},"autoungrabify"),autounselectify:a(function(l){if(l!==void 0)this._private.autounselectify=!!l;else return this._private.autounselectify;return this},"autounselectify"),selectionType:a(function(l){var d=this._private;if(d.selectionType==null&&(d.selectionType=z4e),l!==void 0)(l==="additive"||l==="single")&&(d.selectionType=l);else return d.selectionType;return this},"selectionType"),panningEnabled:a(function(l){if(l!==void 0)this._private.panningEnabled=!!l;else return this._private.panningEnabled;return this},"panningEnabled"),userPanningEnabled:a(function(l){if(l!==void 0)this._private.userPanningEnabled=!!l;else return this._private.userPanningEnabled;return this},"userPanningEnabled"),zoomingEnabled:a(function(l){if(l!==void 0)this._private.zoomingEnabled=!!l;else return this._private.zoomingEnabled;return this},"zoomingEnabled"),userZoomingEnabled:a(function(l){if(l!==void 0)this._private.userZoomingEnabled=!!l;else return this._private.userZoomingEnabled;return this},"userZoomingEnabled"),boxSelectionEnabled:a(function(l){if(l!==void 0)this._private.boxSelectionEnabled=!!l;else return this._private.boxSelectionEnabled;return this},"boxSelectionEnabled"),pan:a(function(){var l=arguments,d=this._private.pan,m,y,b,w,T;switch(l.length){case 0:return d;case 1:if(P(l[0]))return m=l[0],d[m];if(O(l[0])){if(!this._private.panningEnabled)return this;b=l[0],w=b.x,T=b.y,z(w)&&(d.x=w),z(T)&&(d.y=T),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;m=l[0],y=l[1],(m==="x"||m==="y")&&z(y)&&(d[m]=y),this.emit("pan viewport");break}return this.notify("viewport"),this},"pan"),panBy:a(function(l,d){var m=arguments,y=this._private.pan,b,w,T,S,C;if(!this._private.panningEnabled)return this;switch(m.length){case 1:O(l)&&(T=m[0],S=T.x,C=T.y,z(S)&&(y.x+=S),z(C)&&(y.y+=C),this.emit("pan viewport"));break;case 2:b=l,w=d,(b==="x"||b==="y")&&z(w)&&(y[b]+=w),this.emit("pan viewport");break}return this.notify("viewport"),this},"panBy"),fit:a(function(l,d){var m=this.getFitViewport(l,d);if(m){var y=this._private;y.zoom=m.zoom,y.pan=m.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},"fit"),getFitViewport:a(function(l,d){if(z(l)&&d===void 0&&(d=l,l=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var m;if(P(l)){var y=l;l=this.$(y)}else if(re(l)){var b=l;m={x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2},m.w=m.x2-m.x1,m.h=m.y2-m.y1}else j(l)||(l=this.mutableElements());if(!(j(l)&&l.empty())){m=m||l.boundingBox();var w=this.width(),T=this.height(),S;if(d=z(d)?d:0,!isNaN(w)&&!isNaN(T)&&w>0&&T>0&&!isNaN(m.w)&&!isNaN(m.h)&&m.w>0&&m.h>0){S=Math.min((w-2*d)/m.w,(T-2*d)/m.h),S=S>this._private.maxZoom?this._private.maxZoom:S,S=S<this._private.minZoom?this._private.minZoom:S;var C={x:(w-S*(m.x1+m.x2))/2,y:(T-S*(m.y1+m.y2))/2};return{zoom:S,pan:C}}}}},"getFitViewport"),zoomRange:a(function(l,d){var m=this._private;if(d==null){var y=l;l=y.min,d=y.max}return z(l)&&z(d)&&l<=d?(m.minZoom=l,m.maxZoom=d):z(l)&&d===void 0&&l<=m.maxZoom?m.minZoom=l:z(d)&&l===void 0&&d>=m.minZoom&&(m.maxZoom=d),this},"zoomRange"),minZoom:a(function(l){return l===void 0?this._private.minZoom:this.zoomRange({min:l})},"minZoom"),maxZoom:a(function(l){return l===void 0?this._private.maxZoom:this.zoomRange({max:l})},"maxZoom"),getZoomedViewport:a(function(l){var d=this._private,m=d.pan,y=d.zoom,b,w,T=!1;if(d.zoomingEnabled||(T=!0),z(l)?w=l:O(l)&&(w=l.level,l.position!=null?b=y4(l.position,y,m):l.renderedPosition!=null&&(b=l.renderedPosition),b!=null&&!d.panningEnabled&&(T=!0)),w=w>d.maxZoom?d.maxZoom:w,w=w<d.minZoom?d.minZoom:w,T||!z(w)||w===y||b!=null&&(!z(b.x)||!z(b.y)))return null;if(b!=null){var S=m,C=y,A=w,R={x:-A/C*(b.x-S.x)+b.x,y:-A/C*(b.y-S.y)+b.y};return{zoomed:!0,panned:!0,zoom:A,pan:R}}else return{zoomed:!0,panned:!1,zoom:w,pan:m}},"getZoomedViewport"),zoom:a(function(l){if(l===void 0)return this._private.zoom;var d=this.getZoomedViewport(l),m=this._private;return d==null||!d.zoomed?this:(m.zoom=d.zoom,d.panned&&(m.pan.x=d.pan.x,m.pan.y=d.pan.y),this.emit("zoom"+(d.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},"zoom"),viewport:a(function(l){var d=this._private,m=!0,y=!0,b=[],w=!1,T=!1;if(!l)return this;if(z(l.zoom)||(m=!1),O(l.pan)||(y=!1),!m&&!y)return this;if(m){var S=l.zoom;S<d.minZoom||S>d.maxZoom||!d.zoomingEnabled?w=!0:(d.zoom=S,b.push("zoom"))}if(y&&(!w||!l.cancelOnFailedZoom)&&d.panningEnabled){var C=l.pan;z(C.x)&&(d.pan.x=C.x,T=!1),z(C.y)&&(d.pan.y=C.y,T=!1),T||b.push("pan")}return b.length>0&&(b.push("viewport"),this.emit(b.join(" ")),this.notify("viewport")),this},"viewport"),center:a(function(l){var d=this.getCenterPan(l);return d&&(this._private.pan=d,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:a(function(l,d){if(this._private.panningEnabled){if(P(l)){var m=l;l=this.mutableElements().filter(m)}else j(l)||(l=this.mutableElements());if(l.length!==0){var y=l.boundingBox(),b=this.width(),w=this.height();d=d===void 0?this._private.zoom:d;var T={x:(b-d*(y.x1+y.x2))/2,y:(w-d*(y.y1+y.y2))/2};return T}}},"getCenterPan"),reset:a(function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},"reset"),invalidateSize:a(function(){this._private.sizeCache=null},"invalidateSize"),size:a(function(){var l=this._private,d=l.container,m=this;return l.sizeCache=l.sizeCache||(d?function(){var y=m.window().getComputedStyle(d),b=a(function(T){return parseFloat(y.getPropertyValue(T))},"val");return{width:d.clientWidth-b("padding-left")-b("padding-right"),height:d.clientHeight-b("padding-top")-b("padding-bottom")}}():{width:1,height:1})},"size"),width:a(function(){return this.size().width},"width"),height:a(function(){return this.size().height},"height"),extent:a(function(){var l=this._private.pan,d=this._private.zoom,m=this.renderedExtent(),y={x1:(m.x1-l.x)/d,x2:(m.x2-l.x)/d,y1:(m.y1-l.y)/d,y2:(m.y2-l.y)/d};return y.w=y.x2-y.x1,y.h=y.y2-y.y1,y},"extent"),renderedExtent:a(function(){var l=this.width(),d=this.height();return{x1:0,y1:0,x2:l,y2:d,w:l,h:d}},"renderedExtent"),multiClickDebounceTime:a(function(l){if(l)this._private.multiClickDebounceTime=l;else return this._private.multiClickDebounceTime;return this},"multiClickDebounceTime")};f0.centre=f0.center,f0.autolockNodes=f0.autolock,f0.autoungrabifyNodes=f0.autoungrabify;var jy={data:Jn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Jn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Jn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Jn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};jy.attr=jy.data,jy.removeAttr=jy.removeData;var Ky=a(function(l){var d=this;l=pe({},l);var m=l.container;m&&!F(m)&&F(m[0])&&(m=m[0]);var y=m?m._cyreg:null;y=y||{},y&&y.cy&&(y.cy.destroy(),y={});var b=y.readies=y.readies||[];m&&(m._cyreg=y),y.cy=d;var w=v!==void 0&&m!==void 0&&!l.headless,T=l;T.layout=pe({name:w?"grid":"null"},T.layout),T.renderer=pe({name:w?"canvas":"null"},T.renderer);var S=a(function(q,ne,ee){return ne!==void 0?ne:ee!==void 0?ee:q},"defVal"),C=this._private={container:m,ready:!1,options:T,elements:new ws(this),listeners:[],aniEles:new ws(this),data:T.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:S(!0,T.zoomingEnabled),userZoomingEnabled:S(!0,T.userZoomingEnabled),panningEnabled:S(!0,T.panningEnabled),userPanningEnabled:S(!0,T.userPanningEnabled),boxSelectionEnabled:S(!0,T.boxSelectionEnabled),autolock:S(!1,T.autolock,T.autolockNodes),autoungrabify:S(!1,T.autoungrabify,T.autoungrabifyNodes),autounselectify:S(!1,T.autounselectify),styleEnabled:T.styleEnabled===void 0?w:T.styleEnabled,zoom:z(T.zoom)?T.zoom:1,pan:{x:O(T.pan)&&z(T.pan.x)?T.pan.x:0,y:O(T.pan)&&z(T.pan.y)?T.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:S(250,T.multiClickDebounceTime)};this.createEmitter(),this.selectionType(T.selectionType),this.zoomRange({min:T.minZoom,max:T.maxZoom});var A=a(function(q,ne){var ee=q.some(Z);if(ee)return km.all(q).then(ne);ne(q)},"loadExtData");C.styleEnabled&&d.setStyle([]);var R=pe({},T,T.renderer);d.initRenderer(R);var $=a(function(q,ne,ee){d.notifications(!1);var K=d.mutableElements();K.length>0&&K.remove(),q!=null&&(O(q)||H(q))&&d.add(q),d.one("layoutready",function(oe){d.notifications(!0),d.emit(oe),d.one("load",ne),d.emitAndNotify("load")}).one("layoutstop",function(){d.one("done",ee),d.emit("done")});var se=pe({},d._private.options.layout);se.eles=d.elements(),d.layout(se).run()},"setElesAndLayout");A([T.style,T.elements],function(U){var q=U[0],ne=U[1];C.styleEnabled&&d.style().append(q),$(ne,function(){d.startAnimationLoop(),C.ready=!0,V(T.ready)&&d.on("ready",T.ready);for(var ee=0;ee<b.length;ee++){var K=b[ee];d.on("ready",K)}y&&(y.readies=[]),d.emit("ready")},T.done)})},"Core"),X4=Ky.prototype;pe(X4,{instanceString:a(function(){return"core"},"instanceString"),isReady:a(function(){return this._private.ready},"isReady"),destroyed:a(function(){return this._private.destroyed},"destroyed"),ready:a(function(l){return this.isReady()?this.emitter().emit("ready",[],l):this.on("ready",l),this},"ready"),destroy:a(function(){var l=this;if(!l.destroyed())return l.stopAnimationLoop(),l.destroyRenderer(),this.emit("destroy"),l._private.destroyed=!0,l},"destroy"),hasElementWithId:a(function(l){return this._private.elements.hasElementWithId(l)},"hasElementWithId"),getElementById:a(function(l){return this._private.elements.getElementById(l)},"getElementById"),hasCompoundNodes:a(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:a(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:a(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:a(function(l){return this._private.elements.merge(l),this},"addToPool"),removeFromPool:a(function(l){return this._private.elements.unmerge(l),this},"removeFromPool"),container:a(function(){return this._private.container||null},"container"),window:a(function(){var l=this._private.container;if(l==null)return v;var d=this._private.container.ownerDocument;return d===void 0||d==null?v:d.defaultView||v},"window"),mount:a(function(l){if(l!=null){var d=this,m=d._private,y=m.options;return!F(l)&&F(l[0])&&(l=l[0]),d.stopAnimationLoop(),d.destroyRenderer(),m.container=l,m.styleEnabled=!0,d.invalidateSize(),d.initRenderer(pe({},y,y.renderer,{name:y.renderer.name==="null"?"canvas":y.renderer.name})),d.startAnimationLoop(),d.style(y.style),d.emit("mount"),d}},"mount"),unmount:a(function(){var l=this;return l.stopAnimationLoop(),l.destroyRenderer(),l.initRenderer({name:"null"}),l.emit("unmount"),l},"unmount"),options:a(function(){return pi(this._private.options)},"options"),json:a(function(l){var d=this,m=d._private,y=d.mutableElements(),b=a(function(fe){return d.getElementById(fe.id())},"getFreshRef");if(O(l)){if(d.startBatch(),l.elements){var w={},T=a(function(fe,be){for(var ye=[],de=[],ke=0;ke<fe.length;ke++){var me=fe[ke];if(!me.data.id){An("cy.json() cannot handle elements without an ID attribute");continue}var Ce=""+me.data.id,Se=d.getElementById(Ce);w[Ce]=!0,Se.length!==0?de.push({ele:Se,json:me}):(be&&(me.group=be),ye.push(me))}d.add(ye);for(var xe=0;xe<de.length;xe++){var Ve=de[xe],Te=Ve.ele,tt=Ve.json;Te.json(tt)}},"updateEles");if(H(l.elements))T(l.elements);else for(var S=["nodes","edges"],C=0;C<S.length;C++){var A=S[C],R=l.elements[A];H(R)&&T(R,A)}var $=d.collection();y.filter(function(oe){return!w[oe.id()]}).forEach(function(oe){oe.isParent()?$.merge(oe):oe.remove()}),$.forEach(function(oe){return oe.children().move({parent:null})}),$.forEach(function(oe){return b(oe).remove()})}l.style&&d.style(l.style),l.zoom!=null&&l.zoom!==m.zoom&&d.zoom(l.zoom),l.pan&&(l.pan.x!==m.pan.x||l.pan.y!==m.pan.y)&&d.pan(l.pan),l.data&&d.data(l.data);for(var U=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],q=0;q<U.length;q++){var ne=U[q];l[ne]!=null&&d[ne](l[ne])}return d.endBatch(),this}else{var ee=!!l,K={};ee?K.elements=this.elements().map(function(oe){return oe.json()}):(K.elements={},y.forEach(function(oe){var fe=oe.group();K.elements[fe]||(K.elements[fe]=[]),K.elements[fe].push(oe.json())})),this._private.styleEnabled&&(K.style=d.style().json()),K.data=pi(d.data());var se=m.options;return K.zoomingEnabled=m.zoomingEnabled,K.userZoomingEnabled=m.userZoomingEnabled,K.zoom=m.zoom,K.minZoom=m.minZoom,K.maxZoom=m.maxZoom,K.panningEnabled=m.panningEnabled,K.userPanningEnabled=m.userPanningEnabled,K.pan=pi(m.pan),K.boxSelectionEnabled=m.boxSelectionEnabled,K.renderer=pi(se.renderer),K.hideEdgesOnViewport=se.hideEdgesOnViewport,K.textureOnViewport=se.textureOnViewport,K.wheelSensitivity=se.wheelSensitivity,K.motionBlur=se.motionBlur,K.multiClickDebounceTime=se.multiClickDebounceTime,K}},"json")}),X4.$id=X4.getElementById,[A4e,M4e,Az,wC,U4,O4e,TC,H4,F4e,f0,jy].forEach(function(f){pe(X4,f)});var $4e={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")},G4e={maximal:!1,acyclic:!1},Im=a(function(l){return l.scratch("breadthfirst")},"getInfo"),Lz=a(function(l,d){return l.scratch("breadthfirst",d)},"setInfo");function Dz(f){this.options=pe({},$4e,G4e,f)}a(Dz,"BreadthFirstLayout"),Dz.prototype.run=function(){var f=this.options,l=f,d=f.cy,m=l.eles,y=m.nodes().filter(function(Qt){return!Qt.isParent()}),b=m,w=l.directed,T=l.acyclic||l.maximal||l.maximalAdjustments>0,S=zo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),C;if(j(l.roots))C=l.roots;else if(H(l.roots)){for(var A=[],R=0;R<l.roots.length;R++){var $=l.roots[R],U=d.getElementById($);A.push(U)}C=d.collection(A)}else if(P(l.roots))C=d.$(l.roots);else if(w)C=y.roots();else{var q=m.components();C=d.collection();for(var ne=a(function(Zt){var Tr=q[Zt],kr=Tr.maxDegree(!1),pr=Tr.filter(function(Sr){return Sr.degree(!1)===kr});C=C.add(pr)},"_loop"),ee=0;ee<q.length;ee++)ne(ee)}var K=[],se={},oe=a(function(Zt,Tr){K[Tr]==null&&(K[Tr]=[]);var kr=K[Tr].length;K[Tr].push(Zt),Lz(Zt,{index:kr,depth:Tr})},"addToDepth"),fe=a(function(Zt,Tr){var kr=Im(Zt),pr=kr.depth,Sr=kr.index;K[pr][Sr]=null,oe(Zt,Tr)},"changeDepth");b.bfs({roots:C,directed:l.directed,visit:a(function(Zt,Tr,kr,pr,Sr){var Rn=Zt[0],yn=Rn.id();oe(Rn,Sr),se[yn]=!0},"visit")});for(var be=[],ye=0;ye<y.length;ye++){var de=y[ye];se[de.id()]||be.push(de)}var ke=a(function(Zt){for(var Tr=K[Zt],kr=0;kr<Tr.length;kr++){var pr=Tr[kr];if(pr==null){Tr.splice(kr,1),kr--;continue}Lz(pr,{depth:Zt,index:kr})}},"assignDepthsAt"),me=a(function(){for(var Zt=0;Zt<K.length;Zt++)ke(Zt)},"assignDepths"),Ce=a(function(Zt,Tr){for(var kr=Im(Zt),pr=Zt.incomers().filter(function(ve){return ve.isNode()&&m.has(ve)}),Sr=-1,Rn=Zt.id(),yn=0;yn<pr.length;yn++){var Xr=pr[yn],vn=Im(Xr);Sr=Math.max(Sr,vn.depth)}if(kr.depth<=Sr){if(!l.acyclic&&Tr[Rn])return null;var pt=Sr+1;return fe(Zt,pt),Tr[Rn]=pt,!0}return!1},"adjustMaximally");if(w&&T){var Se=[],xe={},Ve=a(function(Zt){return Se.push(Zt)},"enqueue"),Te=a(function(){return Se.shift()},"dequeue");for(y.forEach(function(Qt){return Se.push(Qt)});Se.length>0;){var tt=Te(),We=Ce(tt,xe);if(We)tt.outgoers().filter(function(Qt){return Qt.isNode()&&m.has(Qt)}).forEach(Ve);else if(We===null){An("Detected double maximal shift for node `"+tt.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}me();var qe=0;if(l.avoidOverlap)for(var nt=0;nt<y.length;nt++){var dt=y[nt],wt=dt.layoutDimensions(l),it=wt.w,xt=wt.h;qe=Math.max(qe,it,xt)}var Et={},Dt=a(function(Zt){if(Et[Zt.id()])return Et[Zt.id()];for(var Tr=Im(Zt).depth,kr=Zt.neighborhood(),pr=0,Sr=0,Rn=0;Rn<kr.length;Rn++){var yn=kr[Rn];if(!(yn.isEdge()||yn.isParent()||!y.has(yn))){var Xr=Im(yn);if(Xr!=null){var vn=Xr.index,pt=Xr.depth;if(!(vn==null||pt==null)){var ve=K[pt].length;pt<Tr&&(pr+=vn/ve,Sr++)}}}}return Sr=Math.max(1,Sr),pr=pr/Sr,Sr===0&&(pr=0),Et[Zt.id()]=pr,pr},"getWeightedPercent"),St=a(function(Zt,Tr){var kr=Dt(Zt),pr=Dt(Tr),Sr=kr-pr;return Sr===0?Oe(Zt.id(),Tr.id()):Sr},"sortFn");l.depthSort!==void 0&&(St=l.depthSort);for(var Rt=0;Rt<K.length;Rt++)K[Rt].sort(St),ke(Rt);for(var ht=[],_t=0;_t<be.length;_t++)ht.push(be[_t]);K.unshift(ht),me();for(var Ot=0,Mt=0;Mt<K.length;Mt++)Ot=Math.max(K[Mt].length,Ot);var Wt={x:S.x1+S.w/2,y:S.x1+S.h/2},mr=K.reduce(function(Qt,Zt){return Math.max(Qt,Zt.length)},0),Ur=a(function(Zt){var Tr=Im(Zt),kr=Tr.depth,pr=Tr.index,Sr=K[kr].length,Rn=Math.max(S.w/((l.grid?mr:Sr)+1),qe),yn=Math.max(S.h/(K.length+1),qe),Xr=Math.min(S.w/2/K.length,S.h/2/K.length);if(Xr=Math.max(Xr,qe),l.circle){var pt=Xr*kr+Xr-(K.length>0&&K[0].length<=3?Xr/2:0),ve=2*Math.PI/K[kr].length*pr;return kr===0&&K[0].length===1&&(pt=1),{x:Wt.x+pt*Math.cos(ve),y:Wt.y+pt*Math.sin(ve)}}else{var vn={x:Wt.x+(pr+1-(Sr+1)/2)*Rn,y:(kr+1)*yn};return vn}},"getPosition");return m.nodes().layoutPositions(this,l,Ur),this};var V4e={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function Rz(f){this.options=pe({},V4e,f)}a(Rz,"CircleLayout"),Rz.prototype.run=function(){var f=this.options,l=f,d=f.cy,m=l.eles,y=l.counterclockwise!==void 0?!l.counterclockwise:l.clockwise,b=m.nodes().not(":parent");l.sort&&(b=b.sort(l.sort));for(var w=zo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),T={x:w.x1+w.w/2,y:w.y1+w.h/2},S=l.sweep===void 0?2*Math.PI-2*Math.PI/b.length:l.sweep,C=S/Math.max(1,b.length-1),A,R=0,$=0;$<b.length;$++){var U=b[$],q=U.layoutDimensions(l),ne=q.w,ee=q.h;R=Math.max(R,ne,ee)}if(z(l.radius)?A=l.radius:b.length<=1?A=0:A=Math.min(w.h,w.w)/2-R,b.length>1&&l.avoidOverlap){R*=1.75;var K=Math.cos(C)-Math.cos(0),se=Math.sin(C)-Math.sin(0),oe=Math.sqrt(R*R/(K*K+se*se));A=Math.max(oe,A)}var fe=a(function(ye,de){var ke=l.startAngle+de*C*(y?1:-1),me=A*Math.cos(ke),Ce=A*Math.sin(ke),Se={x:T.x+me,y:T.y+Ce};return Se},"getPos");return m.nodes().layoutPositions(this,l,fe),this};var q4e={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:a(function(l){return l.degree()},"concentric"),levelWidth:a(function(l){return l.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function Iz(f){this.options=pe({},q4e,f)}a(Iz,"ConcentricLayout"),Iz.prototype.run=function(){for(var f=this.options,l=f,d=l.counterclockwise!==void 0?!l.counterclockwise:l.clockwise,m=f.cy,y=l.eles,b=y.nodes().not(":parent"),w=zo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:m.width(),h:m.height()}),T={x:w.x1+w.w/2,y:w.y1+w.h/2},S=[],C=0,A=0;A<b.length;A++){var R=b[A],$=void 0;$=l.concentric(R),S.push({value:$,node:R}),R._private.scratch.concentric=$}b.updateStyle();for(var U=0;U<b.length;U++){var q=b[U],ne=q.layoutDimensions(l);C=Math.max(C,ne.w,ne.h)}S.sort(function(Qt,Zt){return Zt.value-Qt.value});for(var ee=l.levelWidth(b),K=[[]],se=K[0],oe=0;oe<S.length;oe++){var fe=S[oe];if(se.length>0){var be=Math.abs(se[0].value-fe.value);be>=ee&&(se=[],K.push(se))}se.push(fe)}var ye=C+l.minNodeSpacing;if(!l.avoidOverlap){var de=K.length>0&&K[0].length>1,ke=Math.min(w.w,w.h)/2-ye,me=ke/(K.length+de?1:0);ye=Math.min(ye,me)}for(var Ce=0,Se=0;Se<K.length;Se++){var xe=K[Se],Ve=l.sweep===void 0?2*Math.PI-2*Math.PI/xe.length:l.sweep,Te=xe.dTheta=Ve/Math.max(1,xe.length-1);if(xe.length>1&&l.avoidOverlap){var tt=Math.cos(Te)-Math.cos(0),We=Math.sin(Te)-Math.sin(0),qe=Math.sqrt(ye*ye/(tt*tt+We*We));Ce=Math.max(qe,Ce)}xe.r=Ce,Ce+=ye}if(l.equidistant){for(var nt=0,dt=0,wt=0;wt<K.length;wt++){var it=K[wt],xt=it.r-dt;nt=Math.max(nt,xt)}dt=0;for(var Et=0;Et<K.length;Et++){var Dt=K[Et];Et===0&&(dt=Dt.r),Dt.r=dt,dt+=nt}}for(var St={},Rt=0;Rt<K.length;Rt++)for(var ht=K[Rt],_t=ht.dTheta,Ot=ht.r,Mt=0;Mt<ht.length;Mt++){var Wt=ht[Mt],mr=l.startAngle+(d?1:-1)*_t*Mt,Ur={x:T.x+Ot*Math.cos(mr),y:T.y+Ot*Math.sin(mr)};St[Wt.node.id()]=Ur}return y.nodes().layoutPositions(this,l,function(Qt){var Zt=Qt.id();return St[Zt]}),this};var SC,U4e={ready:a(function(){},"ready"),stop:a(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:a(function(l){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:a(function(l){return 32},"idealEdgeLength"),edgeElasticity:a(function(l){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function j4(f){this.options=pe({},U4e,f),this.options.layout=this;var l=this.options.eles.nodes(),d=this.options.eles.edges(),m=d.filter(function(y){var b=y.source().data("id"),w=y.target().data("id"),T=l.some(function(C){return C.data("id")===b}),S=l.some(function(C){return C.data("id")===w});return!T||!S});this.options.eles=this.options.eles.not(m)}a(j4,"CoseLayout"),j4.prototype.run=function(){var f=this.options,l=f.cy,d=this;d.stopped=!1,(f.animate===!0||f.animate===!1)&&d.emit({type:"layoutstart",layout:d}),f.debug===!0?SC=!0:SC=!1;var m=H4e(l,d,f);SC&&X4e(m),f.randomize&&j4e(m);var y=Fe(),b=a(function(){K4e(m,l,f),f.fit===!0&&l.fit(f.padding)},"refresh"),w=a(function($){return!(d.stopped||$>=f.numIter||(Q4e(m,f),m.temperature=m.temperature*f.coolingFactor,m.temperature<f.minTemp))},"mainLoop"),T=a(function(){if(f.animate===!0||f.animate===!1)b(),d.one("layoutstop",f.stop),d.emit({type:"layoutstop",layout:d});else{var $=f.eles.nodes(),U=Mz(m,f,$);$.layoutPositions(d,f,U)}},"done"),S=0,C=!0;if(f.animate===!0){var A=a(function R(){for(var $=0;C&&$<f.refresh;)C=w(S),S++,$++;if(!C)Oz(m,f),T();else{var U=Fe();U-y>=f.animationThreshold&&b(),bs(R)}},"frame");A()}else{for(;C;)C=w(S),S++;Oz(m,f),T()}return this},j4.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},j4.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var H4e=a(function(l,d,m){for(var y=m.eles.edges(),b=m.eles.nodes(),w=zo(m.boundingBox?m.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),T={isCompound:l.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:b.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:y.size(),temperature:m.initialTemp,clientWidth:w.w,clientHeight:w.h,boundingBox:w},S=m.eles.components(),C={},A=0;A<S.length;A++)for(var R=S[A],$=0;$<R.length;$++){var U=R[$];C[U.id()]=A}for(var A=0;A<T.nodeSize;A++){var q=b[A],ne=q.layoutDimensions(m),ee={};ee.isLocked=q.locked(),ee.id=q.data("id"),ee.parentId=q.data("parent"),ee.cmptId=C[q.id()],ee.children=[],ee.positionX=q.position("x"),ee.positionY=q.position("y"),ee.offsetX=0,ee.offsetY=0,ee.height=ne.w,ee.width=ne.h,ee.maxX=ee.positionX+ee.width/2,ee.minX=ee.positionX-ee.width/2,ee.maxY=ee.positionY+ee.height/2,ee.minY=ee.positionY-ee.height/2,ee.padLeft=parseFloat(q.style("padding")),ee.padRight=parseFloat(q.style("padding")),ee.padTop=parseFloat(q.style("padding")),ee.padBottom=parseFloat(q.style("padding")),ee.nodeRepulsion=V(m.nodeRepulsion)?m.nodeRepulsion(q):m.nodeRepulsion,T.layoutNodes.push(ee),T.idToIndex[ee.id]=A}for(var K=[],se=0,oe=-1,fe=[],A=0;A<T.nodeSize;A++){var q=T.layoutNodes[A],be=q.parentId;be!=null?T.layoutNodes[T.idToIndex[be]].children.push(q.id):(K[++oe]=q.id,fe.push(q.id))}for(T.graphSet.push(fe);se<=oe;){var ye=K[se++],de=T.idToIndex[ye],U=T.layoutNodes[de],ke=U.children;if(ke.length>0){T.graphSet.push(ke);for(var A=0;A<ke.length;A++)K[++oe]=ke[A]}}for(var A=0;A<T.graphSet.length;A++)for(var me=T.graphSet[A],$=0;$<me.length;$++){var Ce=T.idToIndex[me[$]];T.indexToGraph[Ce]=A}for(var A=0;A<T.edgeSize;A++){var Se=y[A],xe={};xe.id=Se.data("id"),xe.sourceId=Se.data("source"),xe.targetId=Se.data("target");var Ve=V(m.idealEdgeLength)?m.idealEdgeLength(Se):m.idealEdgeLength,Te=V(m.edgeElasticity)?m.edgeElasticity(Se):m.edgeElasticity,tt=T.idToIndex[xe.sourceId],We=T.idToIndex[xe.targetId],qe=T.indexToGraph[tt],nt=T.indexToGraph[We];if(qe!=nt){for(var dt=W4e(xe.sourceId,xe.targetId,T),wt=T.graphSet[dt],it=0,ee=T.layoutNodes[tt];wt.indexOf(ee.id)===-1;)ee=T.layoutNodes[T.idToIndex[ee.parentId]],it++;for(ee=T.layoutNodes[We];wt.indexOf(ee.id)===-1;)ee=T.layoutNodes[T.idToIndex[ee.parentId]],it++;Ve*=it*m.nestingFactor}xe.idealLength=Ve,xe.elasticity=Te,T.layoutEdges.push(xe)}return T},"createLayoutInfo"),W4e=a(function(l,d,m){var y=Y4e(l,d,0,m);return 2>y.count?0:y.graph},"findLCA"),Y4e=a(function f(l,d,m,y){var b=y.graphSet[m];if(-1<b.indexOf(l)&&-1<b.indexOf(d))return{count:2,graph:m};for(var w=0,T=0;T<b.length;T++){var S=b[T],C=y.idToIndex[S],A=y.layoutNodes[C].children;if(A.length!==0){var R=y.indexToGraph[y.idToIndex[A[0]]],$=f(l,d,R,y);if($.count!==0)if($.count===1){if(w++,w===2)break}else return $}}return{count:w,graph:m}},"findLCA_aux"),X4e,j4e=a(function(l,d){for(var m=l.clientWidth,y=l.clientHeight,b=0;b<l.nodeSize;b++){var w=l.layoutNodes[b];w.children.length===0&&!w.isLocked&&(w.positionX=Math.random()*m,w.positionY=Math.random()*y)}},"randomizePositions"),Mz=a(function(l,d,m){var y=l.boundingBox,b={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return d.boundingBox&&(m.forEach(function(w){var T=l.layoutNodes[l.idToIndex[w.data("id")]];b.x1=Math.min(b.x1,T.positionX),b.x2=Math.max(b.x2,T.positionX),b.y1=Math.min(b.y1,T.positionY),b.y2=Math.max(b.y2,T.positionY)}),b.w=b.x2-b.x1,b.h=b.y2-b.y1),function(w,T){var S=l.layoutNodes[l.idToIndex[w.data("id")]];if(d.boundingBox){var C=(S.positionX-b.x1)/b.w,A=(S.positionY-b.y1)/b.h;return{x:y.x1+C*y.w,y:y.y1+A*y.h}}else return{x:S.positionX,y:S.positionY}}},"getScaleInBoundsFn"),K4e=a(function(l,d,m){var y=m.layout,b=m.eles.nodes(),w=Mz(l,m,b);b.positions(w),l.ready!==!0&&(l.ready=!0,y.one("layoutready",m.ready),y.emit({type:"layoutready",layout:this}))},"refreshPositions"),Q4e=a(function(l,d,m){Z4e(l,d),t3e(l),r3e(l,d),n3e(l),i3e(l)},"step"),Z4e=a(function(l,d){for(var m=0;m<l.graphSet.length;m++)for(var y=l.graphSet[m],b=y.length,w=0;w<b;w++)for(var T=l.layoutNodes[l.idToIndex[y[w]]],S=w+1;S<b;S++){var C=l.layoutNodes[l.idToIndex[y[S]]];J4e(T,C,l,d)}},"calculateNodeForces"),Nz=a(function(l){return-l+2*l*Math.random()},"randomDistance"),J4e=a(function(l,d,m,y){var b=l.cmptId,w=d.cmptId;if(!(b!==w&&!m.isCompound)){var T=d.positionX-l.positionX,S=d.positionY-l.positionY,C=1;T===0&&S===0&&(T=Nz(C),S=Nz(C));var A=e3e(l,d,T,S);if(A>0)var R=y.nodeOverlap*A,$=Math.sqrt(T*T+S*S),U=R*T/$,q=R*S/$;else var ne=K4(l,T,S),ee=K4(d,-1*T,-1*S),K=ee.x-ne.x,se=ee.y-ne.y,oe=K*K+se*se,$=Math.sqrt(oe),R=(l.nodeRepulsion+d.nodeRepulsion)/oe,U=R*K/$,q=R*se/$;l.isLocked||(l.offsetX-=U,l.offsetY-=q),d.isLocked||(d.offsetX+=U,d.offsetY+=q)}},"nodeRepulsion"),e3e=a(function(l,d,m,y){if(m>0)var b=l.maxX-d.minX;else var b=d.maxX-l.minX;if(y>0)var w=l.maxY-d.minY;else var w=d.maxY-l.minY;return b>=0&&w>=0?Math.sqrt(b*b+w*w):0},"nodesOverlap"),K4=a(function(l,d,m){var y=l.positionX,b=l.positionY,w=l.height||1,T=l.width||1,S=m/d,C=w/T,A={};return d===0&&0<m||d===0&&0>m?(A.x=y,A.y=b+w/2,A):0<d&&-1*C<=S&&S<=C?(A.x=y+T/2,A.y=b+T*m/2/d,A):0>d&&-1*C<=S&&S<=C?(A.x=y-T/2,A.y=b-T*m/2/d,A):0<m&&(S<=-1*C||S>=C)?(A.x=y+w*d/2/m,A.y=b+w/2,A):(0>m&&(S<=-1*C||S>=C)&&(A.x=y-w*d/2/m,A.y=b-w/2),A)},"findClippingPoint"),t3e=a(function(l,d){for(var m=0;m<l.edgeSize;m++){var y=l.layoutEdges[m],b=l.idToIndex[y.sourceId],w=l.layoutNodes[b],T=l.idToIndex[y.targetId],S=l.layoutNodes[T],C=S.positionX-w.positionX,A=S.positionY-w.positionY;if(!(C===0&&A===0)){var R=K4(w,C,A),$=K4(S,-1*C,-1*A),U=$.x-R.x,q=$.y-R.y,ne=Math.sqrt(U*U+q*q),ee=Math.pow(y.idealLength-ne,2)/y.elasticity;if(ne!==0)var K=ee*U/ne,se=ee*q/ne;else var K=0,se=0;w.isLocked||(w.offsetX+=K,w.offsetY+=se),S.isLocked||(S.offsetX-=K,S.offsetY-=se)}}},"calculateEdgeForces"),r3e=a(function(l,d){if(d.gravity!==0)for(var m=1,y=0;y<l.graphSet.length;y++){var b=l.graphSet[y],w=b.length;if(y===0)var T=l.clientHeight/2,S=l.clientWidth/2;else var C=l.layoutNodes[l.idToIndex[b[0]]],A=l.layoutNodes[l.idToIndex[C.parentId]],T=A.positionX,S=A.positionY;for(var R=0;R<w;R++){var $=l.layoutNodes[l.idToIndex[b[R]]];if(!$.isLocked){var U=T-$.positionX,q=S-$.positionY,ne=Math.sqrt(U*U+q*q);if(ne>m){var ee=d.gravity*U/ne,K=d.gravity*q/ne;$.offsetX+=ee,$.offsetY+=K}}}}},"calculateGravityForces"),n3e=a(function(l,d){var m=[],y=0,b=-1;for(m.push.apply(m,l.graphSet[0]),b+=l.graphSet[0].length;y<=b;){var w=m[y++],T=l.idToIndex[w],S=l.layoutNodes[T],C=S.children;if(0<C.length&&!S.isLocked){for(var A=S.offsetX,R=S.offsetY,$=0;$<C.length;$++){var U=l.layoutNodes[l.idToIndex[C[$]]];U.offsetX+=A,U.offsetY+=R,m[++b]=C[$]}S.offsetX=0,S.offsetY=0}}},"propagateForces"),i3e=a(function(l,d){for(var m=0;m<l.nodeSize;m++){var y=l.layoutNodes[m];0<y.children.length&&(y.maxX=void 0,y.minX=void 0,y.maxY=void 0,y.minY=void 0)}for(var m=0;m<l.nodeSize;m++){var y=l.layoutNodes[m];if(!(0<y.children.length||y.isLocked)){var b=a3e(y.offsetX,y.offsetY,l.temperature);y.positionX+=b.x,y.positionY+=b.y,y.offsetX=0,y.offsetY=0,y.minX=y.positionX-y.width,y.maxX=y.positionX+y.width,y.minY=y.positionY-y.height,y.maxY=y.positionY+y.height,s3e(y,l)}}for(var m=0;m<l.nodeSize;m++){var y=l.layoutNodes[m];0<y.children.length&&!y.isLocked&&(y.positionX=(y.maxX+y.minX)/2,y.positionY=(y.maxY+y.minY)/2,y.width=y.maxX-y.minX,y.height=y.maxY-y.minY)}},"updatePositions"),a3e=a(function(l,d,m){var y=Math.sqrt(l*l+d*d);if(y>m)var b={x:m*l/y,y:m*d/y};else var b={x:l,y:d};return b},"limitForce"),s3e=a(function f(l,d){var m=l.parentId;if(m!=null){var y=d.layoutNodes[d.idToIndex[m]],b=!1;if((y.maxX==null||l.maxX+y.padRight>y.maxX)&&(y.maxX=l.maxX+y.padRight,b=!0),(y.minX==null||l.minX-y.padLeft<y.minX)&&(y.minX=l.minX-y.padLeft,b=!0),(y.maxY==null||l.maxY+y.padBottom>y.maxY)&&(y.maxY=l.maxY+y.padBottom,b=!0),(y.minY==null||l.minY-y.padTop<y.minY)&&(y.minY=l.minY-y.padTop,b=!0),b)return f(y,d)}},"updateAncestryBoundaries"),Oz=a(function(l,d){for(var m=l.layoutNodes,y=[],b=0;b<m.length;b++){var w=m[b],T=w.cmptId,S=y[T]=y[T]||[];S.push(w)}for(var C=0,b=0;b<y.length;b++){var A=y[b];if(A){A.x1=1/0,A.x2=-1/0,A.y1=1/0,A.y2=-1/0;for(var R=0;R<A.length;R++){var $=A[R];A.x1=Math.min(A.x1,$.positionX-$.width/2),A.x2=Math.max(A.x2,$.positionX+$.width/2),A.y1=Math.min(A.y1,$.positionY-$.height/2),A.y2=Math.max(A.y2,$.positionY+$.height/2)}A.w=A.x2-A.x1,A.h=A.y2-A.y1,C+=A.w*A.h}}y.sort(function(se,oe){return oe.w*oe.h-se.w*se.h});for(var U=0,q=0,ne=0,ee=0,K=Math.sqrt(C)*l.clientWidth/l.clientHeight,b=0;b<y.length;b++){var A=y[b];if(A){for(var R=0;R<A.length;R++){var $=A[R];$.isLocked||($.positionX+=U-A.x1,$.positionY+=q-A.y1)}U+=A.w+d.componentSpacing,ne+=A.w+d.componentSpacing,ee=Math.max(ee,A.h),ne>K&&(q+=ee+d.componentSpacing,U=0,ne=0,ee=0)}}},"separateComponents"),o3e={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:a(function(l){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function Pz(f){this.options=pe({},o3e,f)}a(Pz,"GridLayout"),Pz.prototype.run=function(){var f=this.options,l=f,d=f.cy,m=l.eles,y=m.nodes().not(":parent");l.sort&&(y=y.sort(l.sort));var b=zo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()});if(b.h===0||b.w===0)m.nodes().layoutPositions(this,l,function(Et){return{x:b.x1,y:b.y1}});else{var w=y.size(),T=Math.sqrt(w*b.h/b.w),S=Math.round(T),C=Math.round(b.w/b.h*T),A=a(function(Dt){if(Dt==null)return Math.min(S,C);var St=Math.min(S,C);St==S?S=Dt:C=Dt},"small"),R=a(function(Dt){if(Dt==null)return Math.max(S,C);var St=Math.max(S,C);St==S?S=Dt:C=Dt},"large"),$=l.rows,U=l.cols!=null?l.cols:l.columns;if($!=null&&U!=null)S=$,C=U;else if($!=null&&U==null)S=$,C=Math.ceil(w/S);else if($==null&&U!=null)C=U,S=Math.ceil(w/C);else if(C*S>w){var q=A(),ne=R();(q-1)*ne>=w?A(q-1):(ne-1)*q>=w&&R(ne-1)}else for(;C*S<w;){var ee=A(),K=R();(K+1)*ee>=w?R(K+1):A(ee+1)}var se=b.w/C,oe=b.h/S;if(l.condense&&(se=0,oe=0),l.avoidOverlap)for(var fe=0;fe<y.length;fe++){var be=y[fe],ye=be._private.position;(ye.x==null||ye.y==null)&&(ye.x=0,ye.y=0);var de=be.layoutDimensions(l),ke=l.avoidOverlapPadding,me=de.w+ke,Ce=de.h+ke;se=Math.max(se,me),oe=Math.max(oe,Ce)}for(var Se={},xe=a(function(Dt,St){return!!Se["c-"+Dt+"-"+St]},"used"),Ve=a(function(Dt,St){Se["c-"+Dt+"-"+St]=!0},"use"),Te=0,tt=0,We=a(function(){tt++,tt>=C&&(tt=0,Te++)},"moveToNextCell"),qe={},nt=0;nt<y.length;nt++){var dt=y[nt],wt=l.position(dt);if(wt&&(wt.row!==void 0||wt.col!==void 0)){var it={row:wt.row,col:wt.col};if(it.col===void 0)for(it.col=0;xe(it.row,it.col);)it.col++;else if(it.row===void 0)for(it.row=0;xe(it.row,it.col);)it.row++;qe[dt.id()]=it,Ve(it.row,it.col)}}var xt=a(function(Dt,St){var Rt,ht;if(Dt.locked()||Dt.isParent())return!1;var _t=qe[Dt.id()];if(_t)Rt=_t.col*se+se/2+b.x1,ht=_t.row*oe+oe/2+b.y1;else{for(;xe(Te,tt);)We();Rt=tt*se+se/2+b.x1,ht=Te*oe+oe/2+b.y1,Ve(Te,tt),We()}return{x:Rt,y:ht}},"getPos");y.layoutPositions(this,l,xt)}return this};var l3e={ready:a(function(){},"ready"),stop:a(function(){},"stop")};function _C(f){this.options=pe({},l3e,f)}a(_C,"NullLayout"),_C.prototype.run=function(){var f=this.options,l=f.eles,d=this;return f.cy,d.emit("layoutstart"),l.nodes().positions(function(){return{x:0,y:0}}),d.one("layoutready",f.ready),d.emit("layoutready"),d.one("layoutstop",f.stop),d.emit("layoutstop"),this},_C.prototype.stop=function(){return this};var u3e={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function Bz(f){this.options=pe({},u3e,f)}a(Bz,"PresetLayout"),Bz.prototype.run=function(){var f=this.options,l=f.eles,d=l.nodes(),m=V(f.positions);function y(b){if(f.positions==null)return dve(b.position());if(m)return f.positions(b);var w=f.positions[b._private.data.id];return w??null}return a(y,"getPosition"),d.layoutPositions(this,f,function(b,w){var T=y(b);return b.locked()||T==null?!1:T}),this};var c3e={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:a(function(l,d){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:a(function(l,d){return d},"transform")};function Fz(f){this.options=pe({},c3e,f)}a(Fz,"RandomLayout"),Fz.prototype.run=function(){var f=this.options,l=f.cy,d=f.eles,m=zo(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),y=a(function(w,T){return{x:m.x1+Math.round(Math.random()*m.w),y:m.y1+Math.round(Math.random()*m.h)}},"getPos");return d.nodes().layoutPositions(this,f,y),this};var h3e=[{name:"breadthfirst",impl:Dz},{name:"circle",impl:Rz},{name:"concentric",impl:Iz},{name:"cose",impl:j4},{name:"grid",impl:Pz},{name:"null",impl:_C},{name:"preset",impl:Bz},{name:"random",impl:Fz}];function zz(f){this.options=f,this.notifications=0}a(zz,"NullRenderer");var $z=a(function(){},"noop"),Gz=a(function(){throw new Error("A headless instance can not render images")},"throwImgErr");zz.prototype={recalculateRenderedStyle:$z,notify:a(function(){this.notifications++},"notify"),init:$z,isHeadless:a(function(){return!0},"isHeadless"),png:Gz,jpg:Gz};var AC={};AC.arrowShapeWidth=.3,AC.registerArrowShapes=function(){var f=this.arrowShapes={},l=this,d=a(function(C,A,R,$,U,q,ne){var ee=U.x-R/2-ne,K=U.x+R/2+ne,se=U.y-R/2-ne,oe=U.y+R/2+ne,fe=ee<=C&&C<=K&&se<=A&&A<=oe;return fe},"bbCollide"),m=a(function(C,A,R,$,U){var q=C*Math.cos($)-A*Math.sin($),ne=C*Math.sin($)+A*Math.cos($),ee=q*R,K=ne*R,se=ee+U.x,oe=K+U.y;return{x:se,y:oe}},"transform"),y=a(function(C,A,R,$){for(var U=[],q=0;q<C.length;q+=2){var ne=C[q],ee=C[q+1];U.push(m(ne,ee,A,R,$))}return U},"transformPoints"),b=a(function(C){for(var A=[],R=0;R<C.length;R++){var $=C[R];A.push($.x,$.y)}return A},"pointsToArr"),w=a(function(C){return C.pstyle("width").pfValue*C.pstyle("arrow-scale").pfValue*2},"standardGap"),T=a(function(C,A){P(A)&&(A=f[A]),f[C]=pe({name:C,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:a(function($,U,q,ne,ee,K){var se=b(y(this.points,q+2*K,ne,ee)),oe=$o($,U,se);return oe},"collide"),roughCollide:d,draw:a(function($,U,q,ne){var ee=y(this.points,U,q,ne);l.arrowShapeImpl("polygon")($,ee)},"draw"),spacing:a(function($){return 0},"spacing"),gap:w},A)},"defineArrowShape");T("none",{collide:Ec,roughCollide:Ec,draw:Wl,spacing:Hl,gap:Hl}),T("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),T("arrow","triangle"),T("triangle-backcurve",{points:f.triangle.points,controlPoint:[0,-.15],roughCollide:d,draw:a(function(C,A,R,$,U){var q=y(this.points,A,R,$),ne=this.controlPoint,ee=m(ne[0],ne[1],A,R,$);l.arrowShapeImpl(this.name)(C,q,ee)},"draw"),gap:a(function(C){return w(C)*.8},"gap")}),T("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:a(function(C,A,R,$,U,q,ne){var ee=b(y(this.points,R+2*ne,$,U)),K=b(y(this.pointsTee,R+2*ne,$,U)),se=$o(C,A,ee)||$o(C,A,K);return se},"collide"),draw:a(function(C,A,R,$,U){var q=y(this.points,A,R,$),ne=y(this.pointsTee,A,R,$);l.arrowShapeImpl(this.name)(C,q,ne)},"draw")}),T("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:a(function(C,A,R,$,U,q,ne){var ee=U,K=Math.pow(ee.x-C,2)+Math.pow(ee.y-A,2)<=Math.pow((R+2*ne)*this.radius,2),se=b(y(this.points,R+2*ne,$,U));return $o(C,A,se)||K},"collide"),draw:a(function(C,A,R,$,U){var q=y(this.pointsTr,A,R,$);l.arrowShapeImpl(this.name)(C,q,$.x,$.y,this.radius*A)},"draw"),spacing:a(function(C){return l.getArrowWidth(C.pstyle("width").pfValue,C.pstyle("arrow-scale").value)*this.radius},"spacing")}),T("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:a(function(C,A){var R=this.baseCrossLinePts.slice(),$=A/C,U=3,q=5;return R[U]=R[U]-$,R[q]=R[q]-$,R},"crossLinePts"),collide:a(function(C,A,R,$,U,q,ne){var ee=b(y(this.points,R+2*ne,$,U)),K=b(y(this.crossLinePts(R,q),R+2*ne,$,U)),se=$o(C,A,ee)||$o(C,A,K);return se},"collide"),draw:a(function(C,A,R,$,U){var q=y(this.points,A,R,$),ne=y(this.crossLinePts(A,U),A,R,$);l.arrowShapeImpl(this.name)(C,q,ne)},"draw")}),T("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:a(function(C){return w(C)*.525},"gap")}),T("circle",{radius:.15,collide:a(function(C,A,R,$,U,q,ne){var ee=U,K=Math.pow(ee.x-C,2)+Math.pow(ee.y-A,2)<=Math.pow((R+2*ne)*this.radius,2);return K},"collide"),draw:a(function(C,A,R,$,U){l.arrowShapeImpl(this.name)(C,$.x,$.y,this.radius*A)},"draw"),spacing:a(function(C){return l.getArrowWidth(C.pstyle("width").pfValue,C.pstyle("arrow-scale").value)*this.radius},"spacing")}),T("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:a(function(C){return 1},"spacing"),gap:a(function(C){return 1},"gap")}),T("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),T("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:a(function(C){return C.pstyle("width").pfValue*C.pstyle("arrow-scale").value},"gap")}),T("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:a(function(C){return .95*C.pstyle("width").pfValue*C.pstyle("arrow-scale").value},"gap")})};var d0={};d0.projectIntoViewport=function(f,l){var d=this.cy,m=this.findContainerClientCoords(),y=m[0],b=m[1],w=m[4],T=d.pan(),S=d.zoom(),C=((f-y)/w-T.x)/S,A=((l-b)/w-T.y)/S;return[C,A]},d0.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var f=this.container,l=f.getBoundingClientRect(),d=this.cy.window().getComputedStyle(f),m=a(function(K){return parseFloat(d.getPropertyValue(K))},"styleValue"),y={left:m("padding-left"),right:m("padding-right"),top:m("padding-top"),bottom:m("padding-bottom")},b={left:m("border-left-width"),right:m("border-right-width"),top:m("border-top-width"),bottom:m("border-bottom-width")},w=f.clientWidth,T=f.clientHeight,S=y.left+y.right,C=y.top+y.bottom,A=b.left+b.right,R=l.width/(w+A),$=w-S,U=T-C,q=l.left+y.left+b.left,ne=l.top+y.top+b.top;return this.containerBB=[q,ne,$,U,R]},d0.invalidateContainerClientCoordsCache=function(){this.containerBB=null},d0.findNearestElement=function(f,l,d,m){return this.findNearestElements(f,l,d,m)[0]},d0.findNearestElements=function(f,l,d,m){var y=this,b=this,w=b.getCachedZSortedEles(),T=[],S=b.cy.zoom(),C=b.cy.hasCompoundNodes(),A=(m?24:8)/S,R=(m?8:2)/S,$=(m?8:2)/S,U=1/0,q,ne;d&&(w=w.interactive);function ee(de,ke){if(de.isNode()){if(ne)return;ne=de,T.push(de)}if(de.isEdge()&&(ke==null||ke<U))if(q){if(q.pstyle("z-compound-depth").value===de.pstyle("z-compound-depth").value&&q.pstyle("z-compound-depth").value===de.pstyle("z-compound-depth").value){for(var me=0;me<T.length;me++)if(T[me].isEdge()){T[me]=de,q=de,U=ke??U;break}}}else T.push(de),q=de,U=ke??U}a(ee,"addEle");function K(de){var ke=de.outerWidth()+2*R,me=de.outerHeight()+2*R,Ce=ke/2,Se=me/2,xe=de.position();if(xe.x-Ce<=f&&f<=xe.x+Ce&&xe.y-Se<=l&&l<=xe.y+Se){var Ve=b.nodeShapes[y.getNodeShape(de)];if(Ve.checkPoint(f,l,0,ke,me,xe.x,xe.y))return ee(de,0),!0}}a(K,"checkNode");function se(de){var ke=de._private,me=ke.rscratch,Ce=de.pstyle("width").pfValue,Se=de.pstyle("arrow-scale").value,xe=Ce/2+A,Ve=xe*xe,Te=xe*2,nt=ke.source,dt=ke.target,tt;if(me.edgeType==="segments"||me.edgeType==="straight"||me.edgeType==="haystack"){for(var We=me.allpts,qe=0;qe+3<We.length;qe+=2)if(Sve(f,l,We[qe],We[qe+1],We[qe+2],We[qe+3],Te)&&Ve>(tt=Rve(f,l,We[qe],We[qe+1],We[qe+2],We[qe+3])))return ee(de,tt),!0}else if(me.edgeType==="bezier"||me.edgeType==="multibezier"||me.edgeType==="self"||me.edgeType==="compound"){for(var We=me.allpts,qe=0;qe+5<me.allpts.length;qe+=4)if(_ve(f,l,We[qe],We[qe+1],We[qe+2],We[qe+3],We[qe+4],We[qe+5],Te)&&Ve>(tt=Dve(f,l,We[qe],We[qe+1],We[qe+2],We[qe+3],We[qe+4],We[qe+5])))return ee(de,tt),!0}for(var nt=nt||ke.source,dt=dt||ke.target,wt=y.getArrowWidth(Ce,Se),it=[{name:"source",x:me.arrowStartX,y:me.arrowStartY,angle:me.srcArrowAngle},{name:"target",x:me.arrowEndX,y:me.arrowEndY,angle:me.tgtArrowAngle},{name:"mid-source",x:me.midX,y:me.midY,angle:me.midsrcArrowAngle},{name:"mid-target",x:me.midX,y:me.midY,angle:me.midtgtArrowAngle}],qe=0;qe<it.length;qe++){var xt=it[qe],Et=b.arrowShapes[de.pstyle(xt.name+"-arrow-shape").value],Dt=de.pstyle("width").pfValue;if(Et.roughCollide(f,l,wt,xt.angle,{x:xt.x,y:xt.y},Dt,A)&&Et.collide(f,l,wt,xt.angle,{x:xt.x,y:xt.y},Dt,A))return ee(de),!0}C&&T.length>0&&(K(nt),K(dt))}a(se,"checkEdge");function oe(de,ke,me){return Fo(de,ke,me)}a(oe,"preprop");function fe(de,ke){var me=de._private,Ce=$,Se;ke?Se=ke+"-":Se="",de.boundingBox();var xe=me.labelBounds[ke||"main"],Ve=de.pstyle(Se+"label").value,Te=de.pstyle("text-events").strValue==="yes";if(!(!Te||!Ve)){var tt=oe(me.rscratch,"labelX",ke),We=oe(me.rscratch,"labelY",ke),qe=oe(me.rscratch,"labelAngle",ke),nt=de.pstyle(Se+"text-margin-x").pfValue,dt=de.pstyle(Se+"text-margin-y").pfValue,wt=xe.x1-Ce-nt,it=xe.x2+Ce-nt,xt=xe.y1-Ce-dt,Et=xe.y2+Ce-dt;if(qe){var Dt=Math.cos(qe),St=Math.sin(qe),Rt=a(function(Ur,Qt){return Ur=Ur-tt,Qt=Qt-We,{x:Ur*Dt-Qt*St+tt,y:Ur*St+Qt*Dt+We}},"rotate"),ht=Rt(wt,xt),_t=Rt(wt,Et),Ot=Rt(it,xt),Mt=Rt(it,Et),Wt=[ht.x+nt,ht.y+dt,Ot.x+nt,Ot.y+dt,Mt.x+nt,Mt.y+dt,_t.x+nt,_t.y+dt];if($o(f,l,Wt))return ee(de),!0}else if(ym(xe,f,l))return ee(de),!0}}a(fe,"checkLabel");for(var be=w.length-1;be>=0;be--){var ye=w[be];ye.isNode()?K(ye)||fe(ye):se(ye)||fe(ye)||fe(ye,"source")||fe(ye,"target")}return T},d0.getAllInBox=function(f,l,d,m){var y=this.getCachedZSortedEles().interactive,b=[],w=Math.min(f,d),T=Math.max(f,d),S=Math.min(l,m),C=Math.max(l,m);f=w,d=T,l=S,m=C;for(var A=zo({x1:f,y1:l,x2:d,y2:m}),R=0;R<y.length;R++){var $=y[R];if($.isNode()){var U=$,q=U.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});tC(A,q)&&!lF(q,A)&&b.push(U)}else{var ne=$,ee=ne._private,K=ee.rscratch;if(K.startX!=null&&K.startY!=null&&!ym(A,K.startX,K.startY)||K.endX!=null&&K.endY!=null&&!ym(A,K.endX,K.endY))continue;if(K.edgeType==="bezier"||K.edgeType==="multibezier"||K.edgeType==="self"||K.edgeType==="compound"||K.edgeType==="segments"||K.edgeType==="haystack"){for(var se=ee.rstyle.bezierPts||ee.rstyle.linePts||ee.rstyle.haystackPts,oe=!0,fe=0;fe<se.length;fe++)if(!Cve(A,se[fe])){oe=!1;break}oe&&b.push(ne)}else(K.edgeType==="haystack"||K.edgeType==="straight")&&b.push(ne)}}return b};var Q4={};Q4.calculateArrowAngles=function(f){var l=f._private.rscratch,d=l.edgeType==="haystack",m=l.edgeType==="bezier",y=l.edgeType==="multibezier",b=l.edgeType==="segments",w=l.edgeType==="compound",T=l.edgeType==="self",S,C,A,R,$,U,K,se;if(d?(A=l.haystackPts[0],R=l.haystackPts[1],$=l.haystackPts[2],U=l.haystackPts[3]):(A=l.arrowStartX,R=l.arrowStartY,$=l.arrowEndX,U=l.arrowEndY),K=l.midX,se=l.midY,b)S=A-l.segpts[0],C=R-l.segpts[1];else if(y||w||T||m){var q=l.allpts,ne=is(q[0],q[2],q[4],.1),ee=is(q[1],q[3],q[5],.1);S=A-ne,C=R-ee}else S=A-K,C=R-se;l.srcArrowAngle=v4(S,C);var K=l.midX,se=l.midY;if(d&&(K=(A+$)/2,se=(R+U)/2),S=$-A,C=U-R,b){var q=l.allpts;if(q.length/2%2===0){var oe=q.length/2,fe=oe-2;S=q[oe]-q[fe],C=q[oe+1]-q[fe+1]}else{var oe=q.length/2-1,fe=oe-2,be=oe+2;S=q[oe]-q[fe],C=q[oe+1]-q[fe+1]}}else if(y||w||T){var q=l.allpts,ye=l.ctrlpts,de,ke,me,Ce;if(ye.length/2%2===0){var Se=q.length/2-1,xe=Se+2,Ve=xe+2;de=is(q[Se],q[xe],q[Ve],0),ke=is(q[Se+1],q[xe+1],q[Ve+1],0),me=is(q[Se],q[xe],q[Ve],1e-4),Ce=is(q[Se+1],q[xe+1],q[Ve+1],1e-4)}else{var xe=q.length/2-1,Se=xe-2,Ve=xe+2;de=is(q[Se],q[xe],q[Ve],.4999),ke=is(q[Se+1],q[xe+1],q[Ve+1],.4999),me=is(q[Se],q[xe],q[Ve],.5),Ce=is(q[Se+1],q[xe+1],q[Ve+1],.5)}S=me-de,C=Ce-ke}if(l.midtgtArrowAngle=v4(S,C),l.midDispX=S,l.midDispY=C,S*=-1,C*=-1,b){var q=l.allpts;if(q.length/2%2!==0){var oe=q.length/2-1,be=oe+2;S=-(q[be]-q[oe]),C=-(q[be+1]-q[oe+1])}}if(l.midsrcArrowAngle=v4(S,C),b)S=$-l.segpts[l.segpts.length-2],C=U-l.segpts[l.segpts.length-1];else if(y||w||T||m){var q=l.allpts,Te=q.length,ne=is(q[Te-6],q[Te-4],q[Te-2],.9),ee=is(q[Te-5],q[Te-3],q[Te-1],.9);S=$-ne,C=U-ee}else S=$-K,C=U-se;l.tgtArrowAngle=v4(S,C)},Q4.getArrowWidth=Q4.getArrowHeight=function(f,l){var d=this.arrowWidthCache=this.arrowWidthCache||{},m=d[f+", "+l];return m||(m=Math.max(Math.pow(f*13.37,.9),29)*l,d[f+", "+l]=m,m)};var Zs={};Zs.findMidptPtsEtc=function(f,l){var d=l.posPts,m=l.intersectionPts,y=l.vectorNormInverse,b,w=f.pstyle("source-endpoint"),T=f.pstyle("target-endpoint"),S=w.units!=null&&T.units!=null,C=a(function(be,ye,de,ke){var me=ke-ye,Ce=de-be,Se=Math.sqrt(Ce*Ce+me*me);return{x:-me/Se,y:Ce/Se}},"recalcVectorNormInverse"),A=f.pstyle("edge-distances").value;switch(A){case"node-position":b=d;break;case"intersection":b=m;break;case"endpoints":{if(S){var R=this.manualEndptToPx(f.source()[0],w),$=s(R,2),U=$[0],q=$[1],ne=this.manualEndptToPx(f.target()[0],T),ee=s(ne,2),K=ee[0],se=ee[1],oe={x1:U,y1:q,x2:K,y2:se};y=C(U,q,K,se),b=oe}else An("Edge ".concat(f.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),b=m;break}}return{midptPts:b,vectorNormInverse:y}},Zs.findHaystackPoints=function(f){for(var l=0;l<f.length;l++){var d=f[l],m=d._private,y=m.rscratch;if(!y.haystack){var b=Math.random()*2*Math.PI;y.source={x:Math.cos(b),y:Math.sin(b)},b=Math.random()*2*Math.PI,y.target={x:Math.cos(b),y:Math.sin(b)}}var w=m.source,T=m.target,S=w.position(),C=T.position(),A=w.width(),R=T.width(),$=w.height(),U=T.height(),q=d.pstyle("haystack-radius").value,ne=q/2;y.haystackPts=y.allpts=[y.source.x*A*ne+S.x,y.source.y*$*ne+S.y,y.target.x*R*ne+C.x,y.target.y*U*ne+C.y],y.midX=(y.allpts[0]+y.allpts[2])/2,y.midY=(y.allpts[1]+y.allpts[3])/2,y.edgeType="haystack",y.haystack=!0,this.storeEdgeProjections(d),this.calculateArrowAngles(d),this.recalculateEdgeLabelProjections(d),this.calculateLabelAngles(d)}},Zs.findSegmentsPoints=function(f,l){var d=f._private.rscratch,m=f.pstyle("segment-weights"),y=f.pstyle("segment-distances"),b=Math.min(m.pfValue.length,y.pfValue.length);d.edgeType="segments",d.segpts=[];for(var w=0;w<b;w++){var T=m.pfValue[w],S=y.pfValue[w],C=1-T,A=T,R=this.findMidptPtsEtc(f,l),$=R.midptPts,U=R.vectorNormInverse,q={x:$.x1*C+$.x2*A,y:$.y1*C+$.y2*A};d.segpts.push(q.x+U.x*S,q.y+U.y*S)}},Zs.findLoopPoints=function(f,l,d,m){var y=f._private.rscratch,b=l.dirCounts,w=l.srcPos,T=f.pstyle("control-point-distances"),S=T?T.pfValue[0]:void 0,C=f.pstyle("loop-direction").pfValue,A=f.pstyle("loop-sweep").pfValue,R=f.pstyle("control-point-step-size").pfValue;y.edgeType="self";var $=d,U=R;m&&($=0,U=S);var q=C-Math.PI/2,ne=q-A/2,ee=q+A/2,K=C+"_"+A;$=b[K]===void 0?b[K]=0:++b[K],y.ctrlpts=[w.x+Math.cos(ne)*1.4*U*($/3+1),w.y+Math.sin(ne)*1.4*U*($/3+1),w.x+Math.cos(ee)*1.4*U*($/3+1),w.y+Math.sin(ee)*1.4*U*($/3+1)]},Zs.findCompoundLoopPoints=function(f,l,d,m){var y=f._private.rscratch;y.edgeType="compound";var b=l.srcPos,w=l.tgtPos,T=l.srcW,S=l.srcH,C=l.tgtW,A=l.tgtH,R=f.pstyle("control-point-step-size").pfValue,$=f.pstyle("control-point-distances"),U=$?$.pfValue[0]:void 0,q=d,ne=R;m&&(q=0,ne=U);var ee=50,K={x:b.x-T/2,y:b.y-S/2},se={x:w.x-C/2,y:w.y-A/2},oe={x:Math.min(K.x,se.x),y:Math.min(K.y,se.y)},fe=.5,be=Math.max(fe,Math.log(T*.01)),ye=Math.max(fe,Math.log(C*.01));y.ctrlpts=[oe.x,oe.y-(1+Math.pow(ee,1.12)/100)*ne*(q/3+1)*be,oe.x-(1+Math.pow(ee,1.12)/100)*ne*(q/3+1)*ye,oe.y]},Zs.findStraightEdgePoints=function(f){f._private.rscratch.edgeType="straight"},Zs.findBezierPoints=function(f,l,d,m,y){var b=f._private.rscratch,w=f.pstyle("control-point-step-size").pfValue,T=f.pstyle("control-point-distances"),S=f.pstyle("control-point-weights"),C=T&&S?Math.min(T.value.length,S.value.length):1,A=T?T.pfValue[0]:void 0,R=S.value[0],$=m;b.edgeType=$?"multibezier":"bezier",b.ctrlpts=[];for(var U=0;U<C;U++){var q=(.5-l.eles.length/2+d)*w*(y?-1:1),ne=void 0,ee=aF(q);$&&(A=T?T.pfValue[U]:w,R=S.value[U]),m?ne=A:ne=A!==void 0?ee*A:void 0;var K=ne!==void 0?ne:q,se=1-R,oe=R,fe=this.findMidptPtsEtc(f,l),be=fe.midptPts,ye=fe.vectorNormInverse,de={x:be.x1*se+be.x2*oe,y:be.y1*se+be.y2*oe};b.ctrlpts.push(de.x+ye.x*K,de.y+ye.y*K)}},Zs.findTaxiPoints=function(f,l){var d=f._private.rscratch;d.edgeType="segments";var m="vertical",y="horizontal",b="leftward",w="rightward",T="downward",S="upward",C="auto",A=l.posPts,R=l.srcW,$=l.srcH,U=l.tgtW,q=l.tgtH,ne=f.pstyle("edge-distances").value,ee=ne!=="node-position",K=f.pstyle("taxi-direction").value,se=K,oe=f.pstyle("taxi-turn"),fe=oe.units==="%",be=oe.pfValue,ye=be<0,de=f.pstyle("taxi-turn-min-distance").pfValue,ke=ee?(R+U)/2:0,me=ee?($+q)/2:0,Ce=A.x2-A.x1,Se=A.y2-A.y1,xe=a(function(Tt,yr){return Tt>0?Math.max(Tt-yr,0):Math.min(Tt+yr,0)},"subDWH"),Ve=xe(Ce,ke),Te=xe(Se,me),tt=!1;se===C?K=Math.abs(Ve)>Math.abs(Te)?y:m:se===S||se===T?(K=m,tt=!0):(se===b||se===w)&&(K=y,tt=!0);var We=K===m,qe=We?Te:Ve,nt=We?Se:Ce,dt=aF(nt),wt=!1;!(tt&&(fe||ye))&&(se===T&&nt<0||se===S&&nt>0||se===b&&nt>0||se===w&&nt<0)&&(dt*=-1,qe=dt*Math.abs(qe),wt=!0);var it;if(fe){var xt=be<0?1+be:be;it=xt*qe}else{var Et=be<0?qe:0;it=Et+be*dt}var Dt=a(function(Tt){return Math.abs(Tt)<de||Math.abs(Tt)>=Math.abs(qe)},"getIsTooClose"),St=Dt(it),Rt=Dt(Math.abs(qe)-Math.abs(it)),ht=St||Rt;if(ht&&!wt)if(We){var _t=Math.abs(nt)<=$/2,Ot=Math.abs(Ce)<=U/2;if(_t){var Mt=(A.x1+A.x2)/2,Wt=A.y1,mr=A.y2;d.segpts=[Mt,Wt,Mt,mr]}else if(Ot){var Ur=(A.y1+A.y2)/2,Qt=A.x1,Zt=A.x2;d.segpts=[Qt,Ur,Zt,Ur]}else d.segpts=[A.x1,A.y2]}else{var Tr=Math.abs(nt)<=R/2,kr=Math.abs(Se)<=q/2;if(Tr){var pr=(A.y1+A.y2)/2,Sr=A.x1,Rn=A.x2;d.segpts=[Sr,pr,Rn,pr]}else if(kr){var yn=(A.x1+A.x2)/2,Xr=A.y1,vn=A.y2;d.segpts=[yn,Xr,yn,vn]}else d.segpts=[A.x2,A.y1]}else if(We){var pt=A.y1+it+(ee?$/2*dt:0),ve=A.x1,ft=A.x2;d.segpts=[ve,pt,ft,pt]}else{var At=A.x1+it+(ee?R/2*dt:0),vt=A.y1,bt=A.y2;d.segpts=[At,vt,At,bt]}},Zs.tryToCorrectInvalidPoints=function(f,l){var d=f._private.rscratch;if(d.edgeType==="bezier"){var m=l.srcPos,y=l.tgtPos,b=l.srcW,w=l.srcH,T=l.tgtW,S=l.tgtH,C=l.srcShape,A=l.tgtShape,R=!z(d.startX)||!z(d.startY),$=!z(d.arrowStartX)||!z(d.arrowStartY),U=!z(d.endX)||!z(d.endY),q=!z(d.arrowEndX)||!z(d.arrowEndY),ne=3,ee=this.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.arrowShapeWidth,K=ne*ee,se=o0({x:d.ctrlpts[0],y:d.ctrlpts[1]},{x:d.startX,y:d.startY}),oe=se<K,fe=o0({x:d.ctrlpts[0],y:d.ctrlpts[1]},{x:d.endX,y:d.endY}),be=fe<K,ye=!1;if(R||$||oe){ye=!0;var de={x:d.ctrlpts[0]-m.x,y:d.ctrlpts[1]-m.y},ke=Math.sqrt(de.x*de.x+de.y*de.y),me={x:de.x/ke,y:de.y/ke},Ce=Math.max(b,w),Se={x:d.ctrlpts[0]+me.x*2*Ce,y:d.ctrlpts[1]+me.y*2*Ce},xe=C.intersectLine(m.x,m.y,b,w,Se.x,Se.y,0);oe?(d.ctrlpts[0]=d.ctrlpts[0]+me.x*(K-se),d.ctrlpts[1]=d.ctrlpts[1]+me.y*(K-se)):(d.ctrlpts[0]=xe[0]+me.x*K,d.ctrlpts[1]=xe[1]+me.y*K)}if(U||q||be){ye=!0;var Ve={x:d.ctrlpts[0]-y.x,y:d.ctrlpts[1]-y.y},Te=Math.sqrt(Ve.x*Ve.x+Ve.y*Ve.y),tt={x:Ve.x/Te,y:Ve.y/Te},We=Math.max(b,w),qe={x:d.ctrlpts[0]+tt.x*2*We,y:d.ctrlpts[1]+tt.y*2*We},nt=A.intersectLine(y.x,y.y,T,S,qe.x,qe.y,0);be?(d.ctrlpts[0]=d.ctrlpts[0]+tt.x*(K-fe),d.ctrlpts[1]=d.ctrlpts[1]+tt.y*(K-fe)):(d.ctrlpts[0]=nt[0]+tt.x*K,d.ctrlpts[1]=nt[1]+tt.y*K)}ye&&this.findEndpoints(f)}},Zs.storeAllpts=function(f){var l=f._private.rscratch;if(l.edgeType==="multibezier"||l.edgeType==="bezier"||l.edgeType==="self"||l.edgeType==="compound"){l.allpts=[],l.allpts.push(l.startX,l.startY);for(var d=0;d+1<l.ctrlpts.length;d+=2)l.allpts.push(l.ctrlpts[d],l.ctrlpts[d+1]),d+3<l.ctrlpts.length&&l.allpts.push((l.ctrlpts[d]+l.ctrlpts[d+2])/2,(l.ctrlpts[d+1]+l.ctrlpts[d+3])/2);l.allpts.push(l.endX,l.endY);var m,y;l.ctrlpts.length/2%2===0?(m=l.allpts.length/2-1,l.midX=l.allpts[m],l.midY=l.allpts[m+1]):(m=l.allpts.length/2-3,y=.5,l.midX=is(l.allpts[m],l.allpts[m+2],l.allpts[m+4],y),l.midY=is(l.allpts[m+1],l.allpts[m+3],l.allpts[m+5],y))}else if(l.edgeType==="straight")l.allpts=[l.startX,l.startY,l.endX,l.endY],l.midX=(l.startX+l.endX+l.arrowStartX+l.arrowEndX)/4,l.midY=(l.startY+l.endY+l.arrowStartY+l.arrowEndY)/4;else if(l.edgeType==="segments")if(l.allpts=[],l.allpts.push(l.startX,l.startY),l.allpts.push.apply(l.allpts,l.segpts),l.allpts.push(l.endX,l.endY),l.segpts.length%4===0){var b=l.segpts.length/2,w=b-2;l.midX=(l.segpts[w]+l.segpts[b])/2,l.midY=(l.segpts[w+1]+l.segpts[b+1])/2}else{var T=l.segpts.length/2-1;l.midX=l.segpts[T],l.midY=l.segpts[T+1]}},Zs.checkForInvalidEdgeWarning=function(f){var l=f[0]._private.rscratch;l.nodesOverlap||z(l.startX)&&z(l.startY)&&z(l.endX)&&z(l.endY)?l.loggedErr=!1:l.loggedErr||(l.loggedErr=!0,An("Edge `"+f.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Zs.findEdgeControlPoints=function(f){var l=this;if(!(!f||f.length===0)){for(var d=this,m=d.cy,y=m.hasCompoundNodes(),b={map:new xl,get:a(function(de){var ke=this.map.get(de[0]);return ke!=null?ke.get(de[1]):null},"get"),set:a(function(de,ke){var me=this.map.get(de[0]);me==null&&(me=new xl,this.map.set(de[0],me)),me.set(de[1],ke)},"set")},w=[],T=[],S=0;S<f.length;S++){var C=f[S],A=C._private,R=C.pstyle("curve-style").value;if(!(C.removed()||!C.takesUpSpace())){if(R==="haystack"){T.push(C);continue}var $=R==="unbundled-bezier"||R==="segments"||R==="straight"||R==="straight-triangle"||R==="taxi",U=R==="unbundled-bezier"||R==="bezier",q=A.source,ne=A.target,ee=q.poolIndex(),K=ne.poolIndex(),se=[ee,K].sort(),oe=b.get(se);oe==null&&(oe={eles:[]},b.set(se,oe),w.push(se)),oe.eles.push(C),$&&(oe.hasUnbundled=!0),U&&(oe.hasBezier=!0)}}for(var fe=a(function(de){var ke=w[de],me=b.get(ke),Ce=void 0;if(!me.hasUnbundled){var Se=me.eles[0].parallelEdges().filter(function(vn){return vn.isBundledBezier()});pm(me.eles),Se.forEach(function(vn){return me.eles.push(vn)}),me.eles.sort(function(vn,pt){return vn.poolIndex()-pt.poolIndex()})}var xe=me.eles[0],Ve=xe.source(),Te=xe.target();if(Ve.poolIndex()>Te.poolIndex()){var tt=Ve;Ve=Te,Te=tt}var We=me.srcPos=Ve.position(),qe=me.tgtPos=Te.position(),nt=me.srcW=Ve.outerWidth(),dt=me.srcH=Ve.outerHeight(),wt=me.tgtW=Te.outerWidth(),it=me.tgtH=Te.outerHeight(),xt=me.srcShape=d.nodeShapes[l.getNodeShape(Ve)],Et=me.tgtShape=d.nodeShapes[l.getNodeShape(Te)];me.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Dt=0;Dt<me.eles.length;Dt++){var St=me.eles[Dt],Rt=St[0]._private.rscratch,ht=St.pstyle("curve-style").value,_t=ht==="unbundled-bezier"||ht==="segments"||ht==="taxi",Ot=!Ve.same(St.source());if(!me.calculatedIntersection&&Ve!==Te&&(me.hasBezier||me.hasUnbundled)){me.calculatedIntersection=!0;var Mt=xt.intersectLine(We.x,We.y,nt,dt,qe.x,qe.y,0),Wt=me.srcIntn=Mt,mr=Et.intersectLine(qe.x,qe.y,wt,it,We.x,We.y,0),Ur=me.tgtIntn=mr,Qt=me.intersectionPts={x1:Mt[0],x2:mr[0],y1:Mt[1],y2:mr[1]},Zt=me.posPts={x1:We.x,x2:qe.x,y1:We.y,y2:qe.y},Tr=mr[1]-Mt[1],kr=mr[0]-Mt[0],pr=Math.sqrt(kr*kr+Tr*Tr),Sr=me.vector={x:kr,y:Tr},Rn=me.vectorNorm={x:Sr.x/pr,y:Sr.y/pr},yn={x:-Rn.y,y:Rn.x};me.nodesOverlap=!z(pr)||Et.checkPoint(Mt[0],Mt[1],0,wt,it,qe.x,qe.y)||xt.checkPoint(mr[0],mr[1],0,nt,dt,We.x,We.y),me.vectorNormInverse=yn,Ce={nodesOverlap:me.nodesOverlap,dirCounts:me.dirCounts,calculatedIntersection:!0,hasBezier:me.hasBezier,hasUnbundled:me.hasUnbundled,eles:me.eles,srcPos:qe,tgtPos:We,srcW:wt,srcH:it,tgtW:nt,tgtH:dt,srcIntn:Ur,tgtIntn:Wt,srcShape:Et,tgtShape:xt,posPts:{x1:Zt.x2,y1:Zt.y2,x2:Zt.x1,y2:Zt.y1},intersectionPts:{x1:Qt.x2,y1:Qt.y2,x2:Qt.x1,y2:Qt.y1},vector:{x:-Sr.x,y:-Sr.y},vectorNorm:{x:-Rn.x,y:-Rn.y},vectorNormInverse:{x:-yn.x,y:-yn.y}}}var Xr=Ot?Ce:me;Rt.nodesOverlap=Xr.nodesOverlap,Rt.srcIntn=Xr.srcIntn,Rt.tgtIntn=Xr.tgtIntn,y&&(Ve.isParent()||Ve.isChild()||Te.isParent()||Te.isChild())&&(Ve.parents().anySame(Te)||Te.parents().anySame(Ve)||Ve.same(Te)&&Ve.isParent())?l.findCompoundLoopPoints(St,Xr,Dt,_t):Ve===Te?l.findLoopPoints(St,Xr,Dt,_t):ht==="segments"?l.findSegmentsPoints(St,Xr):ht==="taxi"?l.findTaxiPoints(St,Xr):ht==="straight"||!_t&&me.eles.length%2===1&&Dt===Math.floor(me.eles.length/2)?l.findStraightEdgePoints(St):l.findBezierPoints(St,Xr,Dt,_t,Ot),l.findEndpoints(St),l.tryToCorrectInvalidPoints(St,Xr),l.checkForInvalidEdgeWarning(St),l.storeAllpts(St),l.storeEdgeProjections(St),l.calculateArrowAngles(St),l.recalculateEdgeLabelProjections(St),l.calculateLabelAngles(St)}},"_loop"),be=0;be<w.length;be++)fe(be);this.findHaystackPoints(T)}};function Vz(f){var l=[];if(f!=null){for(var d=0;d<f.length;d+=2){var m=f[d],y=f[d+1];l.push({x:m,y})}return l}}a(Vz,"getPts"),Zs.getSegmentPoints=function(f){var l=f[0]._private.rscratch,d=l.edgeType;if(d==="segments")return this.recalculateRenderedStyle(f),Vz(l.segpts)},Zs.getControlPoints=function(f){var l=f[0]._private.rscratch,d=l.edgeType;if(d==="bezier"||d==="multibezier"||d==="self"||d==="compound")return this.recalculateRenderedStyle(f),Vz(l.ctrlpts)},Zs.getEdgeMidpoint=function(f){var l=f[0]._private.rscratch;return this.recalculateRenderedStyle(f),{x:l.midX,y:l.midY}};var Qy={};Qy.manualEndptToPx=function(f,l){var d=this,m=f.position(),y=f.outerWidth(),b=f.outerHeight();if(l.value.length===2){var w=[l.pfValue[0],l.pfValue[1]];return l.units[0]==="%"&&(w[0]=w[0]*y),l.units[1]==="%"&&(w[1]=w[1]*b),w[0]+=m.x,w[1]+=m.y,w}else{var T=l.pfValue[0];T=-Math.PI/2+T;var S=2*Math.max(y,b),C=[m.x+Math.cos(T)*S,m.y+Math.sin(T)*S];return d.nodeShapes[this.getNodeShape(f)].intersectLine(m.x,m.y,y,b,C[0],C[1],0)}},Qy.findEndpoints=function(f){var l=this,d,m=f.source()[0],y=f.target()[0],b=m.position(),w=y.position(),T=f.pstyle("target-arrow-shape").value,S=f.pstyle("source-arrow-shape").value,C=f.pstyle("target-distance-from-node").pfValue,A=f.pstyle("source-distance-from-node").pfValue,R=f.pstyle("curve-style").value,$=f._private.rscratch,U=$.edgeType,q=R==="taxi",ne=U==="self"||U==="compound",ee=U==="bezier"||U==="multibezier"||ne,K=U!=="bezier",se=U==="straight"||U==="segments",oe=U==="segments",fe=ee||K||se,be=ne||q,ye=f.pstyle("source-endpoint"),de=be?"outside-to-node":ye.value,ke=f.pstyle("target-endpoint"),me=be?"outside-to-node":ke.value;$.srcManEndpt=ye,$.tgtManEndpt=ke;var Ce,Se,xe,Ve;if(ee){var Te=[$.ctrlpts[0],$.ctrlpts[1]],tt=K?[$.ctrlpts[$.ctrlpts.length-2],$.ctrlpts[$.ctrlpts.length-1]]:Te;Ce=tt,Se=Te}else if(se){var We=oe?$.segpts.slice(0,2):[w.x,w.y],qe=oe?$.segpts.slice($.segpts.length-2):[b.x,b.y];Ce=qe,Se=We}if(me==="inside-to-node")d=[w.x,w.y];else if(ke.units)d=this.manualEndptToPx(y,ke);else if(me==="outside-to-line")d=$.tgtIntn;else if(me==="outside-to-node"||me==="outside-to-node-or-label"?xe=Ce:(me==="outside-to-line"||me==="outside-to-line-or-label")&&(xe=[b.x,b.y]),d=l.nodeShapes[this.getNodeShape(y)].intersectLine(w.x,w.y,y.outerWidth(),y.outerHeight(),xe[0],xe[1],0),me==="outside-to-node-or-label"||me==="outside-to-line-or-label"){var nt=y._private.rscratch,dt=nt.labelWidth,wt=nt.labelHeight,it=nt.labelX,xt=nt.labelY,Et=dt/2,Dt=wt/2,St=y.pstyle("text-valign").value;St==="top"?xt-=Dt:St==="bottom"&&(xt+=Dt);var Rt=y.pstyle("text-halign").value;Rt==="left"?it-=Et:Rt==="right"&&(it+=Et);var ht=Py(xe[0],xe[1],[it-Et,xt-Dt,it+Et,xt-Dt,it+Et,xt+Dt,it-Et,xt+Dt],w.x,w.y);if(ht.length>0){var _t=b,Ot=l0(_t,mm(d)),Mt=l0(_t,mm(ht)),Wt=Ot;if(Mt<Ot&&(d=ht,Wt=Mt),ht.length>2){var mr=l0(_t,{x:ht[2],y:ht[3]});mr<Wt&&(d=[ht[2],ht[3]])}}}var Ur=T4(d,Ce,l.arrowShapes[T].spacing(f)+C),Qt=T4(d,Ce,l.arrowShapes[T].gap(f)+C);if($.endX=Qt[0],$.endY=Qt[1],$.arrowEndX=Ur[0],$.arrowEndY=Ur[1],de==="inside-to-node")d=[b.x,b.y];else if(ye.units)d=this.manualEndptToPx(m,ye);else if(de==="outside-to-line")d=$.srcIntn;else if(de==="outside-to-node"||de==="outside-to-node-or-label"?Ve=Se:(de==="outside-to-line"||de==="outside-to-line-or-label")&&(Ve=[w.x,w.y]),d=l.nodeShapes[this.getNodeShape(m)].intersectLine(b.x,b.y,m.outerWidth(),m.outerHeight(),Ve[0],Ve[1],0),de==="outside-to-node-or-label"||de==="outside-to-line-or-label"){var Zt=m._private.rscratch,Tr=Zt.labelWidth,kr=Zt.labelHeight,pr=Zt.labelX,Sr=Zt.labelY,Rn=Tr/2,yn=kr/2,Xr=m.pstyle("text-valign").value;Xr==="top"?Sr-=yn:Xr==="bottom"&&(Sr+=yn);var vn=m.pstyle("text-halign").value;vn==="left"?pr-=Rn:vn==="right"&&(pr+=Rn);var pt=Py(Ve[0],Ve[1],[pr-Rn,Sr-yn,pr+Rn,Sr-yn,pr+Rn,Sr+yn,pr-Rn,Sr+yn],b.x,b.y);if(pt.length>0){var ve=w,ft=l0(ve,mm(d)),At=l0(ve,mm(pt)),vt=ft;if(At<ft&&(d=[pt[0],pt[1]],vt=At),pt.length>2){var bt=l0(ve,{x:pt[2],y:pt[3]});bt<vt&&(d=[pt[2],pt[3]])}}}var _r=T4(d,Se,l.arrowShapes[S].spacing(f)+A),Tt=T4(d,Se,l.arrowShapes[S].gap(f)+A);$.startX=Tt[0],$.startY=Tt[1],$.arrowStartX=_r[0],$.arrowStartY=_r[1],fe&&(!z($.startX)||!z($.startY)||!z($.endX)||!z($.endY)?$.badLine=!0:$.badLine=!1)},Qy.getSourceEndpoint=function(f){var l=f[0]._private.rscratch;switch(this.recalculateRenderedStyle(f),l.edgeType){case"haystack":return{x:l.haystackPts[0],y:l.haystackPts[1]};default:return{x:l.arrowStartX,y:l.arrowStartY}}},Qy.getTargetEndpoint=function(f){var l=f[0]._private.rscratch;switch(this.recalculateRenderedStyle(f),l.edgeType){case"haystack":return{x:l.haystackPts[2],y:l.haystackPts[3]};default:return{x:l.arrowEndX,y:l.arrowEndY}}};var LC={};function f3e(f,l,d){for(var m=a(function(C,A,R,$){return is(C,A,R,$)},"qbezierAt$1"),y=l._private,b=y.rstyle.bezierPts,w=0;w<f.bezierProjPcts.length;w++){var T=f.bezierProjPcts[w];b.push({x:m(d[0],d[2],d[4],T),y:m(d[1],d[3],d[5],T)})}}a(f3e,"pushBezierPts"),LC.storeEdgeProjections=function(f){var l=f._private,d=l.rscratch,m=d.edgeType;if(l.rstyle.bezierPts=null,l.rstyle.linePts=null,l.rstyle.haystackPts=null,m==="multibezier"||m==="bezier"||m==="self"||m==="compound"){l.rstyle.bezierPts=[];for(var y=0;y+5<d.allpts.length;y+=4)f3e(this,f,d.allpts.slice(y,y+6))}else if(m==="segments")for(var b=l.rstyle.linePts=[],y=0;y+1<d.allpts.length;y+=2)b.push({x:d.allpts[y],y:d.allpts[y+1]});else if(m==="haystack"){var w=d.haystackPts;l.rstyle.haystackPts=[{x:w[0],y:w[1]},{x:w[2],y:w[3]}]}l.rstyle.arrowWidth=this.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.arrowShapeWidth},LC.recalculateEdgeProjections=function(f){this.findEdgeControlPoints(f)};var _c={};_c.recalculateNodeLabelProjection=function(f){var l=f.pstyle("label").strValue;if(!J(l)){var d,m,y=f._private,b=f.width(),w=f.height(),T=f.padding(),S=f.position(),C=f.pstyle("text-halign").strValue,A=f.pstyle("text-valign").strValue,R=y.rscratch,$=y.rstyle;switch(C){case"left":d=S.x-b/2-T;break;case"right":d=S.x+b/2+T;break;default:d=S.x}switch(A){case"top":m=S.y-w/2-T;break;case"bottom":m=S.y+w/2+T;break;default:m=S.y}R.labelX=d,R.labelY=m,$.labelX=d,$.labelY=m,this.calculateLabelAngles(f),this.applyLabelDimensions(f)}};var qz=a(function(l,d){var m=Math.atan(d/l);return l===0&&m<0&&(m=m*-1),m},"lineAngleFromDelta"),Uz=a(function(l,d){var m=d.x-l.x,y=d.y-l.y;return qz(m,y)},"lineAngle"),d3e=a(function(l,d,m,y){var b=Ny(0,y-.001,1),w=Ny(0,y+.001,1),T=gm(l,d,m,b),S=gm(l,d,m,w);return Uz(T,S)},"bezierAngle");_c.recalculateEdgeLabelProjections=function(f){var l,d=f._private,m=d.rscratch,y=this,b={mid:f.pstyle("label").strValue,source:f.pstyle("source-label").strValue,target:f.pstyle("target-label").strValue};if(b.mid||b.source||b.target){l={x:m.midX,y:m.midY};var w=a(function(R,$,U){Mu(d.rscratch,R,$,U),Mu(d.rstyle,R,$,U)},"setRs");w("labelX",null,l.x),w("labelY",null,l.y);var T=qz(m.midDispX,m.midDispY);w("labelAutoAngle",null,T);var S=a(function A(){if(A.cache)return A.cache;for(var R=[],$=0;$+5<m.allpts.length;$+=4){var U={x:m.allpts[$],y:m.allpts[$+1]},q={x:m.allpts[$+2],y:m.allpts[$+3]},ne={x:m.allpts[$+4],y:m.allpts[$+5]};R.push({p0:U,p1:q,p2:ne,startDist:0,length:0,segments:[]})}var ee=d.rstyle.bezierPts,K=y.bezierProjPcts.length;function se(de,ke,me,Ce,Se){var xe=o0(ke,me),Ve=de.segments[de.segments.length-1],Te={p0:ke,p1:me,t0:Ce,t1:Se,startDist:Ve?Ve.startDist+Ve.length:0,length:xe};de.segments.push(Te),de.length+=xe}a(se,"addSegment");for(var oe=0;oe<R.length;oe++){var fe=R[oe],be=R[oe-1];be&&(fe.startDist=be.startDist+be.length),se(fe,fe.p0,ee[oe*K],0,y.bezierProjPcts[0]);for(var ye=0;ye<K-1;ye++)se(fe,ee[oe*K+ye],ee[oe*K+ye+1],y.bezierProjPcts[ye],y.bezierProjPcts[ye+1]);se(fe,ee[oe*K+K-1],fe.p2,y.bezierProjPcts[K-1],1)}return A.cache=R},"createControlPointInfo"),C=a(function(R){var $,U=R==="source";if(b[R]){var q=f.pstyle(R+"-text-offset").pfValue;switch(m.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var ne=S(),ee,K=0,se=0,oe=0;oe<ne.length;oe++){for(var fe=ne[U?oe:ne.length-1-oe],be=0;be<fe.segments.length;be++){var ye=fe.segments[U?be:fe.segments.length-1-be],de=oe===ne.length-1&&be===fe.segments.length-1;if(K=se,se+=ye.length,se>=q||de){ee={cp:fe,segment:ye};break}}if(ee)break}var ke=ee.cp,me=ee.segment,Ce=(q-K)/me.length,Se=me.t1-me.t0,xe=U?me.t0+Se*Ce:me.t1-Se*Ce;xe=Ny(0,xe,1),l=gm(ke.p0,ke.p1,ke.p2,xe),$=d3e(ke.p0,ke.p1,ke.p2,xe);break}case"straight":case"segments":case"haystack":{for(var Ve=0,Te,tt,We,qe,nt=m.allpts.length,dt=0;dt+3<nt&&(U?(We={x:m.allpts[dt],y:m.allpts[dt+1]},qe={x:m.allpts[dt+2],y:m.allpts[dt+3]}):(We={x:m.allpts[nt-2-dt],y:m.allpts[nt-1-dt]},qe={x:m.allpts[nt-4-dt],y:m.allpts[nt-3-dt]}),Te=o0(We,qe),tt=Ve,Ve+=Te,!(Ve>=q));dt+=2);var wt=q-tt,it=wt/Te;it=Ny(0,it,1),l=bve(We,qe,it),$=Uz(We,qe);break}}w("labelX",R,l.x),w("labelY",R,l.y),w("labelAutoAngle",R,$)}},"calculateEndProjection");C("source"),C("target"),this.applyLabelDimensions(f)}},_c.applyLabelDimensions=function(f){this.applyPrefixedLabelDimensions(f),f.isEdge()&&(this.applyPrefixedLabelDimensions(f,"source"),this.applyPrefixedLabelDimensions(f,"target"))},_c.applyPrefixedLabelDimensions=function(f,l){var d=f._private,m=this.getLabelText(f,l),y=this.calculateLabelDimensions(f,m),b=f.pstyle("line-height").pfValue,w=f.pstyle("text-wrap").strValue,T=Fo(d.rscratch,"labelWrapCachedLines",l)||[],S=w!=="wrap"?1:Math.max(T.length,1),C=y.height/S,A=C*b,R=y.width,$=y.height+(S-1)*(b-1)*C;Mu(d.rstyle,"labelWidth",l,R),Mu(d.rscratch,"labelWidth",l,R),Mu(d.rstyle,"labelHeight",l,$),Mu(d.rscratch,"labelHeight",l,$),Mu(d.rscratch,"labelLineHeight",l,A)},_c.getLabelText=function(f,l){var d=f._private,m=l?l+"-":"",y=f.pstyle(m+"label").strValue,b=f.pstyle("text-transform").value,w=a(function(wt,it){return it?(Mu(d.rscratch,wt,l,it),it):Fo(d.rscratch,wt,l)},"rscratch");if(!y)return"";b=="none"||(b=="uppercase"?y=y.toUpperCase():b=="lowercase"&&(y=y.toLowerCase()));var T=f.pstyle("text-wrap").value;if(T==="wrap"){var S=w("labelKey");if(S!=null&&w("labelWrapKey")===S)return w("labelWrapCachedText");for(var C="\u200B",A=y.split(`
`),R=f.pstyle("text-max-width").pfValue,$=f.pstyle("text-overflow-wrap").value,U=$==="anywhere",q=[],ne=/[\s\u200b]+/,ee=U?"":" ",K=0;K<A.length;K++){var se=A[K],oe=this.calculateLabelDimensions(f,se),fe=oe.width;if(U){var be=se.split("").join(C);se=be}if(fe>R){for(var ye=se.split(ne),de="",ke=0;ke<ye.length;ke++){var me=ye[ke],Ce=de.length===0?me:de+ee+me,Se=this.calculateLabelDimensions(f,Ce),xe=Se.width;xe<=R?de+=me+ee:(de&&q.push(de),de=me+ee)}de.match(/^[\s\u200b]+$/)||q.push(de)}else q.push(se)}w("labelWrapCachedLines",q),y=w("labelWrapCachedText",q.join(`
`)),w("labelWrapKey",S)}else if(T==="ellipsis"){var Ve=f.pstyle("text-max-width").pfValue,Te="",tt="\u2026",We=!1;if(this.calculateLabelDimensions(f,y).width<Ve)return y;for(var qe=0;qe<y.length;qe++){var nt=this.calculateLabelDimensions(f,Te+y[qe]+tt).width;if(nt>Ve)break;Te+=y[qe],qe===y.length-1&&(We=!0)}return We||(Te+=tt),Te}return y},_c.getLabelJustification=function(f){var l=f.pstyle("text-justification").strValue,d=f.pstyle("text-halign").strValue;if(l==="auto")if(f.isNode())switch(d){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return l},_c.calculateLabelDimensions=function(f,l){var d=this,m=vl(l,f._private.labelDimsKey),y=d.labelDimCache||(d.labelDimCache=[]),b=y[m];if(b!=null)return b;var w=0,T=f.pstyle("font-style").strValue,S=f.pstyle("font-size").pfValue,C=f.pstyle("font-family").strValue,A=f.pstyle("font-weight").strValue,R=this.labelCalcCanvas,$=this.labelCalcCanvasContext;if(!R){R=this.labelCalcCanvas=document.createElement("canvas"),$=this.labelCalcCanvasContext=R.getContext("2d");var U=R.style;U.position="absolute",U.left="-9999px",U.top="-9999px",U.zIndex="-1",U.visibility="hidden",U.pointerEvents="none"}$.font="".concat(T," ").concat(A," ").concat(S,"px ").concat(C);for(var q=0,ne=0,ee=l.split(`
`),K=0;K<ee.length;K++){var se=ee[K],oe=$.measureText(se),fe=Math.ceil(oe.width),be=S;q=Math.max(fe,q),ne+=be}return q+=w,ne+=w,y[m]={width:q,height:ne}},_c.calculateLabelAngle=function(f,l){var d=f._private,m=d.rscratch,y=f.isEdge(),b=l?l+"-":"",w=f.pstyle(b+"text-rotation"),T=w.strValue;return T==="none"?0:y&&T==="autorotate"?m.labelAutoAngle:T==="autorotate"?0:w.pfValue},_c.calculateLabelAngles=function(f){var l=this,d=f.isEdge(),m=f._private,y=m.rscratch;y.labelAngle=l.calculateLabelAngle(f),d&&(y.sourceLabelAngle=l.calculateLabelAngle(f,"source"),y.targetLabelAngle=l.calculateLabelAngle(f,"target"))};var Hz={},Wz=28,Yz=!1;Hz.getNodeShape=function(f){var l=this,d=f.pstyle("shape").value;if(d==="cutrectangle"&&(f.width()<Wz||f.height()<Wz))return Yz||(An("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Yz=!0),"rectangle";if(f.isParent())return d==="rectangle"||d==="roundrectangle"||d==="round-rectangle"||d==="cutrectangle"||d==="cut-rectangle"||d==="barrel"?d:"rectangle";if(d==="polygon"){var m=f.pstyle("shape-polygon-points").value;return l.nodeShapes.makePolygon(m).name}return d};var Z4={};Z4.registerCalculationListeners=function(){var f=this.cy,l=f.collection(),d=this,m=a(function(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(l.merge(w),T)for(var S=0;S<w.length;S++){var C=w[S],A=C._private,R=A.rstyle;R.clean=!1,R.cleanConnected=!1}},"enqueue");d.binder(f).on("bounds.* dirty.*",a(function(w){var T=w.target;m(T)},"onDirtyBounds")).on("style.* background.*",a(function(w){var T=w.target;m(T,!1)},"onDirtyStyle"));var y=a(function(w){if(w){var T=d.onUpdateEleCalcsFns;l.cleanStyle();for(var S=0;S<l.length;S++){var C=l[S],A=C._private.rstyle;C.isNode()&&!A.cleanConnected&&(m(C.connectedEdges()),A.cleanConnected=!0)}if(T)for(var R=0;R<T.length;R++){var $=T[R];$(w,l)}d.recalculateRenderedStyle(l),l=f.collection()}},"updateEleCalcs");d.flushRenderedStyleQueue=function(){y(!0)},d.beforeRender(y,d.beforeRenderPriorities.eleCalcs)},Z4.onUpdateEleCalcs=function(f){var l=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];l.push(f)},Z4.recalculateRenderedStyle=function(f,l){var d=a(function(fe){return fe._private.rstyle.cleanConnected},"isCleanConnected"),m=[],y=[];if(!this.destroyed){l===void 0&&(l=!0);for(var b=0;b<f.length;b++){var w=f[b],T=w._private,S=T.rstyle;w.isEdge()&&(!d(w.source())||!d(w.target()))&&(S.clean=!1),!(l&&S.clean||w.removed())&&w.pstyle("display").value!=="none"&&(T.group==="nodes"?y.push(w):m.push(w),S.clean=!0)}for(var C=0;C<y.length;C++){var A=y[C],R=A._private,$=R.rstyle,U=A.position();this.recalculateNodeLabelProjection(A),$.nodeX=U.x,$.nodeY=U.y,$.nodeW=A.pstyle("width").pfValue,$.nodeH=A.pstyle("height").pfValue}this.recalculateEdgeProjections(m);for(var q=0;q<m.length;q++){var ne=m[q],ee=ne._private,K=ee.rstyle,se=ee.rscratch;K.srcX=se.arrowStartX,K.srcY=se.arrowStartY,K.tgtX=se.arrowEndX,K.tgtY=se.arrowEndY,K.midX=se.midX,K.midY=se.midY,K.labelAngle=se.labelAngle,K.sourceLabelAngle=se.sourceLabelAngle,K.targetLabelAngle=se.targetLabelAngle}}};var J4={};J4.updateCachedGrabbedEles=function(){var f=this.cachedZSortedEles;if(f){f.drag=[],f.nondrag=[];for(var l=[],d=0;d<f.length;d++){var m=f[d],y=m._private.rscratch;m.grabbed()&&!m.isParent()?l.push(m):y.inDragLayer?f.drag.push(m):f.nondrag.push(m)}for(var d=0;d<l.length;d++){var m=l[d];f.drag.push(m)}}},J4.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},J4.getCachedZSortedEles=function(f){if(f||!this.cachedZSortedEles){var l=this.cy.mutableElements().toArray();l.sort(gz),l.interactive=l.filter(function(d){return d.interactive()}),this.cachedZSortedEles=l,this.updateCachedGrabbedEles()}else l=this.cachedZSortedEles;return l};var Xz={};[d0,Q4,Zs,Qy,LC,_c,Hz,Z4,J4].forEach(function(f){pe(Xz,f)});var jz={};jz.getCachedImage=function(f,l,d){var m=this,y=m.imageCache=m.imageCache||{},b=y[f];if(b)return b.image.complete||b.image.addEventListener("load",d),b.image;b=y[f]=y[f]||{};var w=b.image=new Image;w.addEventListener("load",d),w.addEventListener("error",function(){w.error=!0});var T="data:",S=f.substring(0,T.length).toLowerCase()===T;return S||(l=l==="null"?null:l,w.crossOrigin=l),w.src=f,w};var Mm={};Mm.registerBinding=function(f,l,d,m){var y=Array.prototype.slice.apply(arguments,[1]),b=this.binder(f);return b.on.apply(b,y)},Mm.binder=function(f){var l=this,d=l.cy.window(),m=f===d||f===d.document||f===d.document.body||ie(f);if(l.supportsPassiveEvents==null){var y=!1;try{var b=Object.defineProperty({},"passive",{get:a(function(){return y=!0,!0},"get")});d.addEventListener("test",null,b)}catch{}l.supportsPassiveEvents=y}var w=a(function(S,C,A){var R=Array.prototype.slice.call(arguments);return m&&l.supportsPassiveEvents&&(R[2]={capture:A??!1,passive:!1,once:!1}),l.bindings.push({target:f,args:R}),(f.addEventListener||f.on).apply(f,R),this},"on");return{on:w,addEventListener:w,addListener:w,bind:w}},Mm.nodeIsDraggable=function(f){return f&&f.isNode()&&!f.locked()&&f.grabbable()},Mm.nodeIsGrabbable=function(f){return this.nodeIsDraggable(f)&&f.interactive()},Mm.load=function(){var f=this,l=f.cy.window(),d=a(function(ve){return ve.selected()},"isSelected"),m=a(function(ve,ft,At,vt){ve==null&&(ve=f.cy);for(var bt=0;bt<ft.length;bt++){var _r=ft[bt];ve.emit({originalEvent:At,type:_r,position:vt})}},"triggerEvents"),y=a(function(ve){return ve.shiftKey||ve.metaKey||ve.ctrlKey},"isMultSelKeyDown"),b=a(function(ve,ft){var At=!0;if(f.cy.hasCompoundNodes()&&ve&&ve.pannable())for(var vt=0;ft&&vt<ft.length;vt++){var ve=ft[vt];if(ve.isNode()&&ve.isParent()&&!ve.pannable()){At=!1;break}}else At=!0;return At},"allowPanningPassthrough"),w=a(function(ve){ve[0]._private.grabbed=!0},"setGrabbed"),T=a(function(ve){ve[0]._private.grabbed=!1},"setFreed"),S=a(function(ve){ve[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),C=a(function(ve){ve[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),A=a(function(ve){ve[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),R=a(function(ve){ve[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),$=a(function(ve,ft){var At=ft.addToList,vt=At.has(ve);!vt&&ve.grabbable()&&!ve.locked()&&(At.merge(ve),w(ve))},"addToDragList"),U=a(function(ve,ft){if(ve.cy().hasCompoundNodes()&&!(ft.inDragLayer==null&&ft.addToList==null)){var At=ve.descendants();ft.inDragLayer&&(At.forEach(S),At.connectedEdges().forEach(S)),ft.addToList&&$(At,ft)}},"addDescendantsToDrag"),q=a(function(ve,ft){ft=ft||{};var At=ve.cy().hasCompoundNodes();ft.inDragLayer&&(ve.forEach(S),ve.neighborhood().stdFilter(function(vt){return!At||vt.isEdge()}).forEach(S)),ft.addToList&&ve.forEach(function(vt){$(vt,ft)}),U(ve,ft),K(ve,{inDragLayer:ft.inDragLayer}),f.updateCachedGrabbedEles()},"addNodesToDrag"),ne=q,ee=a(function(ve){ve&&(f.getCachedZSortedEles().forEach(function(ft){T(ft),C(ft),R(ft)}),f.updateCachedGrabbedEles())},"freeDraggedElements"),K=a(function(ve,ft){if(!(ft.inDragLayer==null&&ft.addToList==null)&&ve.cy().hasCompoundNodes()){var At=ve.ancestors().orphans();if(!At.same(ve)){var vt=At.descendants().spawnSelf().merge(At).unmerge(ve).unmerge(ve.descendants()),bt=vt.connectedEdges();ft.inDragLayer&&(bt.forEach(S),vt.forEach(S)),ft.addToList&&vt.forEach(function(_r){$(_r,ft)})}}},"updateAncestorsInDragLayer"),se=a(function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},"blurActiveDomElement"),oe=typeof MutationObserver<"u",fe=typeof ResizeObserver<"u";oe?(f.removeObserver=new MutationObserver(function(pt){for(var ve=0;ve<pt.length;ve++){var ft=pt[ve],At=ft.removedNodes;if(At)for(var vt=0;vt<At.length;vt++){var bt=At[vt];if(bt===f.container){f.destroy();break}}}}),f.container.parentNode&&f.removeObserver.observe(f.container.parentNode,{childList:!0})):f.registerBinding(f.container,"DOMNodeRemoved",function(pt){f.destroy()});var be=zr(function(){f.cy.resize()},100);oe&&(f.styleObserver=new MutationObserver(be),f.styleObserver.observe(f.container,{attributes:!0})),f.registerBinding(l,"resize",be),fe&&(f.resizeObserver=new ResizeObserver(be),f.resizeObserver.observe(f.container));var ye=a(function(ve,ft){for(;ve!=null;)ft(ve),ve=ve.parentNode},"forEachUp"),de=a(function(){f.invalidateContainerClientCoordsCache()},"invalidateCoords");ye(f.container,function(pt){f.registerBinding(pt,"transitionend",de),f.registerBinding(pt,"animationend",de),f.registerBinding(pt,"scroll",de)}),f.registerBinding(f.container,"contextmenu",function(pt){pt.preventDefault()});var ke=a(function(){return f.selection[4]!==0},"inBoxSelection"),me=a(function(ve){for(var ft=f.findContainerClientCoords(),At=ft[0],vt=ft[1],bt=ft[2],_r=ft[3],Tt=ve.touches?ve.touches:[ve],yr=!1,un=0;un<Tt.length;un++){var Wn=Tt[un];if(At<=Wn.clientX&&Wn.clientX<=At+bt&&vt<=Wn.clientY&&Wn.clientY<=vt+_r){yr=!0;break}}if(!yr)return!1;for(var Qr=f.container,$n=ve.target,Zr=$n.parentNode,cn=!1;Zr;){if(Zr===Qr){cn=!0;break}Zr=Zr.parentNode}return!!cn},"eventInContainer");f.registerBinding(f.container,"mousedown",a(function(ve){if(me(ve)){ve.preventDefault(),se(),f.hoverData.capture=!0,f.hoverData.which=ve.which;var ft=f.cy,At=[ve.clientX,ve.clientY],vt=f.projectIntoViewport(At[0],At[1]),bt=f.selection,_r=f.findNearestElements(vt[0],vt[1],!0,!1),Tt=_r[0],yr=f.dragData.possibleDragElements;f.hoverData.mdownPos=vt,f.hoverData.mdownGPos=At;var un=a(function(){f.hoverData.tapholdCancelled=!1,clearTimeout(f.hoverData.tapholdTimeout),f.hoverData.tapholdTimeout=setTimeout(function(){if(!f.hoverData.tapholdCancelled){var ra=f.hoverData.down;ra?ra.emit({originalEvent:ve,type:"taphold",position:{x:vt[0],y:vt[1]}}):ft.emit({originalEvent:ve,type:"taphold",position:{x:vt[0],y:vt[1]}})}},f.tapholdDuration)},"checkForTaphold");if(ve.which==3){f.hoverData.cxtStarted=!0;var Wn={originalEvent:ve,type:"cxttapstart",position:{x:vt[0],y:vt[1]}};Tt?(Tt.activate(),Tt.emit(Wn),f.hoverData.down=Tt):ft.emit(Wn),f.hoverData.downTime=new Date().getTime(),f.hoverData.cxtDragged=!1}else if(ve.which==1){Tt&&Tt.activate();{if(Tt!=null&&f.nodeIsGrabbable(Tt)){var Qr=a(function(ra){return{originalEvent:ve,type:ra,position:{x:vt[0],y:vt[1]}}},"makeEvent"),$n=a(function(ra){ra.emit(Qr("grab"))},"triggerGrab");if(A(Tt),!Tt.selected())yr=f.dragData.possibleDragElements=ft.collection(),ne(Tt,{addToList:yr}),Tt.emit(Qr("grabon")).emit(Qr("grab"));else{yr=f.dragData.possibleDragElements=ft.collection();var Zr=ft.$(function(cn){return cn.isNode()&&cn.selected()&&f.nodeIsGrabbable(cn)});q(Zr,{addToList:yr}),Tt.emit(Qr("grabon")),Zr.forEach($n)}f.redrawHint("eles",!0),f.redrawHint("drag",!0)}f.hoverData.down=Tt,f.hoverData.downs=_r,f.hoverData.downTime=new Date().getTime()}m(Tt,["mousedown","tapstart","vmousedown"],ve,{x:vt[0],y:vt[1]}),Tt==null?(bt[4]=1,f.data.bgActivePosistion={x:vt[0],y:vt[1]},f.redrawHint("select",!0),f.redraw()):Tt.pannable()&&(bt[4]=1),un()}bt[0]=bt[2]=vt[0],bt[1]=bt[3]=vt[1]}},"mousedownHandler"),!1),f.registerBinding(l,"mousemove",a(function(ve){var ft=f.hoverData.capture;if(!(!ft&&!me(ve))){var At=!1,vt=f.cy,bt=vt.zoom(),_r=[ve.clientX,ve.clientY],Tt=f.projectIntoViewport(_r[0],_r[1]),yr=f.hoverData.mdownPos,un=f.hoverData.mdownGPos,Wn=f.selection,Qr=null;!f.hoverData.draggingEles&&!f.hoverData.dragging&&!f.hoverData.selecting&&(Qr=f.findNearestElement(Tt[0],Tt[1],!0,!1));var $n=f.hoverData.last,Zr=f.hoverData.down,cn=[Tt[0]-Wn[2],Tt[1]-Wn[3]],ra=f.dragData.possibleDragElements,Cs;if(un){var Pu=_r[0]-un[0],Bu=Pu*Pu,Ss=_r[1]-un[1],jl=Ss*Ss,po=Bu+jl;f.hoverData.isOverThresholdDrag=Cs=po>=f.desktopTapThreshold2}var _h=y(ve);Cs&&(f.hoverData.tapholdCancelled=!0);var Vf=a(function(){var Lc=f.hoverData.dragDelta=f.hoverData.dragDelta||[];Lc.length===0?(Lc.push(cn[0]),Lc.push(cn[1])):(Lc[0]+=cn[0],Lc[1]+=cn[1])},"updateDragDelta");At=!0,m(Qr,["mousemove","vmousemove","tapdrag"],ve,{x:Tt[0],y:Tt[1]});var Fm=a(function(){f.data.bgActivePosistion=void 0,f.hoverData.selecting||vt.emit({originalEvent:ve,type:"boxstart",position:{x:Tt[0],y:Tt[1]}}),Wn[4]=1,f.hoverData.selecting=!0,f.redrawHint("select",!0),f.redraw()},"goIntoBoxMode");if(f.hoverData.which===3){if(Cs){var y0={originalEvent:ve,type:"cxtdrag",position:{x:Tt[0],y:Tt[1]}};Zr?Zr.emit(y0):vt.emit(y0),f.hoverData.cxtDragged=!0,(!f.hoverData.cxtOver||Qr!==f.hoverData.cxtOver)&&(f.hoverData.cxtOver&&f.hoverData.cxtOver.emit({originalEvent:ve,type:"cxtdragout",position:{x:Tt[0],y:Tt[1]}}),f.hoverData.cxtOver=Qr,Qr&&Qr.emit({originalEvent:ve,type:"cxtdragover",position:{x:Tt[0],y:Tt[1]}}))}}else if(f.hoverData.dragging){if(At=!0,vt.panningEnabled()&&vt.userPanningEnabled()){var zm;if(f.hoverData.justStartedPan){var n3=f.hoverData.mdownPos;zm={x:(Tt[0]-n3[0])*bt,y:(Tt[1]-n3[1])*bt},f.hoverData.justStartedPan=!1}else zm={x:cn[0]*bt,y:cn[1]*bt};vt.panBy(zm),vt.emit("dragpan"),f.hoverData.dragged=!0}Tt=f.projectIntoViewport(ve.clientX,ve.clientY)}else if(Wn[4]==1&&(Zr==null||Zr.pannable())){if(Cs){if(!f.hoverData.dragging&&vt.boxSelectionEnabled()&&(_h||!vt.panningEnabled()||!vt.userPanningEnabled()))Fm();else if(!f.hoverData.selecting&&vt.panningEnabled()&&vt.userPanningEnabled()){var v0=b(Zr,f.hoverData.downs);v0&&(f.hoverData.dragging=!0,f.hoverData.justStartedPan=!0,Wn[4]=0,f.data.bgActivePosistion=mm(yr),f.redrawHint("select",!0),f.redraw())}Zr&&Zr.pannable()&&Zr.active()&&Zr.unactivate()}}else{if(Zr&&Zr.pannable()&&Zr.active()&&Zr.unactivate(),(!Zr||!Zr.grabbed())&&Qr!=$n&&($n&&m($n,["mouseout","tapdragout"],ve,{x:Tt[0],y:Tt[1]}),Qr&&m(Qr,["mouseover","tapdragover"],ve,{x:Tt[0],y:Tt[1]}),f.hoverData.last=Qr),Zr)if(Cs){if(vt.boxSelectionEnabled()&&_h)Zr&&Zr.grabbed()&&(ee(ra),Zr.emit("freeon"),ra.emit("free"),f.dragData.didDrag&&(Zr.emit("dragfreeon"),ra.emit("dragfree"))),Fm();else if(Zr&&Zr.grabbed()&&f.nodeIsDraggable(Zr)){var Go=!f.dragData.didDrag;Go&&f.redrawHint("eles",!0),f.dragData.didDrag=!0,f.hoverData.draggingEles||q(ra,{inDragLayer:!0});var Js={x:0,y:0};if(z(cn[0])&&z(cn[1])&&(Js.x+=cn[0],Js.y+=cn[1],Go)){var Vo=f.hoverData.dragDelta;Vo&&z(Vo[0])&&z(Vo[1])&&(Js.x+=Vo[0],Js.y+=Vo[1])}f.hoverData.draggingEles=!0,ra.silentShift(Js).emit("position drag"),f.redrawHint("drag",!0),f.redraw()}}else Vf();At=!0}if(Wn[2]=Tt[0],Wn[3]=Tt[1],At)return ve.stopPropagation&&ve.stopPropagation(),ve.preventDefault&&ve.preventDefault(),!1}},"mousemoveHandler"),!1);var Ce,Se,xe;f.registerBinding(l,"mouseup",a(function(ve){var ft=f.hoverData.capture;if(ft){f.hoverData.capture=!1;var At=f.cy,vt=f.projectIntoViewport(ve.clientX,ve.clientY),bt=f.selection,_r=f.findNearestElement(vt[0],vt[1],!0,!1),Tt=f.dragData.possibleDragElements,yr=f.hoverData.down,un=y(ve);if(f.data.bgActivePosistion&&(f.redrawHint("select",!0),f.redraw()),f.hoverData.tapholdCancelled=!0,f.data.bgActivePosistion=void 0,yr&&yr.unactivate(),f.hoverData.which===3){var Wn={originalEvent:ve,type:"cxttapend",position:{x:vt[0],y:vt[1]}};if(yr?yr.emit(Wn):At.emit(Wn),!f.hoverData.cxtDragged){var Qr={originalEvent:ve,type:"cxttap",position:{x:vt[0],y:vt[1]}};yr?yr.emit(Qr):At.emit(Qr)}f.hoverData.cxtDragged=!1,f.hoverData.which=null}else if(f.hoverData.which===1){if(m(_r,["mouseup","tapend","vmouseup"],ve,{x:vt[0],y:vt[1]}),!f.dragData.didDrag&&!f.hoverData.dragged&&!f.hoverData.selecting&&!f.hoverData.isOverThresholdDrag&&(m(yr,["click","tap","vclick"],ve,{x:vt[0],y:vt[1]}),Se=!1,ve.timeStamp-xe<=At.multiClickDebounceTime()?(Ce&&clearTimeout(Ce),Se=!0,xe=null,m(yr,["dblclick","dbltap","vdblclick"],ve,{x:vt[0],y:vt[1]})):(Ce=setTimeout(function(){Se||m(yr,["oneclick","onetap","voneclick"],ve,{x:vt[0],y:vt[1]})},At.multiClickDebounceTime()),xe=ve.timeStamp)),yr==null&&!f.dragData.didDrag&&!f.hoverData.selecting&&!f.hoverData.dragged&&!y(ve)&&(At.$(d).unselect(["tapunselect"]),Tt.length>0&&f.redrawHint("eles",!0),f.dragData.possibleDragElements=Tt=At.collection()),_r==yr&&!f.dragData.didDrag&&!f.hoverData.selecting&&_r!=null&&_r._private.selectable&&(f.hoverData.dragging||(At.selectionType()==="additive"||un?_r.selected()?_r.unselect(["tapunselect"]):_r.select(["tapselect"]):un||(At.$(d).unmerge(_r).unselect(["tapunselect"]),_r.select(["tapselect"]))),f.redrawHint("eles",!0)),f.hoverData.selecting){var $n=At.collection(f.getAllInBox(bt[0],bt[1],bt[2],bt[3]));f.redrawHint("select",!0),$n.length>0&&f.redrawHint("eles",!0),At.emit({type:"boxend",originalEvent:ve,position:{x:vt[0],y:vt[1]}});var Zr=a(function(Cs){return Cs.selectable()&&!Cs.selected()},"eleWouldBeSelected");At.selectionType()==="additive"||un||At.$(d).unmerge($n).unselect(),$n.emit("box").stdFilter(Zr).select().emit("boxselect"),f.redraw()}if(f.hoverData.dragging&&(f.hoverData.dragging=!1,f.redrawHint("select",!0),f.redrawHint("eles",!0),f.redraw()),!bt[4]){f.redrawHint("drag",!0),f.redrawHint("eles",!0);var cn=yr&&yr.grabbed();ee(Tt),cn&&(yr.emit("freeon"),Tt.emit("free"),f.dragData.didDrag&&(yr.emit("dragfreeon"),Tt.emit("dragfree")))}}bt[4]=0,f.hoverData.down=null,f.hoverData.cxtStarted=!1,f.hoverData.draggingEles=!1,f.hoverData.selecting=!1,f.hoverData.isOverThresholdDrag=!1,f.dragData.didDrag=!1,f.hoverData.dragged=!1,f.hoverData.dragDelta=[],f.hoverData.mdownPos=null,f.hoverData.mdownGPos=null}},"mouseupHandler"),!1);var Ve=a(function(ve){if(!f.scrollingPage){var ft=f.cy,At=ft.zoom(),vt=ft.pan(),bt=f.projectIntoViewport(ve.clientX,ve.clientY),_r=[bt[0]*At+vt.x,bt[1]*At+vt.y];if(f.hoverData.draggingEles||f.hoverData.dragging||f.hoverData.cxtStarted||ke()){ve.preventDefault();return}if(ft.panningEnabled()&&ft.userPanningEnabled()&&ft.zoomingEnabled()&&ft.userZoomingEnabled()){ve.preventDefault(),f.data.wheelZooming=!0,clearTimeout(f.data.wheelTimeout),f.data.wheelTimeout=setTimeout(function(){f.data.wheelZooming=!1,f.redrawHint("eles",!0),f.redraw()},150);var Tt;ve.deltaY!=null?Tt=ve.deltaY/-250:ve.wheelDeltaY!=null?Tt=ve.wheelDeltaY/1e3:Tt=ve.wheelDelta/1e3,Tt=Tt*f.wheelSensitivity;var yr=ve.deltaMode===1;yr&&(Tt*=33);var un=ft.zoom()*Math.pow(10,Tt);ve.type==="gesturechange"&&(un=f.gestureStartZoom*ve.scale),ft.zoom({level:un,renderedPosition:{x:_r[0],y:_r[1]}}),ft.emit(ve.type==="gesturechange"?"pinchzoom":"scrollzoom")}}},"wheelHandler");f.registerBinding(f.container,"wheel",Ve,!0),f.registerBinding(l,"scroll",a(function(ve){f.scrollingPage=!0,clearTimeout(f.scrollingPageTimeout),f.scrollingPageTimeout=setTimeout(function(){f.scrollingPage=!1},250)},"scrollHandler"),!0),f.registerBinding(f.container,"gesturestart",a(function(ve){f.gestureStartZoom=f.cy.zoom(),f.hasTouchStarted||ve.preventDefault()},"gestureStartHandler"),!0),f.registerBinding(f.container,"gesturechange",function(pt){f.hasTouchStarted||Ve(pt)},!0),f.registerBinding(f.container,"mouseout",a(function(ve){var ft=f.projectIntoViewport(ve.clientX,ve.clientY);f.cy.emit({originalEvent:ve,type:"mouseout",position:{x:ft[0],y:ft[1]}})},"mouseOutHandler"),!1),f.registerBinding(f.container,"mouseover",a(function(ve){var ft=f.projectIntoViewport(ve.clientX,ve.clientY);f.cy.emit({originalEvent:ve,type:"mouseover",position:{x:ft[0],y:ft[1]}})},"mouseOverHandler"),!1);var Te,tt,We,qe,nt,dt,wt,it,xt,Et,Dt,St,Rt,ht=a(function(ve,ft,At,vt){return Math.sqrt((At-ve)*(At-ve)+(vt-ft)*(vt-ft))},"distance"),_t=a(function(ve,ft,At,vt){return(At-ve)*(At-ve)+(vt-ft)*(vt-ft)},"distanceSq"),Ot;f.registerBinding(f.container,"touchstart",Ot=a(function(ve){if(f.hasTouchStarted=!0,!!me(ve)){se(),f.touchData.capture=!0,f.data.bgActivePosistion=void 0;var ft=f.cy,At=f.touchData.now,vt=f.touchData.earlier;if(ve.touches[0]){var bt=f.projectIntoViewport(ve.touches[0].clientX,ve.touches[0].clientY);At[0]=bt[0],At[1]=bt[1]}if(ve.touches[1]){var bt=f.projectIntoViewport(ve.touches[1].clientX,ve.touches[1].clientY);At[2]=bt[0],At[3]=bt[1]}if(ve.touches[2]){var bt=f.projectIntoViewport(ve.touches[2].clientX,ve.touches[2].clientY);At[4]=bt[0],At[5]=bt[1]}if(ve.touches[1]){f.touchData.singleTouchMoved=!0,ee(f.dragData.touchDragEles);var _r=f.findContainerClientCoords();xt=_r[0],Et=_r[1],Dt=_r[2],St=_r[3],Te=ve.touches[0].clientX-xt,tt=ve.touches[0].clientY-Et,We=ve.touches[1].clientX-xt,qe=ve.touches[1].clientY-Et,Rt=0<=Te&&Te<=Dt&&0<=We&&We<=Dt&&0<=tt&&tt<=St&&0<=qe&&qe<=St;var Tt=ft.pan(),yr=ft.zoom();nt=ht(Te,tt,We,qe),dt=_t(Te,tt,We,qe),wt=[(Te+We)/2,(tt+qe)/2],it=[(wt[0]-Tt.x)/yr,(wt[1]-Tt.y)/yr];var un=200,Wn=un*un;if(dt<Wn&&!ve.touches[2]){var Qr=f.findNearestElement(At[0],At[1],!0,!0),$n=f.findNearestElement(At[2],At[3],!0,!0);Qr&&Qr.isNode()?(Qr.activate().emit({originalEvent:ve,type:"cxttapstart",position:{x:At[0],y:At[1]}}),f.touchData.start=Qr):$n&&$n.isNode()?($n.activate().emit({originalEvent:ve,type:"cxttapstart",position:{x:At[0],y:At[1]}}),f.touchData.start=$n):ft.emit({originalEvent:ve,type:"cxttapstart",position:{x:At[0],y:At[1]}}),f.touchData.start&&(f.touchData.start._private.grabbed=!1),f.touchData.cxt=!0,f.touchData.cxtDragged=!1,f.data.bgActivePosistion=void 0,f.redraw();return}}if(ve.touches[2])ft.boxSelectionEnabled()&&ve.preventDefault();else if(!ve.touches[1]){if(ve.touches[0]){var Zr=f.findNearestElements(At[0],At[1],!0,!0),cn=Zr[0];if(cn!=null&&(cn.activate(),f.touchData.start=cn,f.touchData.starts=Zr,f.nodeIsGrabbable(cn))){var ra=f.dragData.touchDragEles=ft.collection(),Cs=null;f.redrawHint("eles",!0),f.redrawHint("drag",!0),cn.selected()?(Cs=ft.$(function(po){return po.selected()&&f.nodeIsGrabbable(po)}),q(Cs,{addToList:ra})):ne(cn,{addToList:ra}),A(cn);var Pu=a(function(_h){return{originalEvent:ve,type:_h,position:{x:At[0],y:At[1]}}},"makeEvent");cn.emit(Pu("grabon")),Cs?Cs.forEach(function(po){po.emit(Pu("grab"))}):cn.emit(Pu("grab"))}m(cn,["touchstart","tapstart","vmousedown"],ve,{x:At[0],y:At[1]}),cn==null&&(f.data.bgActivePosistion={x:bt[0],y:bt[1]},f.redrawHint("select",!0),f.redraw()),f.touchData.singleTouchMoved=!1,f.touchData.singleTouchStartTime=+new Date,clearTimeout(f.touchData.tapholdTimeout),f.touchData.tapholdTimeout=setTimeout(function(){f.touchData.singleTouchMoved===!1&&!f.pinching&&!f.touchData.selecting&&m(f.touchData.start,["taphold"],ve,{x:At[0],y:At[1]})},f.tapholdDuration)}}if(ve.touches.length>=1){for(var Bu=f.touchData.startPosition=[null,null,null,null,null,null],Ss=0;Ss<At.length;Ss++)Bu[Ss]=vt[Ss]=At[Ss];var jl=ve.touches[0];f.touchData.startGPosition=[jl.clientX,jl.clientY]}}},"touchstartHandler"),!1);var Mt;f.registerBinding(window,"touchmove",Mt=a(function(ve){var ft=f.touchData.capture;if(!(!ft&&!me(ve))){var At=f.selection,vt=f.cy,bt=f.touchData.now,_r=f.touchData.earlier,Tt=vt.zoom();if(ve.touches[0]){var yr=f.projectIntoViewport(ve.touches[0].clientX,ve.touches[0].clientY);bt[0]=yr[0],bt[1]=yr[1]}if(ve.touches[1]){var yr=f.projectIntoViewport(ve.touches[1].clientX,ve.touches[1].clientY);bt[2]=yr[0],bt[3]=yr[1]}if(ve.touches[2]){var yr=f.projectIntoViewport(ve.touches[2].clientX,ve.touches[2].clientY);bt[4]=yr[0],bt[5]=yr[1]}var un=f.touchData.startGPosition,Wn;if(ft&&ve.touches[0]&&un){for(var Qr=[],$n=0;$n<bt.length;$n++)Qr[$n]=bt[$n]-_r[$n];var Zr=ve.touches[0].clientX-un[0],cn=Zr*Zr,ra=ve.touches[0].clientY-un[1],Cs=ra*ra,Pu=cn+Cs;Wn=Pu>=f.touchTapThreshold2}if(ft&&f.touchData.cxt){ve.preventDefault();var Bu=ve.touches[0].clientX-xt,Ss=ve.touches[0].clientY-Et,jl=ve.touches[1].clientX-xt,po=ve.touches[1].clientY-Et,_h=_t(Bu,Ss,jl,po),Vf=_h/dt,Fm=150,y0=Fm*Fm,zm=1.5,n3=zm*zm;if(Vf>=n3||_h>=y0){f.touchData.cxt=!1,f.data.bgActivePosistion=void 0,f.redrawHint("select",!0);var v0={originalEvent:ve,type:"cxttapend",position:{x:bt[0],y:bt[1]}};f.touchData.start?(f.touchData.start.unactivate().emit(v0),f.touchData.start=null):vt.emit(v0)}}if(ft&&f.touchData.cxt){var v0={originalEvent:ve,type:"cxtdrag",position:{x:bt[0],y:bt[1]}};f.data.bgActivePosistion=void 0,f.redrawHint("select",!0),f.touchData.start?f.touchData.start.emit(v0):vt.emit(v0),f.touchData.start&&(f.touchData.start._private.grabbed=!1),f.touchData.cxtDragged=!0;var Go=f.findNearestElement(bt[0],bt[1],!0,!0);(!f.touchData.cxtOver||Go!==f.touchData.cxtOver)&&(f.touchData.cxtOver&&f.touchData.cxtOver.emit({originalEvent:ve,type:"cxtdragout",position:{x:bt[0],y:bt[1]}}),f.touchData.cxtOver=Go,Go&&Go.emit({originalEvent:ve,type:"cxtdragover",position:{x:bt[0],y:bt[1]}}))}else if(ft&&ve.touches[2]&&vt.boxSelectionEnabled())ve.preventDefault(),f.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,f.touchData.selecting||vt.emit({originalEvent:ve,type:"boxstart",position:{x:bt[0],y:bt[1]}}),f.touchData.selecting=!0,f.touchData.didSelect=!0,At[4]=1,!At||At.length===0||At[0]===void 0?(At[0]=(bt[0]+bt[2]+bt[4])/3,At[1]=(bt[1]+bt[3]+bt[5])/3,At[2]=(bt[0]+bt[2]+bt[4])/3+1,At[3]=(bt[1]+bt[3]+bt[5])/3+1):(At[2]=(bt[0]+bt[2]+bt[4])/3,At[3]=(bt[1]+bt[3]+bt[5])/3),f.redrawHint("select",!0),f.redraw();else if(ft&&ve.touches[1]&&!f.touchData.didSelect&&vt.zoomingEnabled()&&vt.panningEnabled()&&vt.userZoomingEnabled()&&vt.userPanningEnabled()){ve.preventDefault(),f.data.bgActivePosistion=void 0,f.redrawHint("select",!0);var Js=f.dragData.touchDragEles;if(Js){f.redrawHint("drag",!0);for(var Vo=0;Vo<Js.length;Vo++){var i3=Js[Vo]._private;i3.grabbed=!1,i3.rscratch.inDragLayer=!1}}var Lc=f.touchData.start,Bu=ve.touches[0].clientX-xt,Ss=ve.touches[0].clientY-Et,jl=ve.touches[1].clientX-xt,po=ve.touches[1].clientY-Et,b$=ht(Bu,Ss,jl,po),o5e=b$/nt;if(Rt){var l5e=Bu-Te,u5e=Ss-tt,c5e=jl-We,h5e=po-qe,f5e=(l5e+c5e)/2,d5e=(u5e+h5e)/2,rv=vt.zoom(),FC=rv*o5e,a3=vt.pan(),k$=it[0]*rv+a3.x,w$=it[1]*rv+a3.y,p5e={x:-FC/rv*(k$-a3.x-f5e)+k$,y:-FC/rv*(w$-a3.y-d5e)+w$};if(Lc&&Lc.active()){var Js=f.dragData.touchDragEles;ee(Js),f.redrawHint("drag",!0),f.redrawHint("eles",!0),Lc.unactivate().emit("freeon"),Js.emit("free"),f.dragData.didDrag&&(Lc.emit("dragfreeon"),Js.emit("dragfree"))}vt.viewport({zoom:FC,pan:p5e,cancelOnFailedZoom:!0}),vt.emit("pinchzoom"),nt=b$,Te=Bu,tt=Ss,We=jl,qe=po,f.pinching=!0}if(ve.touches[0]){var yr=f.projectIntoViewport(ve.touches[0].clientX,ve.touches[0].clientY);bt[0]=yr[0],bt[1]=yr[1]}if(ve.touches[1]){var yr=f.projectIntoViewport(ve.touches[1].clientX,ve.touches[1].clientY);bt[2]=yr[0],bt[3]=yr[1]}if(ve.touches[2]){var yr=f.projectIntoViewport(ve.touches[2].clientX,ve.touches[2].clientY);bt[4]=yr[0],bt[5]=yr[1]}}else if(ve.touches[0]&&!f.touchData.didSelect){var Fu=f.touchData.start,zC=f.touchData.last,Go;if(!f.hoverData.draggingEles&&!f.swipePanning&&(Go=f.findNearestElement(bt[0],bt[1],!0,!0)),ft&&Fu!=null&&ve.preventDefault(),ft&&Fu!=null&&f.nodeIsDraggable(Fu))if(Wn){var Js=f.dragData.touchDragEles,T$=!f.dragData.didDrag;T$&&q(Js,{inDragLayer:!0}),f.dragData.didDrag=!0;var nv={x:0,y:0};if(z(Qr[0])&&z(Qr[1])&&(nv.x+=Qr[0],nv.y+=Qr[1],T$)){f.redrawHint("eles",!0);var zu=f.touchData.dragDelta;zu&&z(zu[0])&&z(zu[1])&&(nv.x+=zu[0],nv.y+=zu[1])}f.hoverData.draggingEles=!0,Js.silentShift(nv).emit("position drag"),f.redrawHint("drag",!0),f.touchData.startPosition[0]==_r[0]&&f.touchData.startPosition[1]==_r[1]&&f.redrawHint("eles",!0),f.redraw()}else{var zu=f.touchData.dragDelta=f.touchData.dragDelta||[];zu.length===0?(zu.push(Qr[0]),zu.push(Qr[1])):(zu[0]+=Qr[0],zu[1]+=Qr[1])}if(m(Fu||Go,["touchmove","tapdrag","vmousemove"],ve,{x:bt[0],y:bt[1]}),(!Fu||!Fu.grabbed())&&Go!=zC&&(zC&&zC.emit({originalEvent:ve,type:"tapdragout",position:{x:bt[0],y:bt[1]}}),Go&&Go.emit({originalEvent:ve,type:"tapdragover",position:{x:bt[0],y:bt[1]}})),f.touchData.last=Go,ft)for(var Vo=0;Vo<bt.length;Vo++)bt[Vo]&&f.touchData.startPosition[Vo]&&Wn&&(f.touchData.singleTouchMoved=!0);if(ft&&(Fu==null||Fu.pannable())&&vt.panningEnabled()&&vt.userPanningEnabled()){var m5e=b(Fu,f.touchData.starts);m5e&&(ve.preventDefault(),f.data.bgActivePosistion||(f.data.bgActivePosistion=mm(f.touchData.startPosition)),f.swipePanning?(vt.panBy({x:Qr[0]*Tt,y:Qr[1]*Tt}),vt.emit("dragpan")):Wn&&(f.swipePanning=!0,vt.panBy({x:Zr*Tt,y:ra*Tt}),vt.emit("dragpan"),Fu&&(Fu.unactivate(),f.redrawHint("select",!0),f.touchData.start=null)));var yr=f.projectIntoViewport(ve.touches[0].clientX,ve.touches[0].clientY);bt[0]=yr[0],bt[1]=yr[1]}}for(var $n=0;$n<bt.length;$n++)_r[$n]=bt[$n];ft&&ve.touches.length>0&&!f.hoverData.draggingEles&&!f.swipePanning&&f.data.bgActivePosistion!=null&&(f.data.bgActivePosistion=void 0,f.redrawHint("select",!0),f.redraw())}},"touchmoveHandler"),!1);var Wt;f.registerBinding(l,"touchcancel",Wt=a(function(ve){var ft=f.touchData.start;f.touchData.capture=!1,ft&&ft.unactivate()},"touchcancelHandler"));var mr,Ur,Qt,Zt;if(f.registerBinding(l,"touchend",mr=a(function(ve){var ft=f.touchData.start,At=f.touchData.capture;if(At)ve.touches.length===0&&(f.touchData.capture=!1),ve.preventDefault();else return;var vt=f.selection;f.swipePanning=!1,f.hoverData.draggingEles=!1;var bt=f.cy,_r=bt.zoom(),Tt=f.touchData.now,yr=f.touchData.earlier;if(ve.touches[0]){var un=f.projectIntoViewport(ve.touches[0].clientX,ve.touches[0].clientY);Tt[0]=un[0],Tt[1]=un[1]}if(ve.touches[1]){var un=f.projectIntoViewport(ve.touches[1].clientX,ve.touches[1].clientY);Tt[2]=un[0],Tt[3]=un[1]}if(ve.touches[2]){var un=f.projectIntoViewport(ve.touches[2].clientX,ve.touches[2].clientY);Tt[4]=un[0],Tt[5]=un[1]}ft&&ft.unactivate();var Wn;if(f.touchData.cxt){if(Wn={originalEvent:ve,type:"cxttapend",position:{x:Tt[0],y:Tt[1]}},ft?ft.emit(Wn):bt.emit(Wn),!f.touchData.cxtDragged){var Qr={originalEvent:ve,type:"cxttap",position:{x:Tt[0],y:Tt[1]}};ft?ft.emit(Qr):bt.emit(Qr)}f.touchData.start&&(f.touchData.start._private.grabbed=!1),f.touchData.cxt=!1,f.touchData.start=null,f.redraw();return}if(!ve.touches[2]&&bt.boxSelectionEnabled()&&f.touchData.selecting){f.touchData.selecting=!1;var $n=bt.collection(f.getAllInBox(vt[0],vt[1],vt[2],vt[3]));vt[0]=void 0,vt[1]=void 0,vt[2]=void 0,vt[3]=void 0,vt[4]=0,f.redrawHint("select",!0),bt.emit({type:"boxend",originalEvent:ve,position:{x:Tt[0],y:Tt[1]}});var Zr=a(function(y0){return y0.selectable()&&!y0.selected()},"eleWouldBeSelected");$n.emit("box").stdFilter(Zr).select().emit("boxselect"),$n.nonempty()&&f.redrawHint("eles",!0),f.redraw()}if(ft?.unactivate(),ve.touches[2])f.data.bgActivePosistion=void 0,f.redrawHint("select",!0);else if(!ve.touches[1]){if(!ve.touches[0]){if(!ve.touches[0]){f.data.bgActivePosistion=void 0,f.redrawHint("select",!0);var cn=f.dragData.touchDragEles;if(ft!=null){var ra=ft._private.grabbed;ee(cn),f.redrawHint("drag",!0),f.redrawHint("eles",!0),ra&&(ft.emit("freeon"),cn.emit("free"),f.dragData.didDrag&&(ft.emit("dragfreeon"),cn.emit("dragfree"))),m(ft,["touchend","tapend","vmouseup","tapdragout"],ve,{x:Tt[0],y:Tt[1]}),ft.unactivate(),f.touchData.start=null}else{var Cs=f.findNearestElement(Tt[0],Tt[1],!0,!0);m(Cs,["touchend","tapend","vmouseup","tapdragout"],ve,{x:Tt[0],y:Tt[1]})}var Pu=f.touchData.startPosition[0]-Tt[0],Bu=Pu*Pu,Ss=f.touchData.startPosition[1]-Tt[1],jl=Ss*Ss,po=Bu+jl,_h=po*_r*_r;f.touchData.singleTouchMoved||(ft||bt.$(":selected").unselect(["tapunselect"]),m(ft,["tap","vclick"],ve,{x:Tt[0],y:Tt[1]}),Ur=!1,ve.timeStamp-Zt<=bt.multiClickDebounceTime()?(Qt&&clearTimeout(Qt),Ur=!0,Zt=null,m(ft,["dbltap","vdblclick"],ve,{x:Tt[0],y:Tt[1]})):(Qt=setTimeout(function(){Ur||m(ft,["onetap","voneclick"],ve,{x:Tt[0],y:Tt[1]})},bt.multiClickDebounceTime()),Zt=ve.timeStamp)),ft!=null&&!f.dragData.didDrag&&ft._private.selectable&&_h<f.touchTapThreshold2&&!f.pinching&&(bt.selectionType()==="single"?(bt.$(d).unmerge(ft).unselect(["tapunselect"]),ft.select(["tapselect"])):ft.selected()?ft.unselect(["tapunselect"]):ft.select(["tapselect"]),f.redrawHint("eles",!0)),f.touchData.singleTouchMoved=!0}}}for(var Vf=0;Vf<Tt.length;Vf++)yr[Vf]=Tt[Vf];f.dragData.didDrag=!1,ve.touches.length===0&&(f.touchData.dragDelta=[],f.touchData.startPosition=[null,null,null,null,null,null],f.touchData.startGPosition=null,f.touchData.didSelect=!1),ve.touches.length<2&&(ve.touches.length===1&&(f.touchData.startGPosition=[ve.touches[0].clientX,ve.touches[0].clientY]),f.pinching=!1,f.redrawHint("eles",!0),f.redraw())},"touchendHandler"),!1),typeof TouchEvent>"u"){var Tr=[],kr=a(function(ve){return{clientX:ve.clientX,clientY:ve.clientY,force:1,identifier:ve.pointerId,pageX:ve.pageX,pageY:ve.pageY,radiusX:ve.width/2,radiusY:ve.height/2,screenX:ve.screenX,screenY:ve.screenY,target:ve.target}},"makeTouch"),pr=a(function(ve){return{event:ve,touch:kr(ve)}},"makePointer"),Sr=a(function(ve){Tr.push(pr(ve))},"addPointer"),Rn=a(function(ve){for(var ft=0;ft<Tr.length;ft++){var At=Tr[ft];if(At.event.pointerId===ve.pointerId){Tr.splice(ft,1);return}}},"removePointer"),yn=a(function(ve){var ft=Tr.filter(function(At){return At.event.pointerId===ve.pointerId})[0];ft.event=ve,ft.touch=kr(ve)},"updatePointer"),Xr=a(function(ve){ve.touches=Tr.map(function(ft){return ft.touch})},"addTouchesToEvent"),vn=a(function(ve){return ve.pointerType==="mouse"||ve.pointerType===4},"pointerIsMouse");f.registerBinding(f.container,"pointerdown",function(pt){vn(pt)||(pt.preventDefault(),Sr(pt),Xr(pt),Ot(pt))}),f.registerBinding(f.container,"pointerup",function(pt){vn(pt)||(Rn(pt),Xr(pt),mr(pt))}),f.registerBinding(f.container,"pointercancel",function(pt){vn(pt)||(Rn(pt),Xr(pt),Wt(pt))}),f.registerBinding(f.container,"pointermove",function(pt){vn(pt)||(pt.preventDefault(),yn(pt),Xr(pt),Mt(pt))})}};var Ch={};Ch.generatePolygon=function(f,l){return this.nodeShapes[f]={renderer:this,name:f,points:l,draw:a(function(m,y,b,w,T){this.renderer.nodeShapeImpl("polygon",m,y,b,w,T,this.points)},"draw"),intersectLine:a(function(m,y,b,w,T,S,C){return Py(T,S,this.points,m,y,b/2,w/2,C)},"intersectLine"),checkPoint:a(function(m,y,b,w,T,S,C){return Th(m,y,this.points,S,C,w,T,[0,-1],b)},"checkPoint")}},Ch.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:a(function(l,d,m,y,b){this.renderer.nodeShapeImpl(this.name,l,d,m,y,b)},"draw"),intersectLine:a(function(l,d,m,y,b,w,T){return Mve(b,w,l,d,m/2+T,y/2+T)},"intersectLine"),checkPoint:a(function(l,d,m,y,b,w,T){return u0(l,d,y,b,w,T,m)},"checkPoint")}},Ch.generateRoundPolygon=function(f,l){for(var d=new Array(l.length*2),m=0;m<l.length/2;m++){var y=m*2,b=void 0;m<l.length/2-1?b=(m+1)*2:b=0,d[m*4]=l[y],d[m*4+1]=l[y+1];var w=l[b]-l[y],T=l[b+1]-l[y+1],S=Math.sqrt(w*w+T*T);d[m*4+2]=w/S,d[m*4+3]=T/S}return this.nodeShapes[f]={renderer:this,name:f,points:d,draw:a(function(A,R,$,U,q){this.renderer.nodeShapeImpl("round-polygon",A,R,$,U,q,this.points)},"draw"),intersectLine:a(function(A,R,$,U,q,ne,ee){return Nve(q,ne,this.points,A,R,$,U)},"intersectLine"),checkPoint:a(function(A,R,$,U,q,ne,ee){return Ive(A,R,this.points,ne,ee,U,q)},"checkPoint")}},Ch.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:fo(4,0),draw:a(function(l,d,m,y,b){this.renderer.nodeShapeImpl(this.name,l,d,m,y,b)},"draw"),intersectLine:a(function(l,d,m,y,b,w,T){return uF(b,w,l,d,m,y,T)},"intersectLine"),checkPoint:a(function(l,d,m,y,b,w,T){var S=By(y,b),C=S*2;return!!(Th(l,d,this.points,w,T,y,b-C,[0,-1],m)||Th(l,d,this.points,w,T,y-C,b,[0,-1],m)||u0(l,d,C,C,w-y/2+S,T-b/2+S,m)||u0(l,d,C,C,w+y/2-S,T-b/2+S,m)||u0(l,d,C,C,w+y/2-S,T+b/2-S,m)||u0(l,d,C,C,w-y/2+S,T+b/2-S,m))},"checkPoint")}},Ch.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:hF(),points:fo(4,0),draw:a(function(l,d,m,y,b){this.renderer.nodeShapeImpl(this.name,l,d,m,y,b)},"draw"),generateCutTrianglePts:a(function(l,d,m,y){var b=this.cornerLength,w=d/2,T=l/2,S=m-T,C=m+T,A=y-w,R=y+w;return{topLeft:[S,A+b,S+b,A,S+b,A+b],topRight:[C-b,A,C,A+b,C-b,A+b],bottomRight:[C,R-b,C-b,R,C-b,R-b],bottomLeft:[S+b,R,S,R-b,S+b,R-b]}},"generateCutTrianglePts"),intersectLine:a(function(l,d,m,y,b,w,T){var S=this.generateCutTrianglePts(m+2*T,y+2*T,l,d),C=[].concat.apply([],[S.topLeft.splice(0,4),S.topRight.splice(0,4),S.bottomRight.splice(0,4),S.bottomLeft.splice(0,4)]);return Py(b,w,C,l,d)},"intersectLine"),checkPoint:a(function(l,d,m,y,b,w,T){if(Th(l,d,this.points,w,T,y,b-2*this.cornerLength,[0,-1],m)||Th(l,d,this.points,w,T,y-2*this.cornerLength,b,[0,-1],m))return!0;var S=this.generateCutTrianglePts(y,b,w,T);return $o(l,d,S.topLeft)||$o(l,d,S.topRight)||$o(l,d,S.bottomRight)||$o(l,d,S.bottomLeft)},"checkPoint")}},Ch.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:fo(4,0),draw:a(function(l,d,m,y,b){this.renderer.nodeShapeImpl(this.name,l,d,m,y,b)},"draw"),intersectLine:a(function(l,d,m,y,b,w,T){var S=.15,C=.5,A=.85,R=this.generateBarrelBezierPts(m+2*T,y+2*T,l,d),$=a(function(ne){var ee=gm({x:ne[0],y:ne[1]},{x:ne[2],y:ne[3]},{x:ne[4],y:ne[5]},S),K=gm({x:ne[0],y:ne[1]},{x:ne[2],y:ne[3]},{x:ne[4],y:ne[5]},C),se=gm({x:ne[0],y:ne[1]},{x:ne[2],y:ne[3]},{x:ne[4],y:ne[5]},A);return[ne[0],ne[1],ee.x,ee.y,K.x,K.y,se.x,se.y,ne[4],ne[5]]},"approximateBarrelCurvePts"),U=[].concat($(R.topLeft),$(R.topRight),$(R.bottomRight),$(R.bottomLeft));return Py(b,w,U,l,d)},"intersectLine"),generateBarrelBezierPts:a(function(l,d,m,y){var b=d/2,w=l/2,T=m-w,S=m+w,C=y-b,A=y+b,R=aC(l,d),$=R.heightOffset,U=R.widthOffset,q=R.ctrlPtOffsetPct*l,ne={topLeft:[T,C+$,T+q,C,T+U,C],topRight:[S-U,C,S-q,C,S,C+$],bottomRight:[S,A-$,S-q,A,S-U,A],bottomLeft:[T+U,A,T+q,A,T,A-$]};return ne.topLeft.isTop=!0,ne.topRight.isTop=!0,ne.bottomLeft.isBottom=!0,ne.bottomRight.isBottom=!0,ne},"generateBarrelBezierPts"),checkPoint:a(function(l,d,m,y,b,w,T){var S=aC(y,b),C=S.heightOffset,A=S.widthOffset;if(Th(l,d,this.points,w,T,y,b-2*C,[0,-1],m)||Th(l,d,this.points,w,T,y-2*A,b,[0,-1],m))return!0;for(var R=this.generateBarrelBezierPts(y,b,w,T),$=a(function(de,ke,me){var Ce=me[4],Se=me[2],xe=me[0],Ve=me[5],Te=me[1],tt=Math.min(Ce,xe),We=Math.max(Ce,xe),qe=Math.min(Ve,Te),nt=Math.max(Ve,Te);if(tt<=de&&de<=We&&qe<=ke&&ke<=nt){var dt=Ove(Ce,Se,xe),wt=Ave(dt[0],dt[1],dt[2],de),it=wt.filter(function(xt){return 0<=xt&&xt<=1});if(it.length>0)return it[0]}return null},"getCurveT"),U=Object.keys(R),q=0;q<U.length;q++){var ne=U[q],ee=R[ne],K=$(l,d,ee);if(K!=null){var se=ee[5],oe=ee[3],fe=ee[1],be=is(se,oe,fe,K);if(ee.isTop&&be<=d||ee.isBottom&&d<=be)return!0}}return!1},"checkPoint")}},Ch.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:fo(4,0),draw:a(function(l,d,m,y,b){this.renderer.nodeShapeImpl(this.name,l,d,m,y,b)},"draw"),intersectLine:a(function(l,d,m,y,b,w,T){var S=l-(m/2+T),C=d-(y/2+T),A=C,R=l+(m/2+T),$=Mf(b,w,l,d,S,C,R,A,!1);return $.length>0?$:uF(b,w,l,d,m,y,T)},"intersectLine"),checkPoint:a(function(l,d,m,y,b,w,T){var S=By(y,b),C=2*S;if(Th(l,d,this.points,w,T,y,b-C,[0,-1],m)||Th(l,d,this.points,w,T,y-C,b,[0,-1],m))return!0;var A=y/2+2*m,R=b/2+2*m,$=[w-A,T-R,w-A,T,w+A,T,w+A,T-R];return!!($o(l,d,$)||u0(l,d,C,C,w+y/2-S,T+b/2-S,m)||u0(l,d,C,C,w-y/2+S,T+b/2-S,m))},"checkPoint")}},Ch.registerNodeShapes=function(){var f=this.nodeShapes={},l=this;this.generateEllipse(),this.generatePolygon("triangle",fo(3,0)),this.generateRoundPolygon("round-triangle",fo(3,0)),this.generatePolygon("rectangle",fo(4,0)),f.square=f.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var d=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",d),this.generateRoundPolygon("round-diamond",d)}this.generatePolygon("pentagon",fo(5,0)),this.generateRoundPolygon("round-pentagon",fo(5,0)),this.generatePolygon("hexagon",fo(6,0)),this.generateRoundPolygon("round-hexagon",fo(6,0)),this.generatePolygon("heptagon",fo(7,0)),this.generateRoundPolygon("round-heptagon",fo(7,0)),this.generatePolygon("octagon",fo(8,0)),this.generateRoundPolygon("round-octagon",fo(8,0));var m=new Array(20);{var y=nC(5,0),b=nC(5,Math.PI/5),w=.5*(3-Math.sqrt(5));w*=1.57;for(var T=0;T<b.length/2;T++)b[T*2]*=w,b[T*2+1]*=w;for(var T=0;T<20/4;T++)m[T*4]=y[T*2],m[T*4+1]=y[T*2+1],m[T*4+2]=b[T*2],m[T*4+3]=b[T*2+1]}m=cF(m),this.generatePolygon("star",m),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var S=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",S),this.generateRoundPolygon("round-tag",S)}f.makePolygon=function(C){var A=C.join("$"),R="polygon-"+A,$;return($=this[R])?$:l.generatePolygon(R,C)}};var Zy={};Zy.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},Zy.redraw=function(f){f=f||My();var l=this;l.averageRedrawTime===void 0&&(l.averageRedrawTime=0),l.lastRedrawTime===void 0&&(l.lastRedrawTime=0),l.lastDrawTime===void 0&&(l.lastDrawTime=0),l.requestedFrame=!0,l.renderOptions=f},Zy.beforeRender=function(f,l){if(!this.destroyed){l==null&&Mn("Priority is not optional for beforeRender");var d=this.beforeRenderCallbacks;d.push({fn:f,priority:l}),d.sort(function(m,y){return y.priority-m.priority})}};var Kz=a(function(l,d,m){for(var y=l.beforeRenderCallbacks,b=0;b<y.length;b++)y[b].fn(d,m)},"beforeRenderCallbacks");Zy.startRenderLoop=function(){var f=this,l=f.cy;if(!f.renderLoopStarted){f.renderLoopStarted=!0;var d=a(function m(y){if(!f.destroyed){if(!l.batching())if(f.requestedFrame&&!f.skipFrame){Kz(f,!0,y);var b=Fe();f.render(f.renderOptions);var w=f.lastDrawTime=Fe();f.averageRedrawTime===void 0&&(f.averageRedrawTime=w-b),f.redrawCount===void 0&&(f.redrawCount=0),f.redrawCount++,f.redrawTotalTime===void 0&&(f.redrawTotalTime=0);var T=w-b;f.redrawTotalTime+=T,f.lastRedrawTime=T,f.averageRedrawTime=f.averageRedrawTime/2+T/2,f.requestedFrame=!1}else Kz(f,!1,y);f.skipFrame=!1,bs(m)}},"renderFn");bs(d)}};var p3e=a(function(l){this.init(l)},"BaseRenderer"),Qz=p3e,Nm=Qz.prototype;Nm.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Nm.init=function(f){var l=this;l.options=f,l.cy=f.cy;var d=l.container=f.cy.container(),m=l.cy.window();if(m){var y=m.document,b=y.head,w="__________cytoscape_stylesheet",T="__________cytoscape_container",S=y.getElementById(w)!=null;if(d.className.indexOf(T)<0&&(d.className=(d.className||"")+" "+T),!S){var C=y.createElement("style");C.id=w,C.textContent="."+T+" { position: relative; }",b.insertBefore(C,b.children[0])}var A=m.getComputedStyle(d),R=A.getPropertyValue("position");R==="static"&&An("A Cytoscape container has style position:static and so can not use UI extensions properly")}l.selection=[void 0,void 0,void 0,void 0,0],l.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],l.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},l.dragData={possibleDragElements:[]},l.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},l.redraws=0,l.showFps=f.showFps,l.debug=f.debug,l.hideEdgesOnViewport=f.hideEdgesOnViewport,l.textureOnViewport=f.textureOnViewport,l.wheelSensitivity=f.wheelSensitivity,l.motionBlurEnabled=f.motionBlur,l.forcedPixelRatio=z(f.pixelRatio)?f.pixelRatio:null,l.motionBlur=f.motionBlur,l.motionBlurOpacity=f.motionBlurOpacity,l.motionBlurTransparency=1-l.motionBlurOpacity,l.motionBlurPxRatio=1,l.mbPxRBlurry=1,l.minMbLowQualFrames=4,l.fullQualityMb=!1,l.clearedForMotionBlur=[],l.desktopTapThreshold=f.desktopTapThreshold,l.desktopTapThreshold2=f.desktopTapThreshold*f.desktopTapThreshold,l.touchTapThreshold=f.touchTapThreshold,l.touchTapThreshold2=f.touchTapThreshold*f.touchTapThreshold,l.tapholdDuration=500,l.bindings=[],l.beforeRenderCallbacks=[],l.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},l.registerNodeShapes(),l.registerArrowShapes(),l.registerCalculationListeners()},Nm.notify=function(f,l){var d=this,m=d.cy;if(!this.destroyed){if(f==="init"){d.load();return}if(f==="destroy"){d.destroy();return}(f==="add"||f==="remove"||f==="move"&&m.hasCompoundNodes()||f==="load"||f==="zorder"||f==="mount")&&d.invalidateCachedZSortedEles(),f==="viewport"&&d.redrawHint("select",!0),(f==="load"||f==="resize"||f==="mount")&&(d.invalidateContainerClientCoordsCache(),d.matchCanvasSize(d.container)),d.redrawHint("eles",!0),d.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Nm.destroy=function(){var f=this;f.destroyed=!0,f.cy.stopAnimationLoop();for(var l=0;l<f.bindings.length;l++){var d=f.bindings[l],m=d,y=m.target;(y.off||y.removeEventListener).apply(y,m.args)}if(f.bindings=[],f.beforeRenderCallbacks=[],f.onUpdateEleCalcsFns=[],f.removeObserver&&f.removeObserver.disconnect(),f.styleObserver&&f.styleObserver.disconnect(),f.resizeObserver&&f.resizeObserver.disconnect(),f.labelCalcDiv)try{document.body.removeChild(f.labelCalcDiv)}catch{}},Nm.isHeadless=function(){return!1},[AC,Xz,jz,Mm,Ch,Zy].forEach(function(f){pe(Nm,f)});var DC=1e3/60,Zz={setupDequeueing:a(function(l){return a(function(){var m=this,y=this.renderer;if(!m.dequeueingSetup){m.dequeueingSetup=!0;var b=zr(function(){y.redrawHint("eles",!0),y.redrawHint("drag",!0),y.redraw()},l.deqRedrawThreshold),w=a(function(C,A){var R=Fe(),$=y.averageRedrawTime,U=y.lastRedrawTime,q=[],ne=y.cy.extent(),ee=y.getPixelRatio();for(C||y.flushRenderedStyleQueue();;){var K=Fe(),se=K-R,oe=K-A;if(U<DC){var fe=DC-(C?$:0);if(oe>=l.deqFastCost*fe)break}else if(C){if(se>=l.deqCost*U||se>=l.deqAvgCost*$)break}else if(oe>=l.deqNoDrawCost*DC)break;var be=l.deq(m,ee,ne);if(be.length>0)for(var ye=0;ye<be.length;ye++)q.push(be[ye]);else break}q.length>0&&(l.onDeqd(m,q),!C&&l.shouldRedraw(m,q,ee,ne)&&b())},"dequeue"),T=l.priority||Wl;y.beforeRender(w,T(m))}},"setupDequeueingImpl")},"setupDequeueing")},m3e=function(){function f(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ec;t(this,f),this.idsByKey=new xl,this.keyForId=new xl,this.cachesByLvl=new xl,this.lvls=[],this.getKey=l,this.doesEleInvalidateKey=d}return a(f,"ElementTextureCacheLookup"),n(f,[{key:"getIdsFor",value:a(function(d){d==null&&Mn("Can not get id list for null key");var m=this.idsByKey,y=this.idsByKey.get(d);return y||(y=new Ze,m.set(d,y)),y},"getIdsFor")},{key:"addIdForKey",value:a(function(d,m){d!=null&&this.getIdsFor(d).add(m)},"addIdForKey")},{key:"deleteIdForKey",value:a(function(d,m){d!=null&&this.getIdsFor(d).delete(m)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:a(function(d){return d==null?0:this.getIdsFor(d).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:a(function(d){var m=d.id(),y=this.keyForId.get(m),b=this.getKey(d);this.deleteIdForKey(y,m),this.addIdForKey(b,m),this.keyForId.set(m,b)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:a(function(d){var m=d.id(),y=this.keyForId.get(m);this.deleteIdForKey(y,m),this.keyForId.delete(m)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:a(function(d){var m=d.id(),y=this.keyForId.get(m),b=this.getKey(d);return y!==b},"keyHasChangedFor")},{key:"isInvalid",value:a(function(d){return this.keyHasChangedFor(d)||this.doesEleInvalidateKey(d)},"isInvalid")},{key:"getCachesAt",value:a(function(d){var m=this.cachesByLvl,y=this.lvls,b=m.get(d);return b||(b=new xl,m.set(d,b),y.push(d)),b},"getCachesAt")},{key:"getCache",value:a(function(d,m){return this.getCachesAt(m).get(d)},"getCache")},{key:"get",value:a(function(d,m){var y=this.getKey(d),b=this.getCache(y,m);return b!=null&&this.updateKeyMappingFor(d),b},"get")},{key:"getForCachedKey",value:a(function(d,m){var y=this.keyForId.get(d.id()),b=this.getCache(y,m);return b},"getForCachedKey")},{key:"hasCache",value:a(function(d,m){return this.getCachesAt(m).has(d)},"hasCache")},{key:"has",value:a(function(d,m){var y=this.getKey(d);return this.hasCache(y,m)},"has")},{key:"setCache",value:a(function(d,m,y){y.key=d,this.getCachesAt(m).set(d,y)},"setCache")},{key:"set",value:a(function(d,m,y){var b=this.getKey(d);this.setCache(b,m,y),this.updateKeyMappingFor(d)},"set")},{key:"deleteCache",value:a(function(d,m){this.getCachesAt(m).delete(d)},"deleteCache")},{key:"delete",value:a(function(d,m){var y=this.getKey(d);this.deleteCache(y,m)},"_delete")},{key:"invalidateKey",value:a(function(d){var m=this;this.lvls.forEach(function(y){return m.deleteCache(d,y)})},"invalidateKey")},{key:"invalidate",value:a(function(d){var m=d.id(),y=this.keyForId.get(m);this.deleteKeyMappingFor(d);var b=this.doesEleInvalidateKey(d);return b&&this.invalidateKey(y),b||this.getNumberOfIdsForKey(y)===0},"invalidate")}]),f}(),Jz=25,e3=50,t3=-4,RC=3,g3e=7.99,y3e=8,v3e=1024,x3e=1024,b3e=1024,k3e=.2,w3e=.8,T3e=10,E3e=.15,C3e=.1,S3e=.9,_3e=.9,A3e=100,L3e=1,Om={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},D3e=Sa({getKey:null,doesEleInvalidateKey:Ec,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:dm,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Jy=a(function(l,d){var m=this;m.renderer=l,m.onDequeues=[];var y=D3e(d);pe(m,y),m.lookup=new m3e(y.getKey,y.doesEleInvalidateKey),m.setupDequeueing()},"ElementTextureCache"),Fa=Jy.prototype;Fa.reasons=Om,Fa.getTextureQueue=function(f){var l=this;return l.eleImgCaches=l.eleImgCaches||{},l.eleImgCaches[f]=l.eleImgCaches[f]||[]},Fa.getRetiredTextureQueue=function(f){var l=this,d=l.eleImgCaches.retired=l.eleImgCaches.retired||{},m=d[f]=d[f]||[];return m},Fa.getElementQueue=function(){var f=this,l=f.eleCacheQueue=f.eleCacheQueue||new ea(function(d,m){return m.reqs-d.reqs});return l},Fa.getElementKeyToQueue=function(){var f=this,l=f.eleKeyToCacheQueue=f.eleKeyToCacheQueue||{};return l},Fa.getElement=function(f,l,d,m,y){var b=this,w=this.renderer,T=w.cy.zoom(),S=this.lookup;if(!l||l.w===0||l.h===0||isNaN(l.w)||isNaN(l.h)||!f.visible()||f.removed()||!b.allowEdgeTxrCaching&&f.isEdge()||!b.allowParentTxrCaching&&f.isParent())return null;if(m==null&&(m=Math.ceil(eC(T*d))),m<t3)m=t3;else if(T>=g3e||m>RC)return null;var C=Math.pow(2,m),A=l.h*C,R=l.w*C,$=w.eleTextBiggerThanMin(f,C);if(!this.isVisible(f,$))return null;var U=S.get(f,m);if(U&&U.invalidated&&(U.invalidated=!1,U.texture.invalidatedWidth-=U.width),U)return U;var q;if(A<=Jz?q=Jz:A<=e3?q=e3:q=Math.ceil(A/e3)*e3,A>b3e||R>x3e)return null;var ne=b.getTextureQueue(q),ee=ne[ne.length-2],K=a(function(){return b.recycleTexture(q,R)||b.addTexture(q,R)},"addNewTxr");ee||(ee=ne[ne.length-1]),ee||(ee=K()),ee.width-ee.usedWidth<R&&(ee=K());for(var se=a(function(We){return We&&We.scaledLabelShown===$},"scalableFrom"),oe=y&&y===Om.dequeue,fe=y&&y===Om.highQuality,be=y&&y===Om.downscale,ye,de=m+1;de<=RC;de++){var ke=S.get(f,de);if(ke){ye=ke;break}}var me=ye&&ye.level===m+1?ye:null,Ce=a(function(){ee.context.drawImage(me.texture.canvas,me.x,0,me.width,me.height,ee.usedWidth,0,R,A)},"downscale");if(ee.context.setTransform(1,0,0,1,0,0),ee.context.clearRect(ee.usedWidth,0,R,q),se(me))Ce();else if(se(ye))if(fe){for(var Se=ye.level;Se>m;Se--)me=b.getElement(f,l,d,Se,Om.downscale);Ce()}else return b.queueElement(f,ye.level-1),ye;else{var xe;if(!oe&&!fe&&!be)for(var Ve=m-1;Ve>=t3;Ve--){var Te=S.get(f,Ve);if(Te){xe=Te;break}}if(se(xe))return b.queueElement(f,m),xe;ee.context.translate(ee.usedWidth,0),ee.context.scale(C,C),this.drawElement(ee.context,f,l,$,!1),ee.context.scale(1/C,1/C),ee.context.translate(-ee.usedWidth,0)}return U={x:ee.usedWidth,texture:ee,level:m,scale:C,width:R,height:A,scaledLabelShown:$},ee.usedWidth+=Math.ceil(R+y3e),ee.eleCaches.push(U),S.set(f,m,U),b.checkTextureFullness(ee),U},Fa.invalidateElements=function(f){for(var l=0;l<f.length;l++)this.invalidateElement(f[l])},Fa.invalidateElement=function(f){var l=this,d=l.lookup,m=[],y=d.isInvalid(f);if(y){for(var b=t3;b<=RC;b++){var w=d.getForCachedKey(f,b);w&&m.push(w)}var T=d.invalidate(f);if(T)for(var S=0;S<m.length;S++){var C=m[S],A=C.texture;A.invalidatedWidth+=C.width,C.invalidated=!0,l.checkTextureUtility(A)}l.removeFromQueue(f)}},Fa.checkTextureUtility=function(f){f.invalidatedWidth>=k3e*f.width&&this.retireTexture(f)},Fa.checkTextureFullness=function(f){var l=this,d=l.getTextureQueue(f.height);f.usedWidth/f.width>w3e&&f.fullnessChecks>=T3e?Cc(d,f):f.fullnessChecks++},Fa.retireTexture=function(f){var l=this,d=f.height,m=l.getTextureQueue(d),y=this.lookup;Cc(m,f),f.retired=!0;for(var b=f.eleCaches,w=0;w<b.length;w++){var T=b[w];y.deleteCache(T.key,T.level)}pm(b);var S=l.getRetiredTextureQueue(d);S.push(f)},Fa.addTexture=function(f,l){var d=this,m=d.getTextureQueue(f),y={};return m.push(y),y.eleCaches=[],y.height=f,y.width=Math.max(v3e,l),y.usedWidth=0,y.invalidatedWidth=0,y.fullnessChecks=0,y.canvas=d.renderer.makeOffscreenCanvas(y.width,y.height),y.context=y.canvas.getContext("2d"),y},Fa.recycleTexture=function(f,l){for(var d=this,m=d.getTextureQueue(f),y=d.getRetiredTextureQueue(f),b=0;b<y.length;b++){var w=y[b];if(w.width>=l)return w.retired=!1,w.usedWidth=0,w.invalidatedWidth=0,w.fullnessChecks=0,pm(w.eleCaches),w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(0,0,w.width,w.height),Cc(y,w),m.push(w),w}},Fa.queueElement=function(f,l){var d=this,m=d.getElementQueue(),y=d.getElementKeyToQueue(),b=this.getKey(f),w=y[b];if(w)w.level=Math.max(w.level,l),w.eles.merge(f),w.reqs++,m.updateItem(w);else{var T={eles:f.spawn().merge(f),level:l,reqs:1,key:b};m.push(T),y[b]=T}},Fa.dequeue=function(f){for(var l=this,d=l.getElementQueue(),m=l.getElementKeyToQueue(),y=[],b=l.lookup,w=0;w<L3e&&d.size()>0;w++){var T=d.pop(),S=T.key,C=T.eles[0],A=b.hasCache(C,T.level);if(m[S]=null,A)continue;y.push(T);var R=l.getBoundingBox(C);l.getElement(C,R,f,T.level,Om.dequeue)}return y},Fa.removeFromQueue=function(f){var l=this,d=l.getElementQueue(),m=l.getElementKeyToQueue(),y=this.getKey(f),b=m[y];b!=null&&(b.eles.length===1?(b.reqs=Ui,d.updateItem(b),d.pop(),m[y]=null):b.eles.unmerge(f))},Fa.onDequeue=function(f){this.onDequeues.push(f)},Fa.offDequeue=function(f){Cc(this.onDequeues,f)},Fa.setupDequeueing=Zz.setupDequeueing({deqRedrawThreshold:A3e,deqCost:E3e,deqAvgCost:C3e,deqNoDrawCost:S3e,deqFastCost:_3e,deq:a(function(l,d,m){return l.dequeue(d,m)},"deq"),onDeqd:a(function(l,d){for(var m=0;m<l.onDequeues.length;m++){var y=l.onDequeues[m];y(d)}},"onDeqd"),shouldRedraw:a(function(l,d,m,y){for(var b=0;b<d.length;b++)for(var w=d[b].eles,T=0;T<w.length;T++){var S=w[T].boundingBox();if(tC(S,y))return!0}return!1},"shouldRedraw"),priority:a(function(l){return l.renderer.beforeRenderPriorities.eleTxrDeq},"priority")});var R3e=1,ev=-4,r3=2,I3e=3.99,M3e=50,N3e=50,O3e=.15,P3e=.1,B3e=.9,F3e=.9,z3e=1,e$=250,$3e=4e3*4e3,G3e=!0,t$=a(function(l){var d=this,m=d.renderer=l,y=m.cy;d.layersByLevel={},d.firstGet=!0,d.lastInvalidationTime=Fe()-2*e$,d.skipping=!1,d.eleTxrDeqs=y.collection(),d.scheduleElementRefinement=zr(function(){d.refineElementTextures(d.eleTxrDeqs),d.eleTxrDeqs.unmerge(d.eleTxrDeqs)},N3e),m.beforeRender(function(w,T){T-d.lastInvalidationTime<=e$?d.skipping=!0:d.skipping=!1},m.beforeRenderPriorities.lyrTxrSkip);var b=a(function(T,S){return S.reqs-T.reqs},"qSort");d.layersQueue=new ea(b),d.setupDequeueing()},"LayeredTextureCache"),Es=t$.prototype,r$=0,V3e=Math.pow(2,53)-1;Es.makeLayer=function(f,l){var d=Math.pow(2,l),m=Math.ceil(f.w*d),y=Math.ceil(f.h*d),b=this.renderer.makeOffscreenCanvas(m,y),w={id:r$=++r$%V3e,bb:f,level:l,width:m,height:y,canvas:b,context:b.getContext("2d"),eles:[],elesQueue:[],reqs:0},T=w.context,S=-w.bb.x1,C=-w.bb.y1;return T.scale(d,d),T.translate(S,C),w},Es.getLayers=function(f,l,d){var m=this,y=m.renderer,b=y.cy,w=b.zoom(),T=m.firstGet;if(m.firstGet=!1,d==null){if(d=Math.ceil(eC(w*l)),d<ev)d=ev;else if(w>=I3e||d>r3)return null}m.validateLayersElesOrdering(d,f);var S=m.layersByLevel,C=Math.pow(2,d),A=S[d]=S[d]||[],R,$=m.levelIsComplete(d,f),U,q=a(function(){var Ce=a(function(tt){if(m.validateLayersElesOrdering(tt,f),m.levelIsComplete(tt,f))return U=S[tt],!0},"canUseAsTmpLvl"),Se=a(function(tt){if(!U)for(var We=d+tt;ev<=We&&We<=r3&&!Ce(We);We+=tt);},"checkLvls");Se(1),Se(-1);for(var xe=A.length-1;xe>=0;xe--){var Ve=A[xe];Ve.invalid&&Cc(A,Ve)}},"checkTempLevels");if(!$)q();else return A;var ne=a(function(){if(!R){R=zo();for(var Ce=0;Ce<f.length;Ce++)sF(R,f[Ce].boundingBox())}return R},"getBb"),ee=a(function(Ce){Ce=Ce||{};var Se=Ce.after;ne();var xe=R.w*C*(R.h*C);if(xe>$3e)return null;var Ve=m.makeLayer(R,d);if(Se!=null){var Te=A.indexOf(Se)+1;A.splice(Te,0,Ve)}else(Ce.insert===void 0||Ce.insert)&&A.unshift(Ve);return Ve},"makeLayer");if(m.skipping&&!T)return null;for(var K=null,se=f.length/R3e,oe=!T,fe=0;fe<f.length;fe++){var be=f[fe],ye=be._private.rscratch,de=ye.imgLayerCaches=ye.imgLayerCaches||{},ke=de[d];if(ke){K=ke;continue}if((!K||K.eles.length>=se||!lF(K.bb,be.boundingBox()))&&(K=ee({insert:!0,after:K}),!K))return null;U||oe?m.queueLayer(K,be):m.drawEleInLayer(K,be,d,l),K.eles.push(be),de[d]=K}return U||(oe?null:A)},Es.getEleLevelForLayerLevel=function(f,l){return f},Es.drawEleInLayer=function(f,l,d,m){var y=this,b=this.renderer,w=f.context,T=l.boundingBox();T.w===0||T.h===0||!l.visible()||(d=y.getEleLevelForLayerLevel(d,m),b.setImgSmoothing(w,!1),b.drawCachedElement(w,l,null,null,d,G3e),b.setImgSmoothing(w,!0))},Es.levelIsComplete=function(f,l){var d=this,m=d.layersByLevel[f];if(!m||m.length===0)return!1;for(var y=0,b=0;b<m.length;b++){var w=m[b];if(w.reqs>0||w.invalid)return!1;y+=w.eles.length}return y===l.length},Es.validateLayersElesOrdering=function(f,l){var d=this.layersByLevel[f];if(d)for(var m=0;m<d.length;m++){for(var y=d[m],b=-1,w=0;w<l.length;w++)if(y.eles[0]===l[w]){b=w;break}if(b<0){this.invalidateLayer(y);continue}for(var T=b,w=0;w<y.eles.length;w++)if(y.eles[w]!==l[T+w]){this.invalidateLayer(y);break}}},Es.updateElementsInLayers=function(f,l){for(var d=this,m=D(f[0]),y=0;y<f.length;y++)for(var b=m?null:f[y],w=m?f[y]:f[y].ele,T=w._private.rscratch,S=T.imgLayerCaches=T.imgLayerCaches||{},C=ev;C<=r3;C++){var A=S[C];A&&(b&&d.getEleLevelForLayerLevel(A.level)!==b.level||l(A,w,b))}},Es.haveLayers=function(){for(var f=this,l=!1,d=ev;d<=r3;d++){var m=f.layersByLevel[d];if(m&&m.length>0){l=!0;break}}return l},Es.invalidateElements=function(f){var l=this;f.length!==0&&(l.lastInvalidationTime=Fe(),!(f.length===0||!l.haveLayers())&&l.updateElementsInLayers(f,a(function(m,y,b){l.invalidateLayer(m)},"invalAssocLayers")))},Es.invalidateLayer=function(f){if(this.lastInvalidationTime=Fe(),!f.invalid){var l=f.level,d=f.eles,m=this.layersByLevel[l];Cc(m,f),f.elesQueue=[],f.invalid=!0,f.replacement&&(f.replacement.invalid=!0);for(var y=0;y<d.length;y++){var b=d[y]._private.rscratch.imgLayerCaches;b&&(b[l]=null)}}},Es.refineElementTextures=function(f){var l=this;l.updateElementsInLayers(f,a(function(m,y,b){var w=m.replacement;if(w||(w=m.replacement=l.makeLayer(m.bb,m.level),w.replaces=m,w.eles=m.eles),!w.reqs)for(var T=0;T<w.eles.length;T++)l.queueLayer(w,w.eles[T])},"refineEachEle"))},Es.enqueueElementRefinement=function(f){this.eleTxrDeqs.merge(f),this.scheduleElementRefinement()},Es.queueLayer=function(f,l){var d=this,m=d.layersQueue,y=f.elesQueue,b=y.hasId=y.hasId||{};if(!f.replacement){if(l){if(b[l.id()])return;y.push(l),b[l.id()]=!0}f.reqs?(f.reqs++,m.updateItem(f)):(f.reqs=1,m.push(f))}},Es.dequeue=function(f){for(var l=this,d=l.layersQueue,m=[],y=0;y<z3e&&d.size()!==0;){var b=d.peek();if(b.replacement){d.pop();continue}if(b.replaces&&b!==b.replaces.replacement){d.pop();continue}if(b.invalid){d.pop();continue}var w=b.elesQueue.shift();w&&(l.drawEleInLayer(b,w,b.level,f),y++),m.length===0&&m.push(!0),b.elesQueue.length===0&&(d.pop(),b.reqs=0,b.replaces&&l.applyLayerReplacement(b),l.requestRedraw())}return m},Es.applyLayerReplacement=function(f){var l=this,d=l.layersByLevel[f.level],m=f.replaces,y=d.indexOf(m);if(!(y<0||m.invalid)){d[y]=f;for(var b=0;b<f.eles.length;b++){var w=f.eles[b]._private,T=w.imgLayerCaches=w.imgLayerCaches||{};T&&(T[f.level]=f)}l.requestRedraw()}},Es.requestRedraw=zr(function(){var f=this.renderer;f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},100),Es.setupDequeueing=Zz.setupDequeueing({deqRedrawThreshold:M3e,deqCost:O3e,deqAvgCost:P3e,deqNoDrawCost:B3e,deqFastCost:F3e,deq:a(function(l,d){return l.dequeue(d)},"deq"),onDeqd:Wl,shouldRedraw:dm,priority:a(function(l){return l.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")});var n$={},i$;function q3e(f,l){for(var d=0;d<l.length;d++){var m=l[d];f.lineTo(m.x,m.y)}}a(q3e,"polygon");function U3e(f,l,d){for(var m,y=0;y<l.length;y++){var b=l[y];y===0&&(m=b),f.lineTo(b.x,b.y)}f.quadraticCurveTo(d.x,d.y,m.x,m.y)}a(U3e,"triangleBackcurve");function a$(f,l,d){f.beginPath&&f.beginPath();for(var m=l,y=0;y<m.length;y++){var b=m[y];f.lineTo(b.x,b.y)}var w=d,T=d[0];f.moveTo(T.x,T.y);for(var y=1;y<w.length;y++){var b=w[y];f.lineTo(b.x,b.y)}f.closePath&&f.closePath()}a(a$,"triangleTee");function H3e(f,l,d,m,y){f.beginPath&&f.beginPath(),f.arc(d,m,y,0,Math.PI*2,!1);var b=l,w=b[0];f.moveTo(w.x,w.y);for(var T=0;T<b.length;T++){var S=b[T];f.lineTo(S.x,S.y)}f.closePath&&f.closePath()}a(H3e,"circleTriangle");function W3e(f,l,d,m){f.arc(l,d,m,0,Math.PI*2,!1)}a(W3e,"circle"),n$.arrowShapeImpl=function(f){return(i$||(i$={polygon:q3e,"triangle-backcurve":U3e,"triangle-tee":a$,"circle-triangle":H3e,"triangle-cross":a$,circle:W3e}))[f]};var Ac={};Ac.drawElement=function(f,l,d,m,y,b){var w=this;l.isNode()?w.drawNode(f,l,d,m,y,b):w.drawEdge(f,l,d,m,y,b)},Ac.drawElementOverlay=function(f,l){var d=this;l.isNode()?d.drawNodeOverlay(f,l):d.drawEdgeOverlay(f,l)},Ac.drawElementUnderlay=function(f,l){var d=this;l.isNode()?d.drawNodeUnderlay(f,l):d.drawEdgeUnderlay(f,l)},Ac.drawCachedElementPortion=function(f,l,d,m,y,b,w,T){var S=this,C=d.getBoundingBox(l);if(!(C.w===0||C.h===0)){var A=d.getElement(l,C,m,y,b);if(A!=null){var R=T(S,l);if(R===0)return;var $=w(S,l),U=C.x1,q=C.y1,ne=C.w,ee=C.h,K,se,oe,fe,be;if($!==0){var ye=d.getRotationPoint(l);oe=ye.x,fe=ye.y,f.translate(oe,fe),f.rotate($),be=S.getImgSmoothing(f),be||S.setImgSmoothing(f,!0);var de=d.getRotationOffset(l);K=de.x,se=de.y}else K=U,se=q;var ke;R!==1&&(ke=f.globalAlpha,f.globalAlpha=ke*R),f.drawImage(A.texture.canvas,A.x,0,A.width,A.height,K,se,ne,ee),R!==1&&(f.globalAlpha=ke),$!==0&&(f.rotate(-$),f.translate(-oe,-fe),be||S.setImgSmoothing(f,!1))}else d.drawElement(f,l)}};var Y3e=a(function(){return 0},"getZeroRotation"),X3e=a(function(l,d){return l.getTextAngle(d,null)},"getLabelRotation"),j3e=a(function(l,d){return l.getTextAngle(d,"source")},"getSourceLabelRotation"),K3e=a(function(l,d){return l.getTextAngle(d,"target")},"getTargetLabelRotation"),Q3e=a(function(l,d){return d.effectiveOpacity()},"getOpacity"),IC=a(function(l,d){return d.pstyle("text-opacity").pfValue*d.effectiveOpacity()},"getTextOpacity");Ac.drawCachedElement=function(f,l,d,m,y,b){var w=this,T=w.data,S=T.eleTxrCache,C=T.lblTxrCache,A=T.slbTxrCache,R=T.tlbTxrCache,$=l.boundingBox(),U=b===!0?S.reasons.highQuality:null;if(!($.w===0||$.h===0||!l.visible())&&(!m||tC($,m))){var q=l.isEdge(),ne=l.element()._private.rscratch.badLine;w.drawElementUnderlay(f,l),w.drawCachedElementPortion(f,l,S,d,y,U,Y3e,Q3e),(!q||!ne)&&w.drawCachedElementPortion(f,l,C,d,y,U,X3e,IC),q&&!ne&&(w.drawCachedElementPortion(f,l,A,d,y,U,j3e,IC),w.drawCachedElementPortion(f,l,R,d,y,U,K3e,IC)),w.drawElementOverlay(f,l)}},Ac.drawElements=function(f,l){for(var d=this,m=0;m<l.length;m++){var y=l[m];d.drawElement(f,y)}},Ac.drawCachedElements=function(f,l,d,m){for(var y=this,b=0;b<l.length;b++){var w=l[b];y.drawCachedElement(f,w,d,m)}},Ac.drawCachedNodes=function(f,l,d,m){for(var y=this,b=0;b<l.length;b++){var w=l[b];w.isNode()&&y.drawCachedElement(f,w,d,m)}},Ac.drawLayeredElements=function(f,l,d,m){var y=this,b=y.data.lyrTxrCache.getLayers(l,d);if(b)for(var w=0;w<b.length;w++){var T=b[w],S=T.bb;S.w===0||S.h===0||f.drawImage(T.canvas,S.x1,S.y1,S.w,S.h)}else y.drawCachedElements(f,l,d,m)};var Sh={};Sh.drawEdge=function(f,l,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,b=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,w=this,T=l._private.rscratch;if(!(b&&!l.visible())&&!(T.badLine||T.allpts==null||isNaN(T.allpts[0]))){var S;d&&(S=d,f.translate(-S.x1,-S.y1));var C=b?l.pstyle("opacity").value:1,A=b?l.pstyle("line-opacity").value:1,R=l.pstyle("curve-style").value,$=l.pstyle("line-style").value,U=l.pstyle("width").pfValue,q=l.pstyle("line-cap").value,ne=C*A,ee=C*A,K=a(function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ne;R==="straight-triangle"?(w.eleStrokeStyle(f,l,xe),w.drawEdgeTrianglePath(l,f,T.allpts)):(f.lineWidth=U,f.lineCap=q,w.eleStrokeStyle(f,l,xe),w.drawEdgePath(l,f,T.allpts,$),f.lineCap="butt")},"drawLine"),se=a(function(){y&&w.drawEdgeOverlay(f,l)},"drawOverlay"),oe=a(function(){y&&w.drawEdgeUnderlay(f,l)},"drawUnderlay"),fe=a(function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ee;w.drawArrowheads(f,l,xe)},"drawArrows"),be=a(function(){w.drawElementText(f,l,null,m)},"drawText");f.lineJoin="round";var ye=l.pstyle("ghost").value==="yes";if(ye){var de=l.pstyle("ghost-offset-x").pfValue,ke=l.pstyle("ghost-offset-y").pfValue,me=l.pstyle("ghost-opacity").value,Ce=ne*me;f.translate(de,ke),K(Ce),fe(Ce),f.translate(-de,-ke)}oe(),K(),fe(),se(),be(),d&&f.translate(S.x1,S.y1)}};var s$=a(function(l){if(!["overlay","underlay"].includes(l))throw new Error("Invalid state");return function(d,m){if(m.visible()){var y=m.pstyle("".concat(l,"-opacity")).value;if(y!==0){var b=this,w=b.usePaths(),T=m._private.rscratch,S=m.pstyle("".concat(l,"-padding")).pfValue,C=2*S,A=m.pstyle("".concat(l,"-color")).value;d.lineWidth=C,T.edgeType==="self"&&!w?d.lineCap="butt":d.lineCap="round",b.colorStrokeStyle(d,A[0],A[1],A[2],y),b.drawEdgePath(m,d,T.allpts,"solid")}}}},"drawEdgeOverlayUnderlay");Sh.drawEdgeOverlay=s$("overlay"),Sh.drawEdgeUnderlay=s$("underlay"),Sh.drawEdgePath=function(f,l,d,m){var y=f._private.rscratch,b=l,w,T=!1,S=this.usePaths(),C=f.pstyle("line-dash-pattern").pfValue,A=f.pstyle("line-dash-offset").pfValue;if(S){var R=d.join("$"),$=y.pathCacheKey&&y.pathCacheKey===R;$?(w=l=y.pathCache,T=!0):(w=l=new Path2D,y.pathCacheKey=R,y.pathCache=w)}if(b.setLineDash)switch(m){case"dotted":b.setLineDash([1,1]);break;case"dashed":b.setLineDash(C),b.lineDashOffset=A;break;case"solid":b.setLineDash([]);break}if(!T&&!y.badLine)switch(l.beginPath&&l.beginPath(),l.moveTo(d[0],d[1]),y.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var U=2;U+3<d.length;U+=4)l.quadraticCurveTo(d[U],d[U+1],d[U+2],d[U+3]);break;case"straight":case"segments":case"haystack":for(var q=2;q+1<d.length;q+=2)l.lineTo(d[q],d[q+1]);break}l=b,S?l.stroke(w):l.stroke(),l.setLineDash&&l.setLineDash([])},Sh.drawEdgeTrianglePath=function(f,l,d){l.fillStyle=l.strokeStyle;for(var m=f.pstyle("width").pfValue,y=0;y+1<d.length;y+=2){var b=[d[y+2]-d[y],d[y+3]-d[y+1]],w=Math.sqrt(b[0]*b[0]+b[1]*b[1]),T=[b[1]/w,-b[0]/w],S=[T[0]*m/2,T[1]*m/2];l.beginPath(),l.moveTo(d[y]-S[0],d[y+1]-S[1]),l.lineTo(d[y]+S[0],d[y+1]+S[1]),l.lineTo(d[y+2],d[y+3]),l.closePath(),l.fill()}},Sh.drawArrowheads=function(f,l,d){var m=l._private.rscratch,y=m.edgeType==="haystack";y||this.drawArrowhead(f,l,"source",m.arrowStartX,m.arrowStartY,m.srcArrowAngle,d),this.drawArrowhead(f,l,"mid-target",m.midX,m.midY,m.midtgtArrowAngle,d),this.drawArrowhead(f,l,"mid-source",m.midX,m.midY,m.midsrcArrowAngle,d),y||this.drawArrowhead(f,l,"target",m.arrowEndX,m.arrowEndY,m.tgtArrowAngle,d)},Sh.drawArrowhead=function(f,l,d,m,y,b,w){if(!(isNaN(m)||m==null||isNaN(y)||y==null||isNaN(b)||b==null)){var T=this,S=l.pstyle(d+"-arrow-shape").value;if(S!=="none"){var C=l.pstyle(d+"-arrow-fill").value==="hollow"?"both":"filled",A=l.pstyle(d+"-arrow-fill").value,R=l.pstyle("width").pfValue,$=l.pstyle(d+"-arrow-width"),U=$.value==="match-line"?R:$.pfValue;$.units==="%"&&(U*=R);var q=l.pstyle("opacity").value;w===void 0&&(w=q);var ne=f.globalCompositeOperation;(w!==1||A==="hollow")&&(f.globalCompositeOperation="destination-out",T.colorFillStyle(f,255,255,255,1),T.colorStrokeStyle(f,255,255,255,1),T.drawArrowShape(l,f,C,R,S,U,m,y,b),f.globalCompositeOperation=ne);var ee=l.pstyle(d+"-arrow-color").value;T.colorFillStyle(f,ee[0],ee[1],ee[2],w),T.colorStrokeStyle(f,ee[0],ee[1],ee[2],w),T.drawArrowShape(l,f,A,R,S,U,m,y,b)}}},Sh.drawArrowShape=function(f,l,d,m,y,b,w,T,S){var C=this,A=this.usePaths()&&y!=="triangle-cross",R=!1,$,U=l,q={x:w,y:T},ne=f.pstyle("arrow-scale").value,ee=this.getArrowWidth(m,ne),K=C.arrowShapes[y];if(A){var se=C.arrowPathCache=C.arrowPathCache||[],oe=vl(y),fe=se[oe];fe!=null?($=l=fe,R=!0):($=l=new Path2D,se[oe]=$)}R||(l.beginPath&&l.beginPath(),A?K.draw(l,1,0,{x:0,y:0},1):K.draw(l,ee,S,q,m),l.closePath&&l.closePath()),l=U,A&&(l.translate(w,T),l.rotate(S),l.scale(ee,ee)),(d==="filled"||d==="both")&&(A?l.fill($):l.fill()),(d==="hollow"||d==="both")&&(l.lineWidth=b/(A?ee:1),l.lineJoin="miter",A?l.stroke($):l.stroke()),A&&(l.scale(1/ee,1/ee),l.rotate(-S),l.translate(-w,-T))};var MC={};MC.safeDrawImage=function(f,l,d,m,y,b,w,T,S,C){if(!(y<=0||b<=0||S<=0||C<=0))try{f.drawImage(l,d,m,y,b,w,T,S,C)}catch(A){An(A)}},MC.drawInscribedImage=function(f,l,d,m,y){var b=this,w=d.position(),T=w.x,S=w.y,C=d.cy().style(),A=C.getIndexedStyle.bind(C),R=A(d,"background-fit","value",m),$=A(d,"background-repeat","value",m),U=d.width(),q=d.height(),ne=d.padding()*2,ee=U+(A(d,"background-width-relative-to","value",m)==="inner"?0:ne),K=q+(A(d,"background-height-relative-to","value",m)==="inner"?0:ne),se=d._private.rscratch,oe=A(d,"background-clip","value",m),fe=oe==="node",be=A(d,"background-image-opacity","value",m)*y,ye=A(d,"background-image-smoothing","value",m),de=l.width||l.cachedW,ke=l.height||l.cachedH;(de==null||ke==null)&&(document.body.appendChild(l),de=l.cachedW=l.width||l.offsetWidth,ke=l.cachedH=l.height||l.offsetHeight,document.body.removeChild(l));var me=de,Ce=ke;if(A(d,"background-width","value",m)!=="auto"&&(A(d,"background-width","units",m)==="%"?me=A(d,"background-width","pfValue",m)*ee:me=A(d,"background-width","pfValue",m)),A(d,"background-height","value",m)!=="auto"&&(A(d,"background-height","units",m)==="%"?Ce=A(d,"background-height","pfValue",m)*K:Ce=A(d,"background-height","pfValue",m)),!(me===0||Ce===0)){if(R==="contain"){var Se=Math.min(ee/me,K/Ce);me*=Se,Ce*=Se}else if(R==="cover"){var Se=Math.max(ee/me,K/Ce);me*=Se,Ce*=Se}var xe=T-ee/2,Ve=A(d,"background-position-x","units",m),Te=A(d,"background-position-x","pfValue",m);Ve==="%"?xe+=(ee-me)*Te:xe+=Te;var tt=A(d,"background-offset-x","units",m),We=A(d,"background-offset-x","pfValue",m);tt==="%"?xe+=(ee-me)*We:xe+=We;var qe=S-K/2,nt=A(d,"background-position-y","units",m),dt=A(d,"background-position-y","pfValue",m);nt==="%"?qe+=(K-Ce)*dt:qe+=dt;var wt=A(d,"background-offset-y","units",m),it=A(d,"background-offset-y","pfValue",m);wt==="%"?qe+=(K-Ce)*it:qe+=it,se.pathCache&&(xe-=T,qe-=S,T=0,S=0);var xt=f.globalAlpha;f.globalAlpha=be;var Et=b.getImgSmoothing(f),Dt=!1;if(ye==="no"&&Et?(b.setImgSmoothing(f,!1),Dt=!0):ye==="yes"&&!Et&&(b.setImgSmoothing(f,!0),Dt=!0),$==="no-repeat")fe&&(f.save(),se.pathCache?f.clip(se.pathCache):(b.nodeShapes[b.getNodeShape(d)].draw(f,T,S,ee,K),f.clip())),b.safeDrawImage(f,l,0,0,de,ke,xe,qe,me,Ce),fe&&f.restore();else{var St=f.createPattern(l,$);f.fillStyle=St,b.nodeShapes[b.getNodeShape(d)].draw(f,T,S,ee,K),f.translate(xe,qe),f.fill(),f.translate(-xe,-qe)}f.globalAlpha=xt,Dt&&b.setImgSmoothing(f,Et)}};var p0={};p0.eleTextBiggerThanMin=function(f,l){if(!l){var d=f.cy().zoom(),m=this.getPixelRatio(),y=Math.ceil(eC(d*m));l=Math.pow(2,y)}var b=f.pstyle("font-size").pfValue*l,w=f.pstyle("min-zoomed-font-size").pfValue;return!(b<w)},p0.drawElementText=function(f,l,d,m,y){var b=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,w=this;if(m==null){if(b&&!w.eleTextBiggerThanMin(l))return}else if(m===!1)return;if(l.isNode()){var T=l.pstyle("label");if(!T||!T.value)return;var S=w.getLabelJustification(l);f.textAlign=S,f.textBaseline="bottom"}else{var C=l.element()._private.rscratch.badLine,A=l.pstyle("label"),R=l.pstyle("source-label"),$=l.pstyle("target-label");if(C||(!A||!A.value)&&(!R||!R.value)&&(!$||!$.value))return;f.textAlign="center",f.textBaseline="bottom"}var U=!d,q;d&&(q=d,f.translate(-q.x1,-q.y1)),y==null?(w.drawText(f,l,null,U,b),l.isEdge()&&(w.drawText(f,l,"source",U,b),w.drawText(f,l,"target",U,b))):w.drawText(f,l,y,U,b),d&&f.translate(q.x1,q.y1)},p0.getFontCache=function(f){var l;this.fontCaches=this.fontCaches||[];for(var d=0;d<this.fontCaches.length;d++)if(l=this.fontCaches[d],l.context===f)return l;return l={context:f},this.fontCaches.push(l),l},p0.setupTextStyle=function(f,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=l.pstyle("font-style").strValue,y=l.pstyle("font-size").pfValue+"px",b=l.pstyle("font-family").strValue,w=l.pstyle("font-weight").strValue,T=d?l.effectiveOpacity()*l.pstyle("text-opacity").value:1,S=l.pstyle("text-outline-opacity").value*T,C=l.pstyle("color").value,A=l.pstyle("text-outline-color").value;f.font=m+" "+w+" "+y+" "+b,f.lineJoin="round",this.colorFillStyle(f,C[0],C[1],C[2],T),this.colorStrokeStyle(f,A[0],A[1],A[2],S)};function NC(f,l,d,m,y){var b=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,w=arguments.length>6?arguments[6]:void 0;f.beginPath(),f.moveTo(l+b,d),f.lineTo(l+m-b,d),f.quadraticCurveTo(l+m,d,l+m,d+b),f.lineTo(l+m,d+y-b),f.quadraticCurveTo(l+m,d+y,l+m-b,d+y),f.lineTo(l+b,d+y),f.quadraticCurveTo(l,d+y,l,d+y-b),f.lineTo(l,d+b),f.quadraticCurveTo(l,d,l+b,d),f.closePath(),w?f.stroke():f.fill()}a(NC,"roundRect"),p0.getTextAngle=function(f,l){var d,m=f._private,y=m.rscratch,b=l?l+"-":"",w=f.pstyle(b+"text-rotation"),T=Fo(y,"labelAngle",l);return w.strValue==="autorotate"?d=f.isEdge()?T:0:w.strValue==="none"?d=0:d=w.pfValue,d},p0.drawText=function(f,l,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,b=l._private,w=b.rscratch,T=y?l.effectiveOpacity():1;if(!(y&&(T===0||l.pstyle("text-opacity").value===0))){d==="main"&&(d=null);var S=Fo(w,"labelX",d),C=Fo(w,"labelY",d),A,R,$=this.getLabelText(l,d);if($!=null&&$!==""&&!isNaN(S)&&!isNaN(C)){this.setupTextStyle(f,l,y);var U=d?d+"-":"",q=Fo(w,"labelWidth",d),ne=Fo(w,"labelHeight",d),ee=l.pstyle(U+"text-margin-x").pfValue,K=l.pstyle(U+"text-margin-y").pfValue,se=l.isEdge(),oe=l.pstyle("text-halign").value,fe=l.pstyle("text-valign").value;se&&(oe="center",fe="center"),S+=ee,C+=K;var be;switch(m?be=this.getTextAngle(l,d):be=0,be!==0&&(A=S,R=C,f.translate(A,R),f.rotate(be),S=0,C=0),fe){case"top":break;case"center":C+=ne/2;break;case"bottom":C+=ne;break}var ye=l.pstyle("text-background-opacity").value,de=l.pstyle("text-border-opacity").value,ke=l.pstyle("text-border-width").pfValue,me=l.pstyle("text-background-padding").pfValue,Ce=l.pstyle("text-background-shape").strValue,Se=Ce.indexOf("round")===0,xe=2;if(ye>0||ke>0&&de>0){var Ve=S-me;switch(oe){case"left":Ve-=q;break;case"center":Ve-=q/2;break}var Te=C-ne-me,tt=q+2*me,We=ne+2*me;if(ye>0){var qe=f.fillStyle,nt=l.pstyle("text-background-color").value;f.fillStyle="rgba("+nt[0]+","+nt[1]+","+nt[2]+","+ye*T+")",Se?NC(f,Ve,Te,tt,We,xe):f.fillRect(Ve,Te,tt,We),f.fillStyle=qe}if(ke>0&&de>0){var dt=f.strokeStyle,wt=f.lineWidth,it=l.pstyle("text-border-color").value,xt=l.pstyle("text-border-style").value;if(f.strokeStyle="rgba("+it[0]+","+it[1]+","+it[2]+","+de*T+")",f.lineWidth=ke,f.setLineDash)switch(xt){case"dotted":f.setLineDash([1,1]);break;case"dashed":f.setLineDash([4,2]);break;case"double":f.lineWidth=ke/4,f.setLineDash([]);break;case"solid":f.setLineDash([]);break}if(Se?NC(f,Ve,Te,tt,We,xe,"stroke"):f.strokeRect(Ve,Te,tt,We),xt==="double"){var Et=ke/2;Se?NC(f,Ve+Et,Te+Et,tt-Et*2,We-Et*2,xe,"stroke"):f.strokeRect(Ve+Et,Te+Et,tt-Et*2,We-Et*2)}f.setLineDash&&f.setLineDash([]),f.lineWidth=wt,f.strokeStyle=dt}}var Dt=2*l.pstyle("text-outline-width").pfValue;if(Dt>0&&(f.lineWidth=Dt),l.pstyle("text-wrap").value==="wrap"){var St=Fo(w,"labelWrapCachedLines",d),Rt=Fo(w,"labelLineHeight",d),ht=q/2,_t=this.getLabelJustification(l);switch(_t==="auto"||(oe==="left"?_t==="left"?S+=-q:_t==="center"&&(S+=-ht):oe==="center"?_t==="left"?S+=-ht:_t==="right"&&(S+=ht):oe==="right"&&(_t==="center"?S+=ht:_t==="right"&&(S+=q))),fe){case"top":C-=(St.length-1)*Rt;break;case"center":case"bottom":C-=(St.length-1)*Rt;break}for(var Ot=0;Ot<St.length;Ot++)Dt>0&&f.strokeText(St[Ot],S,C),f.fillText(St[Ot],S,C),C+=Rt}else Dt>0&&f.strokeText($,S,C),f.fillText($,S,C);be!==0&&(f.rotate(-be),f.translate(-A,-R))}}};var Pm={};Pm.drawNode=function(f,l,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,b=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,w=this,T,S,C=l._private,A=C.rscratch,R=l.position();if(!(!z(R.x)||!z(R.y))&&!(b&&!l.visible())){var $=b?l.effectiveOpacity():1,U=w.usePaths(),q,ne=!1,ee=l.padding();T=l.width()+2*ee,S=l.height()+2*ee;var K;d&&(K=d,f.translate(-K.x1,-K.y1));for(var se=l.pstyle("background-image"),oe=se.value,fe=new Array(oe.length),be=new Array(oe.length),ye=0,de=0;de<oe.length;de++){var ke=oe[de],me=fe[de]=ke!=null&&ke!=="none";if(me){var Ce=l.cy().style().getIndexedStyle(l,"background-image-crossorigin","value",de);ye++,be[de]=w.getCachedImage(ke,Ce,function(){C.backgroundTimestamp=Date.now(),l.emitAndNotify("background")})}}var Se=l.pstyle("background-blacken").value,xe=l.pstyle("border-width").pfValue,Ve=l.pstyle("background-opacity").value*$,Te=l.pstyle("border-color").value,tt=l.pstyle("border-style").value,We=l.pstyle("border-opacity").value*$,qe=l.pstyle("outline-width").pfValue,nt=l.pstyle("outline-color").value,dt=l.pstyle("outline-style").value,wt=l.pstyle("outline-opacity").value*$,it=l.pstyle("outline-offset").value;f.lineJoin="miter";var xt=a(function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ve;w.eleFillStyle(f,l,pt)},"setupShapeColor"),Et=a(function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:We;w.colorStrokeStyle(f,Te[0],Te[1],Te[2],pt)},"setupBorderColor"),Dt=a(function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wt;w.colorStrokeStyle(f,nt[0],nt[1],nt[2],pt)},"setupOutlineColor"),St=a(function(pt,ve,ft,At){var vt=w.nodePathCache=w.nodePathCache||[],bt=Ry(ft==="polygon"?ft+","+At.join(","):ft,""+ve,""+pt),_r=vt[bt],Tt,yr=!1;return _r!=null?(Tt=_r,yr=!0,A.pathCache=Tt):(Tt=new Path2D,vt[bt]=A.pathCache=Tt),{path:Tt,cacheHit:yr}},"getPath"),Rt=l.pstyle("shape").strValue,ht=l.pstyle("shape-polygon-points").pfValue;if(U){f.translate(R.x,R.y);var _t=St(T,S,Rt,ht);q=_t.path,ne=_t.cacheHit}var Ot=a(function(){if(!ne){var pt=R;U&&(pt={x:0,y:0}),w.nodeShapes[w.getNodeShape(l)].draw(q||f,pt.x,pt.y,T,S)}U?f.fill(q):f.fill()},"drawShape"),Mt=a(function(){for(var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$,ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ft=C.backgrounding,At=0,vt=0;vt<be.length;vt++){var bt=l.cy().style().getIndexedStyle(l,"background-image-containment","value",vt);if(ve&&bt==="over"||!ve&&bt==="inside"){At++;continue}fe[vt]&&be[vt].complete&&!be[vt].error&&(At++,w.drawInscribedImage(f,be[vt],l,vt,pt))}C.backgrounding=At!==ye,ft!==C.backgrounding&&l.updateStyle(!1)},"drawImages"),Wt=a(function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$;w.hasPie(l)&&(w.drawPie(f,l,ve),pt&&(U||w.nodeShapes[w.getNodeShape(l)].draw(f,R.x,R.y,T,S)))},"drawPie"),mr=a(function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$,ve=(Se>0?Se:-Se)*pt,ft=Se>0?0:255;Se!==0&&(w.colorFillStyle(f,ft,ft,ft,ve),U?f.fill(q):f.fill())},"darken"),Ur=a(function(){if(xe>0){if(f.lineWidth=xe,f.lineCap="butt",f.setLineDash)switch(tt){case"dotted":f.setLineDash([1,1]);break;case"dashed":f.setLineDash([4,2]);break;case"solid":case"double":f.setLineDash([]);break}if(U?f.stroke(q):f.stroke(),tt==="double"){f.lineWidth=xe/3;var pt=f.globalCompositeOperation;f.globalCompositeOperation="destination-out",U?f.stroke(q):f.stroke(),f.globalCompositeOperation=pt}f.setLineDash&&f.setLineDash([])}},"drawBorder"),Qt=a(function(){if(qe>0){if(f.lineWidth=qe,f.lineCap="butt",f.setLineDash)switch(dt){case"dotted":f.setLineDash([1,1]);break;case"dashed":f.setLineDash([4,2]);break;case"solid":case"double":f.setLineDash([]);break}var pt=R;U&&(pt={x:0,y:0});var ve=w.getNodeShape(l),ft=(T+xe+(qe+it))/T,At=(S+xe+(qe+it))/S,vt=T*ft,bt=S*At,_r=w.nodeShapes[ve].points,Tt;if(U){var yr=St(vt,bt,ve,_r);Tt=yr.path}if(ve==="ellipse")w.drawEllipsePath(Tt||f,pt.x,pt.y,vt,bt);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ve)){var un=0,Wn=0,Qr=0;ve==="round-diamond"?un=(xe+it+qe)*1.4:ve==="round-heptagon"?(un=(xe+it+qe)*1.075,Qr=-(xe/2+it+qe)/35):ve==="round-hexagon"?un=(xe+it+qe)*1.12:ve==="round-pentagon"?(un=(xe+it+qe)*1.13,Qr=-(xe/2+it+qe)/15):ve==="round-tag"?(un=(xe+it+qe)*1.12,Wn=(xe/2+qe+it)*.07):ve==="round-triangle"&&(un=(xe+it+qe)*(Math.PI/2),Qr=-(xe+it/2+qe)/Math.PI),un!==0&&(ft=(T+un)/T,At=(S+un)/S),w.drawRoundPolygonPath(Tt||f,pt.x+Wn,pt.y+Qr,T*ft,S*At,_r)}else if(["roundrectangle","round-rectangle"].includes(ve))w.drawRoundRectanglePath(Tt||f,pt.x,pt.y,vt,bt);else if(["cutrectangle","cut-rectangle"].includes(ve))w.drawCutRectanglePath(Tt||f,pt.x,pt.y,vt,bt);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ve))w.drawBottomRoundRectanglePath(Tt||f,pt.x,pt.y,vt,bt);else if(ve==="barrel")w.drawBarrelPath(Tt||f,pt.x,pt.y,vt,bt);else if(ve.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ve)){var $n=(xe+qe+it)/T;_r=k4(w4(_r,$n)),w.drawPolygonPath(Tt||f,pt.x,pt.y,T,S,_r)}else{var Zr=(xe+qe+it)/T;_r=k4(w4(_r,-Zr)),w.drawPolygonPath(Tt||f,pt.x,pt.y,T,S,_r)}if(U?f.stroke(Tt):f.stroke(),dt==="double"){f.lineWidth=xe/3;var cn=f.globalCompositeOperation;f.globalCompositeOperation="destination-out",U?f.stroke(Tt):f.stroke(),f.globalCompositeOperation=cn}f.setLineDash&&f.setLineDash([])}},"drawOutline"),Zt=a(function(){y&&w.drawNodeOverlay(f,l,R,T,S)},"drawOverlay"),Tr=a(function(){y&&w.drawNodeUnderlay(f,l,R,T,S)},"drawUnderlay"),kr=a(function(){w.drawElementText(f,l,null,m)},"drawText"),pr=l.pstyle("ghost").value==="yes";if(pr){var Sr=l.pstyle("ghost-offset-x").pfValue,Rn=l.pstyle("ghost-offset-y").pfValue,yn=l.pstyle("ghost-opacity").value,Xr=yn*$;f.translate(Sr,Rn),Dt(),Qt(),xt(yn*Ve),Ot(),Mt(Xr,!0),Et(yn*We),Ur(),Wt(Se!==0||xe!==0),Mt(Xr,!1),mr(Xr),f.translate(-Sr,-Rn)}U&&f.translate(-R.x,-R.y),Tr(),U&&f.translate(R.x,R.y),Dt(),Qt(),xt(),Ot(),Mt($,!0),Et(),Ur(),Wt(Se!==0||xe!==0),Mt($,!1),mr(),U&&f.translate(-R.x,-R.y),kr(),Zt(),d&&f.translate(K.x1,K.y1)}};var o$=a(function(l){if(!["overlay","underlay"].includes(l))throw new Error("Invalid state");return function(d,m,y,b,w){var T=this;if(m.visible()){var S=m.pstyle("".concat(l,"-padding")).pfValue,C=m.pstyle("".concat(l,"-opacity")).value,A=m.pstyle("".concat(l,"-color")).value,R=m.pstyle("".concat(l,"-shape")).value;if(C>0){if(y=y||m.position(),b==null||w==null){var $=m.padding();b=m.width()+2*$,w=m.height()+2*$}T.colorFillStyle(d,A[0],A[1],A[2],C),T.nodeShapes[R].draw(d,y.x,y.y,b+S*2,w+S*2),d.fill()}}}},"drawNodeOverlayUnderlay");Pm.drawNodeOverlay=o$("overlay"),Pm.drawNodeUnderlay=o$("underlay"),Pm.hasPie=function(f){return f=f[0],f._private.hasPie},Pm.drawPie=function(f,l,d,m){l=l[0],m=m||l.position();var y=l.cy().style(),b=l.pstyle("pie-size"),w=m.x,T=m.y,S=l.width(),C=l.height(),A=Math.min(S,C)/2,R=0,$=this.usePaths();$&&(w=0,T=0),b.units==="%"?A=A*b.pfValue:b.pfValue!==void 0&&(A=b.pfValue/2);for(var U=1;U<=y.pieBackgroundN;U++){var q=l.pstyle("pie-"+U+"-background-size").value,ne=l.pstyle("pie-"+U+"-background-color").value,ee=l.pstyle("pie-"+U+"-background-opacity").value*d,K=q/100;K+R>1&&(K=1-R);var se=1.5*Math.PI+2*Math.PI*R,oe=2*Math.PI*K,fe=se+oe;q===0||R>=1||R+K>1||(f.beginPath(),f.moveTo(w,T),f.arc(w,T,A,se,fe),f.closePath(),this.colorFillStyle(f,ne[0],ne[1],ne[2],ee),f.fill(),R+=K)}};var bl={},Z3e=100;bl.getPixelRatio=function(){var f=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var l=f.backingStorePixelRatio||f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/l},bl.paintCache=function(f){for(var l=this.paintCaches=this.paintCaches||[],d=!0,m,y=0;y<l.length;y++)if(m=l[y],m.context===f){d=!1;break}return d&&(m={context:f},l.push(m)),m},bl.createGradientStyleFor=function(f,l,d,m,y){var b,w=this.usePaths(),T=d.pstyle(l+"-gradient-stop-colors").value,S=d.pstyle(l+"-gradient-stop-positions").pfValue;if(m==="radial-gradient")if(d.isEdge()){var C=d.sourceEndpoint(),A=d.targetEndpoint(),R=d.midpoint(),$=o0(C,R),U=o0(A,R);b=f.createRadialGradient(R.x,R.y,0,R.x,R.y,Math.max($,U))}else{var q=w?{x:0,y:0}:d.position(),ne=d.paddedWidth(),ee=d.paddedHeight();b=f.createRadialGradient(q.x,q.y,0,q.x,q.y,Math.max(ne,ee))}else if(d.isEdge()){var K=d.sourceEndpoint(),se=d.targetEndpoint();b=f.createLinearGradient(K.x,K.y,se.x,se.y)}else{var oe=w?{x:0,y:0}:d.position(),fe=d.paddedWidth(),be=d.paddedHeight(),ye=fe/2,de=be/2,ke=d.pstyle("background-gradient-direction").value;switch(ke){case"to-bottom":b=f.createLinearGradient(oe.x,oe.y-de,oe.x,oe.y+de);break;case"to-top":b=f.createLinearGradient(oe.x,oe.y+de,oe.x,oe.y-de);break;case"to-left":b=f.createLinearGradient(oe.x+ye,oe.y,oe.x-ye,oe.y);break;case"to-right":b=f.createLinearGradient(oe.x-ye,oe.y,oe.x+ye,oe.y);break;case"to-bottom-right":case"to-right-bottom":b=f.createLinearGradient(oe.x-ye,oe.y-de,oe.x+ye,oe.y+de);break;case"to-top-right":case"to-right-top":b=f.createLinearGradient(oe.x-ye,oe.y+de,oe.x+ye,oe.y-de);break;case"to-bottom-left":case"to-left-bottom":b=f.createLinearGradient(oe.x+ye,oe.y-de,oe.x-ye,oe.y+de);break;case"to-top-left":case"to-left-top":b=f.createLinearGradient(oe.x+ye,oe.y+de,oe.x-ye,oe.y-de);break}}if(!b)return null;for(var me=S.length===T.length,Ce=T.length,Se=0;Se<Ce;Se++)b.addColorStop(me?S[Se]:Se/(Ce-1),"rgba("+T[Se][0]+","+T[Se][1]+","+T[Se][2]+","+y+")");return b},bl.gradientFillStyle=function(f,l,d,m){var y=this.createGradientStyleFor(f,"background",l,d,m);if(!y)return null;f.fillStyle=y},bl.colorFillStyle=function(f,l,d,m,y){f.fillStyle="rgba("+l+","+d+","+m+","+y+")"},bl.eleFillStyle=function(f,l,d){var m=l.pstyle("background-fill").value;if(m==="linear-gradient"||m==="radial-gradient")this.gradientFillStyle(f,l,m,d);else{var y=l.pstyle("background-color").value;this.colorFillStyle(f,y[0],y[1],y[2],d)}},bl.gradientStrokeStyle=function(f,l,d,m){var y=this.createGradientStyleFor(f,"line",l,d,m);if(!y)return null;f.strokeStyle=y},bl.colorStrokeStyle=function(f,l,d,m,y){f.strokeStyle="rgba("+l+","+d+","+m+","+y+")"},bl.eleStrokeStyle=function(f,l,d){var m=l.pstyle("line-fill").value;if(m==="linear-gradient"||m==="radial-gradient")this.gradientStrokeStyle(f,l,m,d);else{var y=l.pstyle("line-color").value;this.colorStrokeStyle(f,y[0],y[1],y[2],d)}},bl.matchCanvasSize=function(f){var l=this,d=l.data,m=l.findContainerClientCoords(),y=m[2],b=m[3],w=l.getPixelRatio(),T=l.motionBlurPxRatio;(f===l.data.bufferCanvases[l.MOTIONBLUR_BUFFER_NODE]||f===l.data.bufferCanvases[l.MOTIONBLUR_BUFFER_DRAG])&&(w=T);var S=y*w,C=b*w,A;if(!(S===l.canvasWidth&&C===l.canvasHeight)){l.fontCaches=null;var R=d.canvasContainer;R.style.width=y+"px",R.style.height=b+"px";for(var $=0;$<l.CANVAS_LAYERS;$++)A=d.canvases[$],A.width=S,A.height=C,A.style.width=y+"px",A.style.height=b+"px";for(var $=0;$<l.BUFFER_COUNT;$++)A=d.bufferCanvases[$],A.width=S,A.height=C,A.style.width=y+"px",A.style.height=b+"px";l.textureMult=1,w<=1&&(A=d.bufferCanvases[l.TEXTURE_BUFFER],l.textureMult=2,A.width=S*l.textureMult,A.height=C*l.textureMult),l.canvasWidth=S,l.canvasHeight=C}},bl.renderTo=function(f,l,d,m){this.render({forcedContext:f,forcedZoom:l,forcedPan:d,drawAllLayers:!0,forcedPxRatio:m})},bl.render=function(f){f=f||My();var l=f.forcedContext,d=f.drawAllLayers,m=f.drawOnlyNodeLayer,y=f.forcedZoom,b=f.forcedPan,w=this,T=f.forcedPxRatio===void 0?this.getPixelRatio():f.forcedPxRatio,S=w.cy,C=w.data,A=C.canvasNeedsRedraw,R=w.textureOnViewport&&!l&&(w.pinching||w.hoverData.dragging||w.swipePanning||w.data.wheelZooming),$=f.motionBlur!==void 0?f.motionBlur:w.motionBlur,U=w.motionBlurPxRatio,q=S.hasCompoundNodes(),ne=w.hoverData.draggingEles,ee=!!(w.hoverData.selecting||w.touchData.selecting);$=$&&!l&&w.motionBlurEnabled&&!ee;var K=$;l||(w.prevPxRatio!==T&&(w.invalidateContainerClientCoordsCache(),w.matchCanvasSize(w.container),w.redrawHint("eles",!0),w.redrawHint("drag",!0)),w.prevPxRatio=T),!l&&w.motionBlurTimeout&&clearTimeout(w.motionBlurTimeout),$&&(w.mbFrames==null&&(w.mbFrames=0),w.mbFrames++,w.mbFrames<3&&(K=!1),w.mbFrames>w.minMbLowQualFrames&&(w.motionBlurPxRatio=w.mbPxRBlurry)),w.clearingMotionBlur&&(w.motionBlurPxRatio=1),w.textureDrawLastFrame&&!R&&(A[w.NODE]=!0,A[w.SELECT_BOX]=!0);var se=S.style(),oe=S.zoom(),fe=y!==void 0?y:oe,be=S.pan(),ye={x:be.x,y:be.y},de={zoom:oe,pan:{x:be.x,y:be.y}},ke=w.prevViewport,me=ke===void 0||de.zoom!==ke.zoom||de.pan.x!==ke.pan.x||de.pan.y!==ke.pan.y;!me&&!(ne&&!q)&&(w.motionBlurPxRatio=1),b&&(ye=b),fe*=T,ye.x*=T,ye.y*=T;var Ce=w.getCachedZSortedEles();function Se(Qt,Zt,Tr,kr,pr){var Sr=Qt.globalCompositeOperation;Qt.globalCompositeOperation="destination-out",w.colorFillStyle(Qt,255,255,255,w.motionBlurTransparency),Qt.fillRect(Zt,Tr,kr,pr),Qt.globalCompositeOperation=Sr}a(Se,"mbclear");function xe(Qt,Zt){var Tr,kr,pr,Sr;!w.clearingMotionBlur&&(Qt===C.bufferContexts[w.MOTIONBLUR_BUFFER_NODE]||Qt===C.bufferContexts[w.MOTIONBLUR_BUFFER_DRAG])?(Tr={x:be.x*U,y:be.y*U},kr=oe*U,pr=w.canvasWidth*U,Sr=w.canvasHeight*U):(Tr=ye,kr=fe,pr=w.canvasWidth,Sr=w.canvasHeight),Qt.setTransform(1,0,0,1,0,0),Zt==="motionBlur"?Se(Qt,0,0,pr,Sr):!l&&(Zt===void 0||Zt)&&Qt.clearRect(0,0,pr,Sr),d||(Qt.translate(Tr.x,Tr.y),Qt.scale(kr,kr)),b&&Qt.translate(b.x,b.y),y&&Qt.scale(y,y)}if(a(xe,"setContextTransform"),R||(w.textureDrawLastFrame=!1),R){if(w.textureDrawLastFrame=!0,!w.textureCache){w.textureCache={},w.textureCache.bb=S.mutableElements().boundingBox(),w.textureCache.texture=w.data.bufferCanvases[w.TEXTURE_BUFFER];var Ve=w.data.bufferContexts[w.TEXTURE_BUFFER];Ve.setTransform(1,0,0,1,0,0),Ve.clearRect(0,0,w.canvasWidth*w.textureMult,w.canvasHeight*w.textureMult),w.render({forcedContext:Ve,drawOnlyNodeLayer:!0,forcedPxRatio:T*w.textureMult});var de=w.textureCache.viewport={zoom:S.zoom(),pan:S.pan(),width:w.canvasWidth,height:w.canvasHeight};de.mpan={x:(0-de.pan.x)/de.zoom,y:(0-de.pan.y)/de.zoom}}A[w.DRAG]=!1,A[w.NODE]=!1;var Te=C.contexts[w.NODE],tt=w.textureCache.texture,de=w.textureCache.viewport;Te.setTransform(1,0,0,1,0,0),$?Se(Te,0,0,de.width,de.height):Te.clearRect(0,0,de.width,de.height);var We=se.core("outside-texture-bg-color").value,qe=se.core("outside-texture-bg-opacity").value;w.colorFillStyle(Te,We[0],We[1],We[2],qe),Te.fillRect(0,0,de.width,de.height);var oe=S.zoom();xe(Te,!1),Te.clearRect(de.mpan.x,de.mpan.y,de.width/de.zoom/T,de.height/de.zoom/T),Te.drawImage(tt,de.mpan.x,de.mpan.y,de.width/de.zoom/T,de.height/de.zoom/T)}else w.textureOnViewport&&!l&&(w.textureCache=null);var nt=S.extent(),dt=w.pinching||w.hoverData.dragging||w.swipePanning||w.data.wheelZooming||w.hoverData.draggingEles||w.cy.animated(),wt=w.hideEdgesOnViewport&&dt,it=[];if(it[w.NODE]=!A[w.NODE]&&$&&!w.clearedForMotionBlur[w.NODE]||w.clearingMotionBlur,it[w.NODE]&&(w.clearedForMotionBlur[w.NODE]=!0),it[w.DRAG]=!A[w.DRAG]&&$&&!w.clearedForMotionBlur[w.DRAG]||w.clearingMotionBlur,it[w.DRAG]&&(w.clearedForMotionBlur[w.DRAG]=!0),A[w.NODE]||d||m||it[w.NODE]){var xt=$&&!it[w.NODE]&&U!==1,Te=l||(xt?w.data.bufferContexts[w.MOTIONBLUR_BUFFER_NODE]:C.contexts[w.NODE]),Et=$&&!xt?"motionBlur":void 0;xe(Te,Et),wt?w.drawCachedNodes(Te,Ce.nondrag,T,nt):w.drawLayeredElements(Te,Ce.nondrag,T,nt),w.debug&&w.drawDebugPoints(Te,Ce.nondrag),!d&&!$&&(A[w.NODE]=!1)}if(!m&&(A[w.DRAG]||d||it[w.DRAG])){var xt=$&&!it[w.DRAG]&&U!==1,Te=l||(xt?w.data.bufferContexts[w.MOTIONBLUR_BUFFER_DRAG]:C.contexts[w.DRAG]);xe(Te,$&&!xt?"motionBlur":void 0),wt?w.drawCachedNodes(Te,Ce.drag,T,nt):w.drawCachedElements(Te,Ce.drag,T,nt),w.debug&&w.drawDebugPoints(Te,Ce.drag),!d&&!$&&(A[w.DRAG]=!1)}if(w.showFps||!m&&A[w.SELECT_BOX]&&!d){var Te=l||C.contexts[w.SELECT_BOX];if(xe(Te),w.selection[4]==1&&(w.hoverData.selecting||w.touchData.selecting)){var oe=w.cy.zoom(),Dt=se.core("selection-box-border-width").value/oe;Te.lineWidth=Dt,Te.fillStyle="rgba("+se.core("selection-box-color").value[0]+","+se.core("selection-box-color").value[1]+","+se.core("selection-box-color").value[2]+","+se.core("selection-box-opacity").value+")",Te.fillRect(w.selection[0],w.selection[1],w.selection[2]-w.selection[0],w.selection[3]-w.selection[1]),Dt>0&&(Te.strokeStyle="rgba("+se.core("selection-box-border-color").value[0]+","+se.core("selection-box-border-color").value[1]+","+se.core("selection-box-border-color").value[2]+","+se.core("selection-box-opacity").value+")",Te.strokeRect(w.selection[0],w.selection[1],w.selection[2]-w.selection[0],w.selection[3]-w.selection[1]))}if(C.bgActivePosistion&&!w.hoverData.selecting){var oe=w.cy.zoom(),St=C.bgActivePosistion;Te.fillStyle="rgba("+se.core("active-bg-color").value[0]+","+se.core("active-bg-color").value[1]+","+se.core("active-bg-color").value[2]+","+se.core("active-bg-opacity").value+")",Te.beginPath(),Te.arc(St.x,St.y,se.core("active-bg-size").pfValue/oe,0,2*Math.PI),Te.fill()}var Rt=w.lastRedrawTime;if(w.showFps&&Rt){Rt=Math.round(Rt);var ht=Math.round(1e3/Rt);Te.setTransform(1,0,0,1,0,0),Te.fillStyle="rgba(255, 0, 0, 0.75)",Te.strokeStyle="rgba(255, 0, 0, 0.75)",Te.lineWidth=1,Te.fillText("1 frame = "+Rt+" ms = "+ht+" fps",0,20);var _t=60;Te.strokeRect(0,30,250,20),Te.fillRect(0,30,250*Math.min(ht/_t,1),20)}d||(A[w.SELECT_BOX]=!1)}if($&&U!==1){var Ot=C.contexts[w.NODE],Mt=w.data.bufferCanvases[w.MOTIONBLUR_BUFFER_NODE],Wt=C.contexts[w.DRAG],mr=w.data.bufferCanvases[w.MOTIONBLUR_BUFFER_DRAG],Ur=a(function(Zt,Tr,kr){Zt.setTransform(1,0,0,1,0,0),kr||!K?Zt.clearRect(0,0,w.canvasWidth,w.canvasHeight):Se(Zt,0,0,w.canvasWidth,w.canvasHeight);var pr=U;Zt.drawImage(Tr,0,0,w.canvasWidth*pr,w.canvasHeight*pr,0,0,w.canvasWidth,w.canvasHeight)},"drawMotionBlur");(A[w.NODE]||it[w.NODE])&&(Ur(Ot,Mt,it[w.NODE]),A[w.NODE]=!1),(A[w.DRAG]||it[w.DRAG])&&(Ur(Wt,mr,it[w.DRAG]),A[w.DRAG]=!1)}w.prevViewport=de,w.clearingMotionBlur&&(w.clearingMotionBlur=!1,w.motionBlurCleared=!0,w.motionBlur=!0),$&&(w.motionBlurTimeout=setTimeout(function(){w.motionBlurTimeout=null,w.clearedForMotionBlur[w.NODE]=!1,w.clearedForMotionBlur[w.DRAG]=!1,w.motionBlur=!1,w.clearingMotionBlur=!R,w.mbFrames=0,A[w.NODE]=!0,A[w.DRAG]=!0,w.redraw()},Z3e)),l||S.emit("render")};var Gf={};Gf.drawPolygonPath=function(f,l,d,m,y,b){var w=m/2,T=y/2;f.beginPath&&f.beginPath(),f.moveTo(l+w*b[0],d+T*b[1]);for(var S=1;S<b.length/2;S++)f.lineTo(l+w*b[S*2],d+T*b[S*2+1]);f.closePath()},Gf.drawRoundPolygonPath=function(f,l,d,m,y,b){var w=m/2,T=y/2,S=iC(m,y);f.beginPath&&f.beginPath();for(var C=0;C<b.length/4;C++){var A=void 0,R=void 0;C===0?A=b.length-2:A=C*4-2,R=C*4+2;var $=l+w*b[C*4],U=d+T*b[C*4+1],q=-b[A]*b[R]-b[A+1]*b[R+1],ne=S/Math.tan(Math.acos(q)/2),ee=$-ne*b[A],K=U-ne*b[A+1],se=$+ne*b[R],oe=U+ne*b[R+1];C===0?f.moveTo(ee,K):f.lineTo(ee,K),f.arcTo($,U,se,oe,S)}f.closePath()},Gf.drawRoundRectanglePath=function(f,l,d,m,y){var b=m/2,w=y/2,T=By(m,y);f.beginPath&&f.beginPath(),f.moveTo(l,d-w),f.arcTo(l+b,d-w,l+b,d,T),f.arcTo(l+b,d+w,l,d+w,T),f.arcTo(l-b,d+w,l-b,d,T),f.arcTo(l-b,d-w,l,d-w,T),f.lineTo(l,d-w),f.closePath()},Gf.drawBottomRoundRectanglePath=function(f,l,d,m,y){var b=m/2,w=y/2,T=By(m,y);f.beginPath&&f.beginPath(),f.moveTo(l,d-w),f.lineTo(l+b,d-w),f.lineTo(l+b,d),f.arcTo(l+b,d+w,l,d+w,T),f.arcTo(l-b,d+w,l-b,d,T),f.lineTo(l-b,d-w),f.lineTo(l,d-w),f.closePath()},Gf.drawCutRectanglePath=function(f,l,d,m,y){var b=m/2,w=y/2,T=hF();f.beginPath&&f.beginPath(),f.moveTo(l-b+T,d-w),f.lineTo(l+b-T,d-w),f.lineTo(l+b,d-w+T),f.lineTo(l+b,d+w-T),f.lineTo(l+b-T,d+w),f.lineTo(l-b+T,d+w),f.lineTo(l-b,d+w-T),f.lineTo(l-b,d-w+T),f.closePath()},Gf.drawBarrelPath=function(f,l,d,m,y){var b=m/2,w=y/2,T=l-b,S=l+b,C=d-w,A=d+w,R=aC(m,y),$=R.widthOffset,U=R.heightOffset,q=R.ctrlPtOffsetPct*$;f.beginPath&&f.beginPath(),f.moveTo(T,C+U),f.lineTo(T,A-U),f.quadraticCurveTo(T+q,A,T+$,A),f.lineTo(S-$,A),f.quadraticCurveTo(S-q,A,S,A-U),f.lineTo(S,C+U),f.quadraticCurveTo(S-q,C,S-$,C),f.lineTo(T+$,C),f.quadraticCurveTo(T+q,C,T,C+U),f.closePath()};for(var l$=Math.sin(0),u$=Math.cos(0),OC={},PC={},c$=Math.PI/40,Bm=0*Math.PI;Bm<2*Math.PI;Bm+=c$)OC[Bm]=Math.sin(Bm),PC[Bm]=Math.cos(Bm);Gf.drawEllipsePath=function(f,l,d,m,y){if(f.beginPath&&f.beginPath(),f.ellipse)f.ellipse(l,d,m/2,y/2,0,0,2*Math.PI);else for(var b,w,T=m/2,S=y/2,C=0*Math.PI;C<2*Math.PI;C+=c$)b=l-T*OC[C]*l$+T*PC[C]*u$,w=d+S*PC[C]*l$+S*OC[C]*u$,C===0?f.moveTo(b,w):f.lineTo(b,w);f.closePath()};var tv={};tv.createBuffer=function(f,l){var d=document.createElement("canvas");return d.width=f,d.height=l,[d,d.getContext("2d")]},tv.bufferCanvasImage=function(f){var l=this.cy,d=l.mutableElements(),m=d.boundingBox(),y=this.findContainerClientCoords(),b=f.full?Math.ceil(m.w):y[2],w=f.full?Math.ceil(m.h):y[3],T=z(f.maxWidth)||z(f.maxHeight),S=this.getPixelRatio(),C=1;if(f.scale!==void 0)b*=f.scale,w*=f.scale,C=f.scale;else if(T){var A=1/0,R=1/0;z(f.maxWidth)&&(A=C*f.maxWidth/b),z(f.maxHeight)&&(R=C*f.maxHeight/w),C=Math.min(A,R),b*=C,w*=C}T||(b*=S,w*=S,C*=S);var $=document.createElement("canvas");$.width=b,$.height=w,$.style.width=b+"px",$.style.height=w+"px";var U=$.getContext("2d");if(b>0&&w>0){U.clearRect(0,0,b,w),U.globalCompositeOperation="source-over";var q=this.getCachedZSortedEles();if(f.full)U.translate(-m.x1*C,-m.y1*C),U.scale(C,C),this.drawElements(U,q),U.scale(1/C,1/C),U.translate(m.x1*C,m.y1*C);else{var ne=l.pan(),ee={x:ne.x*C,y:ne.y*C};C*=l.zoom(),U.translate(ee.x,ee.y),U.scale(C,C),this.drawElements(U,q),U.scale(1/C,1/C),U.translate(-ee.x,-ee.y)}f.bg&&(U.globalCompositeOperation="destination-over",U.fillStyle=f.bg,U.rect(0,0,b,w),U.fill())}return $};function J3e(f,l){for(var d=atob(f),m=new ArrayBuffer(d.length),y=new Uint8Array(m),b=0;b<d.length;b++)y[b]=d.charCodeAt(b);return new Blob([m],{type:l})}a(J3e,"b64ToBlob");function h$(f){var l=f.indexOf(",");return f.substr(l+1)}a(h$,"b64UriToB64");function f$(f,l,d){var m=a(function(){return l.toDataURL(d,f.quality)},"getB64Uri");switch(f.output){case"blob-promise":return new km(function(y,b){try{l.toBlob(function(w){w!=null?y(w):b(new Error("`canvas.toBlob()` sent a null value in its callback"))},d,f.quality)}catch(w){b(w)}});case"blob":return J3e(h$(m()),d);case"base64":return h$(m());case"base64uri":default:return m()}}a(f$,"output"),tv.png=function(f){return f$(f,this.bufferCanvasImage(f),"image/png")},tv.jpg=function(f){return f$(f,this.bufferCanvasImage(f),"image/jpeg")};var d$={};d$.nodeShapeImpl=function(f,l,d,m,y,b,w){switch(f){case"ellipse":return this.drawEllipsePath(l,d,m,y,b);case"polygon":return this.drawPolygonPath(l,d,m,y,b,w);case"round-polygon":return this.drawRoundPolygonPath(l,d,m,y,b,w);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(l,d,m,y,b);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(l,d,m,y,b);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(l,d,m,y,b);case"barrel":return this.drawBarrelPath(l,d,m,y,b)}};var e5e=p$,Hn=p$.prototype;Hn.CANVAS_LAYERS=3,Hn.SELECT_BOX=0,Hn.DRAG=1,Hn.NODE=2,Hn.BUFFER_COUNT=3,Hn.TEXTURE_BUFFER=0,Hn.MOTIONBLUR_BUFFER_NODE=1,Hn.MOTIONBLUR_BUFFER_DRAG=2;function p$(f){var l=this;l.data={canvases:new Array(Hn.CANVAS_LAYERS),contexts:new Array(Hn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Hn.CANVAS_LAYERS),bufferCanvases:new Array(Hn.BUFFER_COUNT),bufferContexts:new Array(Hn.CANVAS_LAYERS)};var d="-webkit-tap-highlight-color",m="rgba(0,0,0,0)";l.data.canvasContainer=document.createElement("div");var y=l.data.canvasContainer.style;l.data.canvasContainer.style[d]=m,y.position="relative",y.zIndex="0",y.overflow="hidden";var b=f.cy.container();b.appendChild(l.data.canvasContainer),b.style[d]=m;var w={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Y()&&(w["-ms-touch-action"]="none",w["touch-action"]="none");for(var T=0;T<Hn.CANVAS_LAYERS;T++){var S=l.data.canvases[T]=document.createElement("canvas");l.data.contexts[T]=S.getContext("2d"),Object.keys(w).forEach(function(Rt){S.style[Rt]=w[Rt]}),S.style.position="absolute",S.setAttribute("data-id","layer"+T),S.style.zIndex=String(Hn.CANVAS_LAYERS-T),l.data.canvasContainer.appendChild(S),l.data.canvasNeedsRedraw[T]=!1}l.data.topCanvas=l.data.canvases[0],l.data.canvases[Hn.NODE].setAttribute("data-id","layer"+Hn.NODE+"-node"),l.data.canvases[Hn.SELECT_BOX].setAttribute("data-id","layer"+Hn.SELECT_BOX+"-selectbox"),l.data.canvases[Hn.DRAG].setAttribute("data-id","layer"+Hn.DRAG+"-drag");for(var T=0;T<Hn.BUFFER_COUNT;T++)l.data.bufferCanvases[T]=document.createElement("canvas"),l.data.bufferContexts[T]=l.data.bufferCanvases[T].getContext("2d"),l.data.bufferCanvases[T].style.position="absolute",l.data.bufferCanvases[T].setAttribute("data-id","buffer"+T),l.data.bufferCanvases[T].style.zIndex=String(-T-1),l.data.bufferCanvases[T].style.visibility="hidden";l.pathsEnabled=!0;var C=zo(),A=a(function(ht){return{x:(ht.x1+ht.x2)/2,y:(ht.y1+ht.y2)/2}},"getBoxCenter"),R=a(function(ht){return{x:-ht.w/2,y:-ht.h/2}},"getCenterOffset"),$=a(function(ht){var _t=ht[0]._private,Ot=_t.oldBackgroundTimestamp===_t.backgroundTimestamp;return!Ot},"backgroundTimestampHasChanged"),U=a(function(ht){return ht[0]._private.nodeKey},"getStyleKey"),q=a(function(ht){return ht[0]._private.labelStyleKey},"getLabelKey"),ne=a(function(ht){return ht[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),ee=a(function(ht){return ht[0]._private.targetLabelStyleKey},"getTargetLabelKey"),K=a(function(ht,_t,Ot,Mt,Wt){return l.drawElement(ht,_t,Ot,!1,!1,Wt)},"drawElement"),se=a(function(ht,_t,Ot,Mt,Wt){return l.drawElementText(ht,_t,Ot,Mt,"main",Wt)},"drawLabel"),oe=a(function(ht,_t,Ot,Mt,Wt){return l.drawElementText(ht,_t,Ot,Mt,"source",Wt)},"drawSourceLabel"),fe=a(function(ht,_t,Ot,Mt,Wt){return l.drawElementText(ht,_t,Ot,Mt,"target",Wt)},"drawTargetLabel"),be=a(function(ht){return ht.boundingBox(),ht[0]._private.bodyBounds},"getElementBox"),ye=a(function(ht){return ht.boundingBox(),ht[0]._private.labelBounds.main||C},"getLabelBox"),de=a(function(ht){return ht.boundingBox(),ht[0]._private.labelBounds.source||C},"getSourceLabelBox"),ke=a(function(ht){return ht.boundingBox(),ht[0]._private.labelBounds.target||C},"getTargetLabelBox"),me=a(function(ht,_t){return _t},"isLabelVisibleAtScale"),Ce=a(function(ht){return A(be(ht))},"getElementRotationPoint"),Se=a(function(ht,_t,Ot){var Mt=ht?ht+"-":"";return{x:_t.x+Ot.pstyle(Mt+"text-margin-x").pfValue,y:_t.y+Ot.pstyle(Mt+"text-margin-y").pfValue}},"addTextMargin"),xe=a(function(ht,_t,Ot){var Mt=ht[0]._private.rscratch;return{x:Mt[_t],y:Mt[Ot]}},"getRsPt"),Ve=a(function(ht){return Se("",xe(ht,"labelX","labelY"),ht)},"getLabelRotationPoint"),Te=a(function(ht){return Se("source",xe(ht,"sourceLabelX","sourceLabelY"),ht)},"getSourceLabelRotationPoint"),tt=a(function(ht){return Se("target",xe(ht,"targetLabelX","targetLabelY"),ht)},"getTargetLabelRotationPoint"),We=a(function(ht){return R(be(ht))},"getElementRotationOffset"),qe=a(function(ht){return R(de(ht))},"getSourceLabelRotationOffset"),nt=a(function(ht){return R(ke(ht))},"getTargetLabelRotationOffset"),dt=a(function(ht){var _t=ye(ht),Ot=R(ye(ht));if(ht.isNode()){switch(ht.pstyle("text-halign").value){case"left":Ot.x=-_t.w;break;case"right":Ot.x=0;break}switch(ht.pstyle("text-valign").value){case"top":Ot.y=-_t.h;break;case"bottom":Ot.y=0;break}}return Ot},"getLabelRotationOffset"),wt=l.data.eleTxrCache=new Jy(l,{getKey:U,doesEleInvalidateKey:$,drawElement:K,getBoundingBox:be,getRotationPoint:Ce,getRotationOffset:We,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),it=l.data.lblTxrCache=new Jy(l,{getKey:q,drawElement:se,getBoundingBox:ye,getRotationPoint:Ve,getRotationOffset:dt,isVisible:me}),xt=l.data.slbTxrCache=new Jy(l,{getKey:ne,drawElement:oe,getBoundingBox:de,getRotationPoint:Te,getRotationOffset:qe,isVisible:me}),Et=l.data.tlbTxrCache=new Jy(l,{getKey:ee,drawElement:fe,getBoundingBox:ke,getRotationPoint:tt,getRotationOffset:nt,isVisible:me}),Dt=l.data.lyrTxrCache=new t$(l);l.onUpdateEleCalcs(a(function(ht,_t){wt.invalidateElements(_t),it.invalidateElements(_t),xt.invalidateElements(_t),Et.invalidateElements(_t),Dt.invalidateElements(_t);for(var Ot=0;Ot<_t.length;Ot++){var Mt=_t[Ot]._private;Mt.oldBackgroundTimestamp=Mt.backgroundTimestamp}},"invalidateTextureCaches"));var St=a(function(ht){for(var _t=0;_t<ht.length;_t++)Dt.enqueueElementRefinement(ht[_t].ele)},"refineInLayers");wt.onDequeue(St),it.onDequeue(St),xt.onDequeue(St),Et.onDequeue(St)}a(p$,"CanvasRenderer"),Hn.redrawHint=function(f,l){var d=this;switch(f){case"eles":d.data.canvasNeedsRedraw[Hn.NODE]=l;break;case"drag":d.data.canvasNeedsRedraw[Hn.DRAG]=l;break;case"select":d.data.canvasNeedsRedraw[Hn.SELECT_BOX]=l;break}};var t5e=typeof Path2D<"u";Hn.path2dEnabled=function(f){if(f===void 0)return this.pathsEnabled;this.pathsEnabled=!!f},Hn.usePaths=function(){return t5e&&this.pathsEnabled},Hn.setImgSmoothing=function(f,l){f.imageSmoothingEnabled!=null?f.imageSmoothingEnabled=l:(f.webkitImageSmoothingEnabled=l,f.mozImageSmoothingEnabled=l,f.msImageSmoothingEnabled=l)},Hn.getImgSmoothing=function(f){return f.imageSmoothingEnabled!=null?f.imageSmoothingEnabled:f.webkitImageSmoothingEnabled||f.mozImageSmoothingEnabled||f.msImageSmoothingEnabled},Hn.makeOffscreenCanvas=function(f,l){var d;return(typeof OffscreenCanvas>"u"?"undefined":e(OffscreenCanvas))!=="undefined"?d=new OffscreenCanvas(f,l):(d=document.createElement("canvas"),d.width=f,d.height=l),d},[n$,Ac,Sh,MC,p0,Pm,bl,Gf,tv,d$].forEach(function(f){pe(Hn,f)});var r5e=[{name:"null",impl:zz},{name:"base",impl:Qz},{name:"canvas",impl:e5e}],n5e=[{type:"layout",extensions:h3e},{type:"renderer",extensions:r5e}],m$={},g$={};function y$(f,l,d){var m=d,y=a(function(ke){An("Can not register `"+l+"` for `"+f+"` since `"+ke+"` already exists in the prototype and can not be overridden")},"overrideErr");if(f==="core"){if(Ky.prototype[l])return y(l);Ky.prototype[l]=d}else if(f==="collection"){if(ws.prototype[l])return y(l);ws.prototype[l]=d}else if(f==="layout"){for(var b=a(function(ke){this.options=ke,d.call(this,ke),O(this._private)||(this._private={}),this._private.cy=ke.cy,this._private.listeners=[],this.createEmitter()},"Layout"),w=b.prototype=Object.create(d.prototype),T=[],S=0;S<T.length;S++){var C=T[S];w[C]=w[C]||function(){return this}}w.start&&!w.run?w.run=function(){return this.start(),this}:!w.start&&w.run&&(w.start=function(){return this.run(),this});var A=d.prototype.stop;w.stop=function(){var de=this.options;if(de&&de.animate){var ke=this.animations;if(ke)for(var me=0;me<ke.length;me++)ke[me].stop()}return A?A.call(this):this.emit("layoutstop"),this},w.destroy||(w.destroy=function(){return this}),w.cy=function(){return this._private.cy};var R=a(function(ke){return ke._private.cy},"getCy"),$={addEventFields:a(function(ke,me){me.layout=ke,me.cy=R(ke),me.target=ke},"addEventFields"),bubble:a(function(){return!0},"bubble"),parent:a(function(ke){return R(ke)},"parent")};pe(w,{createEmitter:a(function(){return this._private.emitter=new P4($,this),this},"createEmitter"),emitter:a(function(){return this._private.emitter},"emitter"),on:a(function(ke,me){return this.emitter().on(ke,me),this},"on"),one:a(function(ke,me){return this.emitter().one(ke,me),this},"one"),once:a(function(ke,me){return this.emitter().one(ke,me),this},"once"),removeListener:a(function(ke,me){return this.emitter().removeListener(ke,me),this},"removeListener"),removeAllListeners:a(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:a(function(ke,me){return this.emitter().emit(ke,me),this},"emit")}),Jn.eventAliasesOn(w),m=b}else if(f==="renderer"&&l!=="null"&&l!=="base"){var U=v$("renderer","base"),q=U.prototype,ne=d,ee=d.prototype,K=a(function(){U.apply(this,arguments),ne.apply(this,arguments)},"Renderer"),se=K.prototype;for(var oe in q){var fe=q[oe],be=ee[oe]!=null;if(be)return y(oe);se[oe]=fe}for(var ye in ee)se[ye]=ee[ye];q.clientFunctions.forEach(function(de){se[de]=se[de]||function(){Mn("Renderer does not implement `renderer."+de+"()` on its prototype")}}),m=K}else if(f==="__proto__"||f==="constructor"||f==="prototype")return Mn(f+" is an illegal type to be registered, possibly lead to prototype pollutions");return Gt({map:m$,keys:[f,l],value:m})}a(y$,"setExtension");function v$(f,l){return Lt({map:m$,keys:[f,l]})}a(v$,"getExtension");function i5e(f,l,d,m,y){return Gt({map:g$,keys:[f,l,d,m],value:y})}a(i5e,"setModule");function a5e(f,l,d,m){return Lt({map:g$,keys:[f,l,d,m]})}a(a5e,"getModule");var BC=a(function(){if(arguments.length===2)return v$.apply(null,arguments);if(arguments.length===3)return y$.apply(null,arguments);if(arguments.length===4)return a5e.apply(null,arguments);if(arguments.length===5)return i5e.apply(null,arguments);Mn("Invalid extension access syntax")},"extension");Ky.prototype.extension=BC,n5e.forEach(function(f){f.extensions.forEach(function(l){y$(f.type,l.name,l.impl)})});var x$=a(function f(){if(!(this instanceof f))return new f;this.length=0},"Stylesheet"),m0=x$.prototype;m0.instanceString=function(){return"stylesheet"},m0.selector=function(f){var l=this.length++;return this[l]={selector:f,properties:[]},this},m0.css=function(f,l){var d=this.length-1;if(P(f))this[d].properties.push({name:f,value:l});else if(O(f))for(var m=f,y=Object.keys(m),b=0;b<y.length;b++){var w=y[b],T=m[w];if(T!=null){var S=Ks.properties[w]||Ks.properties[ae(w)];if(S!=null){var C=S.name,A=T;this[d].properties.push({name:C,value:A})}}}return this},m0.style=m0.css,m0.generateStyle=function(f){var l=new Ks(f);return this.appendToStyle(l)},m0.appendToStyle=function(f){for(var l=0;l<this.length;l++){var d=this[l],m=d.selector,y=d.properties;f.selector(m);for(var b=0;b<y.length;b++){var w=y[b];f.css(w.name,w.value)}}return f};var s5e="3.28.1",g0=a(function(l){if(l===void 0&&(l={}),O(l))return new Ky(l);if(P(l))return BC.apply(BC,arguments)},"cytoscape");return g0.use=function(f){var l=Array.prototype.slice.call(arguments,1);return l.unshift(g0),f.apply(null,l),this},g0.warnings=function(f){return Rf(f)},g0.version=s5e,g0.stylesheet=g0.Stylesheet=x$,g0})});var aB=mo((Zb,iB)=>{"use strict";a(function(t,r){typeof Zb=="object"&&typeof iB=="object"?iB.exports=r():typeof define=="function"&&define.amd?define([],r):typeof Zb=="object"?Zb.layoutBase=r():t.layoutBase=r()},"webpackUniversalModuleDefinition")(Zb,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return a(r,"__webpack_require__"),r.m=e,r.c=t,r.i=function(n){return n},r.d=function(n,i,s){r.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:s})},r.n=function(n){var i=n&&n.__esModule?a(function(){return n.default},"getDefault"):a(function(){return n},"getModuleExports");return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=26)}([function(e,t,r){"use strict";function n(){}a(n,"LayoutConstants"),n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(8),s=r(9);function o(h,p,g){n.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=h,this.target=p}a(o,"LEdge"),o.prototype=Object.create(n.prototype);for(var u in n)o[u]=n[u];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(h,p){for(var g=this.getOtherEnd(h),v=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==v)break;g=g.getOwner().getParent()}return null},o.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=o},function(e,t,r){"use strict";function n(i){this.vGraphObject=i}a(n,"LGraphObject"),e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(10),s=r(13),o=r(0),u=r(16),h=r(4);function p(v,x,k,E){k==null&&E==null&&(E=x),n.call(this,E),v.graphManager!=null&&(v=v.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=E,this.edges=[],this.graphManager=v,k!=null&&x!=null?this.rect=new s(x.x,x.y,k.width,k.height):this.rect=new s}a(p,"LNode"),p.prototype=Object.create(n.prototype);for(var g in n)p[g]=n[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(v){this.rect.width=v},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(v){this.rect.height=v},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(v,x){this.rect.x=v.x,this.rect.y=v.y,this.rect.width=x.width,this.rect.height=x.height},p.prototype.setCenter=function(v,x){this.rect.x=v-this.rect.width/2,this.rect.y=x-this.rect.height/2},p.prototype.setLocation=function(v,x){this.rect.x=v,this.rect.y=x},p.prototype.moveBy=function(v,x){this.rect.x+=v,this.rect.y+=x},p.prototype.getEdgeListToNode=function(v){var x=[],k,E=this;return E.edges.forEach(function(_){if(_.target==v){if(_.source!=E)throw"Incorrect edge source!";x.push(_)}}),x},p.prototype.getEdgesBetween=function(v){var x=[],k,E=this;return E.edges.forEach(function(_){if(!(_.source==E||_.target==E))throw"Incorrect edge source and/or target";(_.target==v||_.source==v)&&x.push(_)}),x},p.prototype.getNeighborsList=function(){var v=new Set,x=this;return x.edges.forEach(function(k){if(k.source==x)v.add(k.target);else{if(k.target!=x)throw"Incorrect incidency!";v.add(k.source)}}),v},p.prototype.withChildren=function(){var v=new Set,x,k;if(v.add(this),this.child!=null)for(var E=this.child.getNodes(),_=0;_<E.length;_++)x=E[_],k=x.withChildren(),k.forEach(function(N){v.add(N)});return v},p.prototype.getNoOfChildren=function(){var v=0,x;if(this.child==null)v=1;else for(var k=this.child.getNodes(),E=0;E<k.length;E++)x=k[E],v+=x.getNoOfChildren();return v==0&&(v=1),v},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var v,x,k=-o.INITIAL_WORLD_BOUNDARY,E=o.INITIAL_WORLD_BOUNDARY;v=o.WORLD_CENTER_X+u.nextDouble()*(E-k)+k;var _=-o.INITIAL_WORLD_BOUNDARY,N=o.INITIAL_WORLD_BOUNDARY;x=o.WORLD_CENTER_Y+u.nextDouble()*(N-_)+_,this.rect.x=v,this.rect.y=x},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var v=this.getChild();if(v.updateBounds(!0),this.rect.x=v.getLeft(),this.rect.y=v.getTop(),this.setWidth(v.getRight()-v.getLeft()),this.setHeight(v.getBottom()-v.getTop()),o.NODE_DIMENSIONS_INCLUDE_LABELS){var x=v.getRight()-v.getLeft(),k=v.getBottom()-v.getTop();this.labelWidth>x&&(this.rect.x-=(this.labelWidth-x)/2,this.setWidth(this.labelWidth)),this.labelHeight>k&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-k)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-k),this.setHeight(this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(v){var x=this.rect.x;x>o.WORLD_BOUNDARY?x=o.WORLD_BOUNDARY:x<-o.WORLD_BOUNDARY&&(x=-o.WORLD_BOUNDARY);var k=this.rect.y;k>o.WORLD_BOUNDARY?k=o.WORLD_BOUNDARY:k<-o.WORLD_BOUNDARY&&(k=-o.WORLD_BOUNDARY);var E=new h(x,k),_=v.inverseTransformPoint(E);this.setLocation(_.x,_.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},e.exports=p},function(e,t,r){"use strict";function n(i,s){i==null&&s==null?(this.x=0,this.y=0):(this.x=i,this.y=s)}a(n,"PointD"),n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(i){this.x=i},n.prototype.setY=function(i){this.y=i},n.prototype.getDifference=function(i){return new DimensionD(this.x-i.x,this.y-i.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(i){return this.x+=i.width,this.y+=i.height,this},e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(10),s=r(0),o=r(6),u=r(3),h=r(1),p=r(13),g=r(12),v=r(11);function x(E,_,N){n.call(this,N),this.estimatedSize=i.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=E,_!=null&&_ instanceof o?this.graphManager=_:_!=null&&_ instanceof Layout&&(this.graphManager=_.graphManager)}a(x,"LGraph"),x.prototype=Object.create(n.prototype);for(var k in n)x[k]=n[k];x.prototype.getNodes=function(){return this.nodes},x.prototype.getEdges=function(){return this.edges},x.prototype.getGraphManager=function(){return this.graphManager},x.prototype.getParent=function(){return this.parent},x.prototype.getLeft=function(){return this.left},x.prototype.getRight=function(){return this.right},x.prototype.getTop=function(){return this.top},x.prototype.getBottom=function(){return this.bottom},x.prototype.isConnected=function(){return this.isConnected},x.prototype.add=function(E,_,N){if(_==null&&N==null){var M=E;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(M)>-1)throw"Node already in graph!";return M.owner=this,this.getNodes().push(M),M}else{var P=E;if(!(this.getNodes().indexOf(_)>-1&&this.getNodes().indexOf(N)>-1))throw"Source or target not in graph!";if(!(_.owner==N.owner&&_.owner==this))throw"Both owners must be this graph!";return _.owner!=N.owner?null:(P.source=_,P.target=N,P.isInterGraph=!1,this.getEdges().push(P),_.edges.push(P),N!=_&&N.edges.push(P),P)}},x.prototype.remove=function(E){var _=E;if(E instanceof u){if(_==null)throw"Node is null!";if(!(_.owner!=null&&_.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var N=_.edges.slice(),M,P=N.length,V=0;V<P;V++)M=N[V],M.isInterGraph?this.graphManager.remove(M):M.source.owner.remove(M);var H=this.nodes.indexOf(_);if(H==-1)throw"Node not in owner node list!";this.nodes.splice(H,1)}else if(E instanceof h){var M=E;if(M==null)throw"Edge is null!";if(!(M.source!=null&&M.target!=null))throw"Source and/or target is null!";if(!(M.source.owner!=null&&M.target.owner!=null&&M.source.owner==this&&M.target.owner==this))throw"Source and/or target owner is invalid!";var O=M.source.edges.indexOf(M),I=M.target.edges.indexOf(M);if(!(O>-1&&I>-1))throw"Source and/or target doesn't know this edge!";M.source.edges.splice(O,1),M.target!=M.source&&M.target.edges.splice(I,1);var H=M.source.owner.getEdges().indexOf(M);if(H==-1)throw"Not in owner's edge list!";M.source.owner.getEdges().splice(H,1)}},x.prototype.updateLeftTop=function(){for(var E=i.MAX_VALUE,_=i.MAX_VALUE,N,M,P,V=this.getNodes(),H=V.length,O=0;O<H;O++){var I=V[O];N=I.getTop(),M=I.getLeft(),E>N&&(E=N),_>M&&(_=M)}return E==i.MAX_VALUE?null:(V[0].getParent().paddingLeft!=null?P=V[0].getParent().paddingLeft:P=this.margin,this.left=_-P,this.top=E-P,new g(this.left,this.top))},x.prototype.updateBounds=function(E){for(var _=i.MAX_VALUE,N=-i.MAX_VALUE,M=i.MAX_VALUE,P=-i.MAX_VALUE,V,H,O,I,z,G=this.nodes,F=G.length,j=0;j<F;j++){var D=G[j];E&&D.child!=null&&D.updateBounds(),V=D.getLeft(),H=D.getRight(),O=D.getTop(),I=D.getBottom(),_>V&&(_=V),N<H&&(N=H),M>O&&(M=O),P<I&&(P=I)}var X=new p(_,M,N-_,P-M);_==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),G[0].getParent().paddingLeft!=null?z=G[0].getParent().paddingLeft:z=this.margin,this.left=X.x-z,this.right=X.x+X.width+z,this.top=X.y-z,this.bottom=X.y+X.height+z},x.calculateBounds=function(E){for(var _=i.MAX_VALUE,N=-i.MAX_VALUE,M=i.MAX_VALUE,P=-i.MAX_VALUE,V,H,O,I,z=E.length,G=0;G<z;G++){var F=E[G];V=F.getLeft(),H=F.getRight(),O=F.getTop(),I=F.getBottom(),_>V&&(_=V),N<H&&(N=H),M>O&&(M=O),P<I&&(P=I)}var j=new p(_,M,N-_,P-M);return j},x.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},x.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},x.prototype.calcEstimatedSize=function(){for(var E=0,_=this.nodes,N=_.length,M=0;M<N;M++){var P=_[M];E+=P.calcEstimatedSize()}return E==0?this.estimatedSize=s.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=E/Math.sqrt(this.nodes.length),this.estimatedSize},x.prototype.updateConnected=function(){var E=this;if(this.nodes.length==0){this.isConnected=!0;return}var _=new v,N=new Set,M=this.nodes[0],P,V,H=M.withChildren();for(H.forEach(function(j){_.push(j),N.add(j)});_.length!==0;){M=_.shift(),P=M.getEdges();for(var O=P.length,I=0;I<O;I++){var z=P[I];if(V=z.getOtherEndInGraph(M,this),V!=null&&!N.has(V)){var G=V.withChildren();G.forEach(function(j){_.push(j),N.add(j)})}}}if(this.isConnected=!1,N.size>=this.nodes.length){var F=0;N.forEach(function(j){j.owner==E&&F++}),F==this.nodes.length&&(this.isConnected=!0)}},e.exports=x},function(e,t,r){"use strict";var n,i=r(1);function s(o){n=r(5),this.layout=o,this.graphs=[],this.edges=[]}a(s,"LGraphManager"),s.prototype.addRoot=function(){var o=this.layout.newGraph(),u=this.layout.newNode(null),h=this.add(o,u);return this.setRootGraph(h),this.rootGraph},s.prototype.add=function(o,u,h,p,g){if(h==null&&p==null&&g==null){if(o==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(o)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(o),o.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return o.parent=u,u.child=o,o}else{g=h,p=u,h=o;var v=p.getOwner(),x=g.getOwner();if(!(v!=null&&v.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(x!=null&&x.getGraphManager()==this))throw"Target not in this graph mgr!";if(v==x)return h.isInterGraph=!1,v.add(h,p,g);if(h.isInterGraph=!0,h.source=p,h.target=g,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},s.prototype.remove=function(o){if(o instanceof n){var u=o;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(u.getEdges());for(var p,g=h.length,v=0;v<g;v++)p=h[v],u.remove(p);var x=[];x=x.concat(u.getNodes());var k;g=x.length;for(var v=0;v<g;v++)k=x[v],u.remove(k);u==this.rootGraph&&this.setRootGraph(null);var E=this.graphs.indexOf(u);this.graphs.splice(E,1),u.parent=null}else if(o instanceof i){if(p=o,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var E=p.source.edges.indexOf(p);if(p.source.edges.splice(E,1),E=p.target.edges.indexOf(p),p.target.edges.splice(E,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var E=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(E,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(this.allNodes==null){for(var o=[],u=this.getGraphs(),h=u.length,p=0;p<h;p++)o=o.concat(u[p].getNodes());this.allNodes=o}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(this.allEdges==null){for(var o=[],u=this.getGraphs(),h=u.length,p=0;p<u.length;p++)o=o.concat(u[p].getEdges());o=o.concat(this.edges),this.allEdges=o}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(o){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=o},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(o){if(o.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=o,o.parent==null&&(o.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(o,u){if(!(o!=null&&u!=null))throw"assert failed";if(o==u)return!0;var h=o.getOwner(),p;do{if(p=h.getParent(),p==null)break;if(p==u)return!0;if(h=p.getOwner(),h==null)break}while(!0);h=u.getOwner();do{if(p=h.getParent(),p==null)break;if(p==o)return!0;if(h=p.getOwner(),h==null)break}while(!0);return!1},s.prototype.calcLowestCommonAncestors=function(){for(var o,u,h,p,g,v=this.getAllEdges(),x=v.length,k=0;k<x;k++){if(o=v[k],u=o.source,h=o.target,o.lca=null,o.sourceInLca=u,o.targetInLca=h,u==h){o.lca=u.getOwner();continue}for(p=u.getOwner();o.lca==null;){for(o.targetInLca=h,g=h.getOwner();o.lca==null;){if(g==p){o.lca=g;break}if(g==this.rootGraph)break;if(o.lca!=null)throw"assert failed";o.targetInLca=g.getParent(),g=o.targetInLca.getOwner()}if(p==this.rootGraph)break;o.lca==null&&(o.sourceInLca=p.getParent(),p=o.sourceInLca.getOwner())}if(o.lca==null)throw"assert failed"}},s.prototype.calcLowestCommonAncestor=function(o,u){if(o==u)return o.getOwner();var h=o.getOwner();do{if(h==null)break;var p=u.getOwner();do{if(p==null)break;if(p==h)return p;p=p.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},s.prototype.calcInclusionTreeDepths=function(o,u){o==null&&u==null&&(o=this.rootGraph,u=1);for(var h,p=o.getNodes(),g=p.length,v=0;v<g;v++)h=p[v],h.inclusionTreeDepth=u,h.child!=null&&this.calcInclusionTreeDepths(h.child,u+1)},s.prototype.includesInvalidEdge=function(){for(var o,u=this.edges.length,h=0;h<u;h++)if(o=this.edges[h],this.isOneAncestorOfOther(o.source,o.target))return!0;return!1},e.exports=s},function(e,t,r){"use strict";var n=r(0);function i(){}a(i,"FDLayoutConstants");for(var s in n)i[s]=n[s];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=i.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=i},function(e,t,r){"use strict";var n=r(12);function i(){}a(i,"IGeometry"),i.calcSeparationAmount=function(s,o,u,h){if(!s.intersects(o))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(s,o,p),u[0]=Math.min(s.getRight(),o.getRight())-Math.max(s.x,o.x),u[1]=Math.min(s.getBottom(),o.getBottom())-Math.max(s.y,o.y),s.getX()<=o.getX()&&s.getRight()>=o.getRight()?u[0]+=Math.min(o.getX()-s.getX(),s.getRight()-o.getRight()):o.getX()<=s.getX()&&o.getRight()>=s.getRight()&&(u[0]+=Math.min(s.getX()-o.getX(),o.getRight()-s.getRight())),s.getY()<=o.getY()&&s.getBottom()>=o.getBottom()?u[1]+=Math.min(o.getY()-s.getY(),s.getBottom()-o.getBottom()):o.getY()<=s.getY()&&o.getBottom()>=s.getBottom()&&(u[1]+=Math.min(s.getY()-o.getY(),o.getBottom()-s.getBottom()));var g=Math.abs((o.getCenterY()-s.getCenterY())/(o.getCenterX()-s.getCenterX()));o.getCenterY()===s.getCenterY()&&o.getCenterX()===s.getCenterX()&&(g=1);var v=g*u[0],x=u[1]/g;u[0]<x?x=u[0]:v=u[1],u[0]=-1*p[0]*(x/2+h),u[1]=-1*p[1]*(v/2+h)},i.decideDirectionsForOverlappingNodes=function(s,o,u){s.getCenterX()<o.getCenterX()?u[0]=-1:u[0]=1,s.getCenterY()<o.getCenterY()?u[1]=-1:u[1]=1},i.getIntersection2=function(s,o,u){var h=s.getCenterX(),p=s.getCenterY(),g=o.getCenterX(),v=o.getCenterY();if(s.intersects(o))return u[0]=h,u[1]=p,u[2]=g,u[3]=v,!0;var x=s.getX(),k=s.getY(),E=s.getRight(),_=s.getX(),N=s.getBottom(),M=s.getRight(),P=s.getWidthHalf(),V=s.getHeightHalf(),H=o.getX(),O=o.getY(),I=o.getRight(),z=o.getX(),G=o.getBottom(),F=o.getRight(),j=o.getWidthHalf(),D=o.getHeightHalf(),X=!1,B=!1;if(h===g){if(p>v)return u[0]=h,u[1]=k,u[2]=g,u[3]=G,!1;if(p<v)return u[0]=h,u[1]=N,u[2]=g,u[3]=O,!1}else if(p===v){if(h>g)return u[0]=x,u[1]=p,u[2]=I,u[3]=v,!1;if(h<g)return u[0]=E,u[1]=p,u[2]=H,u[3]=v,!1}else{var Q=s.height/s.width,le=o.height/o.width,J=(v-p)/(g-h),ie=void 0,re=void 0,Z=void 0,Y=void 0,ue=void 0,Ae=void 0;if(-Q===J?h>g?(u[0]=_,u[1]=N,X=!0):(u[0]=E,u[1]=k,X=!0):Q===J&&(h>g?(u[0]=x,u[1]=k,X=!0):(u[0]=M,u[1]=N,X=!0)),-le===J?g>h?(u[2]=z,u[3]=G,B=!0):(u[2]=I,u[3]=O,B=!0):le===J&&(g>h?(u[2]=H,u[3]=O,B=!0):(u[2]=F,u[3]=G,B=!0)),X&&B)return!1;if(h>g?p>v?(ie=this.getCardinalDirection(Q,J,4),re=this.getCardinalDirection(le,J,2)):(ie=this.getCardinalDirection(-Q,J,3),re=this.getCardinalDirection(-le,J,1)):p>v?(ie=this.getCardinalDirection(-Q,J,1),re=this.getCardinalDirection(-le,J,3)):(ie=this.getCardinalDirection(Q,J,2),re=this.getCardinalDirection(le,J,4)),!X)switch(ie){case 1:Y=k,Z=h+-V/J,u[0]=Z,u[1]=Y;break;case 2:Z=M,Y=p+P*J,u[0]=Z,u[1]=Y;break;case 3:Y=N,Z=h+V/J,u[0]=Z,u[1]=Y;break;case 4:Z=_,Y=p+-P*J,u[0]=Z,u[1]=Y;break}if(!B)switch(re){case 1:Ae=O,ue=g+-D/J,u[2]=ue,u[3]=Ae;break;case 2:ue=F,Ae=v+j*J,u[2]=ue,u[3]=Ae;break;case 3:Ae=G,ue=g+D/J,u[2]=ue,u[3]=Ae;break;case 4:ue=z,Ae=v+-j*J,u[2]=ue,u[3]=Ae;break}}return!1},i.getCardinalDirection=function(s,o,u){return s>o?u:1+u%4},i.getIntersection=function(s,o,u,h){if(h==null)return this.getIntersection2(s,o,u);var p=s.x,g=s.y,v=o.x,x=o.y,k=u.x,E=u.y,_=h.x,N=h.y,M=void 0,P=void 0,V=void 0,H=void 0,O=void 0,I=void 0,z=void 0,G=void 0,F=void 0;return V=x-g,O=p-v,z=v*g-p*x,H=N-E,I=k-_,G=_*E-k*N,F=V*I-H*O,F===0?null:(M=(O*G-I*z)/F,P=(H*z-V*G)/F,new n(M,P))},i.angleOfVector=function(s,o,u,h){var p=void 0;return s!==u?(p=Math.atan((h-o)/(u-s)),u<s?p+=Math.PI:h<o&&(p+=this.TWO_PI)):h<o?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},i.doIntersect=function(s,o,u,h){var p=s.x,g=s.y,v=o.x,x=o.y,k=u.x,E=u.y,_=h.x,N=h.y,M=(v-p)*(N-E)-(_-k)*(x-g);if(M===0)return!1;var P=((N-E)*(_-p)+(k-_)*(N-g))/M,V=((g-x)*(_-p)+(v-p)*(N-g))/M;return 0<P&&P<1&&0<V&&V<1},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,e.exports=i},function(e,t,r){"use strict";function n(){}a(n,"IMath"),n.sign=function(i){return i>0?1:i<0?-1:0},n.floor=function(i){return i<0?Math.ceil(i):Math.floor(i)},n.ceil=function(i){return i<0?Math.floor(i):Math.ceil(i)},e.exports=n},function(e,t,r){"use strict";function n(){}a(n,"Integer"),n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,e.exports=n},function(e,t,r){"use strict";var n=function(){function p(g,v){for(var x=0;x<v.length;x++){var k=v[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return a(p,"defineProperties"),function(g,v,x){return v&&p(g.prototype,v),x&&p(g,x),g}}();function i(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}a(i,"_classCallCheck");var s=a(function(g){return{value:g,next:null,prev:null}},"nodeFrom"),o=a(function(g,v,x,k){return g!==null?g.next=v:k.head=v,x!==null?x.prev=v:k.tail=v,v.prev=g,v.next=x,k.length++,v},"add"),u=a(function(g,v){var x=g.prev,k=g.next;return x!==null?x.next=k:v.head=k,k!==null?k.prev=x:v.tail=x,g.prev=g.next=null,v.length--,g},"_remove"),h=function(){function p(g){var v=this;i(this,p),this.length=0,this.head=null,this.tail=null,g?.forEach(function(x){return v.push(x)})}return a(p,"LinkedList"),n(p,[{key:"size",value:a(function(){return this.length},"size")},{key:"insertBefore",value:a(function(v,x){return o(x.prev,s(v),x,this)},"insertBefore")},{key:"insertAfter",value:a(function(v,x){return o(x,s(v),x.next,this)},"insertAfter")},{key:"insertNodeBefore",value:a(function(v,x){return o(x.prev,v,x,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:a(function(v,x){return o(x,v,x.next,this)},"insertNodeAfter")},{key:"push",value:a(function(v){return o(this.tail,s(v),null,this)},"push")},{key:"unshift",value:a(function(v){return o(null,s(v),this.head,this)},"unshift")},{key:"remove",value:a(function(v){return u(v,this)},"remove")},{key:"pop",value:a(function(){return u(this.tail,this).value},"pop")},{key:"popNode",value:a(function(){return u(this.tail,this)},"popNode")},{key:"shift",value:a(function(){return u(this.head,this).value},"shift")},{key:"shiftNode",value:a(function(){return u(this.head,this)},"shiftNode")},{key:"get_object_at",value:a(function(v){if(v<=this.length()){for(var x=1,k=this.head;x<v;)k=k.next,x++;return k.value}},"get_object_at")},{key:"set_object_at",value:a(function(v,x){if(v<=this.length()){for(var k=1,E=this.head;k<v;)E=E.next,k++;E.value=x}},"set_object_at")}]),p}();e.exports=h},function(e,t,r){"use strict";function n(i,s,o){this.x=null,this.y=null,i==null&&s==null&&o==null?(this.x=0,this.y=0):typeof i=="number"&&typeof s=="number"&&o==null?(this.x=i,this.y=s):i.constructor.name=="Point"&&s==null&&o==null&&(o=i,this.x=o.x,this.y=o.y)}a(n,"Point"),n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(i,s,o){i.constructor.name=="Point"&&s==null&&o==null?(o=i,this.setLocation(o.x,o.y)):typeof i=="number"&&typeof s=="number"&&o==null&&(parseInt(i)==i&&parseInt(s)==s?this.move(i,s):(this.x=Math.floor(i+.5),this.y=Math.floor(s+.5)))},n.prototype.move=function(i,s){this.x=i,this.y=s},n.prototype.translate=function(i,s){this.x+=i,this.y+=s},n.prototype.equals=function(i){if(i.constructor.name=="Point"){var s=i;return this.x==s.x&&this.y==s.y}return this==i},n.prototype.toString=function(){return new n().constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=n},function(e,t,r){"use strict";function n(i,s,o,u){this.x=0,this.y=0,this.width=0,this.height=0,i!=null&&s!=null&&o!=null&&u!=null&&(this.x=i,this.y=s,this.width=o,this.height=u)}a(n,"RectangleD"),n.prototype.getX=function(){return this.x},n.prototype.setX=function(i){this.x=i},n.prototype.getY=function(){return this.y},n.prototype.setY=function(i){this.y=i},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(i){this.width=i},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(i){this.height=i},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(i){return!(this.getRight()<i.x||this.getBottom()<i.y||i.getRight()<this.x||i.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},e.exports=n},function(e,t,r){"use strict";var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function i(){}a(i,"UniqueIDGeneretor"),i.lastID=0,i.createID=function(s){return i.isPrimitive(s)?s:(s.uniqueID!=null||(s.uniqueID=i.getString(),i.lastID++),s.uniqueID)},i.getString=function(s){return s==null&&(s=i.lastID),"Object#"+s},i.isPrimitive=function(s){var o=typeof s>"u"?"undefined":n(s);return s==null||o!="object"&&o!="function"},e.exports=i},function(e,t,r){"use strict";function n(k){if(Array.isArray(k)){for(var E=0,_=Array(k.length);E<k.length;E++)_[E]=k[E];return _}else return Array.from(k)}a(n,"_toConsumableArray");var i=r(0),s=r(6),o=r(3),u=r(1),h=r(5),p=r(4),g=r(17),v=r(27);function x(k){v.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,k!=null&&(this.isRemoteUse=k)}a(x,"Layout"),x.RANDOM_SEED=1,x.prototype=Object.create(v.prototype),x.prototype.getGraphManager=function(){return this.graphManager},x.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},x.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},x.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},x.prototype.newGraphManager=function(){var k=new s(this);return this.graphManager=k,k},x.prototype.newGraph=function(k){return new h(null,this.graphManager,k)},x.prototype.newNode=function(k){return new o(this.graphManager,k)},x.prototype.newEdge=function(k){return new u(null,null,k)},x.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},x.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var k;return this.checkLayoutSuccess()?k=!1:k=this.layout(),i.ANIMATE==="during"?!1:(k&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,k)},x.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},x.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var k,E=this.graphManager.getAllEdges(),_=0;_<E.length;_++)k=E[_];for(var N,M=this.graphManager.getRoot().getNodes(),_=0;_<M.length;_++)N=M[_];this.update(this.graphManager.getRoot())}},x.prototype.update=function(k){if(k==null)this.update2();else if(k instanceof o){var E=k;if(E.getChild()!=null)for(var _=E.getChild().getNodes(),N=0;N<_.length;N++)update(_[N]);if(E.vGraphObject!=null){var M=E.vGraphObject;M.update(E)}}else if(k instanceof u){var P=k;if(P.vGraphObject!=null){var V=P.vGraphObject;V.update(P)}}else if(k instanceof h){var H=k;if(H.vGraphObject!=null){var O=H.vGraphObject;O.update(H)}}},x.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},x.prototype.transform=function(k){if(k==null)this.transform(new p(0,0));else{var E=new g,_=this.graphManager.getRoot().updateLeftTop();if(_!=null){E.setWorldOrgX(k.x),E.setWorldOrgY(k.y),E.setDeviceOrgX(_.x),E.setDeviceOrgY(_.y);for(var N=this.getAllNodes(),M,P=0;P<N.length;P++)M=N[P],M.transform(E)}}},x.prototype.positionNodesRandomly=function(k){if(k==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var E,_,N=k.getNodes(),M=0;M<N.length;M++)E=N[M],_=E.getChild(),_==null||_.getNodes().length==0?E.scatter():(this.positionNodesRandomly(_),E.updateBounds())},x.prototype.getFlatForest=function(){for(var k=[],E=!0,_=this.graphManager.getRoot().getNodes(),N=!0,M=0;M<_.length;M++)_[M].getChild()!=null&&(N=!1);if(!N)return k;var P=new Set,V=[],H=new Map,O=[];for(O=O.concat(_);O.length>0&&E;){for(V.push(O[0]);V.length>0&&E;){var I=V[0];V.splice(0,1),P.add(I);for(var z=I.getEdges(),M=0;M<z.length;M++){var G=z[M].getOtherEnd(I);if(H.get(I)!=G)if(!P.has(G))V.push(G),H.set(G,I);else{E=!1;break}}}if(!E)k=[];else{var F=[].concat(n(P));k.push(F);for(var M=0;M<F.length;M++){var j=F[M],D=O.indexOf(j);D>-1&&O.splice(D,1)}P=new Set,H=new Map}}return k},x.prototype.createDummyNodesForBendpoints=function(k){for(var E=[],_=k.source,N=this.graphManager.calcLowestCommonAncestor(k.source,k.target),M=0;M<k.bendpoints.length;M++){var P=this.newNode(null);P.setRect(new Point(0,0),new Dimension(1,1)),N.add(P);var V=this.newEdge(null);this.graphManager.add(V,_,P),E.add(P),_=P}var V=this.newEdge(null);return this.graphManager.add(V,_,k.target),this.edgeToDummyNodes.set(k,E),k.isInterGraph()?this.graphManager.remove(k):N.remove(k),E},x.prototype.createBendpointsFromDummyNodes=function(){var k=[];k=k.concat(this.graphManager.getAllEdges()),k=[].concat(n(this.edgeToDummyNodes.keys())).concat(k);for(var E=0;E<k.length;E++){var _=k[E];if(_.bendpoints.length>0){for(var N=this.edgeToDummyNodes.get(_),M=0;M<N.length;M++){var P=N[M],V=new p(P.getCenterX(),P.getCenterY()),H=_.bendpoints.get(M);H.x=V.x,H.y=V.y,P.getOwner().remove(P)}this.graphManager.add(_,_.source,_.target)}}},x.transform=function(k,E,_,N){if(_!=null&&N!=null){var M=E;if(k<=50){var P=E/_;M-=(E-P)/50*(50-k)}else{var V=E*N;M+=(V-E)/50*(k-50)}return M}else{var H,O;return k<=50?(H=9*E/500,O=E/10):(H=9*E/50,O=-8*E),H*k+O}},x.findCenterOfTree=function(k){var E=[];E=E.concat(k);var _=[],N=new Map,M=!1,P=null;(E.length==1||E.length==2)&&(M=!0,P=E[0]);for(var V=0;V<E.length;V++){var H=E[V],O=H.getNeighborsList().size;N.set(H,H.getNeighborsList().size),O==1&&_.push(H)}var I=[];for(I=I.concat(_);!M;){var z=[];z=z.concat(I),I=[];for(var V=0;V<E.length;V++){var H=E[V],G=E.indexOf(H);G>=0&&E.splice(G,1);var F=H.getNeighborsList();F.forEach(function(X){if(_.indexOf(X)<0){var B=N.get(X),Q=B-1;Q==1&&I.push(X),N.set(X,Q)}})}_=_.concat(I),(E.length==1||E.length==2)&&(M=!0,P=E[0])}return P},x.prototype.setGraphManager=function(k){this.graphManager=k},e.exports=x},function(e,t,r){"use strict";function n(){}a(n,"RandomSeed"),n.seed=1,n.x=0,n.nextDouble=function(){return n.x=Math.sin(n.seed++)*1e4,n.x-Math.floor(n.x)},e.exports=n},function(e,t,r){"use strict";var n=r(4);function i(s,o){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a(i,"Transform"),i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(s){this.lworldExtX=s},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(s){this.lworldExtY=s},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},i.prototype.transformX=function(s){var o=0,u=this.lworldExtX;return u!=0&&(o=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/u),o},i.prototype.transformY=function(s){var o=0,u=this.lworldExtY;return u!=0&&(o=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/u),o},i.prototype.inverseTransformX=function(s){var o=0,u=this.ldeviceExtX;return u!=0&&(o=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/u),o},i.prototype.inverseTransformY=function(s){var o=0,u=this.ldeviceExtY;return u!=0&&(o=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/u),o},i.prototype.inverseTransformPoint=function(s){var o=new n(this.inverseTransformX(s.x),this.inverseTransformY(s.y));return o},e.exports=i},function(e,t,r){"use strict";function n(v){if(Array.isArray(v)){for(var x=0,k=Array(v.length);x<v.length;x++)k[x]=v[x];return k}else return Array.from(v)}a(n,"_toConsumableArray");var i=r(15),s=r(7),o=r(0),u=r(8),h=r(9);function p(){i.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=s.DEFAULT_EDGE_LENGTH,this.springConstant=s.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=s.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}a(p,"FDLayout"),p.prototype=Object.create(i.prototype);for(var g in i)p[g]=i[g];p.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var v,x,k,E,_,N,M=this.getGraphManager().getAllEdges(),P=0;P<M.length;P++)v=M[P],v.idealLength=this.idealEdgeLength,v.isInterGraph&&(k=v.getSource(),E=v.getTarget(),_=v.getSourceInLca().getEstimatedSize(),N=v.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(v.idealLength+=_+N-2*o.SIMPLE_NODE_SIZE),x=v.getLca().getInclusionTreeDepth(),v.idealLength+=s.DEFAULT_EDGE_LENGTH*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(k.getInclusionTreeDepth()+E.getInclusionTreeDepth()-2*x))},p.prototype.initSpringEmbedder=function(){var v=this.getAllNodes().length;this.incremental?(v>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(v-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(v>s.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(s.COOLING_ADAPTATION_FACTOR,1-(v-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var v=this.getAllEdges(),x,k=0;k<v.length;k++)x=v[k],this.calcSpringForce(x,x.idealLength)},p.prototype.calcRepulsionForces=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k,E,_,N,M=this.getAllNodes(),P;if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&v&&this.updateGrid(),P=new Set,k=0;k<M.length;k++)_=M[k],this.calculateRepulsionForceOfANode(_,P,v,x),P.add(_);else for(k=0;k<M.length;k++)for(_=M[k],E=k+1;E<M.length;E++)N=M[E],_.getOwner()==N.getOwner()&&this.calcRepulsionForce(_,N)},p.prototype.calcGravitationalForces=function(){for(var v,x=this.getAllNodesToApplyGravitation(),k=0;k<x.length;k++)v=x[k],this.calcGravitationalForce(v)},p.prototype.moveNodes=function(){for(var v=this.getAllNodes(),x,k=0;k<v.length;k++)x=v[k],x.move()},p.prototype.calcSpringForce=function(v,x){var k=v.getSource(),E=v.getTarget(),_,N,M,P;if(this.uniformLeafNodeSizes&&k.getChild()==null&&E.getChild()==null)v.updateLengthSimple();else if(v.updateLength(),v.isOverlapingSourceAndTarget)return;_=v.getLength(),_!=0&&(N=this.springConstant*(_-x),M=N*(v.lengthX/_),P=N*(v.lengthY/_),k.springForceX+=M,k.springForceY+=P,E.springForceX-=M,E.springForceY-=P)},p.prototype.calcRepulsionForce=function(v,x){var k=v.getRect(),E=x.getRect(),_=new Array(2),N=new Array(4),M,P,V,H,O,I,z;if(k.intersects(E)){u.calcSeparationAmount(k,E,_,s.DEFAULT_EDGE_LENGTH/2),I=2*_[0],z=2*_[1];var G=v.noOfChildren*x.noOfChildren/(v.noOfChildren+x.noOfChildren);v.repulsionForceX-=G*I,v.repulsionForceY-=G*z,x.repulsionForceX+=G*I,x.repulsionForceY+=G*z}else this.uniformLeafNodeSizes&&v.getChild()==null&&x.getChild()==null?(M=E.getCenterX()-k.getCenterX(),P=E.getCenterY()-k.getCenterY()):(u.getIntersection(k,E,N),M=N[2]-N[0],P=N[3]-N[1]),Math.abs(M)<s.MIN_REPULSION_DIST&&(M=h.sign(M)*s.MIN_REPULSION_DIST),Math.abs(P)<s.MIN_REPULSION_DIST&&(P=h.sign(P)*s.MIN_REPULSION_DIST),V=M*M+P*P,H=Math.sqrt(V),O=this.repulsionConstant*v.noOfChildren*x.noOfChildren/V,I=O*M/H,z=O*P/H,v.repulsionForceX-=I,v.repulsionForceY-=z,x.repulsionForceX+=I,x.repulsionForceY+=z},p.prototype.calcGravitationalForce=function(v){var x,k,E,_,N,M,P,V;x=v.getOwner(),k=(x.getRight()+x.getLeft())/2,E=(x.getTop()+x.getBottom())/2,_=v.getCenterX()-k,N=v.getCenterY()-E,M=Math.abs(_)+v.getWidth()/2,P=Math.abs(N)+v.getHeight()/2,v.getOwner()==this.graphManager.getRoot()?(V=x.getEstimatedSize()*this.gravityRangeFactor,(M>V||P>V)&&(v.gravitationForceX=-this.gravityConstant*_,v.gravitationForceY=-this.gravityConstant*N)):(V=x.getEstimatedSize()*this.compoundGravityRangeFactor,(M>V||P>V)&&(v.gravitationForceX=-this.gravityConstant*_*this.compoundGravityConstant,v.gravitationForceY=-this.gravityConstant*N*this.compoundGravityConstant))},p.prototype.isConverged=function(){var v,x=!1;return this.totalIterations>this.maxIterations/3&&(x=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),v=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,v||x},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var v,x=this.graphManager.getAllNodes(),k=0;k<x.length;k++)v=x[k],v.noOfChildren=v.getNoOfChildren()},p.prototype.calcGrid=function(v){var x=0,k=0;x=parseInt(Math.ceil((v.getRight()-v.getLeft())/this.repulsionRange)),k=parseInt(Math.ceil((v.getBottom()-v.getTop())/this.repulsionRange));for(var E=new Array(x),_=0;_<x;_++)E[_]=new Array(k);for(var _=0;_<x;_++)for(var N=0;N<k;N++)E[_][N]=new Array;return E},p.prototype.addNodeToGrid=function(v,x,k){var E=0,_=0,N=0,M=0;E=parseInt(Math.floor((v.getRect().x-x)/this.repulsionRange)),_=parseInt(Math.floor((v.getRect().width+v.getRect().x-x)/this.repulsionRange)),N=parseInt(Math.floor((v.getRect().y-k)/this.repulsionRange)),M=parseInt(Math.floor((v.getRect().height+v.getRect().y-k)/this.repulsionRange));for(var P=E;P<=_;P++)for(var V=N;V<=M;V++)this.grid[P][V].push(v),v.setGridCoordinates(E,_,N,M)},p.prototype.updateGrid=function(){var v,x,k=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),v=0;v<k.length;v++)x=k[v],this.addNodeToGrid(x,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(v,x,k,E){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&k||E){var _=new Set;v.surrounding=new Array;for(var N,M=this.grid,P=v.startX-1;P<v.finishX+2;P++)for(var V=v.startY-1;V<v.finishY+2;V++)if(!(P<0||V<0||P>=M.length||V>=M[0].length)){for(var H=0;H<M[P][V].length;H++)if(N=M[P][V][H],!(v.getOwner()!=N.getOwner()||v==N)&&!x.has(N)&&!_.has(N)){var O=Math.abs(v.getCenterX()-N.getCenterX())-(v.getWidth()/2+N.getWidth()/2),I=Math.abs(v.getCenterY()-N.getCenterY())-(v.getHeight()/2+N.getHeight()/2);O<=this.repulsionRange&&I<=this.repulsionRange&&_.add(N)}}v.surrounding=[].concat(n(_))}for(P=0;P<v.surrounding.length;P++)this.calcRepulsionForce(v,v.surrounding[P])},p.prototype.calcRepulsionRange=function(){return 0},e.exports=p},function(e,t,r){"use strict";var n=r(1),i=r(7);function s(u,h,p){n.call(this,u,h,p),this.idealLength=i.DEFAULT_EDGE_LENGTH}a(s,"FDLayoutEdge"),s.prototype=Object.create(n.prototype);for(var o in n)s[o]=n[o];e.exports=s},function(e,t,r){"use strict";var n=r(3);function i(o,u,h,p){n.call(this,o,u,h,p),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}a(i,"FDLayoutNode"),i.prototype=Object.create(n.prototype);for(var s in n)i[s]=n[s];i.prototype.setGridCoordinates=function(o,u,h,p){this.startX=o,this.finishX=u,this.startY=h,this.finishY=p},e.exports=i},function(e,t,r){"use strict";function n(i,s){this.width=0,this.height=0,i!==null&&s!==null&&(this.height=s,this.width=i)}a(n,"DimensionD"),n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(i){this.width=i},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(i){this.height=i},e.exports=n},function(e,t,r){"use strict";var n=r(14);function i(){this.map={},this.keys=[]}a(i,"HashMap"),i.prototype.put=function(s,o){var u=n.createID(s);this.contains(u)||(this.map[u]=o,this.keys.push(s))},i.prototype.contains=function(s){var o=n.createID(s);return this.map[s]!=null},i.prototype.get=function(s){var o=n.createID(s);return this.map[o]},i.prototype.keySet=function(){return this.keys},e.exports=i},function(e,t,r){"use strict";var n=r(14);function i(){this.set={}}a(i,"HashSet"),i.prototype.add=function(s){var o=n.createID(s);this.contains(o)||(this.set[o]=s)},i.prototype.remove=function(s){delete this.set[n.createID(s)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(s){return this.set[n.createID(s)]==s},i.prototype.isEmpty=function(){return this.size()===0},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(s){for(var o=Object.keys(this.set),u=o.length,h=0;h<u;h++)s.push(this.set[o[h]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(s){for(var o=s.length,u=0;u<o;u++){var h=s[u];this.add(h)}},e.exports=i},function(e,t,r){"use strict";var n=function(){function u(h,p){for(var g=0;g<p.length;g++){var v=p[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return a(u,"defineProperties"),function(h,p,g){return p&&u(h.prototype,p),g&&u(h,g),h}}();function i(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}a(i,"_classCallCheck");var s=r(11),o=function(){function u(h,p){i(this,u),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;h instanceof s?g=h.size():g=h.length,this._quicksort(h,0,g-1)}return a(u,"Quicksort"),n(u,[{key:"_quicksort",value:a(function(p,g,v){if(g<v){var x=this._partition(p,g,v);this._quicksort(p,g,x),this._quicksort(p,x+1,v)}},"_quicksort")},{key:"_partition",value:a(function(p,g,v){for(var x=this._get(p,g),k=g,E=v;;){for(;this.compareFunction(x,this._get(p,E));)E--;for(;this.compareFunction(this._get(p,k),x);)k++;if(k<E)this._swap(p,k,E),k++,E--;else return E}},"_partition")},{key:"_get",value:a(function(p,g){return p instanceof s?p.get_object_at(g):p[g]},"_get")},{key:"_set",value:a(function(p,g,v){p instanceof s?p.set_object_at(g,v):p[g]=v},"_set")},{key:"_swap",value:a(function(p,g,v){var x=this._get(p,g);this._set(p,g,this._get(p,v)),this._set(p,v,x)},"_swap")},{key:"_defaultCompareFunction",value:a(function(p,g){return g>p},"_defaultCompareFunction")}]),u}();e.exports=o},function(e,t,r){"use strict";var n=function(){function o(u,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return a(o,"defineProperties"),function(u,h,p){return h&&o(u.prototype,h),p&&o(u,p),u}}();function i(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}a(i,"_classCallCheck");var s=function(){function o(u,h){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;i(this,o),this.sequence1=u,this.sequence2=h,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=v,this.iMax=u.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.grid[x]=new Array(this.jMax);for(var k=0;k<this.jMax;k++)this.grid[x][k]=0}this.tracebackGrid=new Array(this.iMax);for(var E=0;E<this.iMax;E++){this.tracebackGrid[E]=new Array(this.jMax);for(var _=0;_<this.jMax;_++)this.tracebackGrid[E][_]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(o,"NeedlemanWunsch"),n(o,[{key:"getScore",value:a(function(){return this.score},"getScore")},{key:"getAlignments",value:a(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:a(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var p=1;p<this.iMax;p++)this.grid[p][0]=this.grid[p-1][0]+this.gap_penalty,this.tracebackGrid[p][0]=[!1,!0,!1];for(var g=1;g<this.iMax;g++)for(var v=1;v<this.jMax;v++){var x=void 0;this.sequence1[g-1]===this.sequence2[v-1]?x=this.grid[g-1][v-1]+this.match_score:x=this.grid[g-1][v-1]+this.mismatch_penalty;var k=this.grid[g-1][v]+this.gap_penalty,E=this.grid[g][v-1]+this.gap_penalty,_=[x,k,E],N=this.arrayAllMaxIndexes(_);this.grid[g][v]=_[N[0]],this.tracebackGrid[g][v]=[N.includes(0),N.includes(1),N.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:a(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var p=h[0],g=this.tracebackGrid[p.pos[0]][p.pos[1]];g[0]&&h.push({pos:[p.pos[0]-1,p.pos[1]-1],seq1:this.sequence1[p.pos[0]-1]+p.seq1,seq2:this.sequence2[p.pos[1]-1]+p.seq2}),g[1]&&h.push({pos:[p.pos[0]-1,p.pos[1]],seq1:this.sequence1[p.pos[0]-1]+p.seq1,seq2:"-"+p.seq2}),g[2]&&h.push({pos:[p.pos[0],p.pos[1]-1],seq1:"-"+p.seq1,seq2:this.sequence2[p.pos[1]-1]+p.seq2}),p.pos[0]===0&&p.pos[1]===0&&this.alignments.push({sequence1:p.seq1,sequence2:p.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:a(function(h,p){for(var g=[],v=-1;(v=h.indexOf(p,v+1))!==-1;)g.push(v);return g},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:a(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),o}();e.exports=s},function(e,t,r){"use strict";var n=a(function(){},"layoutBase");n.FDLayout=r(18),n.FDLayoutConstants=r(7),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(4),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(24),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(5),n.LEdge=r(1),n.LGraphManager=r(6),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(25),e.exports=n},function(e,t,r){"use strict";function n(){this.listeners=[]}a(n,"Emitter");var i=n.prototype;i.addListener=function(s,o){this.listeners.push({event:s,callback:o})},i.removeListener=function(s,o){for(var u=this.listeners.length;u>=0;u--){var h=this.listeners[u];h.event===s&&h.callback===o&&this.listeners.splice(u,1)}},i.emit=function(s,o){for(var u=0;u<this.listeners.length;u++){var h=this.listeners[u];s===h.event&&h.callback(o)}},e.exports=n}])})});var oB=mo((Jb,sB)=>{"use strict";a(function(t,r){typeof Jb=="object"&&typeof sB=="object"?sB.exports=r(aB()):typeof define=="function"&&define.amd?define(["layout-base"],r):typeof Jb=="object"?Jb.coseBase=r(aB()):t.coseBase=r(t.layoutBase)},"webpackUniversalModuleDefinition")(Jb,function(e){return function(t){var r={};function n(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return a(n,"__webpack_require__"),n.m=t,n.c=r,n.i=function(i){return i},n.d=function(i,s,o){n.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:o})},n.n=function(i){var s=i&&i.__esModule?a(function(){return i.default},"getDefault"):a(function(){return i},"getModuleExports");return n.d(s,"a",s),s},n.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},n.p="",n(n.s=7)}([function(t,r){t.exports=e},function(t,r,n){"use strict";var i=n(0).FDLayoutConstants;function s(){}a(s,"CoSEConstants");for(var o in i)s[o]=i[o];s.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,s.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,s.DEFAULT_COMPONENT_SEPERATION=60,s.TILE=!0,s.TILING_PADDING_VERTICAL=10,s.TILING_PADDING_HORIZONTAL=10,s.TREE_REDUCTION_ON_INCREMENTAL=!1,t.exports=s},function(t,r,n){"use strict";var i=n(0).FDLayoutEdge;function s(u,h,p){i.call(this,u,h,p)}a(s,"CoSEEdge"),s.prototype=Object.create(i.prototype);for(var o in i)s[o]=i[o];t.exports=s},function(t,r,n){"use strict";var i=n(0).LGraph;function s(u,h,p){i.call(this,u,h,p)}a(s,"CoSEGraph"),s.prototype=Object.create(i.prototype);for(var o in i)s[o]=i[o];t.exports=s},function(t,r,n){"use strict";var i=n(0).LGraphManager;function s(u){i.call(this,u)}a(s,"CoSEGraphManager"),s.prototype=Object.create(i.prototype);for(var o in i)s[o]=i[o];t.exports=s},function(t,r,n){"use strict";var i=n(0).FDLayoutNode,s=n(0).IMath;function o(h,p,g,v){i.call(this,h,p,g,v)}a(o,"CoSENode"),o.prototype=Object.create(i.prototype);for(var u in i)o[u]=i[u];o.prototype.move=function(){var h=this.graphManager.getLayout();this.displacementX=h.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=h.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementX=h.coolingFactor*h.maxNodeDisplacement*s.sign(this.displacementX)),Math.abs(this.displacementY)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementY=h.coolingFactor*h.maxNodeDisplacement*s.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),h.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.propogateDisplacementToChildren=function(h,p){for(var g=this.getChild().getNodes(),v,x=0;x<g.length;x++)v=g[x],v.getChild()==null?(v.moveBy(h,p),v.displacementX+=h,v.displacementY+=p):v.propogateDisplacementToChildren(h,p)},o.prototype.setPred1=function(h){this.pred1=h},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(h){this.next=h},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(h){this.processed=h},o.prototype.isProcessed=function(){return processed},t.exports=o},function(t,r,n){"use strict";var i=n(0).FDLayout,s=n(4),o=n(3),u=n(5),h=n(2),p=n(1),g=n(0).FDLayoutConstants,v=n(0).LayoutConstants,x=n(0).Point,k=n(0).PointD,E=n(0).Layout,_=n(0).Integer,N=n(0).IGeometry,M=n(0).LGraph,P=n(0).Transform;function V(){i.call(this),this.toBeTiled={}}a(V,"CoSELayout"),V.prototype=Object.create(i.prototype);for(var H in i)V[H]=i[H];V.prototype.newGraphManager=function(){var O=new s(this);return this.graphManager=O,O},V.prototype.newGraph=function(O){return new o(null,this.graphManager,O)},V.prototype.newNode=function(O){return new u(this.graphManager,O)},V.prototype.newEdge=function(O){return new h(null,null,O)},V.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=g.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=g.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/g.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=g.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},V.prototype.layout=function(){var O=v.DEFAULT_CREATE_BENDS_AS_NEEDED;return O&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},V.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(p.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var I=new Set(this.getAllNodes()),z=this.nodesWithGravity.filter(function(j){return I.has(j)});this.graphManager.setAllNodesToApplyGravitation(z)}}else{var O=this.getFlatForest();if(O.length>0)this.positionNodesRadially(O);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var I=new Set(this.getAllNodes()),z=this.nodesWithGravity.filter(function(G){return I.has(G)});this.graphManager.setAllNodesToApplyGravitation(z),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},V.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%g.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(F){return O.has(F)});this.graphManager.setAllNodesToApplyGravitation(I),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var z=!this.isTreeGrowing&&!this.isGrowthFinished,G=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(z,G),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},V.prototype.getPositionsData=function(){for(var O=this.graphManager.getAllNodes(),I={},z=0;z<O.length;z++){var G=O[z].rect,F=O[z].id;I[F]={id:F,x:G.getCenterX(),y:G.getCenterY(),w:G.width,h:G.height}}return I},V.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var O=!1;if(g.ANIMATE==="during")this.emit("layoutstarted");else{for(;!O;)O=this.tick();this.graphManager.updateBounds()}},V.prototype.calculateNodesToApplyGravitationTo=function(){var O=[],I,z=this.graphManager.getGraphs(),G=z.length,F;for(F=0;F<G;F++)I=z[F],I.updateConnected(),I.isConnected||(O=O.concat(I.getNodes()));return O},V.prototype.createBendpoints=function(){var O=[];O=O.concat(this.graphManager.getAllEdges());var I=new Set,z;for(z=0;z<O.length;z++){var G=O[z];if(!I.has(G)){var F=G.getSource(),j=G.getTarget();if(F==j)G.getBendpoints().push(new k),G.getBendpoints().push(new k),this.createDummyNodesForBendpoints(G),I.add(G);else{var D=[];if(D=D.concat(F.getEdgeListToNode(j)),D=D.concat(j.getEdgeListToNode(F)),!I.has(D[0])){if(D.length>1){var X;for(X=0;X<D.length;X++){var B=D[X];B.getBendpoints().push(new k),this.createDummyNodesForBendpoints(B)}}D.forEach(function(Q){I.add(Q)})}}}if(I.size==O.length)break}},V.prototype.positionNodesRadially=function(O){for(var I=new x(0,0),z=Math.ceil(Math.sqrt(O.length)),G=0,F=0,j=0,D=new k(0,0),X=0;X<O.length;X++){X%z==0&&(j=0,F=G,X!=0&&(F+=p.DEFAULT_COMPONENT_SEPERATION),G=0);var B=O[X],Q=E.findCenterOfTree(B);I.x=j,I.y=F,D=V.radialLayout(B,Q,I),D.y>G&&(G=Math.floor(D.y)),j=Math.floor(D.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new k(v.WORLD_CENTER_X-D.x/2,v.WORLD_CENTER_Y-D.y/2))},V.radialLayout=function(O,I,z){var G=Math.max(this.maxDiagonalInTree(O),p.DEFAULT_RADIAL_SEPARATION);V.branchRadialLayout(I,null,0,359,0,G);var F=M.calculateBounds(O),j=new P;j.setDeviceOrgX(F.getMinX()),j.setDeviceOrgY(F.getMinY()),j.setWorldOrgX(z.x),j.setWorldOrgY(z.y);for(var D=0;D<O.length;D++){var X=O[D];X.transform(j)}var B=new k(F.getMaxX(),F.getMaxY());return j.inverseTransformPoint(B)},V.branchRadialLayout=function(O,I,z,G,F,j){var D=(G-z+1)/2;D<0&&(D+=180);var X=(D+z)%360,B=X*N.TWO_PI/360,Q=Math.cos(B),le=F*Math.cos(B),J=F*Math.sin(B);O.setCenter(le,J);var ie=[];ie=ie.concat(O.getEdges());var re=ie.length;I!=null&&re--;for(var Z=0,Y=ie.length,ue,Ae=O.getEdgesBetween(I);Ae.length>1;){var ae=Ae[0];Ae.splice(0,1);var Ke=ie.indexOf(ae);Ke>=0&&ie.splice(Ke,1),Y--,re--}I!=null?ue=(ie.indexOf(Ae[0])+1)%Y:ue=0;for(var Ie=Math.abs(G-z)/re,$e=ue;Z!=re;$e=++$e%Y){var Xe=ie[$e].getOtherEnd(O);if(Xe!=I){var He=(z+Z*Ie)%360,Ne=(He+Ie)%360;V.branchRadialLayout(Xe,O,He,Ne,F+j,j),Z++}}},V.maxDiagonalInTree=function(O){for(var I=_.MIN_VALUE,z=0;z<O.length;z++){var G=O[z],F=G.getDiagonal();F>I&&(I=F)}return I},V.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},V.prototype.groupZeroDegreeMembers=function(){var O=this,I={};this.memberGroups={},this.idToDummyNode={};for(var z=[],G=this.graphManager.getAllNodes(),F=0;F<G.length;F++){var j=G[F],D=j.getParent();this.getNodeDegreeWithChildren(j)===0&&(D.id==null||!this.getToBeTiled(D))&&z.push(j)}for(var F=0;F<z.length;F++){var j=z[F],X=j.getParent().id;typeof I[X]>"u"&&(I[X]=[]),I[X]=I[X].concat(j)}Object.keys(I).forEach(function(B){if(I[B].length>1){var Q="DummyCompound_"+B;O.memberGroups[Q]=I[B];var le=I[B][0].getParent(),J=new u(O.graphManager);J.id=Q,J.paddingLeft=le.paddingLeft||0,J.paddingRight=le.paddingRight||0,J.paddingBottom=le.paddingBottom||0,J.paddingTop=le.paddingTop||0,O.idToDummyNode[Q]=J;var ie=O.getGraphManager().add(O.newGraph(),J),re=le.getChild();re.add(J);for(var Z=0;Z<I[B].length;Z++){var Y=I[B][Z];re.remove(Y),ie.add(Y)}}})},V.prototype.clearCompounds=function(){var O={},I={};this.performDFSOnCompounds();for(var z=0;z<this.compoundOrder.length;z++)I[this.compoundOrder[z].id]=this.compoundOrder[z],O[this.compoundOrder[z].id]=[].concat(this.compoundOrder[z].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[z].getChild()),this.compoundOrder[z].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(O,I)},V.prototype.clearZeroDegreeMembers=function(){var O=this,I=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(z){var G=O.idToDummyNode[z];I[z]=O.tileNodes(O.memberGroups[z],G.paddingLeft+G.paddingRight),G.rect.width=I[z].width,G.rect.height=I[z].height})},V.prototype.repopulateCompounds=function(){for(var O=this.compoundOrder.length-1;O>=0;O--){var I=this.compoundOrder[O],z=I.id,G=I.paddingLeft,F=I.paddingTop;this.adjustLocations(this.tiledMemberPack[z],I.rect.x,I.rect.y,G,F)}},V.prototype.repopulateZeroDegreeMembers=function(){var O=this,I=this.tiledZeroDegreePack;Object.keys(I).forEach(function(z){var G=O.idToDummyNode[z],F=G.paddingLeft,j=G.paddingTop;O.adjustLocations(I[z],G.rect.x,G.rect.y,F,j)})},V.prototype.getToBeTiled=function(O){var I=O.id;if(this.toBeTiled[I]!=null)return this.toBeTiled[I];var z=O.getChild();if(z==null)return this.toBeTiled[I]=!1,!1;for(var G=z.getNodes(),F=0;F<G.length;F++){var j=G[F];if(this.getNodeDegree(j)>0)return this.toBeTiled[I]=!1,!1;if(j.getChild()==null){this.toBeTiled[j.id]=!1;continue}if(!this.getToBeTiled(j))return this.toBeTiled[I]=!1,!1}return this.toBeTiled[I]=!0,!0},V.prototype.getNodeDegree=function(O){for(var I=O.id,z=O.getEdges(),G=0,F=0;F<z.length;F++){var j=z[F];j.getSource().id!==j.getTarget().id&&(G=G+1)}return G},V.prototype.getNodeDegreeWithChildren=function(O){var I=this.getNodeDegree(O);if(O.getChild()==null)return I;for(var z=O.getChild().getNodes(),G=0;G<z.length;G++){var F=z[G];I+=this.getNodeDegreeWithChildren(F)}return I},V.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},V.prototype.fillCompexOrderByDFS=function(O){for(var I=0;I<O.length;I++){var z=O[I];z.getChild()!=null&&this.fillCompexOrderByDFS(z.getChild().getNodes()),this.getToBeTiled(z)&&this.compoundOrder.push(z)}},V.prototype.adjustLocations=function(O,I,z,G,F){I+=G,z+=F;for(var j=I,D=0;D<O.rows.length;D++){var X=O.rows[D];I=j;for(var B=0,Q=0;Q<X.length;Q++){var le=X[Q];le.rect.x=I,le.rect.y=z,I+=le.rect.width+O.horizontalPadding,le.rect.height>B&&(B=le.rect.height)}z+=B+O.verticalPadding}},V.prototype.tileCompoundMembers=function(O,I){var z=this;this.tiledMemberPack=[],Object.keys(O).forEach(function(G){var F=I[G];z.tiledMemberPack[G]=z.tileNodes(O[G],F.paddingLeft+F.paddingRight),F.rect.width=z.tiledMemberPack[G].width,F.rect.height=z.tiledMemberPack[G].height})},V.prototype.tileNodes=function(O,I){var z=p.TILING_PADDING_VERTICAL,G=p.TILING_PADDING_HORIZONTAL,F={rows:[],rowWidth:[],rowHeight:[],width:0,height:I,verticalPadding:z,horizontalPadding:G};O.sort(function(X,B){return X.rect.width*X.rect.height>B.rect.width*B.rect.height?-1:X.rect.width*X.rect.height<B.rect.width*B.rect.height?1:0});for(var j=0;j<O.length;j++){var D=O[j];F.rows.length==0?this.insertNodeToRow(F,D,0,I):this.canAddHorizontal(F,D.rect.width,D.rect.height)?this.insertNodeToRow(F,D,this.getShortestRowIndex(F),I):this.insertNodeToRow(F,D,F.rows.length,I),this.shiftToLastRow(F)}return F},V.prototype.insertNodeToRow=function(O,I,z,G){var F=G;if(z==O.rows.length){var j=[];O.rows.push(j),O.rowWidth.push(F),O.rowHeight.push(0)}var D=O.rowWidth[z]+I.rect.width;O.rows[z].length>0&&(D+=O.horizontalPadding),O.rowWidth[z]=D,O.width<D&&(O.width=D);var X=I.rect.height;z>0&&(X+=O.verticalPadding);var B=0;X>O.rowHeight[z]&&(B=O.rowHeight[z],O.rowHeight[z]=X,B=O.rowHeight[z]-B),O.height+=B,O.rows[z].push(I)},V.prototype.getShortestRowIndex=function(O){for(var I=-1,z=Number.MAX_VALUE,G=0;G<O.rows.length;G++)O.rowWidth[G]<z&&(I=G,z=O.rowWidth[G]);return I},V.prototype.getLongestRowIndex=function(O){for(var I=-1,z=Number.MIN_VALUE,G=0;G<O.rows.length;G++)O.rowWidth[G]>z&&(I=G,z=O.rowWidth[G]);return I},V.prototype.canAddHorizontal=function(O,I,z){var G=this.getShortestRowIndex(O);if(G<0)return!0;var F=O.rowWidth[G];if(F+O.horizontalPadding+I<=O.width)return!0;var j=0;O.rowHeight[G]<z&&G>0&&(j=z+O.verticalPadding-O.rowHeight[G]);var D;O.width-F>=I+O.horizontalPadding?D=(O.height+j)/(F+I+O.horizontalPadding):D=(O.height+j)/O.width,j=z+O.verticalPadding;var X;return O.width<I?X=(O.height+j)/I:X=(O.height+j)/O.width,X<1&&(X=1/X),D<1&&(D=1/D),D<X},V.prototype.shiftToLastRow=function(O){var I=this.getLongestRowIndex(O),z=O.rowWidth.length-1,G=O.rows[I],F=G[G.length-1],j=F.width+O.horizontalPadding;if(O.width-O.rowWidth[z]>j&&I!=z){G.splice(-1,1),O.rows[z].push(F),O.rowWidth[I]=O.rowWidth[I]-j,O.rowWidth[z]=O.rowWidth[z]+j,O.width=O.rowWidth[instance.getLongestRowIndex(O)];for(var D=Number.MIN_VALUE,X=0;X<G.length;X++)G[X].height>D&&(D=G[X].height);I>0&&(D+=O.verticalPadding);var B=O.rowHeight[I]+O.rowHeight[z];O.rowHeight[I]=D,O.rowHeight[z]<F.height+O.verticalPadding&&(O.rowHeight[z]=F.height+O.verticalPadding);var Q=O.rowHeight[I]+O.rowHeight[z];O.height+=Q-B,this.shiftToLastRow(O)}},V.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},V.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},V.prototype.reduceTrees=function(){for(var O=[],I=!0,z;I;){var G=this.graphManager.getAllNodes(),F=[];I=!1;for(var j=0;j<G.length;j++)z=G[j],z.getEdges().length==1&&!z.getEdges()[0].isInterGraph&&z.getChild()==null&&(F.push([z,z.getEdges()[0],z.getOwner()]),I=!0);if(I==!0){for(var D=[],X=0;X<F.length;X++)F[X][0].getEdges().length==1&&(D.push(F[X]),F[X][0].getOwner().remove(F[X][0]));O.push(D),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=O},V.prototype.growTree=function(O){for(var I=O.length,z=O[I-1],G,F=0;F<z.length;F++)G=z[F],this.findPlaceforPrunedNode(G),G[2].add(G[0]),G[2].add(G[1],G[1].source,G[1].target);O.splice(O.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},V.prototype.findPlaceforPrunedNode=function(O){var I,z,G=O[0];G==O[1].source?z=O[1].target:z=O[1].source;var F=z.startX,j=z.finishX,D=z.startY,X=z.finishY,B=0,Q=0,le=0,J=0,ie=[B,le,Q,J];if(D>0)for(var re=F;re<=j;re++)ie[0]+=this.grid[re][D-1].length+this.grid[re][D].length-1;if(j<this.grid.length-1)for(var re=D;re<=X;re++)ie[1]+=this.grid[j+1][re].length+this.grid[j][re].length-1;if(X<this.grid[0].length-1)for(var re=F;re<=j;re++)ie[2]+=this.grid[re][X+1].length+this.grid[re][X].length-1;if(F>0)for(var re=D;re<=X;re++)ie[3]+=this.grid[F-1][re].length+this.grid[F][re].length-1;for(var Z=_.MAX_VALUE,Y,ue,Ae=0;Ae<ie.length;Ae++)ie[Ae]<Z?(Z=ie[Ae],Y=1,ue=Ae):ie[Ae]==Z&&Y++;if(Y==3&&Z==0)ie[0]==0&&ie[1]==0&&ie[2]==0?I=1:ie[0]==0&&ie[1]==0&&ie[3]==0?I=0:ie[0]==0&&ie[2]==0&&ie[3]==0?I=3:ie[1]==0&&ie[2]==0&&ie[3]==0&&(I=2);else if(Y==2&&Z==0){var ae=Math.floor(Math.random()*2);ie[0]==0&&ie[1]==0?ae==0?I=0:I=1:ie[0]==0&&ie[2]==0?ae==0?I=0:I=2:ie[0]==0&&ie[3]==0?ae==0?I=0:I=3:ie[1]==0&&ie[2]==0?ae==0?I=1:I=2:ie[1]==0&&ie[3]==0?ae==0?I=1:I=3:ae==0?I=2:I=3}else if(Y==4&&Z==0){var ae=Math.floor(Math.random()*4);I=ae}else I=ue;I==0?G.setCenter(z.getCenterX(),z.getCenterY()-z.getHeight()/2-g.DEFAULT_EDGE_LENGTH-G.getHeight()/2):I==1?G.setCenter(z.getCenterX()+z.getWidth()/2+g.DEFAULT_EDGE_LENGTH+G.getWidth()/2,z.getCenterY()):I==2?G.setCenter(z.getCenterX(),z.getCenterY()+z.getHeight()/2+g.DEFAULT_EDGE_LENGTH+G.getHeight()/2):G.setCenter(z.getCenterX()-z.getWidth()/2-g.DEFAULT_EDGE_LENGTH-G.getWidth()/2,z.getCenterY())},t.exports=V},function(t,r,n){"use strict";var i={};i.layoutBase=n(0),i.CoSEConstants=n(1),i.CoSEEdge=n(2),i.CoSEGraph=n(3),i.CoSEGraphManager=n(4),i.CoSELayout=n(6),i.CoSENode=n(5),t.exports=i}])})});var rme=mo((e4,lB)=>{"use strict";a(function(t,r){typeof e4=="object"&&typeof lB=="object"?lB.exports=r(oB()):typeof define=="function"&&define.amd?define(["cose-base"],r):typeof e4=="object"?e4.cytoscapeCoseBilkent=r(oB()):t.cytoscapeCoseBilkent=r(t.coseBase)},"webpackUniversalModuleDefinition")(e4,function(e){return function(t){var r={};function n(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return a(n,"__webpack_require__"),n.m=t,n.c=r,n.i=function(i){return i},n.d=function(i,s,o){n.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:o})},n.n=function(i){var s=i&&i.__esModule?a(function(){return i.default},"getDefault"):a(function(){return i},"getModuleExports");return n.d(s,"a",s),s},n.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},n.p="",n(n.s=1)}([function(t,r){t.exports=e},function(t,r,n){"use strict";var i=n(0).layoutBase.LayoutConstants,s=n(0).layoutBase.FDLayoutConstants,o=n(0).CoSEConstants,u=n(0).CoSELayout,h=n(0).CoSENode,p=n(0).layoutBase.PointD,g=n(0).layoutBase.DimensionD,v={ready:a(function(){},"ready"),stop:a(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function x(N,M){var P={};for(var V in N)P[V]=N[V];for(var V in M)P[V]=M[V];return P}a(x,"extend");function k(N){this.options=x(v,N),E(this.options)}a(k,"_CoSELayout");var E=a(function(M){M.nodeRepulsion!=null&&(o.DEFAULT_REPULSION_STRENGTH=s.DEFAULT_REPULSION_STRENGTH=M.nodeRepulsion),M.idealEdgeLength!=null&&(o.DEFAULT_EDGE_LENGTH=s.DEFAULT_EDGE_LENGTH=M.idealEdgeLength),M.edgeElasticity!=null&&(o.DEFAULT_SPRING_STRENGTH=s.DEFAULT_SPRING_STRENGTH=M.edgeElasticity),M.nestingFactor!=null&&(o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=M.nestingFactor),M.gravity!=null&&(o.DEFAULT_GRAVITY_STRENGTH=s.DEFAULT_GRAVITY_STRENGTH=M.gravity),M.numIter!=null&&(o.MAX_ITERATIONS=s.MAX_ITERATIONS=M.numIter),M.gravityRange!=null&&(o.DEFAULT_GRAVITY_RANGE_FACTOR=s.DEFAULT_GRAVITY_RANGE_FACTOR=M.gravityRange),M.gravityCompound!=null&&(o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=M.gravityCompound),M.gravityRangeCompound!=null&&(o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=M.gravityRangeCompound),M.initialEnergyOnIncremental!=null&&(o.DEFAULT_COOLING_FACTOR_INCREMENTAL=s.DEFAULT_COOLING_FACTOR_INCREMENTAL=M.initialEnergyOnIncremental),M.quality=="draft"?i.QUALITY=0:M.quality=="proof"?i.QUALITY=2:i.QUALITY=1,o.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=M.nodeDimensionsIncludeLabels,o.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!M.randomize,o.ANIMATE=s.ANIMATE=i.ANIMATE=M.animate,o.TILE=M.tile,o.TILING_PADDING_VERTICAL=typeof M.tilingPaddingVertical=="function"?M.tilingPaddingVertical.call():M.tilingPaddingVertical,o.TILING_PADDING_HORIZONTAL=typeof M.tilingPaddingHorizontal=="function"?M.tilingPaddingHorizontal.call():M.tilingPaddingHorizontal},"getUserOptions");k.prototype.run=function(){var N,M,P=this.options,V=this.idToLNode={},H=this.layout=new u,O=this;O.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var I=H.newGraphManager();this.gm=I;var z=this.options.eles.nodes(),G=this.options.eles.edges();this.root=I.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(z),H);for(var F=0;F<G.length;F++){var j=G[F],D=this.idToLNode[j.data("source")],X=this.idToLNode[j.data("target")];if(D!==X&&D.getEdgesBetween(X).length==0){var B=I.add(H.newEdge(),D,X);B.id=j.id()}}var Q=a(function(ie,re){typeof ie=="number"&&(ie=re);var Z=ie.data("id"),Y=O.idToLNode[Z];return{x:Y.getRect().getCenterX(),y:Y.getRect().getCenterY()}},"getPositions"),le=a(function J(){for(var ie=a(function(){P.fit&&P.cy.fit(P.eles,P.padding),N||(N=!0,O.cy.one("layoutready",P.ready),O.cy.trigger({type:"layoutready",layout:O}))},"afterReposition"),re=O.options.refresh,Z,Y=0;Y<re&&!Z;Y++)Z=O.stopped||O.layout.tick();if(Z){H.checkLayoutSuccess()&&!H.isSubLayout&&H.doPostLayout(),H.tilingPostLayout&&H.tilingPostLayout(),H.isLayoutFinished=!0,O.options.eles.nodes().positions(Q),ie(),O.cy.one("layoutstop",O.options.stop),O.cy.trigger({type:"layoutstop",layout:O}),M&&cancelAnimationFrame(M),N=!1;return}var ue=O.layout.getPositionsData();P.eles.nodes().positions(function(Ae,ae){if(typeof Ae=="number"&&(Ae=ae),!Ae.isParent()){for(var Ke=Ae.id(),Ie=ue[Ke],$e=Ae;Ie==null&&(Ie=ue[$e.data("parent")]||ue["DummyCompound_"+$e.data("parent")],ue[Ke]=Ie,$e=$e.parent()[0],$e!=null););return Ie!=null?{x:Ie.x,y:Ie.y}:{x:Ae.position("x"),y:Ae.position("y")}}}),ie(),M=requestAnimationFrame(J)},"iterateAnimated");return H.addListener("layoutstarted",function(){O.options.animate==="during"&&(M=requestAnimationFrame(le))}),H.runLayout(),this.options.animate!=="during"&&(O.options.eles.nodes().not(":parent").layoutPositions(O,O.options,Q),N=!1),this},k.prototype.getTopMostNodes=function(N){for(var M={},P=0;P<N.length;P++)M[N[P].id()]=!0;var V=N.filter(function(H,O){typeof H=="number"&&(H=O);for(var I=H.parent()[0];I!=null;){if(M[I.id()])return!1;I=I.parent()[0]}return!0});return V},k.prototype.processChildrenList=function(N,M,P){for(var V=M.length,H=0;H<V;H++){var O=M[H],I=O.children(),z,G=O.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(O.outerWidth()!=null&&O.outerHeight()!=null?z=N.add(new h(P.graphManager,new p(O.position("x")-G.w/2,O.position("y")-G.h/2),new g(parseFloat(G.w),parseFloat(G.h)))):z=N.add(new h(this.graphManager)),z.id=O.data("id"),z.paddingLeft=parseInt(O.css("padding")),z.paddingTop=parseInt(O.css("padding")),z.paddingRight=parseInt(O.css("padding")),z.paddingBottom=parseInt(O.css("padding")),this.options.nodeDimensionsIncludeLabels&&O.isParent()){var F=O.boundingBox({includeLabels:!0,includeNodes:!1}).w,j=O.boundingBox({includeLabels:!0,includeNodes:!1}).h,D=O.css("text-halign");z.labelWidth=F,z.labelHeight=j,z.labelPos=D}if(this.idToLNode[O.data("id")]=z,isNaN(z.rect.x)&&(z.rect.x=0),isNaN(z.rect.y)&&(z.rect.y=0),I!=null&&I.length>0){var X;X=P.getGraphManager().add(P.newGraph(),z),this.processChildrenList(X,I,P)}}},k.prototype.stop=function(){return this.stopped=!0,this};var _=a(function(M){M("layout","cose-bilkent",k)},"register");typeof cytoscape<"u"&&_(cytoscape),t.exports=_}])})});function LKe(e,t,r,n,i){return e.insert("polygon",":first-child").attr("points",n.map(function(s){return s.x+","+s.y}).join(" ")).attr("transform","translate("+(i.width-t)/2+", "+r+")")}var TKe,EKe,CKe,SKe,_Ke,AKe,DKe,RKe,nme,ime,ame=L(()=>{"use strict";zd();kn();TKe=12,EKe=a(function(e,t,r,n){t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${-r.height+2*5} q0,-5 5,-5 h${r.width-2*5} q5,0 5,5 v${r.height-5} H0 Z`),t.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),CKe=a(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),SKe=a(function(e,t,r){let n=r.width,i=r.height,s=.15*n,o=.25*n,u=.35*n,h=.2*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${s},${s} 0 0,1 ${n*.25},${-1*n*.1}
      a${u},${u} 1 0,1 ${n*.4},${-1*n*.1}
      a${o},${o} 1 0,1 ${n*.35},${1*n*.2}

      a${s},${s} 1 0,1 ${n*.15},${1*i*.35}
      a${h},${h} 1 0,1 ${-1*n*.15},${1*i*.65}

      a${o},${s} 1 0,1 ${-1*n*.25},${n*.15}
      a${u},${u} 1 0,1 ${-1*n*.5},0
      a${s},${s} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${s},${s} 1 0,1 ${-1*n*.1},${-1*i*.35}
      a${h},${h} 1 0,1 ${n*.1},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),_Ke=a(function(e,t,r){let n=r.width,i=r.height,s=.15*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${s},${s} 1 0,0 ${n*.25},${-1*i*.1}
      a${s},${s} 1 0,0 ${n*.25},0
      a${s},${s} 1 0,0 ${n*.25},0
      a${s},${s} 1 0,0 ${n*.25},${1*i*.1}

      a${s},${s} 1 0,0 ${n*.15},${1*i*.33}
      a${s*.8},${s*.8} 1 0,0 0,${1*i*.34}
      a${s},${s} 1 0,0 ${-1*n*.15},${1*i*.33}

      a${s},${s} 1 0,0 ${-1*n*.25},${i*.15}
      a${s},${s} 1 0,0 ${-1*n*.25},0
      a${s},${s} 1 0,0 ${-1*n*.25},0
      a${s},${s} 1 0,0 ${-1*n*.25},${-1*i*.15}

      a${s},${s} 1 0,0 ${-1*n*.1},${-1*i*.33}
      a${s*.8},${s*.8} 1 0,0 0,${-1*i*.34}
      a${s},${s} 1 0,0 ${n*.1},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),AKe=a(function(e,t,r){t.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("r",r.width/2)},"circleBkg");a(LKe,"insertPolygonShape");DKe=a(function(e,t,r){let n=r.height,s=n/4,o=r.width-r.padding+2*s,u=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-n/2},{x:o-s,y:-n},{x:s,y:-n},{x:0,y:-n/2}];LKe(t,o,n,u,r)},"hexagonBkg"),RKe=a(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),nme=a(function(e,t,r,n,i){let s=i.htmlLabels,o=n%(TKe-1),u=t.append("g");r.section=o;let h="section-"+o;o<0&&(h+=" section-root"),u.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+h);let p=u.append("g"),g=u.append("g"),v=r.descr.replace(/(<br\/*>)/g,`
`),x=Fd(g,v,{useHtmlLabels:s,width:r.width,classes:"mindmap-node-label"},i);s||g.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");let k=g.node().getBBox(),[E]=Kc(i.fontSize);if(r.height=k.height+E*1.1*.5+r.padding,r.width=k.width+2*r.padding,r.icon)if(r.type===e.nodeType.CIRCLE)r.height+=50,r.width+=50,u.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+o+" "+r.icon),g.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;let _=r.height;r.height=Math.max(_,60);let N=Math.abs(r.height-_);u.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+N/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+o+" "+r.icon),g.attr("transform","translate("+(25+r.width/2)+", "+(N/2+r.padding/2)+")")}else if(s){let _=(r.width-k.width)/2,N=(r.height-k.height)/2;g.attr("transform","translate("+_+", "+N+")")}else{let _=r.width/2,N=r.padding/2;g.attr("transform","translate("+_+", "+N+")")}switch(r.type){case e.nodeType.DEFAULT:EKe(e,p,r,o);break;case e.nodeType.ROUNDED_RECT:RKe(e,p,r,o);break;case e.nodeType.RECT:CKe(e,p,r,o);break;case e.nodeType.CIRCLE:p.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),AKe(e,p,r,o);break;case e.nodeType.CLOUD:SKe(e,p,r,o);break;case e.nodeType.BANG:_Ke(e,p,r,o);break;case e.nodeType.HEXAGON:DKe(e,p,r,o);break}return e.setElementForId(r.id,u),r.height},"drawNode"),ime=a(function(e,t){let r=e.getElementById(t.id),n=t.x||0,i=t.y||0;r.attr("transform","translate("+n+","+i+")")},"positionNode")});function ome(e,t,r,n,i){nme(e,t,r,n,i),r.children&&r.children.forEach((s,o)=>{ome(e,t,s,n<0?o:n,i)})}function IKe(e,t){t.edges().map((r,n)=>{let i=r.data();if(r[0]._private.bodyBounds){let s=r[0]._private.rscratch;ce.trace("Edge: ",n,i),e.insert("path").attr("d",`M ${s.startX},${s.startY} L ${s.midX},${s.midY} L${s.endX},${s.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}function lme(e,t,r,n){t.add({group:"nodes",data:{id:e.id.toString(),labelText:e.descr,height:e.height,width:e.width,level:n,nodeId:e.id,padding:e.padding,type:e.type},position:{x:e.x,y:e.y}}),e.children&&e.children.forEach(i=>{lme(i,t,r,n+1),t.add({group:"edges",data:{id:`${e.id}_${i.id}`,source:e.id,target:i.id,depth:n,section:i.section}})})}function MKe(e,t){return new Promise(r=>{let n=ut("body").append("div").attr("id","cy").attr("style","display:none"),i=(0,uB.default)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),lme(e,i,t,0),i.nodes().forEach(function(s){s.layoutDimensions=()=>{let o=s.data();return{w:o.width,h:o.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(s=>{ce.info("Ready",s),r(i)})})}function NKe(e,t){t.nodes().map((r,n)=>{let i=r.data();i.x=r.position().x,i.y=r.position().y,ime(e,i);let s=e.getElementById(i.nodeId);ce.info("Id:",n,"Position: (",r.position().x,", ",r.position().y,")",i),s.attr("transform",`translate(${r.position().x-i.width/2}, ${r.position().y-i.height/2})`),s.attr("attr",`apa-${n})`)})}var uB,sme,OKe,ume,cme=L(()=>{"use strict";uB=_s(tme(),1),sme=_s(rme(),1);Wr();Vr();ar();Cu();si();ame();jo();uB.default.use(sme.default);a(ome,"drawNodes");a(IKe,"drawEdges");a(lme,"addNodes");a(MKe,"layoutMindmap");a(NKe,"positionNodes");OKe=a(async(e,t,r,n)=>{ce.debug(`Rendering mindmap diagram
`+e);let i=n.db,s=i.getMindmap();if(!s)return;let o=we();o.htmlLabels=!1;let u=ca(t),h=u.append("g");h.attr("class","mindmap-edges");let p=u.append("g");p.attr("class","mindmap-nodes"),ome(i,p,s,-1,o);let g=await MKe(s,o);IKe(h,g),NKe(i,g),tl(void 0,u,o.mindmap?.padding??tn.mindmap.padding,o.mindmap?.useMaxWidth??tn.mindmap.useMaxWidth)},"draw"),ume={draw:OKe}});var PKe,BKe,hme,fme=L(()=>{"use strict";Zu();PKe=a(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],xo(e["lineColor"+r])?e["lineColor"+r]=ur(e["lineColor"+r],20):e["lineColor"+r]=gr(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),BKe=a(e=>`
  .edge {
    stroke-width: 3;
  }
  ${PKe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),hme=BKe});var dme={};Hr(dme,{diagram:()=>FKe});var FKe,pme=L(()=>{"use strict";Qpe();eme();cme();fme();FKe={db:Jpe,renderer:ume,parser:Kpe,styles:hme}});var cB,t4,yme=L(()=>{"use strict";cB=function(){var e=a(function(u,h,p,g){for(p=p||{},g=u.length;g--;p[u[g]]=h);return p},"o"),t=[1,9],r=[1,10],n=[1,5,10,12],i={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:a(function(h,p,g,v,x,k,E){var _=k.length-1;switch(x){case 7:let N=v.findOrCreateNode(k[_-4].trim().replaceAll('""','"')),M=v.findOrCreateNode(k[_-2].trim().replaceAll('""','"')),P=parseFloat(k[_].trim());v.addLink(N,M,P);break;case 8:case 9:case 11:this.$=k[_];break;case 10:this.$=k[_-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(n,[2,8]),e(n,[2,9]),{19:[1,16]},e(n,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(n,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:a(function(h,p){if(p.recoverable)this.trace(h);else{var g=new Error(h);throw g.hash=p,g}},"parseError"),parse:a(function(h){var p=this,g=[0],v=[],x=[null],k=[],E=this.table,_="",N=0,M=0,P=0,V=2,H=1,O=k.slice.call(arguments,1),I=Object.create(this.lexer),z={yy:{}};for(var G in this.yy)Object.prototype.hasOwnProperty.call(this.yy,G)&&(z.yy[G]=this.yy[G]);I.setInput(h,z.yy),z.yy.lexer=I,z.yy.parser=this,typeof I.yylloc>"u"&&(I.yylloc={});var F=I.yylloc;k.push(F);var j=I.options&&I.options.ranges;typeof z.yy.parseError=="function"?this.parseError=z.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function D(Ie){g.length=g.length-2*Ie,x.length=x.length-Ie,k.length=k.length-Ie}a(D,"popStack");function X(){var Ie;return Ie=v.pop()||I.lex()||H,typeof Ie!="number"&&(Ie instanceof Array&&(v=Ie,Ie=v.pop()),Ie=p.symbols_[Ie]||Ie),Ie}a(X,"lex");for(var B,Q,le,J,ie,re,Z={},Y,ue,Ae,ae;;){if(le=g[g.length-1],this.defaultActions[le]?J=this.defaultActions[le]:((B===null||typeof B>"u")&&(B=X()),J=E[le]&&E[le][B]),typeof J>"u"||!J.length||!J[0]){var Ke="";ae=[];for(Y in E[le])this.terminals_[Y]&&Y>V&&ae.push("'"+this.terminals_[Y]+"'");I.showPosition?Ke="Parse error on line "+(N+1)+`:
`+I.showPosition()+`
Expecting `+ae.join(", ")+", got '"+(this.terminals_[B]||B)+"'":Ke="Parse error on line "+(N+1)+": Unexpected "+(B==H?"end of input":"'"+(this.terminals_[B]||B)+"'"),this.parseError(Ke,{text:I.match,token:this.terminals_[B]||B,line:I.yylineno,loc:F,expected:ae})}if(J[0]instanceof Array&&J.length>1)throw new Error("Parse Error: multiple actions possible at state: "+le+", token: "+B);switch(J[0]){case 1:g.push(B),x.push(I.yytext),k.push(I.yylloc),g.push(J[1]),B=null,Q?(B=Q,Q=null):(M=I.yyleng,_=I.yytext,N=I.yylineno,F=I.yylloc,P>0&&P--);break;case 2:if(ue=this.productions_[J[1]][1],Z.$=x[x.length-ue],Z._$={first_line:k[k.length-(ue||1)].first_line,last_line:k[k.length-1].last_line,first_column:k[k.length-(ue||1)].first_column,last_column:k[k.length-1].last_column},j&&(Z._$.range=[k[k.length-(ue||1)].range[0],k[k.length-1].range[1]]),re=this.performAction.apply(Z,[_,M,N,z.yy,J[1],x,k].concat(O)),typeof re<"u")return re;ue&&(g=g.slice(0,-1*ue*2),x=x.slice(0,-1*ue),k=k.slice(0,-1*ue)),g.push(this.productions_[J[1]][0]),x.push(Z.$),k.push(Z._$),Ae=E[g[g.length-2]][g[g.length-1]],g.push(Ae);break;case 3:return!0}}return!0},"parse")},s=function(){var u={EOF:1,parseError:a(function(p,g){if(this.yy.parser)this.yy.parser.parseError(p,g);else throw new Error(p)},"parseError"),setInput:function(h,p){return this.yy=p||this.yy||{},this._input=h,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var h=this._input[0];this.yytext+=h,this.yyleng++,this.offset++,this.match+=h,this.matched+=h;var p=h.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),h},unput:function(h){var p=h.length,g=h.split(/(?:\r\n?|\n)/g);this._input=h+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p),this.offset-=p;var v=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),g.length-1&&(this.yylineno-=g.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:g?(g.length===v.length?this.yylloc.first_column:0)+v[v.length-g.length].length-g[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(h){this.unput(this.match.slice(h))},pastInput:function(){var h=this.matched.substr(0,this.matched.length-this.match.length);return(h.length>20?"...":"")+h.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var h=this.match;return h.length<20&&(h+=this._input.substr(0,20-h.length)),(h.substr(0,20)+(h.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var h=this.pastInput(),p=new Array(h.length+1).join("-");return h+this.upcomingInput()+`
`+p+"^"},test_match:function(h,p){var g,v,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),v=h[0].match(/(?:\r\n?|\n).*/g),v&&(this.yylineno+=v.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:v?v[v.length-1].length-v[v.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+h[0].length},this.yytext+=h[0],this.match+=h[0],this.matches=h,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(h[0].length),this.matched+=h[0],g=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),g)return g;if(this._backtrack){for(var k in x)this[k]=x[k];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var h,p,g,v;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),k=0;k<x.length;k++)if(g=this._input.match(this.rules[x[k]]),g&&(!p||g[0].length>p[0].length)){if(p=g,v=k,this.options.backtrack_lexer){if(h=this.test_match(g,x[k]),h!==!1)return h;if(this._backtrack){p=!1;continue}else return!1}else if(!this.options.flex)break}return p?(h=this.test_match(p,x[v]),h!==!1?h:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var p=this.next();return p||this.lex()},"lex"),begin:a(function(p){this.conditionStack.push(p)},"begin"),popState:a(function(){var p=this.conditionStack.length-1;return p>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(p){return p=this.conditionStack.length-1-Math.abs(p||0),p>=0?this.conditionStack[p]:"INITIAL"},"topState"),pushState:a(function(p){this.begin(p)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(p,g,v,x){var k=x;switch(v){case 0:return this.pushState("csv"),4;break;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;break;case 5:return 20;case 6:return this.popState("escaped_text"),18;break;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return u}();i.lexer=s;function o(){this.yy={}}return a(o,"Parser"),o.prototype=i,i.Parser=o,new o}();cB.parser=cB;t4=cB});var O7,P7,N7,VKe,hB,qKe,fB,UKe,HKe,WKe,YKe,vme,xme=L(()=>{"use strict";Vr();Ln();$i();O7=[],P7=[],N7=new Map,VKe=a(()=>{O7=[],P7=[],N7=new Map,nn()},"clear"),hB=class{constructor(t,r,n=0){this.source=t;this.target=r;this.value=n}static{a(this,"SankeyLink")}},qKe=a((e,t,r)=>{O7.push(new hB(e,t,r))},"addLink"),fB=class{constructor(t){this.ID=t}static{a(this,"SankeyNode")}},UKe=a(e=>{e=Ct.sanitizeText(e,we());let t=N7.get(e);return t===void 0&&(t=new fB(e),N7.set(e,t),P7.push(t)),t},"findOrCreateNode"),HKe=a(()=>P7,"getNodes"),WKe=a(()=>O7,"getLinks"),YKe=a(()=>({nodes:P7.map(e=>({id:e.ID})),links:O7.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),vme={nodesMap:N7,getConfig:()=>we().sankey,getNodes:HKe,getLinks:WKe,getGraph:YKe,addLink:qKe,findOrCreateNode:UKe,getAccTitle:pn,setAccTitle:hn,getAccDescription:gn,setAccDescription:mn,getDiagramTitle:wn,setDiagramTitle:Dn,clear:VKe}});function r4(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var bme=L(()=>{"use strict";a(r4,"max")});function wy(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var kme=L(()=>{"use strict";a(wy,"min")});function Ty(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}var wme=L(()=>{"use strict";a(Ty,"sum")});var dB=L(()=>{"use strict";bme();kme();wme()});function XKe(e){return e.target.depth}function pB(e){return e.depth}function mB(e,t){return t-1-e.height}function n4(e,t){return e.sourceLinks.length?e.depth:t-1}function gB(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?wy(e.sourceLinks,XKe)-1:0}var yB=L(()=>{"use strict";dB();a(XKe,"targetDepth");a(pB,"left");a(mB,"right");a(n4,"justify");a(gB,"center")});function Ey(e){return function(){return e}}var Tme=L(()=>{"use strict";a(Ey,"constant")});function Eme(e,t){return B7(e.source,t.source)||e.index-t.index}function Cme(e,t){return B7(e.target,t.target)||e.index-t.index}function B7(e,t){return e.y0-t.y0}function vB(e){return e.value}function jKe(e){return e.index}function KKe(e){return e.nodes}function QKe(e){return e.links}function Sme(e,t){let r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function _me({nodes:e}){for(let t of e){let r=t.y0,n=r;for(let i of t.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(let i of t.targetLinks)i.y1=n+i.width/2,n+=i.width}}function F7(){let e=0,t=0,r=1,n=1,i=24,s=8,o,u=jKe,h=n4,p,g,v=KKe,x=QKe,k=6;function E(){let le={nodes:v.apply(null,arguments),links:x.apply(null,arguments)};return _(le),N(le),M(le),P(le),O(le),_me(le),le}a(E,"sankey"),E.update=function(le){return _me(le),le},E.nodeId=function(le){return arguments.length?(u=typeof le=="function"?le:Ey(le),E):u},E.nodeAlign=function(le){return arguments.length?(h=typeof le=="function"?le:Ey(le),E):h},E.nodeSort=function(le){return arguments.length?(p=le,E):p},E.nodeWidth=function(le){return arguments.length?(i=+le,E):i},E.nodePadding=function(le){return arguments.length?(s=o=+le,E):s},E.nodes=function(le){return arguments.length?(v=typeof le=="function"?le:Ey(le),E):v},E.links=function(le){return arguments.length?(x=typeof le=="function"?le:Ey(le),E):x},E.linkSort=function(le){return arguments.length?(g=le,E):g},E.size=function(le){return arguments.length?(e=t=0,r=+le[0],n=+le[1],E):[r-e,n-t]},E.extent=function(le){return arguments.length?(e=+le[0][0],r=+le[1][0],t=+le[0][1],n=+le[1][1],E):[[e,t],[r,n]]},E.iterations=function(le){return arguments.length?(k=+le,E):k};function _({nodes:le,links:J}){for(let[re,Z]of le.entries())Z.index=re,Z.sourceLinks=[],Z.targetLinks=[];let ie=new Map(le.map((re,Z)=>[u(re,Z,le),re]));for(let[re,Z]of J.entries()){Z.index=re;let{source:Y,target:ue}=Z;typeof Y!="object"&&(Y=Z.source=Sme(ie,Y)),typeof ue!="object"&&(ue=Z.target=Sme(ie,ue)),Y.sourceLinks.push(Z),ue.targetLinks.push(Z)}if(g!=null)for(let{sourceLinks:re,targetLinks:Z}of le)re.sort(g),Z.sort(g)}a(_,"computeNodeLinks");function N({nodes:le}){for(let J of le)J.value=J.fixedValue===void 0?Math.max(Ty(J.sourceLinks,vB),Ty(J.targetLinks,vB)):J.fixedValue}a(N,"computeNodeValues");function M({nodes:le}){let J=le.length,ie=new Set(le),re=new Set,Z=0;for(;ie.size;){for(let Y of ie){Y.depth=Z;for(let{target:ue}of Y.sourceLinks)re.add(ue)}if(++Z>J)throw new Error("circular link");ie=re,re=new Set}}a(M,"computeNodeDepths");function P({nodes:le}){let J=le.length,ie=new Set(le),re=new Set,Z=0;for(;ie.size;){for(let Y of ie){Y.height=Z;for(let{source:ue}of Y.targetLinks)re.add(ue)}if(++Z>J)throw new Error("circular link");ie=re,re=new Set}}a(P,"computeNodeHeights");function V({nodes:le}){let J=r4(le,Z=>Z.depth)+1,ie=(r-e-i)/(J-1),re=new Array(J);for(let Z of le){let Y=Math.max(0,Math.min(J-1,Math.floor(h.call(null,Z,J))));Z.layer=Y,Z.x0=e+Y*ie,Z.x1=Z.x0+i,re[Y]?re[Y].push(Z):re[Y]=[Z]}if(p)for(let Z of re)Z.sort(p);return re}a(V,"computeNodeLayers");function H(le){let J=wy(le,ie=>(n-t-(ie.length-1)*o)/Ty(ie,vB));for(let ie of le){let re=t;for(let Z of ie){Z.y0=re,Z.y1=re+Z.value*J,re=Z.y1+o;for(let Y of Z.sourceLinks)Y.width=Y.value*J}re=(n-re+o)/(ie.length+1);for(let Z=0;Z<ie.length;++Z){let Y=ie[Z];Y.y0+=re*(Z+1),Y.y1+=re*(Z+1)}X(ie)}}a(H,"initializeNodeBreadths");function O(le){let J=V(le);o=Math.min(s,(n-t)/(r4(J,ie=>ie.length)-1)),H(J);for(let ie=0;ie<k;++ie){let re=Math.pow(.99,ie),Z=Math.max(1-re,(ie+1)/k);z(J,re,Z),I(J,re,Z)}}a(O,"computeNodeBreadths");function I(le,J,ie){for(let re=1,Z=le.length;re<Z;++re){let Y=le[re];for(let ue of Y){let Ae=0,ae=0;for(let{source:Ie,value:$e}of ue.targetLinks){let Xe=$e*(ue.layer-Ie.layer);Ae+=B(Ie,ue)*Xe,ae+=Xe}if(!(ae>0))continue;let Ke=(Ae/ae-ue.y0)*J;ue.y0+=Ke,ue.y1+=Ke,D(ue)}p===void 0&&Y.sort(B7),G(Y,ie)}}a(I,"relaxLeftToRight");function z(le,J,ie){for(let re=le.length,Z=re-2;Z>=0;--Z){let Y=le[Z];for(let ue of Y){let Ae=0,ae=0;for(let{target:Ie,value:$e}of ue.sourceLinks){let Xe=$e*(Ie.layer-ue.layer);Ae+=Q(ue,Ie)*Xe,ae+=Xe}if(!(ae>0))continue;let Ke=(Ae/ae-ue.y0)*J;ue.y0+=Ke,ue.y1+=Ke,D(ue)}p===void 0&&Y.sort(B7),G(Y,ie)}}a(z,"relaxRightToLeft");function G(le,J){let ie=le.length>>1,re=le[ie];j(le,re.y0-o,ie-1,J),F(le,re.y1+o,ie+1,J),j(le,n,le.length-1,J),F(le,t,0,J)}a(G,"resolveCollisions");function F(le,J,ie,re){for(;ie<le.length;++ie){let Z=le[ie],Y=(J-Z.y0)*re;Y>1e-6&&(Z.y0+=Y,Z.y1+=Y),J=Z.y1+o}}a(F,"resolveCollisionsTopToBottom");function j(le,J,ie,re){for(;ie>=0;--ie){let Z=le[ie],Y=(Z.y1-J)*re;Y>1e-6&&(Z.y0-=Y,Z.y1-=Y),J=Z.y0-o}}a(j,"resolveCollisionsBottomToTop");function D({sourceLinks:le,targetLinks:J}){if(g===void 0){for(let{source:{sourceLinks:ie}}of J)ie.sort(Cme);for(let{target:{targetLinks:ie}}of le)ie.sort(Eme)}}a(D,"reorderNodeLinks");function X(le){if(g===void 0)for(let{sourceLinks:J,targetLinks:ie}of le)J.sort(Cme),ie.sort(Eme)}a(X,"reorderLinks");function B(le,J){let ie=le.y0-(le.sourceLinks.length-1)*o/2;for(let{target:re,width:Z}of le.sourceLinks){if(re===J)break;ie+=Z+o}for(let{source:re,width:Z}of J.targetLinks){if(re===le)break;ie-=Z}return ie}a(B,"targetTop");function Q(le,J){let ie=J.y0-(J.targetLinks.length-1)*o/2;for(let{source:re,width:Z}of J.targetLinks){if(re===le)break;ie+=Z+o}for(let{target:re,width:Z}of le.sourceLinks){if(re===J)break;ie-=Z}return ie}return a(Q,"sourceTop"),E}var Ame=L(()=>{"use strict";dB();yB();Tme();a(Eme,"ascendingSourceBreadth");a(Cme,"ascendingTargetBreadth");a(B7,"ascendingBreadth");a(vB,"value");a(jKe,"defaultId");a(KKe,"defaultNodes");a(QKe,"defaultLinks");a(Sme,"find");a(_me,"computeLinkBreadths");a(F7,"Sankey")});function kB(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Lme(){return new kB}var xB,bB,lm,ZKe,wB,Dme=L(()=>{"use strict";xB=Math.PI,bB=2*xB,lm=1e-6,ZKe=bB-lm;a(kB,"Path");a(Lme,"path");kB.prototype=Lme.prototype={constructor:kB,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,s){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var s=this._x1,o=this._y1,u=r-e,h=n-t,p=s-e,g=o-t,v=p*p+g*g;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(v>lm)if(!(Math.abs(g*u-h*p)>lm)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var x=r-s,k=n-o,E=u*u+h*h,_=x*x+k*k,N=Math.sqrt(E),M=Math.sqrt(v),P=i*Math.tan((xB-Math.acos((E+v-_)/(2*N*M)))/2),V=P/M,H=P/N;Math.abs(V-1)>lm&&(this._+="L"+(e+V*p)+","+(t+V*g)),this._+="A"+i+","+i+",0,0,"+ +(g*x>p*k)+","+(this._x1=e+H*u)+","+(this._y1=t+H*h)}},arc:function(e,t,r,n,i,s){e=+e,t=+t,r=+r,s=!!s;var o=r*Math.cos(n),u=r*Math.sin(n),h=e+o,p=t+u,g=1^s,v=s?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+h+","+p:(Math.abs(this._x1-h)>lm||Math.abs(this._y1-p)>lm)&&(this._+="L"+h+","+p),r&&(v<0&&(v=v%bB+bB),v>ZKe?this._+="A"+r+","+r+",0,1,"+g+","+(e-o)+","+(t-u)+"A"+r+","+r+",0,1,"+g+","+(this._x1=h)+","+(this._y1=p):v>lm&&(this._+="A"+r+","+r+",0,"+ +(v>=xB)+","+g+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};wB=Lme});var Rme=L(()=>{"use strict";Dme()});function z7(e){return a(function(){return e},"constant")}var Ime=L(()=>{"use strict";a(z7,"default")});function Mme(e){return e[0]}function Nme(e){return e[1]}var Ome=L(()=>{"use strict";a(Mme,"x");a(Nme,"y")});var Pme,Bme=L(()=>{"use strict";Pme=Array.prototype.slice});function JKe(e){return e.source}function eQe(e){return e.target}function tQe(e){var t=JKe,r=eQe,n=Mme,i=Nme,s=null;function o(){var u,h=Pme.call(arguments),p=t.apply(this,h),g=r.apply(this,h);if(s||(s=u=wB()),e(s,+n.apply(this,(h[0]=p,h)),+i.apply(this,h),+n.apply(this,(h[0]=g,h)),+i.apply(this,h)),u)return s=null,u+""||null}return a(o,"link"),o.source=function(u){return arguments.length?(t=u,o):t},o.target=function(u){return arguments.length?(r=u,o):r},o.x=function(u){return arguments.length?(n=typeof u=="function"?u:z7(+u),o):n},o.y=function(u){return arguments.length?(i=typeof u=="function"?u:z7(+u),o):i},o.context=function(u){return arguments.length?(s=u??null,o):s},o}function rQe(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function TB(){return tQe(rQe)}var Fme=L(()=>{"use strict";Rme();Bme();Ime();Ome();a(JKe,"linkSource");a(eQe,"linkTarget");a(tQe,"link");a(rQe,"curveHorizontal");a(TB,"linkHorizontal")});var zme=L(()=>{"use strict";Fme()});function nQe(e){return[e.source.x1,e.y0]}function iQe(e){return[e.target.x0,e.y1]}function $7(){return TB().source(nQe).target(iQe)}var $me=L(()=>{"use strict";zme();a(nQe,"horizontalSource");a(iQe,"horizontalTarget");a($7,"default")});var Gme=L(()=>{"use strict";Ame();yB();$me()});var i4,Vme=L(()=>{"use strict";i4=class e{static{a(this,"Uid")}static{this.count=0}static next(t){return new e(t+ ++e.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}}});var aQe,sQe,qme,Ume=L(()=>{"use strict";Vr();Wr();Gme();si();Vme();aQe={left:pB,right:mB,center:gB,justify:n4},sQe=a(function(e,t,r,n){let{securityLevel:i,sankey:s}=we(),o=Uk.sankey,u;i==="sandbox"&&(u=ut("#i"+t));let h=i==="sandbox"?ut(u.nodes()[0].contentDocument.body):ut("body"),p=i==="sandbox"?h.select(`[id="${t}"]`):ut(`[id="${t}"]`),g=s?.width??o.width,v=s?.height??o.width,x=s?.useMaxWidth??o.useMaxWidth,k=s?.nodeAlignment??o.nodeAlignment,E=s?.prefix??o.prefix,_=s?.suffix??o.suffix,N=s?.showValues??o.showValues,M=n.db.getGraph(),P=aQe[k];F7().nodeId(j=>j.id).nodeWidth(10).nodePadding(10+(N?15:0)).nodeAlign(P).extent([[0,0],[g,v]])(M);let O=Uu(zv);p.append("g").attr("class","nodes").selectAll(".node").data(M.nodes).join("g").attr("class","node").attr("id",j=>(j.uid=i4.next("node-")).id).attr("transform",function(j){return"translate("+j.x0+","+j.y0+")"}).attr("x",j=>j.x0).attr("y",j=>j.y0).append("rect").attr("height",j=>j.y1-j.y0).attr("width",j=>j.x1-j.x0).attr("fill",j=>O(j.id));let I=a(({id:j,value:D})=>N?`${j}
${E}${Math.round(D*100)/100}${_}`:j,"getText");p.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(M.nodes).join("text").attr("x",j=>j.x0<g/2?j.x1+6:j.x0-6).attr("y",j=>(j.y1+j.y0)/2).attr("dy",`${N?"0":"0.35"}em`).attr("text-anchor",j=>j.x0<g/2?"start":"end").text(I);let z=p.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(M.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),G=s?.linkColor||"gradient";if(G==="gradient"){let j=z.append("linearGradient").attr("id",D=>(D.uid=i4.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",D=>D.source.x1).attr("x2",D=>D.target.x0);j.append("stop").attr("offset","0%").attr("stop-color",D=>O(D.source.id)),j.append("stop").attr("offset","100%").attr("stop-color",D=>O(D.target.id))}let F;switch(G){case"gradient":F=a(j=>j.uid,"coloring");break;case"source":F=a(j=>O(j.source.id),"coloring");break;case"target":F=a(j=>O(j.target.id),"coloring");break;default:F=G}z.append("path").attr("d",$7()).attr("stroke",F).attr("stroke-width",j=>Math.max(1,j.width)),tl(void 0,p,0,x)},"draw"),qme={draw:sQe}});var Hme,Wme=L(()=>{"use strict";Hme=a(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing")});var Yme={};Hr(Yme,{diagram:()=>lQe});var oQe,lQe,Xme=L(()=>{"use strict";yme();xme();Ume();Wme();oQe=t4.parse.bind(t4);t4.parse=e=>oQe(Hme(e));lQe={parser:t4,db:vme,renderer:qme}});var Qme,EB,fQe,dQe,pQe,mQe,gQe,e0,CB=L(()=>{"use strict";ro();jo();kn();$i();Qme={packet:[]},EB=structuredClone(Qme),fQe=tn.packet,dQe=a(()=>{let e=oa({...fQe,...Cn().packet});return e.showBits&&(e.paddingY+=10),e},"getConfig"),pQe=a(()=>EB.packet,"getPacket"),mQe=a(e=>{e.length>0&&EB.packet.push(e)},"pushWord"),gQe=a(()=>{nn(),EB=structuredClone(Qme)},"clear"),e0={pushWord:mQe,getPacket:pQe,getConfig:dQe,clear:gQe,setAccTitle:hn,getAccTitle:pn,setDiagramTitle:Dn,getDiagramTitle:wn,getAccDescription:gn,setAccDescription:mn}});var yQe,vQe,xQe,Zme,Jme=L(()=>{"use strict";kf();ar();Zp();CB();yQe=1e4,vQe=a(e=>{Su(e,e0);let t=-1,r=[],n=1,{bitsPerRow:i}=e0.getConfig();for(let{start:s,end:o,label:u}of e.blocks){if(o&&o<s)throw new Error(`Packet block ${s} - ${o} is invalid. End must be greater than start.`);if(s!==t+1)throw new Error(`Packet block ${s} - ${o??s} is not contiguous. It should start from ${t+1}.`);for(t=o??s,ce.debug(`Packet block ${s} - ${t} with label ${u}`);r.length<=i+1&&e0.getPacket().length<yQe;){let[h,p]=xQe({start:s,end:o,label:u},n,i);if(r.push(h),h.end+1===n*i&&(e0.pushWord(r),r=[],n++),!p)break;({start:s,end:o,label:u}=p)}}e0.pushWord(r)},"populate"),xQe=a((e,t,r)=>{if(e.end===void 0&&(e.end=e.start),e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);return e.end+1<=t*r?[e,void 0]:[{start:e.start,end:t*r-1,label:e.label},{start:t*r,end:e.end,label:e.label}]},"getNextFittingBlock"),Zme={parse:async e=>{let t=await qs("packet",e);ce.debug(t),vQe(t)}}});var bQe,kQe,ege,tge=L(()=>{"use strict";Cu();si();bQe=a((e,t,r,n)=>{let i=n.db,s=i.getConfig(),{rowHeight:o,paddingY:u,bitWidth:h,bitsPerRow:p}=s,g=i.getPacket(),v=i.getDiagramTitle(),x=o+u,k=x*(g.length+1)-(v?0:o),E=h*p+2,_=ca(t);_.attr("viewbox",`0 0 ${E} ${k}`),rn(_,k,E,s.useMaxWidth);for(let[N,M]of g.entries())kQe(_,M,N,s);_.append("text").text(v).attr("x",E/2).attr("y",k-x/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),kQe=a((e,t,r,{rowHeight:n,paddingX:i,paddingY:s,bitWidth:o,bitsPerRow:u,showBits:h})=>{let p=e.append("g"),g=r*(n+s)+s;for(let v of t){let x=v.start%u*o+1,k=(v.end-v.start+1)*o-i;if(p.append("rect").attr("x",x).attr("y",g).attr("width",k).attr("height",n).attr("class","packetBlock"),p.append("text").attr("x",x+k/2).attr("y",g+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(v.label),!h)continue;let E=v.end===v.start,_=g-2;p.append("text").attr("x",x+(E?k/2:0)).attr("y",_).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",E?"middle":"start").text(v.start),E||p.append("text").attr("x",x+k).attr("y",_).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(v.end)}},"drawWord"),ege={draw:bQe}});var wQe,rge,nge=L(()=>{"use strict";kn();wQe={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},rge=a(({packet:e}={})=>{let t=oa(wQe,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles")});var ige={};Hr(ige,{diagram:()=>TQe});var TQe,age=L(()=>{"use strict";CB();Jme();tge();nge();TQe={parser:Zme,db:e0,renderer:ege,styles:rge}});var lge,SB,SQe,_Qe,AQe,LQe,DQe,a4,_B=L(()=>{"use strict";ro();jo();kn();$i();lge={elements:[]},SB=structuredClone(lge),SQe=tn.array,_Qe=a(()=>oa({...SQe,...Cn().array}),"getConfig"),AQe=a(()=>SB.elements,"getArray"),LQe=a(e=>{SB.elements.push(e)},"addElement"),DQe=a(()=>{nn(),SB=structuredClone(lge)},"clear"),a4={addElement:LQe,getArray:AQe,getConfig:_Qe,clear:DQe,setAccTitle:hn,getAccTitle:pn,setDiagramTitle:Dn,getDiagramTitle:wn,getAccDescription:gn,setAccDescription:mn}});var RQe,uge,cge=L(()=>{"use strict";kf();ar();Zp();_B();RQe=a(e=>{Su(e,a4);for(let t of e.elements){let r=e.elements.indexOf(t);if(r<0)throw new Error(`Array index ${r} is invalid. Index must be non-negative.`);ce.debug(`Array element at index ${r} with value ${t.value}`),a4.addElement({index:r,value:t.value,arrow:!!t.arrow,context:t.context||void 0,color:t.color||"none"})}},"populate"),uge={parse:async e=>{let t=await qs("array",e);ce.debug(t),RQe(t)}}});var IQe,MQe,NQe,OQe,hge,fge=L(()=>{"use strict";Cu();si();IQe="showindex",MQe=a((e,t,r,n)=>{let i=n.db,s=i.getConfig(),{elementColor:o,borderColor:u,borderWidth:h,labelColor:p,labelFontSize:g}=s,v=i.getArray(),x=n.text.toLowerCase().includes(IQe),k=i.getDiagramTitle(),E=300,_=800,N=ca(t);N.attr("viewbox",`0 0 ${_} ${E}`),rn(N,E,_,s.useMaxWidth),OQe(N);for(let[M,P]of v.entries())NQe(N,P,M,s,x);k&&N.append("text").text(k).attr("x",_/2).attr("y",25).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","arrayTitle")},"draw"),NQe=a((e,t,r,{elementColor:n,borderColor:i,borderWidth:s,labelColor:o,labelFontSize:u},h)=>{let p=e.append("g"),g=r*50+50,v=100,x=a(k=>{switch(k){case"blue":return"rgba(0, 0, 255, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";default:return"none"}},"getColor");if(t.arrow){let k=v-40,E=v-10;p.append("line").attr("x1",g+20).attr("y1",k).attr("x2",g+20).attr("y2",E).attr("stroke","black").attr("marker-end","url(#arrowhead)"),t.context&&p.append("text").attr("x",g+20).attr("y",k-10).attr("fill",o).attr("font-size",u).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrowContext").text(t.context)}p.append("rect").attr("x",g).attr("y",v).attr("width",40).attr("height",40).style("fill",x(t.color?t.color:"none")).attr("stroke","#69b3a2").attr("stroke-width","3px").attr("class","arrayElement"),p.append("text").attr("x",g+20).attr("y",v+20).attr("fill",o).attr("font-size",u).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(t.value),h&&p.append("text").attr("x",g+20).attr("y",v+60).attr("fill",o).attr("font-size",25).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","indexLabel").text(r)},"drawElement"),OQe=a(e=>{e.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").attr("markerWidth","6").attr("markerHeight","6").attr("orient","auto-start-reverse").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black")},"defineArrowhead"),hge={draw:MQe}});var dge,pge=L(()=>{"use strict";ar();dge=a((e={})=>(ce.debug({options:e}),`
    .element {
      font-size: ${e.array?.elementFontSize??"10px"};
      fill: ${e.array?.valueColor??"black"};
    }
    .element.index {
      fill: ${e.array?.indexColor??"black"};
    }
    .element {
      stroke: ${e.array?.elementStrokeColor??"black"};
      stroke-width: ${e.array?.elementStrokeWidth??"1"};
      fill: ${e.array?.elementFillColor??"#efefef"};
    }
  `),"styles")});var mge={};Hr(mge,{diagram:()=>PQe});var PQe,gge=L(()=>{"use strict";_B();cge();fge();pge();PQe={parser:uge,db:a4,renderer:hge,styles:dge}});var xge,AB,zQe,$Qe,GQe,VQe,qQe,G7,LB=L(()=>{"use strict";ro();jo();kn();$i();xge={rows:[]},AB=structuredClone(xge),zQe=tn.matrix,$Qe=a(()=>oa({...zQe,...Cn().matrix}),"getConfig"),GQe=a(()=>AB.rows,"getMatrix"),VQe=a(e=>{AB.rows.push(e)},"addRow"),qQe=a(()=>{nn(),AB=structuredClone(xge)},"clear"),G7={addRow:VQe,getMatrix:GQe,getConfig:$Qe,clear:qQe,setAccTitle:hn,getAccTitle:pn,setDiagramTitle:Dn,getDiagramTitle:wn,getAccDescription:gn,setAccDescription:mn}});var UQe,bge,kge=L(()=>{"use strict";kf();ar();LB();UQe=a(e=>{for(let t of e.rows){let r=t.elements.map(n=>({value:n.value,color:n.color}));G7.addRow({elements:r})}},"populate"),bge={parse:async e=>{let t=await qs("matrix",e);ce.debug(t),UQe(t)}}});var HQe,WQe,YQe,XQe,wge,Tge=L(()=>{"use strict";Cu();si();HQe=a((e,t,r,n)=>{let i=n.db,s=i.getConfig(),o=i.getMatrix(),u=i.getDiagramTitle(),h=n.text.toLowerCase().includes("showindex"),p=1600,g=1600,v=ca(t);v.attr("viewbox",`0 0 ${g} ${p}`),rn(v,p,g,s.useMaxWidth),u&&v.append("text").text(u).attr("x",g/2).attr("y",25).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","matrixTitle");for(let[x,k]of o.entries())for(let[E,_]of k.elements.entries())YQe(v,_,x,E,s,h);h&&XQe(v,o.length,o[0]?.elements.length||0,s)},"draw"),WQe=a(e=>{switch(e){case"blue":return"rgba(0, 0, 255, 0.4)";case"green":return"rgba(0, 255, 0, 0.4)";case"red":return"rgba(255, 0, 0, 0.4)";default:return"none"}},"getColor"),YQe=a((e,t,r,n,{borderColor:i,borderWidth:s,labelColor:o,labelFontSize:u},h)=>{let p=e.append("g"),g=n*50+50,v=r*50+50,x=WQe(t.color);p.append("rect").attr("x",g).attr("y",v).attr("width",50).attr("height",50).style("fill",x).attr("stroke","blue").attr("stroke-width",1).attr("class","matrixElement"),p.append("text").attr("x",g+20).attr("y",v+20).attr("fill",o).attr("font-size",u).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(t.value.toString())},"drawElement"),XQe=a((e,t,r,{labelColor:n,labelFontSize:i})=>{for(let s=0;s<t;s++)e.append("text").attr("x",20).attr("y",s*50+70).attr("fill",n).attr("font-size",i).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","indexLabel").text(s.toString());for(let s=0;s<r;s++)e.append("text").attr("x",s*50+70).attr("y",t*50+70).attr("fill",n).attr("font-size",i).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","indexLabel").text(s.toString())},"drawIndices"),wge={draw:HQe}});var Ege,Cge=L(()=>{"use strict";ar();Ege=a((e={})=>(ce.debug({options:e}),`
    .element {
      font-size: ${e.array?.elementFontSize??"10px"};
      fill: ${e.array?.valueColor??"black"};
    }
    .element.index {
      fill: ${e.array?.indexColor??"black"};
    }
    .element {
      stroke: ${e.array?.elementStrokeColor??"black"};
      stroke-width: ${e.array?.elementStrokeWidth??"1"};
      fill: ${e.array?.elementFillColor??"#efefef"};
    }
  `),"styles")});var Sge={};Hr(Sge,{diagram:()=>jQe});var jQe,_ge=L(()=>{"use strict";LB();kge();Tge();Cge();jQe={parser:bge,db:G7,renderer:wge,styles:Ege}});var Dge,DB,ZQe,JQe,eZe,tZe,rZe,s4,RB=L(()=>{"use strict";ro();jo();kn();$i();Dge={slides:[]},DB=structuredClone(Dge),ZQe=tn.array,JQe=a(()=>oa({...ZQe,...Cn().array}),"getConfig"),eZe=a(()=>DB.slides,"getSlides"),tZe=a(e=>{DB.slides.push(e)},"addSlide"),rZe=a(()=>{nn(),DB=structuredClone(Dge)},"clear"),s4={addSlide:tZe,getSlides:eZe,getConfig:JQe,clear:rZe,setAccTitle:hn,getAccTitle:pn,setDiagramTitle:Dn,getDiagramTitle:wn,getAccDescription:gn,setAccDescription:mn}});var nZe,Rge,Ige=L(()=>{"use strict";kf();ar();RB();Zp();nZe=a(e=>{Su(e,s4);for(let t of e.pages){let r=t.elements.map(n=>({value:n.value,arrow:n.arrow==="arrow",context:n.context,color:n.color}));s4.addSlide({showIndex:!!t.showIndex,elements:r})}},"populate"),Rge={parse:async e=>{let t=await qs("testslides",e);ce.debug(t),nZe(t)}}});var iZe,aZe,sZe,oZe,Mge,Nge=L(()=>{"use strict";Cu();si();iZe=a((e,t,r,n)=>{let i=n.db,s=i.getConfig(),o=i.getSlides(),u=i.getDiagramTitle(),h=500,p=600,g=ca(t),v=0,x=null,k=a(M=>{g.selectAll("g.page").attr("style","display: none"),g.select(`#page${M}`).attr("style","display: inline"),g.select("#prevButton").attr("fill",M>0?"#007bff":"#c0c0c0"),g.select("#nextButton").attr("fill",M<o.length-1?"#007bff":"#c0c0c0"),g.select("#pageIndicator").text(`${M+1} / ${o.length}`)},"renderPage"),E=a((M,P)=>{let V=M.append("g").attr("class","navigation-buttons"),H=V.append("g").attr("id","prevButtonGroup").attr("cursor","pointer");H.append("rect").attr("id","prevButton").attr("x",p/2-120).attr("y",h-50).attr("width",60).attr("height",30).attr("fill","#c0c0c0"),H.append("text").text("<").attr("x",p/2-90).attr("y",h-30).attr("fill","white").attr("text-anchor","middle").attr("alignment-baseline","middle");let O=V.append("g").attr("id","nextButtonGroup").attr("cursor","pointer");O.append("rect").attr("id","nextButton").attr("x",p/2+60).attr("y",h-50).attr("width",60).attr("height",30).attr("fill","#007bff"),O.append("text").text(">").attr("x",p/2+90).attr("y",h-30).attr("fill","white").attr("text-anchor","middle").attr("alignment-baseline","middle");let I=V.append("g").attr("id","playButtonGroup").attr("cursor","pointer");I.append("rect").attr("id","playButton").attr("x",p/2-30).attr("y",h-50).attr("width",60).attr("height",30).attr("fill","#007bff"),I.append("text").text("\u25B6").attr("x",p/2).attr("y",h-30).attr("fill","white").attr("text-anchor","middle").attr("alignment-baseline","middle"),V.append("text").attr("id","pageIndicator").attr("x",p-50).attr("y",h-30).attr("fill","black").attr("text-anchor","middle").attr("alignment-baseline","middle").text(`1 / ${P}`)},"addNavigationButtons"),_=a((M,P,V)=>{let H=M.append("g").attr("id",`page${V}`).attr("class","page").attr("style",V===0?"display: inline":"display: none");u&&H.append("text").text(u).attr("x",p/2).attr("y",25).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","arrayTitle");for(let[O,I]of P.elements.entries())sZe(H,I,O,s,P.showIndex)},"drawSlide");g.attr("viewBox",`0 0 ${p} ${h}`),rn(g,h,p,s.useMaxWidth),oZe(g),o.forEach((M,P)=>{_(g,M,P)}),E(g,o.length),k(v);let N=`
    const svg = document.getElementById('${t}');
    let currentPage = 0;
    const totalPages = ${o.length};
    let playInterval = null;

    function renderPage(pageIndex) {
      const pages = svg.querySelectorAll('g.page');
      pages.forEach(page => {
        page.style.display = 'none';
      });
      svg.querySelector('#page' + pageIndex).style.display = 'inline';

      const prevButton = svg.querySelector('#prevButton');
      const nextButton = svg.querySelector('#nextButton');
      
      if (prevButton) prevButton.setAttribute('fill', pageIndex > 0 ? '#007bff' : '#c0c0c0');
      if (nextButton) nextButton.setAttribute('fill', pageIndex < totalPages - 1 ? '#007bff' : '#c0c0c0');

      // Update current page display
      svg.querySelector('#pageIndicator').textContent = (pageIndex + 1) + ' / ' + totalPages;
    }

    svg.querySelector('#prevButtonGroup').addEventListener('click', function() {
      if (currentPage > 0) {
        currentPage -= 1;
        renderPage(currentPage);
      }
    });

    svg.querySelector('#nextButtonGroup').addEventListener('click', function() {
      if (currentPage < totalPages - 1) {
        currentPage += 1;
        renderPage(currentPage);
      }
    });

    svg.querySelector('#playButtonGroup').addEventListener('click', function() {
      if (playInterval) {
        clearInterval(playInterval);
        playInterval = null;
        svg.querySelector('#playButton').setAttribute('fill', '#007bff');
        svg.querySelector('#playButton text').textContent = '\u25B6';
      } else {
        playInterval = setInterval(() => {
          if (currentPage < totalPages - 1) {
            currentPage += 1;
          } else {
            currentPage = 0;
          }
          renderPage(currentPage);
        }, 1000);
        svg.querySelector('#playButton').setAttribute('fill', '#c0c0c0');
        svg.querySelector('#playButton text').textContent = '\u275A\u275A';
      }
    });

    renderPage(currentPage);
  `;g.append("script").attr("type","text/ecmascript").text(N)},"draw"),aZe=a(e=>{switch(e){case"blue":return"rgba(0, 0, 255, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";default:return"none"}},"getColor"),sZe=a((e,t,r,{elementColor:n,borderColor:i,borderWidth:s,labelColor:o,labelFontSize:u},h)=>{let p=e.append("g"),g=r*50+50,v=100,x=aZe(t.color);if(t.arrow){let k=v-40,E=v-10;p.append("line").attr("x1",g+20).attr("y1",k).attr("x2",g+20).attr("y2",E).attr("stroke","black").attr("marker-end","url(#arrowhead)"),t.context&&p.append("text").attr("x",g+20).attr("y",k-10).attr("fill",o).attr("font-size",u).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrowContext").text(t.context)}p.append("rect").attr("x",g).attr("y",v).attr("width",40).attr("height",40).style("fill",x).attr("stroke",i).attr("stroke-width",s).attr("class","arrayElement"),p.append("text").attr("x",g+20).attr("y",v+20).attr("fill",o).attr("font-size",u).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(t.value),h&&p.append("text").attr("x",g+20).attr("y",v+60).attr("fill",o).attr("font-size",25).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","indexLabel").text(r)},"drawElement"),oZe=a(e=>{e.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").attr("markerWidth","6").attr("markerHeight","6").attr("orient","auto-start-reverse").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black")},"defineArrowhead"),Mge={draw:iZe}});var Oge,Pge=L(()=>{"use strict";ar();Oge=a((e={})=>(ce.debug({options:e}),`
    .element {
      font-size: ${e.array?.elementFontSize??"10px"};
      fill: ${e.array?.valueColor??"black"};
    }
    .element.index {
      fill: ${e.array?.indexColor??"black"};
    }
    .element {
      stroke: ${e.array?.elementStrokeColor??"black"};
      stroke-width: ${e.array?.elementStrokeWidth??"1"};
      fill: ${e.array?.elementFillColor??"#efefef"};
    }
  `),"styles")});var Bge={};Hr(Bge,{diagram:()=>lZe});var lZe,Fge=L(()=>{"use strict";RB();Ige();Nge();Pge();lZe={parser:Rge,db:s4,renderer:Mge,styles:Oge}});var Gge,IB,hZe,fZe,dZe,pZe,mZe,o4,MB=L(()=>{"use strict";ro();jo();kn();$i();Gge=[],IB=[...Gge],hZe=tn.visslides,fZe=a(()=>oa({...hZe,...Cn().visslides}),"getConfig"),dZe=a(()=>IB,"getPages"),pZe=a(e=>{IB.push(e)},"addPage"),mZe=a(()=>{nn(),IB=[...Gge]},"clear"),o4={getPages:dZe,addPage:pZe,getConfig:fZe,clear:mZe,setAccTitle:hn,getAccTitle:pn,setDiagramTitle:Dn,getDiagramTitle:wn,getAccDescription:gn,setAccDescription:mn}});var gZe,Vge,qge=L(()=>{"use strict";kf();ar();Zp();MB();gZe=a(e=>{Su(e,o4);for(let t of e.pages){let r=t.subDiagrams.map(n=>"elements"in n?{elements:n.elements.map(i=>({value:1}))}:{rows:n.rows.map(i=>({elements:i.elements.map(s=>({value:1}))}))});o4.addPage({subDiagrams:r})}},"populate"),Vge={parse:async e=>{let t=await qs("visslides",e);ce.debug(t),gZe(t)}}});var Uge,yZe,vZe,Hge=L(()=>{"use strict";Uge=a((e,t,r,n)=>{let i=e.append("g").attr("transform",`translate(0, ${r})`);t.elements.forEach((s,o)=>{yZe(i,s,o,n,t.showIndex||!1)})},"drawArrayDiagram"),yZe=a((e,t,r,{elementColor:n,borderColor:i,borderWidth:s,labelColor:o,labelFontSize:u},h)=>{let p=e.append("g"),g=r*50+50,v=50,x=vZe(t.color);if(t.arrow){let k=v-40,E=v-10;p.append("line").attr("x1",g+20).attr("y1",k).attr("x2",g+20).attr("y2",E).attr("stroke","black").attr("marker-end","url(#arrowhead)"),t.context&&p.append("text").attr("x",g+20).attr("y",k-10).attr("fill",o).attr("font-size",u).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrowContext").text(t.context)}p.append("rect").attr("x",g).attr("y",v).attr("width",40).attr("height",40).style("fill",x).attr("stroke","#191970").attr("stroke-width","2px").attr("class","arrayElement"),p.append("text").attr("x",g+20).attr("y",v+20).attr("fill",o).attr("font-size",u).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(t.value),h&&p.append("text").attr("x",g+20).attr("y",v+60).attr("fill",o).attr("font-size",25).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","indexLabel").text(r)},"drawElement"),vZe=a(e=>{switch(e){case"blue":return"rgba(0, 0, 255, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";default:return"none"}},"getColor")});var Wge,xZe,bZe,Yge=L(()=>{"use strict";Wge=a((e,t,r,n)=>{let i=e.append("g").attr("transform",`translate(0, ${r})`);t.rows.forEach((s,o)=>{s.elements.forEach((u,h)=>{xZe(i,u,o,h,n)})})},"drawMatrixDiagram"),xZe=a((e,t,r,n,{borderColor:i,borderWidth:s,labelColor:o,labelFontSize:u})=>{let h=e.append("g"),p=n*50+50,g=r*50+50,v=bZe(t.color);h.append("rect").attr("x",p).attr("y",g).attr("width",48).attr("height",48).style("fill",v).attr("stroke","#191970").attr("stroke-width","1.5px").attr("class","matrixElement"),h.append("text").attr("x",p+20).attr("y",g+20).attr("fill",o).attr("font-size",u).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(t.value.toString())},"drawElement"),bZe=a(e=>{switch(e){case"blue":return"rgba(0, 0, 255, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";default:return"none"}},"getColor")});var kZe,Xge,jge=L(()=>{"use strict";Wr();Cu();si();Hge();Yge();kZe=a((e,t,r,n)=>{let i=n.db,s=i.getConfig(),o=i.getPages(),u=i.getDiagramTitle(),h=800,p=1e3,g=ca(t),v=0,x=null,k=a(M=>{g.selectAll("g.page").attr("display","none"),g.select(`#page${M}`).attr("display","inline"),g.select("#prevButton").attr("fill",M>0?"#007bff":"#c0c0c0"),g.select("#nextButton").attr("fill",M<o.length-1?"#007bff":"#c0c0c0"),g.select("#pageIndicator").text(`${M+1} / ${o.length}`)},"renderPage"),E=a((M,P)=>{let V=M.append("g").attr("class","navigation-buttons"),H=40,O=20,I=10,z=p/2-(H*1.5+I),G=h-60,F=V.append("g").attr("id","prevButtonGroup").attr("cursor","pointer");F.append("rect").attr("id","prevButton").attr("x",z).attr("y",G).attr("width",H).attr("height",O).attr("fill","#c0c0c0"),F.append("text").text("<").attr("x",z+H/2).attr("y",G+O/2).attr("fill","white").attr("text-anchor","middle").attr("alignment-baseline","middle");let j=V.append("g").attr("id","playButtonGroup").attr("cursor","pointer");j.append("rect").attr("id","playButton").attr("x",z+H+I).attr("y",G).attr("width",H).attr("height",O).attr("fill","#007bff"),j.append("text").text("\u25B6").attr("x",z+H+I+H/2).attr("y",G+O/2).attr("fill","white").attr("text-anchor","middle").attr("alignment-baseline","middle");let D=V.append("g").attr("id","nextButtonGroup").attr("cursor","pointer");D.append("rect").attr("id","nextButton").attr("x",z+2*(H+I)).attr("y",G).attr("width",H).attr("height",O).attr("fill","#007bff"),D.append("text").text(">").attr("x",z+2*(H+I)+H/2).attr("y",G+O/2).attr("fill","white").attr("text-anchor","middle").attr("alignment-baseline","middle"),V.append("text").attr("id","pageIndicator").attr("x",p-50).attr("y",h-50).attr("fill","black").attr("text-anchor","middle").attr("alignment-baseline","middle").text(`1 / ${P}`),F.node()?.addEventListener("click",()=>{v>0&&(v-=1,k(v))}),D.node()?.addEventListener("click",()=>{v<P-1&&(v+=1,k(v))}),j.node()?.addEventListener("click",()=>{x?(clearInterval(x),x=null,ut("#playButton text").text("\u25B6"),ut("#playButton").attr("fill","#007bff")):(x=1e3,ut("#playButton text").text("\u275A\u275A"),ut("#playButton").attr("fill","#c0c0c0"))})},"addNavigationButtons"),_=a((M,P,V)=>{let H=M.append("g").attr("id",`page${V}`).attr("class","page").attr("display",V===0?"inline":"none");u&&H.append("text").text(u).attr("x",p/2).attr("y",25).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","pageTitle");let O=50;for(let I of P.subDiagrams)I.elements?(Uge(H,I,O,s),O+=100):(Wge(H,I,O,s),O+=200)},"drawPage");g.attr("viewBox",`0 0 ${p} ${h}`),rn(g,h,p,s.useMaxWidth),o.forEach((M,P)=>{_(g,M,P)}),E(g,o.length),k(v);let N=`
    (function() {
      const svg = document.getElementById('${t}');
      let currentPage = 0;
      const totalPages = ${o.length};
      let playInterval = null;

      function renderPage(pageIndex) {
        const pages = svg.querySelectorAll('g.page');
        pages.forEach(page => {
          page.style.display = 'none';
        });
        svg.querySelector('#page' + pageIndex).style.display = 'inline';

        const prevButton = svg.querySelector('#prevButton');
        const nextButton = svg.querySelector('#nextButton');
        
        if (prevButton) prevButton.setAttribute('fill', pageIndex > 0 ? '#007bff' : '#c0c0c0');
        if (nextButton) nextButton.setAttribute('fill', pageIndex < totalPages - 1 ? '#007bff' : '#c0c0c0');

        // Update current page display
        svg.querySelector('#pageIndicator').textContent = (pageIndex + 1) + ' / ' + totalPages;
      }

      svg.querySelector('#prevButtonGroup').addEventListener('click', function() {
        if (currentPage > 0) {
          currentPage -= 1;
          renderPage(currentPage);
        }
      });

      svg.querySelector('#nextButtonGroup').addEventListener('click', function() {
        if (currentPage < totalPages - 1) {
          currentPage += 1;
          renderPage(currentPage);
        }
      });

      svg.querySelector('#playButtonGroup').addEventListener('click', function() {
        if (playInterval) {
          clearInterval(playInterval);
          playInterval = null;
          svg.querySelector('#playButton text').textContent = '\u25B6';
          svg.querySelector('#playButton').setAttribute('fill', '#007bff');
        } else {
          playInterval = setInterval(() => {
            if (currentPage < totalPages - 1) {
              currentPage += 1;
            } else {
              currentPage = 0;
            }
            renderPage(currentPage);
          }, 1000);
          svg.querySelector('#playButton text').textContent = '\u275A\u275A';
          svg.querySelector('#playButton').setAttribute('fill', '#c0c0c0');
        }
      });

      renderPage(currentPage);
    })();
  `;g.append("script").attr("type","text/javascript").text(N)},"draw"),Xge={draw:kZe}});var Kge,Qge=L(()=>{"use strict";ar();Kge=a((e={})=>(ce.debug({options:e}),`
    .element {
      font-size: ${e.array?.elementFontSize??"10px"};
      fill: ${e.array?.valueColor??"black"};
    }
    .element.index {
      fill: ${e.array?.indexColor??"black"};
    }
    .element {
      stroke: ${e.array?.elementStrokeColor??"black"};
      stroke-width: ${e.array?.elementStrokeWidth??"1"};
      fill: ${e.array?.elementFillColor??"#efefef"};
    }
  `),"styles")});var Zge={};Hr(Zge,{diagram:()=>wZe});var wZe,Jge=L(()=>{"use strict";MB();qge();jge();Qge();wZe={parser:Vge,db:o4,renderer:Xge,styles:Kge}});var r1e,NB,OB,CZe,SZe,_Ze,AZe,LZe,DZe,RZe,um,PB=L(()=>{"use strict";ro();jo();kn();$i();r1e=[],NB=[...r1e],CZe=tn.visual,SZe=a(()=>oa({...CZe,...Cn().visual}),"getConfig"),_Ze=a(()=>NB,"getPages"),AZe=a(e=>{NB.push(e)},"addPage"),LZe=a(()=>OB,"getSize"),DZe=a(e=>{OB=e},"setSize"),RZe=a(()=>{nn(),NB=[...r1e],OB=void 0},"clear"),um={getPages:_Ze,addPage:AZe,getConfig:SZe,clear:RZe,setAccTitle:hn,getAccTitle:pn,setDiagramTitle:Dn,getDiagramTitle:wn,getAccDescription:gn,setAccDescription:mn,getSize:LZe,setSize:DZe}});var IZe,n1e,i1e=L(()=>{"use strict";kf();ar();Zp();PB();IZe=a(e=>{Su(e,um),e.size&&um.setSize&&um.setSize({width:e.size.width,height:e.size.height});let t=a((r,n)=>{if(r){if("column"in r&&"row"in r){let i=r.column,s=r.row,o=i&&"start"in i&&"end"in i,u=s&&"start"in s&&"end"in s;return o||u?{column:o?{start:i.start,end:i.end}:i.single??i,row:u?{start:s.start,end:s.end}:s.single??s}:{column:i.single??i,row:s.single??s}}return{type:"previous",placement:n||"below"}}},"processPosition");for(let r of e.pages){let n=r.subDiagrams.map(i=>{switch(i.diagramType){case"array":return{type:"array",orientation:i.orientation,title:i.diagramTitle,position:t(i.position),showIndex:i.showIndex,label:i.label,elements:i.elements.map(s=>({value:s.value,color:s.color,arrow:s.arrowLabel!==void 0&&s.arrowLabel!==null,arrowLabel:s.arrowLabel}))};case"matrix":return{type:"matrix",title:i.diagramTitle,position:t(i.position),rows:i.rows.map(s=>({elements:s.elements.map(o=>({value:o.value,color:o.color,arrow:o.arrowLabel!==void 0&&o.arrowLabel!==null,arrowLabel:o.arrowLabel}))})),showIndex:i.showIndex,label:i.label};case"stack":return{type:"stack",orientation:i.orientation,title:i.diagramTitle,position:t(i.position),showIndex:i.showIndex,label:i.label,size:i.size,elements:i.elements.map(s=>({value:s.value,color:s.color,arrow:s.arrowLabel!==void 0&&s.arrowLabel!==null,arrowLabel:s.arrowLabel}))};case"tree":return{type:"tree",title:i.diagramTitle,position:t(i.position),label:i.label,elements:i.elements.map(s=>({nodeId:s.nodeId,left:s.left=="None"?void 0:s.left,right:s.right=="None"?void 0:s.right,value:s.value,color:s.color,arrow:s.arrowLabel!==void 0&&s.arrowLabel!==null,arrowLabel:s.arrowLabel}))};case"graph":return{type:"graph",title:i.diagramTitle,position:t(i.position),label:i.label,elements:i.elements.map(s=>{if(s.$type=="NodeDefinition")return{type:"node",nodeId:s.nodeId,value:s.value,color:s.color,arrow:s.arrowLabel!==void 0&&s.arrowLabel!==null,arrowLabel:s.arrowLabel,hidden:(s.hidden||"").toLowerCase()=="true"};if(s.$type=="EdgeDefinition")return{type:"edge",start:s.start,end:s.end,value:s.value,color:s.color};throw new Error("Unknown graph element type")})};case"linkedList":return{type:"linkedList",title:i.diagramTitle,position:t(i.position),label:i.label,elements:i.elements.map(s=>({value:s.value,color:s.color,arrow:!!s.arrowLabel,arrowLabel:s.arrowLabel}))};case"text":return{type:"text",title:i.diagramTitle,position:t(i.position,i.placement),fontSize:i.fontSize,color:i.color,fontWeight:i.fontWeight,fontFamily:i.fontFamily,align:i.align,lineSpacing:i.lineSpacing,width:i.width,height:i.height,label:i.label,elements:i.elements.map(s=>{if(s.attributes&&s.attributes.length>0){let o={value:s.value};return s.attributes.forEach(u=>{o[u.name]=u.value}),o}else return s.value})};default:throw new Error(`Unknown diagram type: ${i.diagramType}`)}});um.addPage({layout:r.layout?{columns:r.layout.columns,rows:r.layout.rows}:void 0,subDiagrams:n})}},"populate"),n1e={parse:async e=>{let t=await qs("visual",e);ce.debug(t),IZe(t)}}});function MZe(e){return e?/^#([\dA-Fa-f]{3}){1,2}$/.test(e):!1}var Lu,NZe,cm=L(()=>{"use strict";Lu=a((e,t=.6)=>{if(MZe(e))return e||"null";let r={black:"#000000",white:"#FFFFFF",red:"#FF0000",green:"#008000",blue:"#0000FF",yellow:"#FFFF00",cyan:"#00FFFF",magenta:"#FF00FF",gray:"#808080",grey:"#808080",maroon:"#800000",olive:"#808000",purple:"#800080",teal:"#008080",navy:"#000080",orange:"#FFA500",pink:"#FFC0CB",brown:"#A52A2A",aqua:"#00FFFF",lime:"#00FF00",gold:"#FFD700",silver:"#C0C0C0",beige:"#F5F5DC",coral:"#FF7F50",chocolate:"#D2691E",crimson:"#DC143C",indigo:"#4B0082",khaki:"#F0E68C",lavender:"#E6E6FA",orchid:"#DA70D6",plum:"#DDA0DD",salmon:"#FA8072",sienna:"#A0522D",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",azure:"#F0FFFF",ivory:"#FFFFF0",mintcream:"#F5FFFA",snow:"#FFFAFA",goldenrod:"#DAA520",tomato:"#FF6347",slateblue:"#6A5ACD",darkgreen:"#006400",darkblue:"#00008B",darkred:"#8B0000",darkorange:"#FF8C00",darkviolet:"#9400D3",darkkhaki:"#BDB76B",lightblue:"#ADD8E6",lightgreen:"#90EE90",lightcoral:"#F08080",lightgray:"#D3D3D3",lightgrey:"#D3D3D3"},n=e?e.toLowerCase():"";if(n in r){let i=r[n];return NZe(i,t)}else return"white"},"getColor");a(MZe,"isValidHexColor");NZe=a((e,t)=>{e=e.replace(/^#/,"");let r=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16);return`rgba(${r}, ${n}, ${i}, ${t})`},"hexToRgba")});var da,ml,t0=L(()=>{"use strict";da=a(e=>{let t=e.toString();return t.startsWith('"')&&t.endsWith('"')&&(t=t.slice(1,-1)),t==="null"?"":t==="\\null"?"null":t},"formatValue"),ml=a(e=>{if(!e)return!1;let t=e.toString();return t.startsWith('"')&&t.endsWith('"')&&(t=t.slice(1,-1)),t!=="null"},"shouldDisplayArrowLabel")});var a1e,OZe,s1e=L(()=>{"use strict";cm();t0();a1e=a((e,t,r,n)=>{e.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").attr("markerWidth","6").attr("markerHeight","6").attr("orient","auto-start-reverse").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black");let i="16",s=100,o=20,u="16",h=100,p=160;t.title&&e.append("text").attr("x",s).attr("y",o).attr("fill",r.labelColor).attr("font-size",i).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrayDiagramTitle").text(t.title);let v=e.append("g").attr("class","component").attr("id",`component_${n}`).attr("transform","translate(50, 40)"),x=0;if(t.elements.forEach((k,E)=>{OZe(v,k,E,r,t.showIndex||!1,x),x+=1}),t.label){let k=p,E=h;v.append("text").attr("x",E).attr("y",k).attr("fill",r.labelColor).attr("font-size",u).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrayDiagramLabel").text(t.label)}},"drawArrayDiagram"),OZe=a((e,t,r,{labelColor:n,labelFontSize:i},s,o)=>{let u="16",h="16",p=e.append("g");p.attr("class","unit").attr("id",`unit_${o}`);let g=40,v=r*g,x=50,k=Lu(t.color);if(t.arrow&&ml(t.arrowLabel)){let E=x-40,_=x-10;p.append("line").attr("x1",v+20).attr("y1",E).attr("x2",v+20).attr("y2",_).attr("stroke","black").attr("stroke-width","1.5").attr("marker-end","url(#arrowhead)"),ml(t.arrowLabel)&&p.append("text").attr("x",v+20).attr("y",E-20).attr("fill",n).attr("font-size","16").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrowContext").text(da(t.arrowLabel||""))}p.append("rect").attr("x",v).attr("y",x).attr("width",g).attr("height",g).style("fill",k).attr("stroke","#000000").attr("stroke-width","2px").attr("class","arrayElement"),p.append("text").attr("x",v+g/2).attr("y",x+g/2).attr("fill",n).attr("font-size",h).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(da(t.value)),s&&p.append("text").attr("x",v+g/2).attr("y",x+g+20).attr("fill",n).attr("font-size",u).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","indexLabel").text(r)},"drawElement")});var o1e,PZe,BZe,FZe,l1e=L(()=>{"use strict";cm();t0();o1e=a((e,t,r,n)=>{let s=t.title?100:0,o=e.append("g");o.attr("class","component").attr("id",`component_${n}`);let u=t.rows.length,h=Math.max(...t.rows.map(p=>p.elements.length));if(t.title&&e.append("text").attr("x",50).attr("y",0).attr("fill",r.labelColor).attr("font-size",r.labelFontSize).attr("dominant-baseline","hanging").attr("text-anchor","start").attr("class","diagramTitle").text(t.title),t.rows.forEach((p,g)=>{p.elements.forEach((v,x)=>{PZe(o,v,g,x,r),FZe(o,g,x,r)})}),t.label){let p=u*50+50,g=h*25;o.append("text").attr("x",g).attr("y",p).attr("fill",r.labelColor).attr("font-size",r.labelFontSize).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrayDiagramLabel").text(t.label)}t.showIndex&&BZe(o,u,h,r)},"drawMatrixDiagram"),PZe=a((e,t,r,n,{labelColor:i,labelFontSize:s})=>{let o=e.append("g");o.attr("class","unit").attr("id",`unit_(${r},${n})`);let u=n*50,h=r*50,p="#000000",g="1.2px",v=Lu(t.color);o.append("rect").attr("x",u).attr("y",h).attr("width",50).attr("height",50).style("fill",v).attr("stroke",p).attr("stroke-width",g).attr("class","matrixElement");let x=da(t.value);o.append("text").attr("x",u+25).attr("y",h+25).attr("fill",i).attr("font-size",s).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(x),t.arrow&&ml(t.arrowLabel)&&(o.append("circle").attr("cx",u+25).attr("cy",h+25).attr("r",23).attr("stroke","red").attr("stroke-width","2").attr("fill","none"),o.append("text").attr("x",u+52).attr("y",h+25).attr("fill","red").attr("font-size",s).attr("dominant-baseline","middle").attr("text-anchor","start").attr("class","arrowLabel").text(da(t.arrowLabel||"")))},"drawElement"),BZe=a((e,t,r,{labelColor:n,labelFontSize:i})=>{let s=e.append("g");for(let o=0;o<t;o++)s.append("text").attr("x",-10).attr("y",o*50+25).attr("fill",n).attr("font-size",i).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","rowIndex").text(o.toString());for(let o=0;o<r;o++)s.append("text").attr("x",o*50+25).attr("y",-10).attr("fill",n).attr("font-size",i).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","colIndex").text(o.toString())},"addIndices"),FZe=a((e,t,r,{borderColor:n,borderWidth:i})=>{let s=e.append("g"),o=r*50,u=t*50;s.append("rect").attr("x",o).attr("y",u).attr("width",50).attr("height",50).attr("stroke",n).attr("stroke-width",i).attr("fill","none")},"drawGrid")});var u1e,zZe,$Ze,c1e=L(()=>{"use strict";cm();t0();u1e=a((e,t,r)=>{e.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").attr("markerWidth","6").attr("markerHeight","6").attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black");let n=e.append("g");n.attr("class","component").attr("id",`component_${r}`);let i=t.size*40;$Ze(n,50,0,70,i);let s=0;if(t.elements.forEach((o,u)=>{let h=t.size-t.elements.length+u;zZe(n,o,h,s),s+=1}),t.label){let u=i+40+20;n.append("text").attr("x",85).attr("y",u).attr("fill","black").attr("font-size","16").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","stackDiagramLabel").text(t.label)}},"drawStackDiagram"),zZe=a((e,t,r,n)=>{let i=e.append("g");i.attr("class","unit").attr("id",`unit_${n}`);let s=50,o=r*40,u=Lu(t.color);if(i.append("rect").attr("x",s).attr("y",o).attr("width",70).attr("height",40).style("fill",u).attr("stroke","black").attr("stroke-width","1").attr("class","stackElement"),t.arrow&&ml(t.arrowLabel)){let h=s+80,p=h+40;i.append("line").attr("x1",p).attr("y1",o+20).attr("x2",h).attr("y2",o+20).attr("stroke","black").attr("stroke-width","1.5").attr("marker-end","url(#arrowhead)"),ml(t.arrowLabel)&&i.append("text").attr("x",p+10).attr("y",o+20).attr("fill","black").attr("font-size","16").attr("dominant-baseline","middle").attr("text-anchor","start").attr("class","arrowContext").text(da(t.arrowLabel||""))}i.append("text").attr("x",s+35).attr("y",o+20).attr("fill","black").attr("font-size","16").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(da(t.value))},"drawElement"),$Ze=a((e,t,r,n,i)=>{let s="#000000";e.append("line").attr("x1",t).attr("y1",r).attr("x2",t).attr("y2",r+i).attr("stroke",s).attr("stroke-width",2),e.append("line").attr("x1",t+n).attr("y1",r).attr("x2",t+n).attr("y2",r+i).attr("stroke",s).attr("stroke-width",2),e.append("line").attr("x1",t).attr("y1",r+i).attr("x2",t+n).attr("y2",r+i).attr("stroke",s).attr("stroke-width",2)},"drawFramework")});var h1e,GZe,VZe,qZe,UZe,f1e=L(()=>{"use strict";cm();t0();h1e=a((e,t,r)=>{let n=e.append("g");n.attr("class","component").attr("id",`component_${r}`),n.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").attr("markerWidth","4").attr("markerHeight","5").attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black");let i=t.elements.filter(p=>p.type=="node"),s=new Set(i.filter(p=>p.hidden).map(p=>p.nodeId)),o=i.filter(p=>!p.hidden),u=t.elements.filter(p=>p.type=="edge"&&!s.has(p.start)&&!s.has(p.end)),h=GZe(i||[]);if(u&&u.forEach(p=>{qZe(n,p,h)}),o){let p=0;o.forEach(g=>{VZe(n,g,h[g.nodeId],p),p+=1})}if(t.label){let p=o?Math.ceil(o.length/3)*100+70:100;n.append("text").attr("x",150).attr("y",p).attr("fill","black").attr("font-size","16").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","graphDiagramLabel").text(t.label)}},"drawGraphDiagram"),GZe=a(e=>{let t={},s=2*Math.PI/e.length;return e.forEach((o,u)=>{let h=u*s;t[o.nodeId]={x:150+100*Math.cos(h),y:150+100*Math.sin(h)}}),t},"calculateNodePositions"),VZe=a((e,t,r,n)=>{if(t.hidden)return;let i=r.x,s=r.y,o=Lu(t.color),u=e.append("g");if(u.attr("class","unit").attr("id",`unit_${n}`),u.append("circle").attr("cx",i).attr("cy",s).attr("r",20).style("fill",o).attr("stroke","black").attr("stroke-width","1").attr("class","graphNode"),u.append("text").attr("x",i).attr("y",s).attr("dy",".35em").attr("fill","black").attr("font-size","16").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","nodeLabel").text(da(t.value||t.nodeId)),t.arrow&&ml(t.arrowLabel)){let h=i+45,p=i+25;u.append("line").attr("x1",h).attr("y1",s).attr("x2",p).attr("y2",s).attr("stroke","black").attr("stroke-width","2").attr("marker-end","url(#arrowhead)"),u.append("text").attr("x",h+5).attr("y",s).attr("fill","black").attr("font-size","14").attr("dominant-baseline","middle").attr("text-anchor","start").attr("class","arrowLabel").text(da(t.arrowLabel||""))}},"drawNode"),qZe=a((e,t,r)=>{let n=r[t.start],i=r[t.end];if(n&&i){let{startX:s,startY:o,endX:u,endY:h}=UZe(n,i),p=t.color||"black";e.append("line").attr("x1",s||0).attr("y1",o||0).attr("x2",u||0).attr("y2",h||0).attr("stroke",p).attr("stroke-width","2"),t.value&&e.append("text").attr("x",(s+u)/2).attr("y",(o+h)/2).attr("fill","black").attr("font-size","16").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","edgeLabel").text(da(t.value))}},"drawEdge"),UZe=a((e,t)=>{let n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i),o=n*20/s,u=i*20/s;return{startX:e.x+o,startY:e.y+u,endX:t.x-o,endY:t.y-u}},"calculateEdgePosition")});var d1e,HZe,WZe,YZe,XZe,jZe,KZe,p1e=L(()=>{"use strict";cm();t0();d1e=a((e,t,r)=>{let n=e.append("g");n.attr("class","component").attr("id",`component_${r}`),n.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").attr("markerWidth","4").attr("markerHeight","5").attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black");let i=t.elements||[],s=YZe(i),o=HZe(i);if(s&&s.forEach(u=>{jZe(n,u,o)}),i){let u=0;i.forEach(h=>{XZe(n,h,o[h.nodeId],u),u+=1})}if(t.label){let u=i?Math.ceil(i.length/3)*100+70:100;n.append("text").attr("x",150).attr("y",u).attr("fill","black").attr("font-size","16").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","treeDiagramLabel").text(t.label)}},"drawTreeDiagram"),HZe=a(e=>{let t={},n=WZe(e),i=n>2?100:70,s=0,o=a((h,p,g)=>{let v=i-g*(i/n),x=p,k=s+g*100;t[h.nodeId]={x,y:k};let E=e.find(N=>N.nodeId===h.left),_=e.find(N=>N.nodeId===h.right);E&&o(E,x-v,g+1),_&&o(_,x+v,g+1)},"calculatePosition"),u=e.find(h=>!h.parentId);return u&&o(u,150,0),t},"calculateNodePositions"),WZe=a(e=>{let t=a((n,i)=>{let s=e.find(p=>p.nodeId===n.left),o=e.find(p=>p.nodeId===n.right),u=s?t(s,i+1):i,h=o?t(o,i+1):i;return Math.max(u,h)},"findDepth"),r=e.find(n=>!n.parentId);return r?t(r,0):0},"calculateMaxDepth"),YZe=a(e=>{let t=[];return e.forEach(r=>{r.left&&t.push({start:r.nodeId,end:r.left}),r.right&&t.push({start:r.nodeId,end:r.right})}),t},"calculateTreeEdges"),XZe=a((e,t,r,n)=>{let i=r.x,s=r.y,o=Lu(t.color),u=e.append("g");if(u.attr("class","unit").attr("id",`unit_${n}`),u.append("circle").attr("cx",i).attr("cy",s).attr("r",20).style("fill",o).attr("stroke","black").attr("stroke-width","1").attr("class","treeNode"),u.append("text").attr("x",i).attr("y",s).attr("dy",".35em").attr("fill","black").attr("font-size","16").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","nodeLabel").text(da(t.value||t.nodeId)),t.arrow&&ml(t.arrowLabel)){let h=i+45,p=i+25;u.append("line").attr("x1",h).attr("y1",s).attr("x2",p).attr("y2",s).attr("stroke","black").attr("stroke-width","2").attr("marker-end","url(#arrowhead)"),u.append("text").attr("x",h+5).attr("y",s).attr("fill","black").attr("font-size","16").attr("dominant-baseline","middle").attr("text-anchor","start").attr("class","arrowLabel").text(da(t.arrowLabel||""))}},"drawNode"),jZe=a((e,t,r)=>{let n=r[t.start],i=r[t.end];if(n&&i){let{startX:s,startY:o,endX:u,endY:h}=KZe(n,i),p=t.color||"black";e.append("line").attr("x1",s).attr("y1",o).attr("x2",u).attr("y2",h).attr("stroke",p).attr("stroke-width","2"),t.value&&e.append("text").attr("x",(s+u)/2).attr("y",(o+h)/2).attr("fill","black").attr("font-size","16").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","edgeLabel").text(da(t.value))}},"drawEdge"),KZe=a((e,t)=>{let n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i),o=n*20/s,u=i*20/s;return{startX:e.x+o,startY:e.y+u,endX:t.x-o,endY:t.y-u}},"calculateEdgePosition")});var m1e,QZe,ZZe,g1e=L(()=>{"use strict";cm();t0();m1e=a((e,t,r)=>{let n=e.append("g");n.attr("class","component").attr("id",`component_${r}`),n.append("defs").append("marker").attr("id","arrowhead_node").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").attr("markerWidth","5").attr("markerHeight","6").attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black"),n.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").attr("markerWidth","3").attr("markerHeight","5").attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black");let i=t.elements,s=QZe(i||[]),o=0;i&&i.forEach((u,h)=>{ZZe(n,u,s[h],h<i.length-1,o),o+=1}),t.label&&n.append("text").attr("x",150).attr("y",100).attr("fill","black").attr("font-size","18").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","linkedListDiagramLabel").text(t.label)},"drawLinkedListDiagram"),QZe=a(e=>{let t=[];return e.forEach((s,o)=>{t.push({x:50+o*120,y:50})}),t},"calculateNodePositions"),ZZe=a((e,t,r,n,i)=>{let s=r.x,o=r.y,u=Lu(t.color),h=e.append("g");if(h.attr("class","unit").attr("id",`unit_${i}`),h.append("rect").attr("x",s).attr("y",o).attr("width",60).attr("height",30).style("fill",u).attr("stroke","black").attr("stroke-width","1").attr("class","linkedListNode"),h.append("text").attr("x",s+30).attr("y",o+15).attr("dy",".35em").attr("fill","black").attr("font-size","18").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","nodeLabel").text(da(t.value)),ml(t.arrowLabel)){let p=o-30,g=o-10;h.append("line").attr("x1",s+30).attr("y1",p).attr("x2",s+30).attr("y2",g).attr("stroke","black").attr("stroke-width","2").attr("marker-end","url(#arrowhead)"),h.append("text").attr("x",s+30).attr("y",p-10).attr("fill","black").attr("font-size","16").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","arrowLabel").text(da(t.arrowLabel||""))}n&&h.append("line").attr("x1",s+60).attr("y1",o+15).attr("x2",s+60+55).attr("y2",o+15).attr("stroke","black").attr("stroke-width","2").attr("marker-end","url(#arrowhead_node)")},"drawNode")});var y1e,JZe,v1e=L(()=>{"use strict";t0();y1e=a((e,t,r)=>{let n=e.append("g");n.attr("class","component").attr("id",`component_${r}`);let i=0,s=0;if(t.elements.forEach(o=>{i=JZe(n,o,i,s,t),s+=1}),t.label){let o=i+(t.lineSpacing||20),u=t.align||"left",h=50,p="start";switch(u){case"center":p="middle",h=(t.width||200)/2;break;case"right":p="end",h=(t.width||200)-50;break;default:p="start",h=50}n.append("text").attr("x",h).attr("y",o).attr("fill",t.color||"black").attr("font-size",t.fontSize||16).attr("font-weight",t.fontWeight||"normal").attr("font-family",t.fontFamily||"sans-serif").attr("dominant-baseline","hanging").attr("text-anchor",p).attr("class","textDiagramLabel").text(t.label)}},"drawTextDiagram"),JZe=a((e,t,r,n,i)=>{let s=e.append("g").attr("class","unit").attr("id",`unit_${n}`),o,u={};typeof t=="string"?o=t:(o=t.value,u=t);let h=50,p=u.fontSize||i?.fontSize||20,g=u.color||i?.color||"black",v=u.fontWeight||i?.fontWeight||"normal",x=u.fontFamily||i?.fontFamily||"sans-serif",k=u.align||i?.align||"left",E=i?.lineSpacing||20,_,N=h;switch(k){case"center":_="middle",N=(i?.width||200)/2;break;case"right":_="end",N=(i?.width||200)-50;break;default:_="start",N=h}let M=o.split(`
`);return M.forEach((P,V)=>{let H=r+V*E;s.append("text").attr("x",N).attr("y",H).attr("fill",g).attr("font-size",p).attr("font-weight",v).attr("font-family",x).attr("dominant-baseline","hanging").attr("text-anchor",_).attr("class","textElement").text(da(P))}),r+M.length*E},"drawElement")});var eJe,tJe,x1e,b1e=L(()=>{"use strict";Cu();si();s1e();l1e();c1e();f1e();p1e();g1e();v1e();eJe=a(e=>{let t=[],r=new Set;return e.forEach((n,i)=>{if(r.has(i))return;if(n.type==="text"&&n.position&&typeof n.position=="object"&&"type"in n.position&&n.position.type==="previous"){let o=t[t.length-1];o&&(o.textItems.push({item:{...n,index:i},placement:n.position.placement||n.placement||"below"}),r.add(i));return}let s={type:n.type,position:n.position&&("column"in n.position||"col"in n.position)?n.position:void 0,mainItem:{...n,index:i},textItems:[]};t.push(s),r.add(i)}),t},"processItemsWithRelativePositioning"),tJe=a((e,t,r,n)=>{let i=n.db,s=i.getConfig(),o=i.getPages(),u=i.getDiagramTitle(),h=i.getSize&&i.getSize(),p=h?.width||1e3,g=h?.height||800,v=ca(t),x=0,k=null,E=a(V=>{v.selectAll("g.page").attr("display","none"),v.select(`#page${V}`).attr("display","inline"),v.select("#prevButton").attr("fill",V>0?"#007bff":"#c0c0c0"),v.select("#nextButton").attr("fill",V<o.length-1?"#007bff":"#c0c0c0"),v.select("#pageIndicator").text(`${V+1} / ${o.length}`)},"renderPage"),_=a((V,H,O)=>{let I=V.append("g").attr("id",`page${O}`).attr("class","page").attr("display",O===0?"inline":"none");u&&I.append("text").text(u).attr("x",p/2).attr("y",25).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","pageTitle");let z=H.layout||{columns:1,rows:1},G=u?50:20,F=p-40,j=g-G-20,D=eJe(H.subDiagrams),X=[],B=[];D.forEach(ae=>{if(ae.position){let{column:Ke,row:Ie}=ae.position,$e=typeof Ke=="object"?Ke.start:Ke,Xe=typeof Ke=="object"?Ke.end:Ke,He=typeof Ie=="object"?Ie.start:Ie,Ne=typeof Ie=="object"?Ie.end:Ie;He>=0&&Ne<z.rows&&$e>=0&&Xe<z.columns&&He<=Ne&&$e<=Xe?X.push({item:ae,position:{colStart:$e,colEnd:Xe,rowStart:He,rowEnd:Ne}}):B.push(ae)}else B.push(ae)});let Q=0;X.forEach(({position:ae})=>{Q+=(ae.colEnd-ae.colStart+1)*(ae.rowEnd-ae.rowStart+1)});let J=z.columns*z.rows-Q,ie=B.length;if(ie>J){let ae=Q+ie,Ke=z.columns,Ie=z.rows,$e=Ke/Ie,Xe=3;for(;Ke*Ie<ae;){let He=Ke/Ie;He>Xe?Ie++:He<1/Xe||Ke<=Ie?Ke++:Ie++}z.columns=Ke,z.rows=Ie}let re=F/z.columns,Z=j/z.rows,Y=[];for(let ae=0;ae<z.rows;ae++){Y[ae]=[];for(let Ke=0;Ke<z.columns;Ke++)Y[ae][Ke]={x:20+Ke*re,y:G+ae*Z,occupied:!1}}X.forEach(({position:ae})=>{for(let Ke=ae.rowStart;Ke<=ae.rowEnd;Ke++)for(let Ie=ae.colStart;Ie<=ae.colEnd;Ie++)Y[Ke]&&Y[Ke][Ie]&&(Y[Ke][Ie].occupied=!0)}),X.forEach(({item:ae,position:Ke})=>{let Ie=Y[Ke.rowStart][Ke.colStart],$e=(Ke.colEnd-Ke.colStart+1)*re,Xe=(Ke.rowEnd-Ke.rowStart+1)*Z;M(I,ae,Ie.x,Ie.y,$e,Xe,s)});let ue=0,Ae=0;B.forEach(ae=>{for(;ue<z.rows&&Y[ue][Ae].occupied;)Ae++,Ae>=z.columns&&(Ae=0,ue++);let Ke=Y[ue][Ae];M(I,ae,Ke.x,Ke.y,re,Z,s),Y[ue][Ae].occupied=!0,Ae++,Ae>=z.columns&&(Ae=0,ue++)})},"drawPage"),N=a((V,H,O)=>{switch(H.type){case"array":{a1e(V,H,O,H.index);break}case"matrix":{o1e(V,H,O,H.index);break}case"stack":{u1e(V,H,H.index);break}case"graph":{h1e(V,H,H.index);break}case"tree":{d1e(V,H,H.index);break}case"linkedList":{m1e(V,H,H.index);break}case"text":{y1e(V,H,H.index);break}default:throw new Error(`Unknown diagram type: ${H.type}`)}},"drawSingleDiagram"),M=a((V,H,O,I,z,G,F)=>{if(H.textItems.length===0){P(V,H.mainItem,O,I,z,G,F);return}let j=V.append("g").attr("class",`container-${H.type}`).attr("id",`container-${H.mainItem.index}`),D=j.append("g").attr("class","temp-main").style("visibility","hidden");N(D,H.mainItem,F);let X=D.node().getBBox();D.remove();let B=[];H.textItems.forEach(({item:pe,placement:Bt})=>{let Pe=j.append("g").attr("class","temp-text").style("visibility","hidden");N(Pe,pe,F);let gt=Pe.node().getBBox();Pe.remove(),B.push({bbox:gt,placement:Bt,item:pe})});let Q=X.width,le=X.height,J=0,ie=0,re=0,Z=0;B.forEach(({bbox:pe,placement:Bt})=>{switch(Bt){case"left":J=Math.max(J,pe.width+10);break;case"right":ie=Math.max(ie,pe.width+10);break;case"above":re=Math.max(re,pe.height+10);break;case"below":Z=Math.max(Z,pe.height+10);break}}),Q+=J+ie,le+=re+Z;let Y=20,ue=z-Y,Ae=G-Y,ae=ue/Q,Ke=Ae/le,Ie=Math.min(1,ae,Ke),$e=O+z/2,Xe=I+G/2,He=Q*Ie/2,Ne=le*Ie/2,_e=$e-He,Me=Xe-Ne;j.attr("transform",`translate(${_e}, ${Me}) scale(${Ie})`);let Ee=J-X.x,Oe=re-X.y,at=j.append("g").attr("class",`main-${H.type}`).attr("transform",`translate(${Ee}, ${Oe})`);N(at,H.mainItem,F),B.forEach(({bbox:pe,placement:Bt,item:Pe})=>{let gt=j.append("g").attr("class","text-item"),mt=0,Nt=0,Ut=J,Gt=re;switch(Bt){case"left":mt=Ut-pe.width-10,Nt=Gt+X.height/2-pe.height/2;break;case"right":mt=Ut+X.width+10,Nt=Gt+X.height/2-pe.height/2;break;case"above":mt=Ut+X.width/2-pe.width/2,Nt=Gt-pe.height-10;break;case"below":mt=Ut+X.width/2-pe.width/2,Nt=Gt+X.height+10;break}mt-=pe.x,Nt-=pe.y,gt.attr("transform",`translate(${mt}, ${Nt})`),N(gt,Pe,F)})},"drawGroupAtPosition"),P=a((V,H,O,I,z,G,F)=>{let j=V.append("g").attr("class","temp-measure").style("visibility","hidden");N(j,H,F);let D=j.node().getBBox(),X=D.width,B=D.height,Q=D.x,le=D.y,J=20,ie=z-J,re=G-J,Z=ie/X,Y=re/B,ue=Math.min(1,Z,Y),Ae=O+z/2,ae=I+G/2,Ke=Q+X/2,Ie=le+B/2,$e=Ae-Ke*ue,Xe=ae-Ie*ue;j.remove();let He=V.append("g").attr("class",`viewport-${H.type}`).attr("id",`viewport-${H.index}`);He.attr("transform",`translate(${$e}, ${Xe}) scale(${ue})`),N(He,H,F)},"drawDiagramAtPosition");v.attr("viewBox",`0 0 ${p} ${g}`),rn(v,g,p,s.useMaxWidth),o.forEach((V,H)=>{_(v,V,H)})},"draw"),x1e={draw:tJe}});var k1e,w1e=L(()=>{"use strict";ar();k1e=a((e={})=>(ce.debug({options:e}),`
    .element {
      font-size: ${e.array?.elementFontSize??"10px"};
      fill: ${e.array?.valueColor??"black"};
    }
    .element.index {
      fill: ${e.array?.indexColor??"black"};
    }
    .element {
      stroke: ${e.array?.elementStrokeColor??"black"};
      stroke-width: ${e.array?.elementStrokeWidth??"1"};
      fill: ${e.array?.elementFillColor??"#efefef"};
    }
  `),"styles")});var T1e={};Hr(T1e,{diagram:()=>rJe});var rJe,E1e=L(()=>{"use strict";PB();i1e();b1e();w1e();rJe={parser:n1e,db:um,renderer:x1e,styles:k1e}});var BB,_1e,A1e=L(()=>{"use strict";BB=function(){var e=a(function(V,H,O,I){for(O=O||{},I=V.length;I--;O[V[I]]=H);return O},"o"),t=[1,7],r=[1,13],n=[1,14],i=[1,15],s=[1,19],o=[1,16],u=[1,17],h=[1,18],p=[8,30],g=[8,21,28,29,30,31,32,40,44,47],v=[1,23],x=[1,24],k=[8,15,16,21,28,29,30,31,32,40,44,47],E=[8,15,16,21,27,28,29,30,31,32,40,44,47],_=[1,49],N={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:a(function(H,O,I,z,G,F,j){var D=F.length-1;switch(G){case 4:z.getLogger().debug("Rule: separator (NL) ");break;case 5:z.getLogger().debug("Rule: separator (Space) ");break;case 6:z.getLogger().debug("Rule: separator (EOF) ");break;case 7:z.getLogger().debug("Rule: hierarchy: ",F[D-1]),z.setHierarchy(F[D-1]);break;case 8:z.getLogger().debug("Stop NL ");break;case 9:z.getLogger().debug("Stop EOF ");break;case 10:z.getLogger().debug("Stop NL2 ");break;case 11:z.getLogger().debug("Stop EOF2 ");break;case 12:z.getLogger().debug("Rule: statement: ",F[D]),typeof F[D].length=="number"?this.$=F[D]:this.$=[F[D]];break;case 13:z.getLogger().debug("Rule: statement #2: ",F[D-1]),this.$=[F[D-1]].concat(F[D]);break;case 14:z.getLogger().debug("Rule: link: ",F[D],H),this.$={edgeTypeStr:F[D],label:""};break;case 15:z.getLogger().debug("Rule: LABEL link: ",F[D-3],F[D-1],F[D]),this.$={edgeTypeStr:F[D],label:F[D-1]};break;case 18:let X=parseInt(F[D]),B=z.generateId();this.$={id:B,type:"space",label:"",width:X,children:[]};break;case 23:z.getLogger().debug("Rule: (nodeStatement link node) ",F[D-2],F[D-1],F[D]," typestr: ",F[D-1].edgeTypeStr);let Q=z.edgeStrToEdgeData(F[D-1].edgeTypeStr);this.$=[{id:F[D-2].id,label:F[D-2].label,type:F[D-2].type,directions:F[D-2].directions},{id:F[D-2].id+"-"+F[D].id,start:F[D-2].id,end:F[D].id,label:F[D-1].label,type:"edge",directions:F[D].directions,arrowTypeEnd:Q,arrowTypeStart:"arrow_open"},{id:F[D].id,label:F[D].label,type:z.typeStr2Type(F[D].typeStr),directions:F[D].directions}];break;case 24:z.getLogger().debug("Rule: nodeStatement (abc88 node size) ",F[D-1],F[D]),this.$={id:F[D-1].id,label:F[D-1].label,type:z.typeStr2Type(F[D-1].typeStr),directions:F[D-1].directions,widthInColumns:parseInt(F[D],10)};break;case 25:z.getLogger().debug("Rule: nodeStatement (node) ",F[D]),this.$={id:F[D].id,label:F[D].label,type:z.typeStr2Type(F[D].typeStr),directions:F[D].directions,widthInColumns:1};break;case 26:z.getLogger().debug("APA123",this?this:"na"),z.getLogger().debug("COLUMNS: ",F[D]),this.$={type:"column-setting",columns:F[D]==="auto"?-1:parseInt(F[D])};break;case 27:z.getLogger().debug("Rule: id-block statement : ",F[D-2],F[D-1]);let le=z.generateId();this.$={...F[D-2],type:"composite",children:F[D-1]};break;case 28:z.getLogger().debug("Rule: blockStatement : ",F[D-2],F[D-1],F[D]);let J=z.generateId();this.$={id:J,type:"composite",label:"",children:F[D-1]};break;case 29:z.getLogger().debug("Rule: node (NODE_ID separator): ",F[D]),this.$={id:F[D]};break;case 30:z.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",F[D-1],F[D]),this.$={id:F[D-1],label:F[D].label,typeStr:F[D].typeStr,directions:F[D].directions};break;case 31:z.getLogger().debug("Rule: dirList: ",F[D]),this.$=[F[D]];break;case 32:z.getLogger().debug("Rule: dirList: ",F[D-1],F[D]),this.$=[F[D-1]].concat(F[D]);break;case 33:z.getLogger().debug("Rule: nodeShapeNLabel: ",F[D-2],F[D-1],F[D]),this.$={typeStr:F[D-2]+F[D],label:F[D-1]};break;case 34:z.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",F[D-3],F[D-2]," #3:",F[D-1],F[D]),this.$={typeStr:F[D-3]+F[D],label:F[D-2],directions:F[D-1]};break;case 35:case 36:this.$={type:"classDef",id:F[D-1].trim(),css:F[D].trim()};break;case 37:this.$={type:"applyClass",id:F[D-1].trim(),styleClass:F[D].trim()};break;case 38:this.$={type:"applyStyles",id:F[D-1].trim(),stylesStr:F[D].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:s,40:o,44:u,47:h},{8:[1,20]},e(p,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:t,28:r,29:n,31:i,32:s,40:o,44:u,47:h}),e(g,[2,16],{14:22,15:v,16:x}),e(g,[2,17]),e(g,[2,18]),e(g,[2,19]),e(g,[2,20]),e(g,[2,21]),e(g,[2,22]),e(k,[2,25],{27:[1,25]}),e(g,[2,26]),{19:26,26:12,32:s},{11:27,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:s,40:o,44:u,47:h},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},e(E,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},e(p,[2,13]),{26:35,32:s},{32:[2,14]},{17:[1,36]},e(k,[2,24]),{11:37,13:4,14:22,15:v,16:x,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:s,40:o,44:u,47:h},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},e(E,[2,30]),{18:[1,43]},{18:[1,44]},e(k,[2,23]),{18:[1,45]},{30:[1,46]},e(g,[2,28]),e(g,[2,35]),e(g,[2,36]),e(g,[2,37]),e(g,[2,38]),{37:[1,47]},{34:48,35:_},{15:[1,50]},e(g,[2,27]),e(E,[2,33]),{39:[1,51]},{34:52,35:_,39:[2,31]},{32:[2,15]},e(E,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:a(function(H,O){if(O.recoverable)this.trace(H);else{var I=new Error(H);throw I.hash=O,I}},"parseError"),parse:a(function(H){var O=this,I=[0],z=[],G=[null],F=[],j=this.table,D="",X=0,B=0,Q=0,le=2,J=1,ie=F.slice.call(arguments,1),re=Object.create(this.lexer),Z={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(Z.yy[Y]=this.yy[Y]);re.setInput(H,Z.yy),Z.yy.lexer=re,Z.yy.parser=this,typeof re.yylloc>"u"&&(re.yylloc={});var ue=re.yylloc;F.push(ue);var Ae=re.options&&re.options.ranges;typeof Z.yy.parseError=="function"?this.parseError=Z.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ae(Pe){I.length=I.length-2*Pe,G.length=G.length-Pe,F.length=F.length-Pe}a(ae,"popStack");function Ke(){var Pe;return Pe=z.pop()||re.lex()||J,typeof Pe!="number"&&(Pe instanceof Array&&(z=Pe,Pe=z.pop()),Pe=O.symbols_[Pe]||Pe),Pe}a(Ke,"lex");for(var Ie,$e,Xe,He,Ne,_e,Me={},Ee,Oe,at,pe;;){if(Xe=I[I.length-1],this.defaultActions[Xe]?He=this.defaultActions[Xe]:((Ie===null||typeof Ie>"u")&&(Ie=Ke()),He=j[Xe]&&j[Xe][Ie]),typeof He>"u"||!He.length||!He[0]){var Bt="";pe=[];for(Ee in j[Xe])this.terminals_[Ee]&&Ee>le&&pe.push("'"+this.terminals_[Ee]+"'");re.showPosition?Bt="Parse error on line "+(X+1)+`:
`+re.showPosition()+`
Expecting `+pe.join(", ")+", got '"+(this.terminals_[Ie]||Ie)+"'":Bt="Parse error on line "+(X+1)+": Unexpected "+(Ie==J?"end of input":"'"+(this.terminals_[Ie]||Ie)+"'"),this.parseError(Bt,{text:re.match,token:this.terminals_[Ie]||Ie,line:re.yylineno,loc:ue,expected:pe})}if(He[0]instanceof Array&&He.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Xe+", token: "+Ie);switch(He[0]){case 1:I.push(Ie),G.push(re.yytext),F.push(re.yylloc),I.push(He[1]),Ie=null,$e?(Ie=$e,$e=null):(B=re.yyleng,D=re.yytext,X=re.yylineno,ue=re.yylloc,Q>0&&Q--);break;case 2:if(Oe=this.productions_[He[1]][1],Me.$=G[G.length-Oe],Me._$={first_line:F[F.length-(Oe||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(Oe||1)].first_column,last_column:F[F.length-1].last_column},Ae&&(Me._$.range=[F[F.length-(Oe||1)].range[0],F[F.length-1].range[1]]),_e=this.performAction.apply(Me,[D,B,X,Z.yy,He[1],G,F].concat(ie)),typeof _e<"u")return _e;Oe&&(I=I.slice(0,-1*Oe*2),G=G.slice(0,-1*Oe),F=F.slice(0,-1*Oe)),I.push(this.productions_[He[1]][0]),G.push(Me.$),F.push(Me._$),at=j[I[I.length-2]][I[I.length-1]],I.push(at);break;case 3:return!0}}return!0},"parse")},M=function(){var V={EOF:1,parseError:a(function(O,I){if(this.yy.parser)this.yy.parser.parseError(O,I);else throw new Error(O)},"parseError"),setInput:function(H,O){return this.yy=O||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var O=H.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},unput:function(H){var O=H.length,I=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===z.length?this.yylloc.first_column:0)+z[z.length-I.length].length-I[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(H){this.unput(this.match.slice(H))},pastInput:function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var H=this.pastInput(),O=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+O+"^"},test_match:function(H,O){var I,z,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),z=H[0].match(/(?:\r\n?|\n).*/g),z&&(this.yylineno+=z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:z?z[z.length-1].length-z[z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],I=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),I)return I;if(this._backtrack){for(var F in G)this[F]=G[F];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,O,I,z;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),F=0;F<G.length;F++)if(I=this._input.match(this.rules[G[F]]),I&&(!O||I[0].length>O[0].length)){if(O=I,z=F,this.options.backtrack_lexer){if(H=this.test_match(I,G[F]),H!==!1)return H;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(H=this.test_match(O,G[z]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:a(function(){var O=this.next();return O||this.lex()},"lex"),begin:a(function(O){this.conditionStack.push(O)},"begin"),popState:a(function(){var O=this.conditionStack.length-1;return O>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(O){return O=this.conditionStack.length-1-Math.abs(O||0),O>=0?this.conditionStack[O]:"INITIAL"},"topState"),pushState:a(function(O){this.begin(O)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:a(function(O,I,z,G){var F=G;switch(z){case 0:return 10;case 1:return O.getLogger().debug("Found space-block"),31;break;case 2:return O.getLogger().debug("Found nl-block"),31;break;case 3:return O.getLogger().debug("Found space-block"),29;break;case 4:O.getLogger().debug(".",I.yytext);break;case 5:O.getLogger().debug("_",I.yytext);break;case 6:return 5;case 7:return I.yytext=-1,28;break;case 8:return I.yytext=I.yytext.replace(/columns\s+/,""),O.getLogger().debug("COLUMNS (LEX)",I.yytext),28;break;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:O.getLogger().debug("LEX: POPPING STR:",I.yytext),this.popState();break;case 14:return O.getLogger().debug("LEX: STR end:",I.yytext),"STR";break;case 15:return I.yytext=I.yytext.replace(/space\:/,""),O.getLogger().debug("SPACE NUM (LEX)",I.yytext),21;break;case 16:return I.yytext="1",O.getLogger().debug("COLUMNS (LEX)",I.yytext),21;break;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;break;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 22:return this.popState(),this.pushState("CLASSDEFID"),41;break;case 23:return this.popState(),42;break;case 24:return this.pushState("CLASS"),44;break;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;break;case 26:return this.popState(),46;break;case 27:return this.pushState("STYLE_STMNT"),47;break;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;break;case 29:return this.popState(),49;break;case 30:return this.pushState("acc_title"),"acc_title";break;case 31:return this.popState(),"acc_title_value";break;case 32:return this.pushState("acc_descr"),"acc_descr";break;case 33:return this.popState(),"acc_descr_value";break;case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),O.getLogger().debug("Lex: (("),"NODE_DEND";break;case 39:return this.popState(),O.getLogger().debug("Lex: (("),"NODE_DEND";break;case 40:return this.popState(),O.getLogger().debug("Lex: ))"),"NODE_DEND";break;case 41:return this.popState(),O.getLogger().debug("Lex: (("),"NODE_DEND";break;case 42:return this.popState(),O.getLogger().debug("Lex: (("),"NODE_DEND";break;case 43:return this.popState(),O.getLogger().debug("Lex: (-"),"NODE_DEND";break;case 44:return this.popState(),O.getLogger().debug("Lex: -)"),"NODE_DEND";break;case 45:return this.popState(),O.getLogger().debug("Lex: (("),"NODE_DEND";break;case 46:return this.popState(),O.getLogger().debug("Lex: ]]"),"NODE_DEND";break;case 47:return this.popState(),O.getLogger().debug("Lex: ("),"NODE_DEND";break;case 48:return this.popState(),O.getLogger().debug("Lex: ])"),"NODE_DEND";break;case 49:return this.popState(),O.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 50:return this.popState(),O.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 51:return this.popState(),O.getLogger().debug("Lex: )]"),"NODE_DEND";break;case 52:return this.popState(),O.getLogger().debug("Lex: )"),"NODE_DEND";break;case 53:return this.popState(),O.getLogger().debug("Lex: ]>"),"NODE_DEND";break;case 54:return this.popState(),O.getLogger().debug("Lex: ]"),"NODE_DEND";break;case 55:return O.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;break;case 56:return O.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;break;case 57:return O.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;break;case 58:return O.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 59:return O.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;break;case 60:return O.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 61:return O.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 62:return O.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 63:return O.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;break;case 64:return O.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;break;case 65:return O.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 66:return this.pushState("NODE"),36;break;case 67:return this.pushState("NODE"),36;break;case 68:return this.pushState("NODE"),36;break;case 69:return this.pushState("NODE"),36;break;case 70:return this.pushState("NODE"),36;break;case 71:return this.pushState("NODE"),36;break;case 72:return this.pushState("NODE"),36;break;case 73:return O.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;break;case 74:return this.pushState("BLOCK_ARROW"),O.getLogger().debug("LEX ARR START"),38;break;case 75:return O.getLogger().debug("Lex: NODE_ID",I.yytext),32;break;case 76:return O.getLogger().debug("Lex: EOF",I.yytext),8;break;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:O.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:O.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return O.getLogger().debug("LEX: NODE_DESCR:",I.yytext),"NODE_DESCR";break;case 84:O.getLogger().debug("LEX POPPING"),this.popState();break;case 85:O.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return I.yytext=I.yytext.replace(/^,\s*/,""),O.getLogger().debug("Lex (right): dir:",I.yytext),"DIR";break;case 87:return I.yytext=I.yytext.replace(/^,\s*/,""),O.getLogger().debug("Lex (left):",I.yytext),"DIR";break;case 88:return I.yytext=I.yytext.replace(/^,\s*/,""),O.getLogger().debug("Lex (x):",I.yytext),"DIR";break;case 89:return I.yytext=I.yytext.replace(/^,\s*/,""),O.getLogger().debug("Lex (y):",I.yytext),"DIR";break;case 90:return I.yytext=I.yytext.replace(/^,\s*/,""),O.getLogger().debug("Lex (up):",I.yytext),"DIR";break;case 91:return I.yytext=I.yytext.replace(/^,\s*/,""),O.getLogger().debug("Lex (down):",I.yytext),"DIR";break;case 92:return I.yytext="]>",O.getLogger().debug("Lex (ARROW_DIR end):",I.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";break;case 93:return O.getLogger().debug("Lex: LINK","#"+I.yytext+"#"),15;break;case 94:return O.getLogger().debug("Lex: LINK",I.yytext),15;break;case 95:return O.getLogger().debug("Lex: LINK",I.yytext),15;break;case 96:return O.getLogger().debug("Lex: LINK",I.yytext),15;break;case 97:return O.getLogger().debug("Lex: START_LINK",I.yytext),this.pushState("LLABEL"),16;break;case 98:return O.getLogger().debug("Lex: START_LINK",I.yytext),this.pushState("LLABEL"),16;break;case 99:return O.getLogger().debug("Lex: START_LINK",I.yytext),this.pushState("LLABEL"),16;break;case 100:this.pushState("md_string");break;case 101:return O.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";break;case 102:return this.popState(),O.getLogger().debug("Lex: LINK","#"+I.yytext+"#"),15;break;case 103:return this.popState(),O.getLogger().debug("Lex: LINK",I.yytext),15;break;case 104:return this.popState(),O.getLogger().debug("Lex: LINK",I.yytext),15;break;case 105:return O.getLogger().debug("Lex: COLON",I.yytext),I.yytext=I.yytext.slice(1),27;break}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return V}();N.lexer=M;function P(){this.yy={}}return a(P,"Parser"),P.prototype=N,N.Parser=P,new P}();BB.parser=BB;_1e=BB});function fJe(e){switch(ce.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return ce.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function dJe(e){switch(ce.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}function pJe(e){switch(e.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}var Tc,zB,FB,L1e,D1e,aJe,I1e,sJe,V7,oJe,lJe,uJe,cJe,M1e,$B,l4,hJe,R1e,mJe,gJe,yJe,vJe,xJe,bJe,kJe,wJe,TJe,EJe,CJe,N1e,O1e=L(()=>{"use strict";OL();ro();Vr();ar();Ln();$i();Tc=new Map,zB=[],FB=new Map,L1e="color",D1e="fill",aJe="bgFill",I1e=",",sJe=we(),V7=new Map,oJe=a(e=>Ct.sanitizeText(e,sJe),"sanitizeText"),lJe=a(function(e,t=""){let r=V7.get(e);r||(r={id:e,styles:[],textStyles:[]},V7.set(e,r)),t?.split(I1e).forEach(n=>{let i=n.replace(/([^;]*);/,"$1").trim();if(n.match(L1e)){let o=i.replace(D1e,aJe).replace(L1e,D1e);r.textStyles.push(o)}r.styles.push(i)})},"addStyleClass"),uJe=a(function(e,t=""){let r=Tc.get(e);t!=null&&(r.styles=t.split(I1e))},"addStyle2Node"),cJe=a(function(e,t){e.split(",").forEach(function(r){let n=Tc.get(r);if(n===void 0){let i=r.trim();n={id:i,type:"na",children:[]},Tc.set(i,n)}n.classes||(n.classes=[]),n.classes.push(t)})},"setCssClass"),M1e=a((e,t)=>{let r=e.flat(),n=[];for(let i of r){if(i.label&&(i.label=oJe(i.label)),i.type==="classDef"){lJe(i.id,i.css);continue}if(i.type==="applyClass"){cJe(i.id,i?.styleClass||"");continue}if(i.type==="applyStyles"){i?.stylesStr&&uJe(i.id,i?.stylesStr);continue}if(i.type==="column-setting")t.columns=i.columns||-1;else if(i.type==="edge"){let s=(FB.get(i.id)??0)+1;FB.set(i.id,s),i.id=s+"-"+i.id,zB.push(i)}else{i.label||(i.type==="composite"?i.label="":i.label=i.id);let s=Tc.get(i.id);if(s===void 0?Tc.set(i.id,i):(i.type!=="na"&&(s.type=i.type),i.label!==i.id&&(s.label=i.label)),i.children&&M1e(i.children,i),i.type==="space"){let o=i.width||1;for(let u=0;u<o;u++){let h=ei(i);h.id=h.id+"-"+u,Tc.set(h.id,h),n.push(h)}}else s===void 0&&n.push(i)}}t.children=n},"populateBlockDatabase"),$B=[],l4={id:"root",type:"composite",children:[],columns:-1},hJe=a(()=>{ce.debug("Clear called"),nn(),l4={id:"root",type:"composite",children:[],columns:-1},Tc=new Map([["root",l4]]),$B=[],V7=new Map,zB=[],FB=new Map},"clear");a(fJe,"typeStr2Type");a(dJe,"edgeTypeStr2Type");a(pJe,"edgeStrToEdgeData");R1e=0,mJe=a(()=>(R1e++,"id-"+Math.random().toString(36).substr(2,12)+"-"+R1e),"generateId"),gJe=a(e=>{l4.children=e,M1e(e,l4),$B=l4.children},"setHierarchy"),yJe=a(e=>{let t=Tc.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),vJe=a(()=>[...Tc.values()],"getBlocksFlat"),xJe=a(()=>$B||[],"getBlocks"),bJe=a(()=>zB,"getEdges"),kJe=a(e=>Tc.get(e),"getBlock"),wJe=a(e=>{Tc.set(e.id,e)},"setBlock"),TJe=a(()=>console,"getLogger"),EJe=a(function(){return V7},"getClasses"),CJe={getConfig:()=>Cn().block,typeStr2Type:fJe,edgeTypeStr2Type:dJe,edgeStrToEdgeData:pJe,getLogger:TJe,getBlocksFlat:vJe,getBlocks:xJe,getEdges:bJe,setHierarchy:gJe,getBlock:kJe,setBlock:wJe,getColumns:yJe,getClasses:EJe,clear:hJe,generateId:mJe},N1e=CJe});var q7,SJe,P1e,B1e=L(()=>{"use strict";Zu();q7=a((e,t)=>{let r=o2,n=r(e,"r"),i=r(e,"g"),s=r(e,"b");return _l(n,i,s,t)},"fade"),SJe=a(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${q7(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${q7(e.mainBkg,.5)};
    fill: ${q7(e.clusterBkg,.5)};
    stroke: ${q7(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),P1e=SJe});function _Je(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};let r=t%e,n=Math.floor(t/e);return{px:r,py:n}}function GB(e,t,r=0,n=0){ce.debug("setBlockSizes abc95 (start)",e.id,e?.size?.x,"block width =",e?.size,"sieblingWidth",r),e?.size?.width||(e.size={width:r,height:n,x:0,y:0});let i=0,s=0;if(e.children?.length>0){for(let E of e.children)GB(E,t);let o=AJe(e);i=o.width,s=o.height,ce.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",i,s);for(let E of e.children)E.size&&(ce.debug(`abc95 Setting size of children of ${e.id} id=${E.id} ${i} ${s} ${E.size}`),E.size.width=i*(E.widthInColumns||1)+Ta*((E.widthInColumns||1)-1),E.size.height=s,E.size.x=0,E.size.y=0,ce.debug(`abc95 updating size of ${e.id} children child:${E.id} maxWidth:${i} maxHeight:${s}`));for(let E of e.children)GB(E,t,i,s);let u=e.columns||-1,h=0;for(let E of e.children)h+=E.widthInColumns||1;let p=e.children.length;u>0&&u<h&&(p=u);let g=e.widthInColumns||1,v=Math.ceil(h/p),x=p*(i+Ta)+Ta,k=v*(s+Ta)+Ta;if(x<r){ce.debug(`Detected to small siebling: abc95 ${e.id} sieblingWidth ${r} sieblingHeight ${n} width ${x}`),x=r,k=n;let E=(r-p*Ta-Ta)/p,_=(n-v*Ta-Ta)/v;ce.debug("Size indata abc88",e.id,"childWidth",E,"maxWidth",i),ce.debug("Size indata abc88",e.id,"childHeight",_,"maxHeight",s),ce.debug("Size indata abc88 xSize",p,"padding",Ta);for(let N of e.children)N.size&&(N.size.width=E,N.size.height=_,N.size.x=0,N.size.y=0)}if(ce.debug(`abc95 (finale calc) ${e.id} xSize ${p} ySize ${v} columns ${u}${e.children.length} width=${Math.max(x,e.size?.width||0)}`),x<(e?.size?.width||0)){x=e?.size?.width||0;let E=u>0?Math.min(e.children.length,u):e.children.length;if(E>0){let _=(x-E*Ta-Ta)/E;ce.debug("abc95 (growing to fit) width",e.id,x,e.size?.width,_);for(let N of e.children)N.size&&(N.size.width=_)}}e.size={width:x,height:k,x:0,y:0}}ce.debug("setBlockSizes abc94 (done)",e.id,e?.size?.x,e?.size?.width,e?.size?.y,e?.size?.height)}function F1e(e,t){ce.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`);let r=e.columns||-1;if(ce.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){let n=e?.children[0]?.size?.width||0,i=e.children.length*n+(e.children.length-1)*Ta;ce.debug("widthOfChildren 88",i,"posX");let s=0;ce.debug("abc91 block?.size?.x",e.id,e?.size?.x);let o=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-Ta,u=0;for(let h of e.children){let p=e;if(!h.size)continue;let{width:g,height:v}=h.size,{px:x,py:k}=_Je(r,s);if(k!=u&&(u=k,o=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-Ta,ce.debug("New row in layout for block",e.id," and child ",h.id,u)),ce.debug(`abc89 layout blocks (child) id: ${h.id} Pos: ${s} (px, py) ${x},${k} (${p?.size?.x},${p?.size?.y}) parent: ${p.id} width: ${g}${Ta}`),p.size){let E=g/2;h.size.x=o+Ta+E,ce.debug(`abc91 layout blocks (calc) px, pyid:${h.id} startingPos=X${o} new startingPosX${h.size.x} ${E} padding=${Ta} width=${g} halfWidth=${E} => x:${h.size.x} y:${h.size.y} ${h.widthInColumns} (width * (child?.w || 1)) / 2 ${g*(h?.widthInColumns||1)/2}`),o=h.size.x+E,h.size.y=p.size.y-p.size.height/2+k*(v+Ta)+v/2+Ta,ce.debug(`abc88 layout blocks (calc) px, pyid:${h.id}startingPosX${o}${Ta}${E}=>x:${h.size.x}y:${h.size.y}${h.widthInColumns}(width * (child?.w || 1)) / 2${g*(h?.widthInColumns||1)/2}`)}h.children&&F1e(h,t),s+=h?.widthInColumns||1,ce.debug("abc88 columnsPos",h,s)}}ce.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`)}function z1e(e,{minX:t,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){let{x:s,y:o,width:u,height:h}=e.size;s-u/2<t&&(t=s-u/2),o-h/2<r&&(r=o-h/2),s+u/2>n&&(n=s+u/2),o+h/2>i&&(i=o+h/2)}if(e.children)for(let s of e.children)({minX:t,minY:r,maxX:n,maxY:i}=z1e(s,{minX:t,minY:r,maxX:n,maxY:i}));return{minX:t,minY:r,maxX:n,maxY:i}}function $1e(e){let t=e.getBlock("root");if(!t)return;GB(t,e,0,0),F1e(t,e),ce.debug("getBlocks",JSON.stringify(t,null,2));let{minX:r,minY:n,maxX:i,maxY:s}=z1e(t),o=s-n,u=i-r;return{x:r,y:n,width:u,height:o}}var Ta,AJe,G1e=L(()=>{"use strict";ar();Vr();Ta=we()?.block?.padding||8;a(_Je,"calculateBlockPosition");AJe=a(e=>{let t=0,r=0;for(let n of e.children){let{width:i,height:s,x:o,y:u}=n.size||{width:0,height:0,x:0,y:0};ce.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",s,"x:",o,"y:",u,n.type),n.type!=="space"&&(i>t&&(t=i/(e.widthInColumns||1)),s>r&&(r=s))}return{width:t,height:r}},"getMaxChildSize");a(GB,"setBlockSizes");a(F1e,"layoutBlocks");a(z1e,"findBounds");a($1e,"layout")});function V1e(e,t,r=!1){let n=e,i="default";(n?.classes?.length||0)>0&&(i=(n?.classes||[]).join(" ")),i=i+" flowchart-label";let s=0,o="",u={},h;switch(n.type){case"round":s=5,o="rect";break;case"composite":s=0,o="composite",h=0;break;case"square":o="rect";break;case"diamond":o="question",u={portConstraints:"FIXED_SIDE"};break;case"hexagon":o="hexagon";break;case"block_arrow":o="block_arrow";break;case"odd":o="rect_left_inv_arrow";break;case"lean_right":o="lean_right";break;case"lean_left":o="lean_left";break;case"trapezoid":o="trapezoid";break;case"inv_trapezoid":o="inv_trapezoid";break;case"rect_left_inv_arrow":o="rect_left_inv_arrow";break;case"circle":o="circle";break;case"ellipse":o="ellipse";break;case"stadium":o="stadium";break;case"subroutine":o="subroutine";break;case"cylinder":o="cylinder";break;case"group":o="rect";break;case"doublecircle":o="doublecircle";break;default:o="rect"}let p=Jo(n?.styles||[]),g=n.label,v=n.size||{width:0,height:0,x:0,y:0};return{labelStyle:p.labelStyle,shape:o,labelText:g,rx:s,ry:s,class:i,style:p.style,id:n.id,directions:n.directions,width:v.width,height:v.height,x:v.x,y:v.y,positioned:r,intersect:void 0,type:n.type,padding:h??(Cn()?.block?.padding||0)}}async function LJe(e,t,r){let n=V1e(t,r,!1);if(n.type==="group")return;let i=await ex(e,n),s=i.node().getBBox(),o=r.getBlock(n.id);o.size={width:s.width,height:s.height,x:0,y:0,node:i},r.setBlock(o),i.remove()}async function DJe(e,t,r){let n=V1e(t,r,!0);if(r.getBlock(n.id).type!=="space"){let s=await ex(e,n);t.intersect=n?.intersect,tx(n)}}async function VB(e,t,r,n){for(let i of t)await n(e,i,r),i.children&&await VB(e,i.children,r,n)}async function q1e(e,t,r){await VB(e,t,r,LJe)}async function U1e(e,t,r){await VB(e,t,r,DJe)}async function H1e(e,t,r,n,i){let s=new fn({multigraph:!0,compound:!0});s.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let o of r)o.size&&s.setNode(o.id,{width:o.size.width,height:o.size.height,intersect:o.intersect});for(let o of t)if(o.start&&o.end){let u=n.getBlock(o.start),h=n.getBlock(o.end);if(u?.size&&h?.size){let p=u.size,g=h.size,v=[{x:p.x,y:p.y},{x:p.x+(g.x-p.x)/2,y:p.y+(g.y-p.y)/2},{x:g.x,y:g.y}];await Kw(e,{v:o.start,w:o.end,name:o.id},{...o,arrowTypeEnd:o.arrowTypeEnd,arrowTypeStart:o.arrowTypeStart,points:v,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",s,i),o.label&&(await Xw(e,{...o,label:o.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:o.arrowTypeEnd,arrowTypeStart:o.arrowTypeStart,points:v,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),await jw({...o,x:v[1].x,y:v[1].y},{originalPath:v}))}}}var W1e=L(()=>{"use strict";Ua();ro();TR();wR();kn();a(V1e,"getNodeFromBlock");a(LJe,"calculateBlockSize");a(DJe,"insertBlockPositioned");a(VB,"performOperations");a(q1e,"calculateBlockSizes");a(U1e,"insertBlocks");a(H1e,"insertEdges")});var RJe,IJe,Y1e,X1e=L(()=>{"use strict";Wr();ro();yR();ar();si();G1e();W1e();RJe=a(function(e,t){return t.db.getClasses()},"getClasses"),IJe=a(async function(e,t,r,n){let{securityLevel:i,block:s}=Cn(),o=n.db,u;i==="sandbox"&&(u=ut("#i"+t));let h=i==="sandbox"?ut(u.nodes()[0].contentDocument.body):ut("body"),p=i==="sandbox"?h.select(`[id="${t}"]`):ut(`[id="${t}"]`);Fw(p,["point","circle","cross"],n.type,t);let v=o.getBlocks(),x=o.getBlocksFlat(),k=o.getEdges(),E=p.insert("g").attr("class","block");await q1e(E,v,o);let _=$1e(o);if(await U1e(E,v,o),await H1e(E,k,x,o,t),_){let M=_,P=Math.max(1,Math.round(.125*(M.width/M.height))),V=M.height+P+10,H=M.width+10,{useMaxWidth:O}=s;rn(p,V,H,!!O),ce.debug("Here Bounds",_,M),p.attr("viewBox",`${M.x-5} ${M.y-5} ${M.width+10} ${M.height+10}`)}let N=Uu(zv)},"draw"),Y1e={draw:IJe,getClasses:RJe}});var j1e={};Hr(j1e,{diagram:()=>MJe});var MJe,K1e=L(()=>{"use strict";A1e();O1e();B1e();X1e();MJe={parser:_1e,db:N1e,renderer:Y1e,styles:P1e}});var Vrt={};Hr(Vrt,{default:()=>Grt});$C();ar();kn();Wr();var Dk="comm",Rk="rule",Ik="decl";var Rj="@import";var Ij="@keyframes";var Mj="@layer";var W9=Math.abs,E2=String.fromCharCode;function Mk(e){return e.trim()}a(Mk,"trim");function C2(e,t,r){return e.replace(t,r)}a(C2,"replace");function Nj(e,t,r){return e.indexOf(t,r)}a(Nj,"indexof");function ep(e,t){return e.charCodeAt(t)|0}a(ep,"charat");function tp(e,t,r){return e.slice(t,r)}a(tp,"substr");function fu(e){return e.length}a(fu,"strlen");function Oj(e){return e.length}a(Oj,"sizeof");function Fg(e,t){return t.push(e),e}a(Fg,"append");var Nk=1,zg=1,Pj=0,du=0,La=0,$g="";function Ok(e,t,r,n,i,s,o,u){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Nk,column:zg,length:o,return:"",siblings:u}}a(Ok,"node");function Bj(){return La}a(Bj,"char");function Fj(){return La=du>0?ep($g,--du):0,zg--,La===10&&(zg=1,Nk--),La}a(Fj,"prev");function pu(){return La=du<Pj?ep($g,du++):0,zg++,La===10&&(zg=1,Nk++),La}a(pu,"next");function xd(){return ep($g,du)}a(xd,"peek");function S2(){return du}a(S2,"caret");function Pk(e,t){return tp($g,e,t)}a(Pk,"slice");function Y9(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}a(Y9,"token");function zj(e){return Nk=zg=1,Pj=fu($g=e),du=0,[]}a(zj,"alloc");function $j(e){return $g="",e}a($j,"dealloc");function Bk(e){return Mk(Pk(du-1,X9(e===91?e+2:e===40?e+1:e)))}a(Bk,"delimit");function Gj(e){for(;(La=xd())&&La<33;)pu();return Y9(e)>2||Y9(La)>3?"":" "}a(Gj,"whitespace");function Vj(e,t){for(;--t&&pu()&&!(La<48||La>102||La>57&&La<65||La>70&&La<97););return Pk(e,S2()+(t<6&&xd()==32&&pu()==32))}a(Vj,"escaping");function X9(e){for(;pu();)switch(La){case e:return du;case 34:case 39:e!==34&&e!==39&&X9(La);break;case 40:e===41&&X9(e);break;case 92:pu();break}return du}a(X9,"delimiter");function qj(e,t){for(;pu()&&e+La!==57;)if(e+La===84&&xd()===47)break;return"/*"+Pk(t,du-1)+"*"+E2(e===47?e:pu())}a(qj,"commenter");function Uj(e){for(;!Y9(xd());)pu();return Pk(e,du)}a(Uj,"identifier");function Yj(e){return $j(Fk("",null,null,null,[""],e=zj(e),0,[0],e))}a(Yj,"compile");function Fk(e,t,r,n,i,s,o,u,h){for(var p=0,g=0,v=o,x=0,k=0,E=0,_=1,N=1,M=1,P=0,V="",H=i,O=s,I=n,z=V;N;)switch(E=P,P=pu()){case 40:if(E!=108&&ep(z,v-1)==58){Nj(z+=C2(Bk(P),"&","&\f"),"&\f",W9(p?u[p-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:z+=Bk(P);break;case 9:case 10:case 13:case 32:z+=Gj(E);break;case 92:z+=Vj(S2()-1,7);continue;case 47:switch(xd()){case 42:case 47:Fg(A_e(qj(pu(),S2()),t,r,h),h);break;default:z+="/"}break;case 123*_:u[p++]=fu(z)*M;case 125*_:case 59:case 0:switch(P){case 0:case 125:N=0;case 59+g:M==-1&&(z=C2(z,/\f/g,"")),k>0&&fu(z)-v&&Fg(k>32?Wj(z+";",n,r,v-1,h):Wj(C2(z," ","")+";",n,r,v-2,h),h);break;case 59:z+=";";default:if(Fg(I=Hj(z,t,r,p,g,i,u,V,H=[],O=[],v,s),s),P===123)if(g===0)Fk(z,t,I,I,H,s,v,u,O);else switch(x===99&&ep(z,3)===110?100:x){case 100:case 108:case 109:case 115:Fk(e,I,I,n&&Fg(Hj(e,I,I,0,0,i,u,V,i,H=[],v,O),O),i,O,v,u,n?H:O);break;default:Fk(z,I,I,I,[""],O,0,u,O)}}p=g=k=0,_=M=1,V=z="",v=o;break;case 58:v=1+fu(z),k=E;default:if(_<1){if(P==123)--_;else if(P==125&&_++==0&&Fj()==125)continue}switch(z+=E2(P),P*_){case 38:M=g>0?1:(z+="\f",-1);break;case 44:u[p++]=(fu(z)-1)*M,M=1;break;case 64:xd()===45&&(z+=Bk(pu())),x=xd(),g=v=fu(V=z+=Uj(S2())),P++;break;case 45:E===45&&fu(z)==2&&(_=0)}}return s}a(Fk,"parse");function Hj(e,t,r,n,i,s,o,u,h,p,g,v){for(var x=i-1,k=i===0?s:[""],E=Oj(k),_=0,N=0,M=0;_<n;++_)for(var P=0,V=tp(e,x+1,x=W9(N=o[_])),H=e;P<E;++P)(H=Mk(N>0?k[P]+" "+V:C2(V,/&\f/g,k[P])))&&(h[M++]=H);return Ok(e,t,r,i===0?Rk:u,h,p,g,v)}a(Hj,"ruleset");function A_e(e,t,r,n){return Ok(e,t,r,Dk,E2(Bj()),tp(e,2,-2),0,n)}a(A_e,"comment");function Wj(e,t,r,n,i){return Ok(e,t,r,Ik,tp(e,0,n),tp(e,n+1,-1),n,i)}a(Wj,"declaration");function zk(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}a(zk,"serialize");function Xj(e,t,r,n){switch(e.type){case Mj:if(e.children.length)break;case Rj:case Ik:return e.return=e.return||e.value;case Dk:return"";case Ij:return e.return=e.value+"{"+zk(e.children,n)+"}";case Rk:if(!fu(e.value=e.props.join(",")))return""}return fu(r=zk(e.children,n))?e.return=e.value+"{"+r+"}":""}a(Xj,"stringify");j9();ro();var SK="c4",DAe=a(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),RAe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(CK(),EK));return{id:SK,diagram:e}},"loader"),IAe={id:SK,detector:DAe,loader:RAe},_K=IAe;var oae="flowchart",RFe=a((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),IFe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(sae(),aae));return{id:oae,diagram:e}},"loader"),MFe={id:oae,detector:RFe,loader:IFe},lae=MFe;var uae="flowchart-v2",OFe=a((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e),"detector"),PFe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(_R(),SR));return{id:uae,diagram:e}},"loader"),BFe={id:uae,detector:OFe,loader:PFe},cae=BFe;var zae="er",fze=a(e=>/^\s*erDiagram/.test(e),"detector"),dze=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Fae(),Bae));return{id:zae,diagram:e}},"loader"),pze={id:zae,detector:fze,loader:dze},$ae=pze;var ose="gitGraph",Gze=a(e=>/^\s*gitGraph/.test(e),"detector"),Vze=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(sse(),ase));return{id:ose,diagram:e}},"loader"),qze={id:ose,detector:Gze,loader:Vze},lse=qze;var Fse="gantt",D$e=a(e=>/^\s*gantt/.test(e),"detector"),R$e=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Bse(),Pse));return{id:Fse,diagram:e}},"loader"),I$e={id:Fse,detector:D$e,loader:R$e},zse=I$e;var jhe="info",LUe=a(e=>/^\s*info/.test(e),"detector"),DUe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Xhe(),Yhe));return{id:jhe,diagram:e}},"loader"),Khe={id:jhe,detector:LUe,loader:DUe};var sfe="pie",qUe=a(e=>/^\s*pie/.test(e),"detector"),UUe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(afe(),ife));return{id:sfe,diagram:e}},"loader"),ofe={id:sfe,detector:qUe,loader:UUe};var bfe="quadrantChart",lHe=a(e=>/^\s*quadrantChart/.test(e),"detector"),uHe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(xfe(),vfe));return{id:bfe,diagram:e}},"loader"),cHe={id:bfe,detector:lHe,loader:uHe},kfe=cHe;var Xfe="xychart",SHe=a(e=>/^\s*xychart-beta/.test(e),"detector"),_He=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Yfe(),Wfe));return{id:Xfe,diagram:e}},"loader"),AHe={id:Xfe,detector:SHe,loader:_He},jfe=AHe;var hde="requirement",rWe=a(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),nWe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(cde(),ude));return{id:hde,diagram:e}},"loader"),iWe={id:hde,detector:rWe,loader:nWe},fde=iWe;var zde="sequence",oYe=a(e=>/^\s*sequenceDiagram/.test(e),"detector"),lYe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Fde(),Bde));return{id:zde,diagram:e}},"loader"),uYe={id:zde,detector:oYe,loader:lYe},$de=uYe;var r0e="class",qYe=a((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),UYe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(t0e(),e0e));return{id:r0e,diagram:e}},"loader"),HYe={id:r0e,detector:qYe,loader:UYe},n0e=HYe;var c0e="classDiagram",ZYe=a((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),JYe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(u0e(),l0e));return{id:c0e,diagram:e}},"loader"),eXe={id:c0e,detector:ZYe,loader:JYe},h0e=eXe;var z0e="state",$Xe=a((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),GXe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(F0e(),B0e));return{id:z0e,diagram:e}},"loader"),VXe={id:z0e,detector:$Xe,loader:GXe},$0e=VXe;var epe="stateDiagram",pje=a((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),mje=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(J0e(),Z0e));return{id:epe,diagram:e}},"loader"),gje={id:epe,detector:pje,loader:mje},tpe=gje;var ype="journey",Bje=a(e=>/^\s*journey/.test(e),"detector"),Fje=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(gpe(),mpe));return{id:ype,diagram:e}},"loader"),zje={id:ype,detector:Bje,loader:Fje},vpe=zje;ar();Cu();si();var $je=a((e,t,r)=>{ce.debug(`rendering svg for syntax error
`);let n=ca(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),rn(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),jP={draw:$je},xpe=jP;var Gje={db:{},renderer:jP,parser:{parse:()=>{}}},bpe=Gje;ar();var kpe="flowchart-elk",Vje=a((e,t)=>/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(setTimeout(()=>ce.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](link) for more details. This diagram will be rendered using `dagre` layout as a fallback."),500),!0):!1,"detector"),qje=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(_R(),SR));return{id:kpe,diagram:e}},"loader"),Uje={id:kpe,detector:Vje,loader:qje},wpe=Uje;var Xpe="timeline",uKe=a(e=>/^\s*timeline/.test(e),"detector"),cKe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Ype(),Wpe));return{id:Xpe,diagram:e}},"loader"),hKe={id:Xpe,detector:uKe,loader:cKe},jpe=hKe;var mme="mindmap",zKe=a(e=>/^\s*mindmap/.test(e),"detector"),$Ke=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(pme(),dme));return{id:mme,diagram:e}},"loader"),GKe={id:mme,detector:zKe,loader:$Ke},gme=GKe;var jme="sankey",uQe=a(e=>/^\s*sankey-beta/.test(e),"detector"),cQe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Xme(),Yme));return{id:jme,diagram:e}},"loader"),hQe={id:jme,detector:uQe,loader:cQe},Kme=hQe;var sge="packet",EQe=a(e=>/^\s*packet-beta/.test(e),"detector"),CQe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(age(),ige));return{id:sge,diagram:e}},"loader"),oge={id:sge,detector:EQe,loader:CQe};var yge="array",BQe=a(e=>/^\s*array/.test(e),"detector"),FQe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(gge(),mge));return{id:yge,diagram:e}},"loader"),vge={id:yge,detector:BQe,loader:FQe};var Age="matrix",KQe=a(e=>/^\s*matrix/.test(e),"detector"),QQe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(_ge(),Sge));return{id:Age,diagram:e}},"loader"),Lge={id:Age,detector:KQe,loader:QQe};var zge="testslides",uZe=a(e=>/^\s*testslides/.test(e),"detector"),cZe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Fge(),Bge));return{id:zge,diagram:e}},"loader"),$ge={id:zge,detector:uZe,loader:cZe};var e1e="visslides",TZe=a(e=>/^\s*visslides/.test(e),"detector"),EZe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Jge(),Zge));return{id:e1e,diagram:e}},"loader"),t1e={id:e1e,detector:TZe,loader:EZe};var C1e="visual",nJe=a(e=>/^\s*visual/.test(e),"detector"),iJe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(E1e(),T1e));return{id:C1e,diagram:e}},"loader"),S1e={id:C1e,detector:nJe,loader:iJe};var Q1e="block",NJe=a(e=>/^\s*block-beta/.test(e),"detector"),OJe=a(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(K1e(),j1e));return{id:Q1e,diagram:e}},"loader"),PJe={id:Q1e,detector:NJe,loader:OJe},Z1e=PJe;W0();Vr();var J1e=!1,Cy=a(()=>{J1e||(J1e=!0,rp("error",bpe,e=>e.toLowerCase().trim()==="error"),rp("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),uk(_K,h0e,n0e,$ae,zse,Khe,ofe,fde,$de,wpe,cae,lae,gme,jpe,lse,tpe,$0e,vpe,kfe,Kme,oge,jfe,Z1e,vge,Lge,$ge,t1e,S1e))},"addDiagrams");ro();Vr();W0();f9();kn();var Sy=class e{constructor(t,r,n,i,s){this.type=t;this.text=r;this.db=n;this.parser=i;this.renderer=s}static{a(this,"Diagram")}static async fromText(t,r={}){let n=Cn(),i=bg(t,n);t=Dj(t)+`
`;try{I2(i)}catch{let g=MY(i);if(!g)throw new xg(`Diagram ${i} not found.`);let{id:v,diagram:x}=await g();rp(v,x)}let{db:s,parser:o,renderer:u,init:h}=I2(i);return o.parser&&(o.parser.yy=s),s.clear?.(),h?.(n),r.title&&s.setDiagramTitle?.(r.title),await o.parse(t),new e(i,t,s,o,u)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}};var eye=[];var tye=a(()=>{eye.forEach(e=>{e()}),eye=[]},"attachFunctions");ar();J9();sk();var Zye=_s(lA(),1);Ln();j6();var BJe="graphics-document document";function rye(e,t){e.attr("role",BJe),t!==""&&e.attr("aria-roledescription",t)}a(rye,"setA11yDiagramInfo");function nye(e,t,r,n){if(e.insert!==void 0){if(r){let i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){let i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}a(nye,"addSVGa11yTitleDescription");var iye=a(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");lk();function bye(e){return typeof e>"u"||e===null}a(bye,"isNothing");function FJe(e){return typeof e=="object"&&e!==null}a(FJe,"isObject");function zJe(e){return Array.isArray(e)?e:bye(e)?[]:[e]}a(zJe,"toArray");function $Je(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}a($Je,"extend");function GJe(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}a(GJe,"repeat");function VJe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}a(VJe,"isNegativeZero");var qJe=bye,UJe=FJe,HJe=zJe,WJe=GJe,YJe=VJe,XJe=$Je,ts={isNothing:qJe,isObject:UJe,toArray:HJe,repeat:WJe,isNegativeZero:YJe,extend:XJe};function kye(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}a(kye,"formatError");function c4(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=kye(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}a(c4,"YAMLException$1");c4.prototype=Object.create(Error.prototype);c4.prototype.constructor=c4;c4.prototype.toString=a(function(t){return this.name+": "+kye(this,t)},"toString");var gl=c4;function qB(e,t,r,n,i){var s="",o="",u=Math.floor(i/2)-1;return n-t>u&&(s=" ... ",t=n-u+s.length),r-n>u&&(o=" ...",r=n+u-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}a(qB,"getLine");function UB(e,t){return ts.repeat(" ",t-e.length)+e}a(UB,"padStart");function jJe(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var u="",h,p,g=Math.min(e.line+t.linesAfter,i.length).toString().length,v=t.maxLength-(t.indent+g+3);for(h=1;h<=t.linesBefore&&!(o-h<0);h++)p=qB(e.buffer,n[o-h],i[o-h],e.position-(n[o]-n[o-h]),v),u=ts.repeat(" ",t.indent)+UB((e.line-h+1).toString(),g)+" | "+p.str+`
`+u;for(p=qB(e.buffer,n[o],i[o],e.position,v),u+=ts.repeat(" ",t.indent)+UB((e.line+1).toString(),g)+" | "+p.str+`
`,u+=ts.repeat("-",t.indent+g+3+p.pos)+`^
`,h=1;h<=t.linesAfter&&!(o+h>=i.length);h++)p=qB(e.buffer,n[o+h],i[o+h],e.position-(n[o]-n[o+h]),v),u+=ts.repeat(" ",t.indent)+UB((e.line+h+1).toString(),g)+" | "+p.str+`
`;return u.replace(/\n$/,"")}a(jJe,"makeSnippet");var KJe=jJe,QJe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ZJe=["scalar","sequence","mapping"];function JJe(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}a(JJe,"compileStyleAliases");function eet(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(QJe.indexOf(r)===-1)throw new gl('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=JJe(t.styleAliases||null),ZJe.indexOf(this.kind)===-1)throw new gl('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}a(eet,"Type$1");var lo=eet;function aye(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}a(aye,"compileList");function tet(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(a(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}a(tet,"compileMap");function WB(e){return this.extend(e)}a(WB,"Schema$1");WB.prototype.extend=a(function(t){var r=[],n=[];if(t instanceof lo)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new gl("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof lo))throw new gl("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new gl("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new gl("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof lo))throw new gl("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(WB.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=aye(i,"implicit"),i.compiledExplicit=aye(i,"explicit"),i.compiledTypeMap=tet(i.compiledImplicit,i.compiledExplicit),i},"extend");var ret=WB,net=new lo("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),iet=new lo("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),aet=new lo("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),set=new ret({explicit:[net,iet,aet]});function oet(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}a(oet,"resolveYamlNull");function uet(){return null}a(uet,"constructYamlNull");function cet(e){return e===null}a(cet,"isNull");var het=new lo("tag:yaml.org,2002:null",{kind:"scalar",resolve:oet,construct:uet,predicate:cet,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function fet(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}a(fet,"resolveYamlBoolean");function det(e){return e==="true"||e==="True"||e==="TRUE"}a(det,"constructYamlBoolean");function pet(e){return Object.prototype.toString.call(e)==="[object Boolean]"}a(pet,"isBoolean");var met=new lo("tag:yaml.org,2002:bool",{kind:"scalar",resolve:fet,construct:det,predicate:pet,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function get(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}a(get,"isHexCode");function yet(e){return 48<=e&&e<=55}a(yet,"isOctCode");function vet(e){return 48<=e&&e<=57}a(vet,"isDecCode");function xet(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!get(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!yet(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!vet(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}a(xet,"resolveYamlInteger");function bet(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}a(bet,"constructYamlInteger");function ket(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ts.isNegativeZero(e)}a(ket,"isInteger");var wet=new lo("tag:yaml.org,2002:int",{kind:"scalar",resolve:xet,construct:bet,predicate:ket,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Tet=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Eet(e){return!(e===null||!Tet.test(e)||e[e.length-1]==="_")}a(Eet,"resolveYamlFloat");function Cet(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}a(Cet,"constructYamlFloat");var _et=/^[-+]?[0-9]+e/;function Aet(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ts.isNegativeZero(e))return"-0.0";return r=e.toString(10),_et.test(r)?r.replace("e",".e"):r}a(Aet,"representYamlFloat");function Let(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ts.isNegativeZero(e))}a(Let,"isFloat");var Det=new lo("tag:yaml.org,2002:float",{kind:"scalar",resolve:Eet,construct:Cet,predicate:Let,represent:Aet,defaultStyle:"lowercase"}),wye=set.extend({implicit:[het,met,wet,Det]}),Ret=wye,Tye=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Eye=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Iet(e){return e===null?!1:Tye.exec(e)!==null||Eye.exec(e)!==null}a(Iet,"resolveYamlTimestamp");function Met(e){var t,r,n,i,s,o,u,h=0,p=null,g,v,x;if(t=Tye.exec(e),t===null&&(t=Eye.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],u=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(g=+t[10],v=+(t[11]||0),p=(g*60+v)*6e4,t[9]==="-"&&(p=-p)),x=new Date(Date.UTC(r,n,i,s,o,u,h)),p&&x.setTime(x.getTime()-p),x}a(Met,"constructYamlTimestamp");function Net(e){return e.toISOString()}a(Net,"representYamlTimestamp");var Oet=new lo("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Iet,construct:Met,instanceOf:Date,represent:Net});function Pet(e){return e==="<<"||e===null}a(Pet,"resolveYamlMerge");var Bet=new lo("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Pet}),QB=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Fet(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=QB;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}a(Fet,"resolveYamlBinary");function zet(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=QB,o=0,u=[];for(t=0;t<i;t++)t%4===0&&t&&(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)):r===18?(u.push(o>>10&255),u.push(o>>2&255)):r===12&&u.push(o>>4&255),new Uint8Array(u)}a(zet,"constructYamlBinary");function $et(e){var t="",r=0,n,i,s=e.length,o=QB;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}a($et,"representYamlBinary");function Get(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}a(Get,"isBinary");var Vet=new lo("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Fet,construct:zet,predicate:Get,represent:$et}),qet=Object.prototype.hasOwnProperty,Uet=Object.prototype.toString;function Het(e){if(e===null)return!0;var t=[],r,n,i,s,o,u=e;for(r=0,n=u.length;r<n;r+=1){if(i=u[r],o=!1,Uet.call(i)!=="[object Object]")return!1;for(s in i)if(qet.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}a(Het,"resolveYamlOmap");function Wet(e){return e!==null?e:[]}a(Wet,"constructYamlOmap");var Yet=new lo("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Het,construct:Wet}),Xet=Object.prototype.toString;function jet(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],Xet.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}a(jet,"resolveYamlPairs");function Ket(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}a(Ket,"constructYamlPairs");var Qet=new lo("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:jet,construct:Ket}),Zet=Object.prototype.hasOwnProperty;function Jet(e){if(e===null)return!0;var t,r=e;for(t in r)if(Zet.call(r,t)&&r[t]!==null)return!1;return!0}a(Jet,"resolveYamlSet");function ett(e){return e!==null?e:{}}a(ett,"constructYamlSet");var ttt=new lo("tag:yaml.org,2002:set",{kind:"mapping",resolve:Jet,construct:ett}),Cye=Ret.extend({implicit:[Oet,Bet],explicit:[Vet,Yet,Qet,ttt]}),n0=Object.prototype.hasOwnProperty,U7=1,Sye=2,_ye=3,H7=4,HB=1,rtt=2,sye=3,ntt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,itt=/[\x85\u2028\u2029]/,att=/[,\[\]\{\}]/,Aye=/^(?:!|!!|![a-z\-]+!)$/i,Lye=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function oye(e){return Object.prototype.toString.call(e)}a(oye,"_class");function xh(e){return e===10||e===13}a(xh,"is_EOL");function fm(e){return e===9||e===32}a(fm,"is_WHITE_SPACE");function yl(e){return e===9||e===32||e===10||e===13}a(yl,"is_WS_OR_EOL");function Ay(e){return e===44||e===91||e===93||e===123||e===125}a(Ay,"is_FLOW_INDICATOR");function stt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}a(stt,"fromHexCode");function ott(e){return e===120?2:e===117?4:e===85?8:0}a(ott,"escapedHexLen");function ltt(e){return 48<=e&&e<=57?e-48:-1}a(ltt,"fromDecimalCode");function lye(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}a(lye,"simpleEscapeSequence");function utt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}a(utt,"charFromCodepoint");var Dye=new Array(256),Rye=new Array(256);for(hm=0;hm<256;hm++)Dye[hm]=lye(hm)?1:0,Rye[hm]=lye(hm);var hm;function ctt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Cye,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}a(ctt,"State$1");function Iye(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=KJe(r),new gl(t,r)}a(Iye,"generateError");function Ar(e,t){throw Iye(e,t)}a(Ar,"throwError");function W7(e,t){e.onWarning&&e.onWarning.call(null,Iye(e,t))}a(W7,"throwWarning");var uye={YAML:a(function(t,r,n){var i,s,o;t.version!==null&&Ar(t,"duplication of %YAML directive"),n.length!==1&&Ar(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Ar(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&Ar(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&W7(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:a(function(t,r,n){var i,s;n.length!==2&&Ar(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Aye.test(i)||Ar(t,"ill-formed tag handle (first argument) of the TAG directive"),n0.call(t.tagMap,i)&&Ar(t,'there is a previously declared suffix for "'+i+'" tag handle'),Lye.test(s)||Ar(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Ar(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function r0(e,t,r,n){var i,s,o,u;if(t<r){if(u=e.input.slice(t,r),n)for(i=0,s=u.length;i<s;i+=1)o=u.charCodeAt(i),o===9||32<=o&&o<=1114111||Ar(e,"expected valid JSON character");else ntt.test(u)&&Ar(e,"the stream contains non-printable characters");e.result+=u}}a(r0,"captureSegment");function cye(e,t,r,n){var i,s,o,u;for(ts.isObject(r)||Ar(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,u=i.length;o<u;o+=1)s=i[o],n0.call(t,s)||(t[s]=r[s],n[s]=!0)}a(cye,"mergeMappings");function Ly(e,t,r,n,i,s,o,u,h){var p,g;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),p=0,g=i.length;p<g;p+=1)Array.isArray(i[p])&&Ar(e,"nested arrays are not supported inside keys"),typeof i=="object"&&oye(i[p])==="[object Object]"&&(i[p]="[object Object]");if(typeof i=="object"&&oye(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(p=0,g=s.length;p<g;p+=1)cye(e,t,s[p],r);else cye(e,t,s,r);else!e.json&&!n0.call(r,i)&&n0.call(t,i)&&(e.line=o||e.line,e.lineStart=u||e.lineStart,e.position=h||e.position,Ar(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}a(Ly,"storeMappingPair");function ZB(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ar(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}a(ZB,"readLineBreak");function Na(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;fm(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(xh(i))for(ZB(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&W7(e,"deficient indentation"),n}a(Na,"skipSeparationSpace");function j7(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||yl(r)))}a(j7,"testDocumentSeparator");function JB(e,t){t===1?e.result+=" ":t>1&&(e.result+=ts.repeat(`
`,t-1))}a(JB,"writeFoldedLines");function htt(e,t,r){var n,i,s,o,u,h,p,g,v=e.kind,x=e.result,k;if(k=e.input.charCodeAt(e.position),yl(k)||Ay(k)||k===35||k===38||k===42||k===33||k===124||k===62||k===39||k===34||k===37||k===64||k===96||(k===63||k===45)&&(i=e.input.charCodeAt(e.position+1),yl(i)||r&&Ay(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,u=!1;k!==0;){if(k===58){if(i=e.input.charCodeAt(e.position+1),yl(i)||r&&Ay(i))break}else if(k===35){if(n=e.input.charCodeAt(e.position-1),yl(n))break}else{if(e.position===e.lineStart&&j7(e)||r&&Ay(k))break;if(xh(k))if(h=e.line,p=e.lineStart,g=e.lineIndent,Na(e,!1,-1),e.lineIndent>=t){u=!0,k=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=h,e.lineStart=p,e.lineIndent=g;break}}u&&(r0(e,s,o,!1),JB(e,e.line-h),s=o=e.position,u=!1),fm(k)||(o=e.position+1),k=e.input.charCodeAt(++e.position)}return r0(e,s,o,!1),e.result?!0:(e.kind=v,e.result=x,!1)}a(htt,"readPlainScalar");function ftt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(r0(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else xh(r)?(r0(e,n,i,!0),JB(e,Na(e,!1,t)),n=i=e.position):e.position===e.lineStart&&j7(e)?Ar(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Ar(e,"unexpected end of the stream within a single quoted scalar")}a(ftt,"readSingleQuotedScalar");function dtt(e,t){var r,n,i,s,o,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return r0(e,r,e.position,!0),e.position++,!0;if(u===92){if(r0(e,r,e.position,!0),u=e.input.charCodeAt(++e.position),xh(u))Na(e,!1,t);else if(u<256&&Dye[u])e.result+=Rye[u],e.position++;else if((o=ott(u))>0){for(i=o,s=0;i>0;i--)u=e.input.charCodeAt(++e.position),(o=stt(u))>=0?s=(s<<4)+o:Ar(e,"expected hexadecimal character");e.result+=utt(s),e.position++}else Ar(e,"unknown escape sequence");r=n=e.position}else xh(u)?(r0(e,r,n,!0),JB(e,Na(e,!1,t)),r=n=e.position):e.position===e.lineStart&&j7(e)?Ar(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Ar(e,"unexpected end of the stream within a double quoted scalar")}a(dtt,"readDoubleQuotedScalar");function ptt(e,t){var r=!0,n,i,s,o=e.tag,u,h=e.anchor,p,g,v,x,k,E=Object.create(null),_,N,M,P;if(P=e.input.charCodeAt(e.position),P===91)g=93,k=!1,u=[];else if(P===123)g=125,k=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),P=e.input.charCodeAt(++e.position);P!==0;){if(Na(e,!0,t),P=e.input.charCodeAt(e.position),P===g)return e.position++,e.tag=o,e.anchor=h,e.kind=k?"mapping":"sequence",e.result=u,!0;r?P===44&&Ar(e,"expected the node content, but found ','"):Ar(e,"missed comma between flow collection entries"),N=_=M=null,v=x=!1,P===63&&(p=e.input.charCodeAt(e.position+1),yl(p)&&(v=x=!0,e.position++,Na(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Dy(e,t,U7,!1,!0),N=e.tag,_=e.result,Na(e,!0,t),P=e.input.charCodeAt(e.position),(x||e.line===n)&&P===58&&(v=!0,P=e.input.charCodeAt(++e.position),Na(e,!0,t),Dy(e,t,U7,!1,!0),M=e.result),k?Ly(e,u,E,N,_,M,n,i,s):v?u.push(Ly(e,null,E,N,_,M,n,i,s)):u.push(_),Na(e,!0,t),P=e.input.charCodeAt(e.position),P===44?(r=!0,P=e.input.charCodeAt(++e.position)):r=!1}Ar(e,"unexpected end of the stream within a flow collection")}a(ptt,"readFlowCollection");function mtt(e,t){var r,n,i=HB,s=!1,o=!1,u=t,h=0,p=!1,g,v;if(v=e.input.charCodeAt(e.position),v===124)n=!1;else if(v===62)n=!0;else return!1;for(e.kind="scalar",e.result="";v!==0;)if(v=e.input.charCodeAt(++e.position),v===43||v===45)HB===i?i=v===43?sye:rtt:Ar(e,"repeat of a chomping mode identifier");else if((g=ltt(v))>=0)g===0?Ar(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Ar(e,"repeat of an indentation width identifier"):(u=t+g-1,o=!0);else break;if(fm(v)){do v=e.input.charCodeAt(++e.position);while(fm(v));if(v===35)do v=e.input.charCodeAt(++e.position);while(!xh(v)&&v!==0)}for(;v!==0;){for(ZB(e),e.lineIndent=0,v=e.input.charCodeAt(e.position);(!o||e.lineIndent<u)&&v===32;)e.lineIndent++,v=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>u&&(u=e.lineIndent),xh(v)){h++;continue}if(e.lineIndent<u){i===sye?e.result+=ts.repeat(`
`,s?1+h:h):i===HB&&s&&(e.result+=`
`);break}for(n?fm(v)?(p=!0,e.result+=ts.repeat(`
`,s?1+h:h)):p?(p=!1,e.result+=ts.repeat(`
`,h+1)):h===0?s&&(e.result+=" "):e.result+=ts.repeat(`
`,h):e.result+=ts.repeat(`
`,s?1+h:h),s=!0,o=!0,h=0,r=e.position;!xh(v)&&v!==0;)v=e.input.charCodeAt(++e.position);r0(e,r,e.position,!1)}return!0}a(mtt,"readBlockScalar");function hye(e,t){var r,n=e.tag,i=e.anchor,s=[],o,u=!1,h;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),h=e.input.charCodeAt(e.position);h!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ar(e,"tab characters must not be used in indentation")),!(h!==45||(o=e.input.charCodeAt(e.position+1),!yl(o))));){if(u=!0,e.position++,Na(e,!0,-1)&&e.lineIndent<=t){s.push(null),h=e.input.charCodeAt(e.position);continue}if(r=e.line,Dy(e,t,_ye,!1,!0),s.push(e.result),Na(e,!0,-1),h=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&h!==0)Ar(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return u?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}a(hye,"readBlockSequence");function gtt(e,t,r){var n,i,s,o,u,h,p=e.tag,g=e.anchor,v={},x=Object.create(null),k=null,E=null,_=null,N=!1,M=!1,P;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=v),P=e.input.charCodeAt(e.position);P!==0;){if(!N&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ar(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(P===63||P===58)&&yl(n))P===63?(N&&(Ly(e,v,x,k,E,null,o,u,h),k=E=_=null),M=!0,N=!0,i=!0):N?(N=!1,i=!0):Ar(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,P=n;else{if(o=e.line,u=e.lineStart,h=e.position,!Dy(e,r,Sye,!1,!0))break;if(e.line===s){for(P=e.input.charCodeAt(e.position);fm(P);)P=e.input.charCodeAt(++e.position);if(P===58)P=e.input.charCodeAt(++e.position),yl(P)||Ar(e,"a whitespace character is expected after the key-value separator within a block mapping"),N&&(Ly(e,v,x,k,E,null,o,u,h),k=E=_=null),M=!0,N=!1,i=!1,k=e.tag,E=e.result;else if(M)Ar(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=p,e.anchor=g,!0}else if(M)Ar(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=p,e.anchor=g,!0}if((e.line===s||e.lineIndent>t)&&(N&&(o=e.line,u=e.lineStart,h=e.position),Dy(e,t,H7,!0,i)&&(N?E=e.result:_=e.result),N||(Ly(e,v,x,k,E,_,o,u,h),k=E=_=null),Na(e,!0,-1),P=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&P!==0)Ar(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return N&&Ly(e,v,x,k,E,null,o,u,h),M&&(e.tag=p,e.anchor=g,e.kind="mapping",e.result=v),M}a(gtt,"readBlockMapping");function ytt(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&Ar(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):Ar(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!yl(o);)o===33&&(n?Ar(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Aye.test(i)||Ar(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),att.test(s)&&Ar(e,"tag suffix cannot contain flow indicator characters")}s&&!Lye.test(s)&&Ar(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Ar(e,"tag name is malformed: "+s)}return r?e.tag=s:n0.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:Ar(e,'undeclared tag handle "'+i+'"'),!0}a(ytt,"readTagProperty");function vtt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Ar(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!yl(r)&&!Ay(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ar(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}a(vtt,"readAnchorProperty");function xtt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!yl(n)&&!Ay(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ar(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),n0.call(e.anchorMap,r)||Ar(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Na(e,!0,-1),!0}a(xtt,"readAlias");function Dy(e,t,r,n,i){var s,o,u,h=1,p=!1,g=!1,v,x,k,E,_,N;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=u=H7===r||_ye===r,n&&Na(e,!0,-1)&&(p=!0,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)),h===1)for(;ytt(e)||vtt(e);)Na(e,!0,-1)?(p=!0,u=s,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)):u=!1;if(u&&(u=p||i),(h===1||H7===r)&&(U7===r||Sye===r?_=t:_=t+1,N=e.position-e.lineStart,h===1?u&&(hye(e,N)||gtt(e,N,_))||ptt(e,_)?g=!0:(o&&mtt(e,_)||ftt(e,_)||dtt(e,_)?g=!0:xtt(e)?(g=!0,(e.tag!==null||e.anchor!==null)&&Ar(e,"alias node should not have any properties")):htt(e,_,U7===r)&&(g=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):h===0&&(g=u&&hye(e,N))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ar(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),v=0,x=e.implicitTypes.length;v<x;v+=1)if(E=e.implicitTypes[v],E.resolve(e.result)){e.result=E.construct(e.result),e.tag=E.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(n0.call(e.typeMap[e.kind||"fallback"],e.tag))E=e.typeMap[e.kind||"fallback"][e.tag];else for(E=null,k=e.typeMap.multi[e.kind||"fallback"],v=0,x=k.length;v<x;v+=1)if(e.tag.slice(0,k[v].tag.length)===k[v].tag){E=k[v];break}E||Ar(e,"unknown tag !<"+e.tag+">"),e.result!==null&&E.kind!==e.kind&&Ar(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+E.kind+'", not "'+e.kind+'"'),E.resolve(e.result,e.tag)?(e.result=E.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ar(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||g}a(Dy,"composeNode");function btt(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Na(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!yl(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Ar(e,"directive name must not be less than one character in length");o!==0;){for(;fm(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!xh(o));break}if(xh(o))break;for(r=e.position;o!==0&&!yl(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&ZB(e),n0.call(uye,n)?uye[n](e,n,i):W7(e,'unknown document directive "'+n+'"')}if(Na(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Na(e,!0,-1)):s&&Ar(e,"directives end mark is expected"),Dy(e,e.lineIndent-1,H7,!1,!0),Na(e,!0,-1),e.checkLineBreaks&&itt.test(e.input.slice(t,e.position))&&W7(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&j7(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Na(e,!0,-1));return}if(e.position<e.length-1)Ar(e,"end of the stream or a document separator is expected");else return}a(btt,"readDocument");function Mye(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new ctt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Ar(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)btt(r);return r.documents}a(Mye,"loadDocuments");function ktt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Mye(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}a(ktt,"loadAll$1");function wtt(e,t){var r=Mye(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new gl("expected a single document in the stream, but found more")}}a(wtt,"load$1");var Ttt=ktt,Ett=wtt,Nye={loadAll:Ttt,load:Ett},Oye=Object.prototype.toString,Pye=Object.prototype.hasOwnProperty,eF=65279,Ctt=9,h4=10,Stt=13,_tt=32,Att=33,Ltt=34,YB=35,Dtt=37,Rtt=38,Itt=39,Mtt=42,Bye=44,Ntt=45,Y7=58,Ott=61,Ptt=62,Btt=63,Ftt=64,Fye=91,zye=93,ztt=96,$ye=123,$tt=124,Gye=125,uo={};uo[0]="\\0";uo[7]="\\a";uo[8]="\\b";uo[9]="\\t";uo[10]="\\n";uo[11]="\\v";uo[12]="\\f";uo[13]="\\r";uo[27]="\\e";uo[34]='\\"';uo[92]="\\\\";uo[133]="\\N";uo[160]="\\_";uo[8232]="\\L";uo[8233]="\\P";var Gtt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Vtt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function qtt(e,t){var r,n,i,s,o,u,h;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],u=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),h=e.compiledTypeMap.fallback[o],h&&Pye.call(h.styleAliases,u)&&(u=h.styleAliases[u]),r[o]=u;return r}a(qtt,"compileStyleMap");function Utt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new gl("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ts.repeat("0",n-t.length)+t}a(Utt,"encodeHex");var Htt=1,f4=2;function Wtt(e){this.schema=e.schema||Cye,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ts.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=qtt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?f4:Htt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}a(Wtt,"State");function fye(e,t){for(var r=ts.repeat(" ",t),n=0,i=-1,s="",o,u=e.length;n<u;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=u):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}a(fye,"indentString");function XB(e,t){return`
`+ts.repeat(" ",e.indent*t)}a(XB,"generateNextLine");function Ytt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}a(Ytt,"testImplicitResolving");function X7(e){return e===_tt||e===Ctt}a(X7,"isWhitespace");function d4(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==eF||65536<=e&&e<=1114111}a(d4,"isPrintable");function dye(e){return d4(e)&&e!==eF&&e!==Stt&&e!==h4}a(dye,"isNsCharOrWhitespace");function pye(e,t,r){var n=dye(e),i=n&&!X7(e);return(r?n:n&&e!==Bye&&e!==Fye&&e!==zye&&e!==$ye&&e!==Gye)&&e!==YB&&!(t===Y7&&!i)||dye(t)&&!X7(t)&&e===YB||t===Y7&&i}a(pye,"isPlainSafe");function Xtt(e){return d4(e)&&e!==eF&&!X7(e)&&e!==Ntt&&e!==Btt&&e!==Y7&&e!==Bye&&e!==Fye&&e!==zye&&e!==$ye&&e!==Gye&&e!==YB&&e!==Rtt&&e!==Mtt&&e!==Att&&e!==$tt&&e!==Ott&&e!==Ptt&&e!==Itt&&e!==Ltt&&e!==Dtt&&e!==Ftt&&e!==ztt}a(Xtt,"isPlainSafeFirst");function jtt(e){return!X7(e)&&e!==Y7}a(jtt,"isPlainSafeLast");function u4(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}a(u4,"codePointAt");function Vye(e){var t=/^\n* /;return t.test(e)}a(Vye,"needIndentIndicator");var qye=1,jB=2,Uye=3,Hye=4,_y=5;function Ktt(e,t,r,n,i,s,o,u){var h,p=0,g=null,v=!1,x=!1,k=n!==-1,E=-1,_=Xtt(u4(e,0))&&jtt(u4(e,e.length-1));if(t||o)for(h=0;h<e.length;p>=65536?h+=2:h++){if(p=u4(e,h),!d4(p))return _y;_=_&&pye(p,g,u),g=p}else{for(h=0;h<e.length;p>=65536?h+=2:h++){if(p=u4(e,h),p===h4)v=!0,k&&(x=x||h-E-1>n&&e[E+1]!==" ",E=h);else if(!d4(p))return _y;_=_&&pye(p,g,u),g=p}x=x||k&&h-E-1>n&&e[E+1]!==" "}return!v&&!x?_&&!o&&!i(e)?qye:s===f4?_y:jB:r>9&&Vye(e)?_y:o?s===f4?_y:jB:x?Hye:Uye}a(Ktt,"chooseScalarStyle");function Qtt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===f4?'""':"''";if(!e.noCompatMode&&(Gtt.indexOf(t)!==-1||Vtt.test(t)))return e.quotingType===f4?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),u=n||e.flowLevel>-1&&r>=e.flowLevel;function h(p){return Ytt(e,p)}switch(a(h,"testAmbiguity"),Ktt(t,u,e.indent,o,h,e.quotingType,e.forceQuotes&&!n,i)){case qye:return t;case jB:return"'"+t.replace(/'/g,"''")+"'";case Uye:return"|"+mye(t,e.indent)+gye(fye(t,s));case Hye:return">"+mye(t,e.indent)+gye(fye(Ztt(t,o),s));case _y:return'"'+Jtt(t)+'"';default:throw new gl("impossible error: invalid scalar style")}}()}a(Qtt,"writeScalar");function mye(e,t){var r=Vye(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}a(mye,"blockHeader");function gye(e){return e[e.length-1]===`
`?e.slice(0,-1):e}a(gye,"dropEndingNewline");function Ztt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var p=e.indexOf(`
`);return p=p!==-1?p:e.length,r.lastIndex=p,yye(e.slice(0,p),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var u=o[1],h=o[2];s=h[0]===" ",n+=u+(!i&&!s&&h!==""?`
`:"")+yye(h,t),i=s}return n}a(Ztt,"foldString");function yye(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,u=0,h="";n=r.exec(e);)u=n.index,u-i>t&&(s=o>i?o:u,h+=`
`+e.slice(i,s),i=s+1),o=u;return h+=`
`,e.length-i>t&&o>i?h+=e.slice(i,o)+`
`+e.slice(o+1):h+=e.slice(i),h.slice(1)}a(yye,"foldLine");function Jtt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=u4(e,i),n=uo[r],!n&&d4(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Utt(r);return t}a(Jtt,"escapeString");function ert(e,t,r){var n="",i=e.tag,s,o,u;for(s=0,o=r.length;s<o;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),(Sf(e,t,u,!1,!1)||typeof u>"u"&&Sf(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}a(ert,"writeFlowSequence");function vye(e,t,r,n){var i="",s=e.tag,o,u,h;for(o=0,u=r.length;o<u;o+=1)h=r[o],e.replacer&&(h=e.replacer.call(r,String(o),h)),(Sf(e,t+1,h,!0,!0,!1,!0)||typeof h>"u"&&Sf(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=XB(e,t)),e.dump&&h4===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}a(vye,"writeBlockSequence");function trt(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,u,h,p,g;for(o=0,u=s.length;o<u;o+=1)g="",n!==""&&(g+=", "),e.condenseFlow&&(g+='"'),h=s[o],p=r[h],e.replacer&&(p=e.replacer.call(r,h,p)),Sf(e,t,h,!1,!1)&&(e.dump.length>1024&&(g+="? "),g+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Sf(e,t,p,!1,!1)&&(g+=e.dump,n+=g));e.tag=i,e.dump="{"+n+"}"}a(trt,"writeFlowMapping");function rrt(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),u,h,p,g,v,x;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new gl("sortKeys must be a boolean or a function");for(u=0,h=o.length;u<h;u+=1)x="",(!n||i!=="")&&(x+=XB(e,t)),p=o[u],g=r[p],e.replacer&&(g=e.replacer.call(r,p,g)),Sf(e,t+1,p,!0,!0,!0)&&(v=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,v&&(e.dump&&h4===e.dump.charCodeAt(0)?x+="?":x+="? "),x+=e.dump,v&&(x+=XB(e,t)),Sf(e,t+1,g,!0,v)&&(e.dump&&h4===e.dump.charCodeAt(0)?x+=":":x+=": ",x+=e.dump,i+=x));e.tag=s,e.dump=i||"{}"}a(rrt,"writeBlockMapping");function xye(e,t,r){var n,i,s,o,u,h;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(u=i[s],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof t=="object"&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(r?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(h=e.styleMap[u.tag]||u.defaultStyle,Oye.call(u.represent)==="[object Function]")n=u.represent(t,h);else if(Pye.call(u.represent,h))n=u.represent[h](t,h);else throw new gl("!<"+u.tag+'> tag resolver accepts not "'+h+'" style');e.dump=n}return!0}return!1}a(xye,"detectType");function Sf(e,t,r,n,i,s,o){e.tag=null,e.dump=r,xye(e,r,!1)||xye(e,r,!0);var u=Oye.call(e.dump),h=n,p;n&&(n=e.flowLevel<0||e.flowLevel>t);var g=u==="[object Object]"||u==="[object Array]",v,x;if(g&&(v=e.duplicates.indexOf(r),x=v!==-1),(e.tag!==null&&e.tag!=="?"||x||e.indent!==2&&t>0)&&(i=!1),x&&e.usedDuplicates[v])e.dump="*ref_"+v;else{if(g&&x&&!e.usedDuplicates[v]&&(e.usedDuplicates[v]=!0),u==="[object Object]")n&&Object.keys(e.dump).length!==0?(rrt(e,t,e.dump,i),x&&(e.dump="&ref_"+v+e.dump)):(trt(e,t,e.dump),x&&(e.dump="&ref_"+v+" "+e.dump));else if(u==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?vye(e,t-1,e.dump,i):vye(e,t,e.dump,i),x&&(e.dump="&ref_"+v+e.dump)):(ert(e,t,e.dump),x&&(e.dump="&ref_"+v+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&Qtt(e,e.dump,t,s,h);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new gl("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(p=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",e.dump=p+" "+e.dump)}return!0}a(Sf,"writeNode");function nrt(e,t){var r=[],n=[],i,s;for(KB(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}a(nrt,"getDuplicateReferences");function KB(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)KB(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)KB(e[n[i]],t,r)}a(KB,"inspectNode");function irt(e,t){t=t||{};var r=new Wtt(t);r.noRefs||nrt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Sf(r,0,n,!0,!0)?r.dump+`
`:""}a(irt,"dump$1");var art=irt,srt={dump:art};function tF(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}a(tF,"renamed");var Wye=wye;var Yye=Nye.load,jmr=Nye.loadAll,Kmr=srt.dump;var Qmr=tF("safeLoad","load"),Zmr=tF("safeLoadAll","loadAll"),Jmr=tF("safeDump","dump");function Xye(e){let t=e.match(ok);if(!t)return{text:e,metadata:{}};let r=Yye(t[1],{schema:Wye})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};let n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}a(Xye,"extractFrontMatter");kn();var lrt=a(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),urt=a(e=>{let{text:t,metadata:r}=Xye(e),{displayMode:n,title:i,config:s={}}=r;return n&&(s.gantt||(s.gantt={}),s.gantt.displayMode=n),{title:i,config:s,text:t}},"processFrontmatter"),crt=a(e=>{let t=wr.detectInit(e)??{},r=wr.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>{}):r?.type==="wrap"&&(t.wrap=!0),{text:Aj(e),directive:t}},"processDirectives");function rF(e){let t=lrt(e),r=urt(t),n=crt(r.text),i=oa(r.config,n.directive);return e=iye(n.text),{code:e,title:r.title,config:i}}a(rF,"preprocessDiagram");kn();var hrt=5e4,frt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",drt="sandbox",prt="loose",mrt="http://www.w3.org/2000/svg",grt="http://www.w3.org/1999/xlink",yrt="http://www.w3.org/1999/xhtml",vrt="100%",xrt="100%",brt="border:0;margin:0;",krt="margin:0",wrt="allow-top-navigation-by-user-activation allow-popups",Trt='The "iframe" tag is not supported by your browser.',Ert=["foreignobject"],Crt=["dominant-baseline"];function Jye(e){let t=rF(e);return L2(),eK(t.config??{}),t}a(Jye,"processAndSetConfigs");async function Srt(e,t){Cy();try{let{code:r}=Jye(e);return{diagramType:(await eve(r)).type}}catch(r){if(t?.suppressErrors)return!1;throw r}}a(Srt,"parse");var jye=a((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),_rt=a((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let o=e.htmlLabels||e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(u=>{jr(u.styles)||o.forEach(h=>{r+=jye(u.id,h,u.styles)}),jr(u.textStyles)||(r+=jye(u.id,"tspan",u.textStyles))})}return r},"createCssStyles"),Art=a((e,t,r,n)=>{let i=_rt(e,r),s=iK(t,i,e.themeVariables);return zk(Yj(`${n}{${s}}`),Xj)},"createUserStyles"),Lrt=a((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Zh(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),Drt=a((e="",t)=>{let r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":xrt,n=btoa('<body style="'+krt+'">'+e+"</body>");return`<iframe style="width:${vrt};height:${r};${brt}" src="data:text/html;base64,${n}" sandbox="${wrt}">
  ${Trt}
</iframe>`},"putIntoIFrame"),Kye=a((e,t,r,n,i)=>{let s=e.append("div");s.attr("id",r),n&&s.attr("style",n);let o=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",mrt);return i&&o.attr("xmlns:xlink",i),o.append("g"),e},"appendDivSvgG");function Qye(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}a(Qye,"sandboxedIframe");var Rrt=a((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),Irt=a(async function(e,t,r){Cy();let n=Jye(t);t=n.code;let i=Cn();ce.debug(i),t.length>(i?.maxTextSize??hrt)&&(t=frt);let s="#"+e,o="i"+e,u="#"+o,h="d"+e,p="#"+h,g=a(()=>{let B=ut(x?u:p).node();B&&"remove"in B&&B.remove()},"removeTempElements"),v=ut("body"),x=i.securityLevel===drt,k=i.securityLevel===prt,E=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),x){let X=Qye(ut(r),o);v=ut(X.nodes()[0].contentDocument.body),v.node().style.margin=0}else v=ut(r);Kye(v,e,h,`font-family: ${E}`,grt)}else{if(Rrt(document,e,h,o),x){let X=Qye(ut("body"),o);v=ut(X.nodes()[0].contentDocument.body),v.node().style.margin=0}else v=ut("body");Kye(v,e,h)}let _,N;try{_=await Sy.fromText(t,{title:n.title})}catch(X){if(i.suppressErrorRendering)throw g(),X;_=await Sy.fromText("error"),N=X}let M=v.select(p).node(),P=_.type,V=M.firstChild,H=V.firstChild,O=_.renderer.getClasses?.(t,_),I=Art(i,P,O,s),z=document.createElement("style");z.innerHTML=I,V.insertBefore(z,H);try{await _.renderer.draw(t,e,_2,_)}catch(X){throw i.suppressErrorRendering?g():xpe.draw(t,e,_2),X}let G=v.select(`${p} svg`),F=_.db.getAccTitle?.(),j=_.db.getAccDescription?.();Nrt(P,G,F,j),v.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",yrt);let D=v.select(p).node().innerHTML;if(ce.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),D=Lrt(D,x,yi(i.arrowMarkerAbsolute)),x){let X=v.select(p+" svg").node();D=Drt(D,X)}else k||(D=Zye.default.sanitize(D,{ADD_TAGS:Ert,ADD_ATTR:Crt}));if(tye(),N)throw N;return g(),{diagramType:P,svg:D,bindFunctions:_.db.bindFunctions}},"render");function Mrt(e={}){e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Qj(e),e?.theme&&e.theme in nu?e.themeVariables=nu[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=nu.default.getThemeVariables(e.themeVariables));let t=typeof e=="object"?K9(e):Q9();av(t.logLevel),Cy()}a(Mrt,"initialize");var eve=a((e,t={})=>{let{code:r}=rF(e);return Sy.fromText(r,t)},"getDiagramFromText");function Nrt(e,t,r,n){rye(t,e),nye(t,r,n,t.attr("id"))}a(Nrt,"addA11yInfo");var i0=Object.freeze({render:Irt,parse:Srt,getDiagramFromText:eve,initialize:Mrt,getConfig:Cn,setConfig:Gk,getSiteConfig:Q9,updateSiteConfig:Zj,reset:()=>{L2()},globalReset:()=>{L2(bd)},defaultConfig:bd});av(Cn().logLevel);L2(Cn());W0();ar();W0();Vr();var tve=a(async()=>{ce.debug("Loading registered diagrams");let t=(await Promise.allSettled(Object.entries(H0).map(async([r,{detector:n,loader:i}])=>{if(i)try{I2(r)}catch{try{let{diagram:o,id:u}=await i();rp(u,o,n)}catch(o){throw ce.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete H0[r],o}}}))).filter(r=>r.status==="rejected");if(t.length>0){ce.error(`Failed to load ${t.length} external diagrams`);for(let r of t)ce.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams");kn();var Ort=a((e,t,r)=>{ce.warn(e),H9(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),rve=a(async function(e={querySelector:".mermaid"}){try{await Prt(e)}catch(t){if(H9(t)&&ce.error(t.str),_f.parseError&&_f.parseError(t),!e.suppressErrors)throw ce.error("Use the suppressErrors option to suppress these errors"),t}},"run"),Prt=a(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){let n=i0.getConfig();ce.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");ce.debug(`Found ${i.length} diagrams`),n?.startOnLoad!==void 0&&(ce.debug("Start On Load: "+n?.startOnLoad),i0.updateSiteConfig({startOnLoad:n?.startOnLoad}));let s=new wr.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed),o,u=[];for(let h of Array.from(i)){ce.info("Rendering diagram: "+h.id);if(h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");let p=`mermaid-${s.next()}`;o=h.innerHTML,o=o3(wr.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");let g=wr.detectInit(o);g&&ce.debug("Detected early reinit: ",g);try{let{svg:v,bindFunctions:x}=await sve(p,o,h);h.innerHTML=v,e&&await e(p),x&&x(h)}catch(v){Ort(v,u,_f.parseError)}}if(u.length>0)throw u[0]},"runThrowsErrors"),nve=a(function(e){i0.initialize(e)},"initialize"),Brt=a(async function(e,t,r){ce.warn("mermaid.init is deprecated. Please use run instead."),e&&nve(e);let n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await rve(n)},"init"),Frt=a(async(e,{lazyLoad:t=!0}={})=>{Cy(),uk(...e),t===!1&&await tve()},"registerExternalDiagrams"),ive=a(function(){if(_f.startOnLoad){let{startOnLoad:e}=i0.getConfig();e&&_f.run().catch(t=>ce.error("Mermaid failed to initialize",t))}},"contentLoaded");if(typeof document<"u"){window.addEventListener("load",ive,!1)}var zrt=a(function(e){_f.parseError=e},"setParseErrorHandler"),K7=[],nF=!1,ave=a(async()=>{if(!nF){for(nF=!0;K7.length>0;){let e=K7.shift();if(e)try{await e()}catch(t){ce.error("Error executing queue",t)}}nF=!1}},"executeQueue"),$rt=a(async(e,t)=>new Promise((r,n)=>{let i=a(()=>new Promise((s,o)=>{i0.parse(e,t).then(u=>{s(u),r(u)},u=>{ce.error("Error parsing",u),_f.parseError?.(u),o(u),n(u)})}),"performCall");K7.push(i),ave().catch(n)}),"parse"),sve=a((e,t,r)=>new Promise((n,i)=>{let s=a(()=>new Promise((o,u)=>{i0.render(e,t,r).then(h=>{o(h),n(h)},h=>{ce.error("Error parsing",h),_f.parseError?.(h),u(h),i(h)})}),"performCall");K7.push(s),ave().catch(i)}),"render"),_f={startOnLoad:!0,mermaidAPI:i0,parse:$rt,render:sve,init:Brt,run:rve,registerExternalDiagrams:Frt,initialize:nve,parseError:void 0,contentLoaded:ive,setParseErrorHandler:zrt,detectType:bg},Grt=_f;return k5e(Vrt);})();
/*! Check if previously processed */
/*!
 * Wait for document loaded before starting the execution
 */
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.2/LICENSE *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

cytoscape/dist/cytoscape.umd.js:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
    Event object based on jQuery events, MIT license
  
    https://jquery.org/license/
    https://tldrlegal.com/license/mit-license
    https://github.com/jquery/jquery/blob/master/src/event.js
    *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
globalThis.mermaid = globalThis.__esbuild_esm_mermaid.default;
